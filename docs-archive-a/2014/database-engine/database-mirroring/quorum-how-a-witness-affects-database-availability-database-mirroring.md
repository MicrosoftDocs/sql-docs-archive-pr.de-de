---
title: 'Quorum: Auswirkungen eines Zeugen auf die Datenbankverfügbarkeit (Datenbankspiegelung) | Microsoft-Dokumentation'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- quorum [SQL Server], database mirroring
- running exposed in database mirroring [SQL Server]
- witness-to-partner quorum [SQL Server]
- partners [SQL Server], partner-to-partner quorum
- witness [SQL Server], quorum
- have quorum [SQL Server]
- quorum [SQL Server]
- mirror database [SQL Server]
- full quorum [SQL Server]
- high-availability mode [SQL Server]
ms.assetid: a62d9dd7-3667-4751-a294-a61fc9caae7c
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: ada152f280a4ac75543f09e5f5afa7c72c0cbef6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87701822"
---
# <a name="quorum-how-a-witness-affects-database-availability-database-mirroring"></a><span data-ttu-id="45b74-102">Quorum: Auswirkungen eines Zeugen auf die Datenbankverfügbarkeit (Datenbankspiegelung)</span><span class="sxs-lookup"><span data-stu-id="45b74-102">Quorum: How a Witness Affects Database Availability (Database Mirroring)</span></span>
  <span data-ttu-id="45b74-103">Wenn ein Zeuge für eine Datenbank-Spiegelungssitzung festgelegt wird, ist ein *Quorum* erforderlich.</span><span class="sxs-lookup"><span data-stu-id="45b74-103">Whenever a witness is set for a database mirroring session, *quorum* is required.</span></span> <span data-ttu-id="45b74-104">Das Quorum ist eine Beziehung, die vorhanden ist, wenn zwei oder mehr Serverinstanzen in einer Datenbank-Spiegelungssitzung miteinander verbunden sind.</span><span class="sxs-lookup"><span data-stu-id="45b74-104">Quorum is a relationship that exists when two or more server instances in a database mirroring session are connected to each other.</span></span> <span data-ttu-id="45b74-105">Typischerweise sind am Quorum drei miteinander verbundene Serverinstanzen beteiligt.</span><span class="sxs-lookup"><span data-stu-id="45b74-105">Typically, quorum involves three interconnected server instances.</span></span> <span data-ttu-id="45b74-106">Wird ein Zeuge festgelegt, ist ein Quorum erforderlich, damit die Datenbank verfügbar wird.</span><span class="sxs-lookup"><span data-stu-id="45b74-106">When a witness is set, quorum is required to make the database available.</span></span> <span data-ttu-id="45b74-107">Das Quorum wurde für den Modus für hohe Sicherheit mit automatischem Failover konzipiert und stellt sicher, dass eine Datenbank zu einem bestimmten Zeitpunkt im Besitz nur jeweils eines Partners ist.</span><span class="sxs-lookup"><span data-stu-id="45b74-107">Designed for high-safety mode with automatic failover, quorum makes sure that a database is owned by only one partner at a time.</span></span>  
  
 <span data-ttu-id="45b74-108">Wenn die Verbindung einer bestimmten Serverinstanz mit der Spiegelungssitzung getrennt wird, verliert diese Instanz das Quorum.</span><span class="sxs-lookup"><span data-stu-id="45b74-108">If a particular server instance becomes disconnected from a mirroring session, that instance loses quorum.</span></span> <span data-ttu-id="45b74-109">Sind keine Serverinstanzen verbunden, verliert die Sitzung das Quorum, und die Datenbank ist nicht mehr verfügbar.</span><span class="sxs-lookup"><span data-stu-id="45b74-109">If no server instances are connected, the session loses quorum and the database becomes unavailable.</span></span> <span data-ttu-id="45b74-110">Drei Quorumtypen sind möglich:</span><span class="sxs-lookup"><span data-stu-id="45b74-110">Three types of quorum are possible:</span></span>  
  
-   <span data-ttu-id="45b74-111">Ein *vollständiges Quorum* enthält beide Partner und den Zeugen.</span><span class="sxs-lookup"><span data-stu-id="45b74-111">A *full quorum* includes both partners and the witness.</span></span>  
  
-   <span data-ttu-id="45b74-112">Ein *Quorum zwischen Zeuge und Partner* besteht aus dem Zeugen und einem der beiden Partner.</span><span class="sxs-lookup"><span data-stu-id="45b74-112">A *witness-to-partner quorum* consists of the witness and either partner.</span></span>  
  
-   <span data-ttu-id="45b74-113">Ein *Quorum zwischen Partnern* besteht aus den beiden Partnern.</span><span class="sxs-lookup"><span data-stu-id="45b74-113">A *partner-to-partner quorum* consists of the two partners.</span></span>  
  
 <span data-ttu-id="45b74-114">In der folgenden Abbildung sind diese drei Quorumtypen veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="45b74-114">The following figure shows these types of quorum.</span></span>  
  
 <span data-ttu-id="45b74-115">![Quorumtypen: vollständig; Zeuge und Partner; beide Partner](../media/dbm-failovautoquorum.gif "Quorumtypen: vollständig; Zeuge und Partner; beide Partner")</span><span class="sxs-lookup"><span data-stu-id="45b74-115">![Quorums: full; witness and partner; both partners](../media/dbm-failovautoquorum.gif "Quorums: full; witness and partner; both partners")</span></span>  
  
 <span data-ttu-id="45b74-116">Solange der aktuelle Prinzipalserver über das Quorum verfügt, besitzt dieser Server die Rolle des Prinzipals und bedient die Datenbank weiterhin, es sei denn, der Datenbankbesitzer führt ein manuelles Failover aus.</span><span class="sxs-lookup"><span data-stu-id="45b74-116">As long as the current principal server has quorum, this server owns the role of principal and continues to serve the database, unless the database owner performs a manual failover.</span></span> <span data-ttu-id="45b74-117">Verliert der Prinzipalserver das Quorum, beendet er das Anbieten der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="45b74-117">If the principal server loses quorum, it stops serving the database.</span></span> <span data-ttu-id="45b74-118">Ein automatisches Failover kann nur auftreten, wenn die Prinzipaldatenbank das Quorum verloren hat; dadurch wird sichergestellt, dass es die Datenbank nicht mehr anbietet.</span><span class="sxs-lookup"><span data-stu-id="45b74-118">Automatic failover can occur only if the principal database has lost quorum, which guarantees that it is no longer serving the database.</span></span>  
  
 <span data-ttu-id="45b74-119">Eine Serverinstanz, deren Verbindung getrennt wurde, speichert ihre aktuelle Rolle in der Sitzung.</span><span class="sxs-lookup"><span data-stu-id="45b74-119">A disconnected server instance saves its most recent role in the session.</span></span> <span data-ttu-id="45b74-120">In der Regel stellt eine Serverinstanz, deren Verbindung getrennt wurde, erneut eine Verbindung mit der Sitzung her, wenn sie das Quorum neu startet und zurückerlangt.</span><span class="sxs-lookup"><span data-stu-id="45b74-120">Typically, a disconnected server instance reconnects to the session when it restarts and regains quorum.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="45b74-121">Der Zeuge sollte nur dann festgelegt werden, wenn Sie beabsichtigen, den Modus für hohe Sicherheit mit automatischem Failover zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="45b74-121">The witness should be set only when you intend to use high-safety mode with automatic failover.</span></span> <span data-ttu-id="45b74-122">Im Modus für hohe Leistung, für den nie ein Zeuge erforderlich ist, empfiehlt es sich, die WITNESS-Eigenschaft auf OFF festzulegen.</span><span class="sxs-lookup"><span data-stu-id="45b74-122">In high-performance mode, for which a witness is never required, we strongly recommend setting the WITNESS property to OFF.</span></span> <span data-ttu-id="45b74-123">Informationen zu den Auswirkungen eines Zeugen auf den Hochleistungsmodus finden Sie unter [Betriebsmodi der Datenbankspiegelung](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="45b74-123">For information about the impact of a witness on high-performance mode, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
## <a name="quorum-in-high-safety-mode-sessions"></a><span data-ttu-id="45b74-124">Quorum in Sitzungen im Modus für hohe Sicherheit</span><span class="sxs-lookup"><span data-stu-id="45b74-124">Quorum in High-Safety Mode Sessions</span></span>  
 <span data-ttu-id="45b74-125">Im Modus für hohe Sicherheit ermöglicht das Quorum automatisches Failover, indem es einen Kontext bereitstellt, in dem die Serverinstanzen, die über das Quorum verfügen, bestimmen, welcher Partner die Rolle des Prinzipals besitzt.</span><span class="sxs-lookup"><span data-stu-id="45b74-125">In high-safety mode, quorum allows automatic failover by providing a context in which the server instances with quorum arbitrate which partner owns the role of principal.</span></span> <span data-ttu-id="45b74-126">Der Prinzipalserver bedient die Datenbank, wenn er über das Quorum verfügt.</span><span class="sxs-lookup"><span data-stu-id="45b74-126">The principal server serves the database if it has quorum.</span></span> <span data-ttu-id="45b74-127">Wenn der Prinzipalserver das Quorum verliert, wenn der synchronisierte Spiegelserver und der Zeuge das Quorum behalten, tritt ein automatisches Failover auf.</span><span class="sxs-lookup"><span data-stu-id="45b74-127">If the principal server loses quorum when the synchronized mirror server and witness retain quorum, automatic failover occurs.</span></span>  
  
 <span data-ttu-id="45b74-128">Die Quorumszenarien im Modus für hohe Sicherheit sehen wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="45b74-128">The quorum scenarios for high-safety mode are as follows:</span></span>  
  
-   <span data-ttu-id="45b74-129">Ein *vollständiges Quorum* , das aus beiden Partnern und dem Zeugen besteht.</span><span class="sxs-lookup"><span data-stu-id="45b74-129">A *full quorum* that consists of both partners and the witness.</span></span>  
  
     <span data-ttu-id="45b74-130">Normalerweise nehmen alle drei Serverinstanzen an einem Dreiwegequorum teil, das als *vollständiges Quorum*bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="45b74-130">Ordinarily, all three server instances participate in a three-way quorum, called a *full quorum*.</span></span> <span data-ttu-id="45b74-131">Bei einem vollständigen Quorum führen der Prinzipal- und der Spiegelserver weiterhin ihre jeweiligen Rollen aus (es sei denn, ein manuelles Failover tritt auf).</span><span class="sxs-lookup"><span data-stu-id="45b74-131">With a full quorum, the principal and mirror servers continue to perform their respective roles (unless manual failover occurs).</span></span>  
  
-   <span data-ttu-id="45b74-132">Ein *Quorum zwischen Zeuge und Partner* besteht aus dem Zeugen und einem der beiden Partner.</span><span class="sxs-lookup"><span data-stu-id="45b74-132">A *witness-to-partner quorum* that consists of the witness and either partner.</span></span>  
  
     <span data-ttu-id="45b74-133">Geht die Netzwerkverbindung zwischen den Partnern verloren, weil einer der Partner ausgefallen ist, sind die beiden folgenden Fälle möglich:</span><span class="sxs-lookup"><span data-stu-id="45b74-133">If the network connection between the partners is lost because one of the partners has been lost, the following cases are possible:</span></span>  
  
    -   <span data-ttu-id="45b74-134">Der Spiegelserver fällt aus. Prinzipalserver und Zeuge behalten das Quorum.</span><span class="sxs-lookup"><span data-stu-id="45b74-134">The mirror server is lost, and the principal server and witness retain quorum.</span></span>  
  
         <span data-ttu-id="45b74-135">In diesem Fall legt der Prinzipal seine Datenbank auf den Status DISCONNECTED fest und wird ausgeführt, während sich die Spiegelung im Status SUSPENDED befindet.</span><span class="sxs-lookup"><span data-stu-id="45b74-135">In this case, the principal sets its database to DISCONNECTED and runs with mirroring in a SUSPENDED state.</span></span> <span data-ttu-id="45b74-136">(Dies wird als *ungeschützte Ausführung* bezeichnet, da die Datenbank derzeit nicht gespiegelt wird.) Wenn der Spiegelserver der Sitzung erneut beitritt, erlangt er das Quorum als Spiegel zurück und beginnt, seine Kopie der Datenbank erneut zu synchronisieren.</span><span class="sxs-lookup"><span data-stu-id="45b74-136">(This is referred to as *running exposed*, because the database is currently not being mirrored.) When the mirror server rejoins the session, the server regains quorum as mirror and starts resynchronizing its copy of the database.</span></span>  
  
    -   <span data-ttu-id="45b74-137">Der Prinzipalserver fällt aus. Zeuge und Spiegelserver behalten das Quorum.</span><span class="sxs-lookup"><span data-stu-id="45b74-137">The principal server is lost, and the witness and the mirror server retain quorum.</span></span>  
  
         <span data-ttu-id="45b74-138">In diesem Fall tritt ein automatisches Failover auf.</span><span class="sxs-lookup"><span data-stu-id="45b74-138">In this case, automatic failover occurs.</span></span> <span data-ttu-id="45b74-139">Weitere Informationen finden Sie unter [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span><span class="sxs-lookup"><span data-stu-id="45b74-139">For more information, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
    -   <span data-ttu-id="45b74-140">Alle Serverinstanzen verlieren das Quorum, aber Spiegel- und Zeugenserver werden wieder miteinander verbunden.</span><span class="sxs-lookup"><span data-stu-id="45b74-140">All the server instances lose quorum, but subsequently the mirror and witness reconnect.</span></span> <span data-ttu-id="45b74-141">Die Datenbank wird in diesem Fall nicht bedient.</span><span class="sxs-lookup"><span data-stu-id="45b74-141">The database will not be served in this case.</span></span>  
  
     <span data-ttu-id="45b74-142">In seltenen Fällen geht die Netzwerkverbindung zwischen zwei Failoverpartnern verloren, während beide Partner mit dem Zeugen verbunden bleiben.</span><span class="sxs-lookup"><span data-stu-id="45b74-142">Rarely, the network connection between failover partners is lost while both partners remain connected to the witness.</span></span> <span data-ttu-id="45b74-143">In diesem Fall sind zwei separate Quoren zwischen Zeuge und Partner vorhanden, wobei der Zeuge als Verbindung dient.</span><span class="sxs-lookup"><span data-stu-id="45b74-143">In this event, two, separate witness-to-partner quorums exist, with the witness as a liaison.</span></span> <span data-ttu-id="45b74-144">Der Zeuge informiert den Spiegelserver, dass der Prinzipalserver noch immer verbunden ist.</span><span class="sxs-lookup"><span data-stu-id="45b74-144">The witness informs the mirror server that the principal server is still connected.</span></span> <span data-ttu-id="45b74-145">Deshalb findet kein automatisches Failover statt.</span><span class="sxs-lookup"><span data-stu-id="45b74-145">Therefore, automatic failover does not occur.</span></span> <span data-ttu-id="45b74-146">Stattdessen bleibt der Spiegelserver in der Rolle des Spiegels und wartet darauf, erneut eine Verbindung mit dem Prinzipal herzustellen.</span><span class="sxs-lookup"><span data-stu-id="45b74-146">Instead, the mirror server retains the mirror role and waits to reconnect to the principal.</span></span> <span data-ttu-id="45b74-147">Wenn die Wiederholungswarteschlange zu diesem Zeitpunkt Protokolldatensätze enthält, setzt der Spiegelserver den Rollforward der Spiegeldatenbank fort.</span><span class="sxs-lookup"><span data-stu-id="45b74-147">If the redo queue contains log records at this point, the mirror server continues to roll forward the mirror database.</span></span> <span data-ttu-id="45b74-148">Beim Wiederherstellen der Verbindung synchronisiert der Spiegelserver die Spiegeldatenbank erneut.</span><span class="sxs-lookup"><span data-stu-id="45b74-148">On reconnecting, the mirror server will resynchronize the mirror database.</span></span>  
  
-   <span data-ttu-id="45b74-149">Ein *Quorum zwischen Partnern* besteht aus den beiden Partnern.</span><span class="sxs-lookup"><span data-stu-id="45b74-149">A *partner-to-partner quorum* that consists of the two partners.</span></span>  
  
     <span data-ttu-id="45b74-150">Solange die Partner das Quorum beibehalten, befindet sich die Datenbank weiterhin im Status SYNCHRONIZED, und ein manuelles Failover ist weiterhin möglich.</span><span class="sxs-lookup"><span data-stu-id="45b74-150">As long as the partners retain quorum, the database continues in a SYNCHRONIZED state, and manual failover remains possible.</span></span> <span data-ttu-id="45b74-151">Ohne den Zeugen ist das automatische Failover nicht möglich; wenn jedoch der Zeuge das Quorum wiedererlangt, setzt die Sitzung die normalen Vorgänge fort, und das automatische Failover wird wieder unterstützt.</span><span class="sxs-lookup"><span data-stu-id="45b74-151">Without the witness, automatic failover is not possible; but when the witness regains quorum, the session resumes regular operation, and automatic failover is supported again.</span></span>  
  
-   <span data-ttu-id="45b74-152">Die Sitzung verliert das Quorum.</span><span class="sxs-lookup"><span data-stu-id="45b74-152">The session loses quorum.</span></span>  
  
     <span data-ttu-id="45b74-153">Wenn alle Serverinstanzen voneinander getrennt werden, hat die Sitzung das *Quorum verloren*.</span><span class="sxs-lookup"><span data-stu-id="45b74-153">If all the server instances become disconnected from each other, the session is said to have *lost quorum*.</span></span> <span data-ttu-id="45b74-154">Wenn die Serverinstanzen erneut die Verbindung miteinander herstellen, erhalten sie wieder das Quorum miteinander.</span><span class="sxs-lookup"><span data-stu-id="45b74-154">As server instances reconnect to each other, they regain quorum with each other.</span></span>  
  
    -   <span data-ttu-id="45b74-155">Wenn der Prinzipalserver wieder die Verbindung mit einer der anderen Serverinstanzen herstellt, wird die Datenbank verfügbar.</span><span class="sxs-lookup"><span data-stu-id="45b74-155">If the principal server reconnects with either of the other server instances, the database becomes available.</span></span>  
  
    -   <span data-ttu-id="45b74-156">Wenn der Prinzipalserver getrennt bleibt, der Spiegel und der Zeuge jedoch wieder die Verbindung untereinander herstellen, kann kein automatisches Failover auftreten, da es sonst zu Datenverlust kommen könnte.</span><span class="sxs-lookup"><span data-stu-id="45b74-156">If the principal server remains disconnected, but the mirror and witness reconnect to each other, automatic failover cannot occur because data loss might occur.</span></span> <span data-ttu-id="45b74-157">Deshalb bleibt die Datenbank nicht verfügbar, bis der Prinzipalserver wieder der Sitzung beitritt.</span><span class="sxs-lookup"><span data-stu-id="45b74-157">Therefore, the database remains unavailable, until the principal server rejoins the session.</span></span>  
  
    -   <span data-ttu-id="45b74-158">Wenn alle drei Serverinstanzen die Verbindung wiederhergestellt haben, ist wieder das vollständige Quorum erlangt, und die Sitzung nimmt die regulären Vorgänge wieder auf.</span><span class="sxs-lookup"><span data-stu-id="45b74-158">When all three server instances have reconnected, full quorum is regained, and the session resumes its regular operation.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="45b74-159">Wenn eine Sitzung jedoch nur über ein Quorum zwischen Partnern verfügt, verliert die Sitzung das Quorum, wenn einer der Partner sein Quorum verliert.</span><span class="sxs-lookup"><span data-stu-id="45b74-159">When a session has a partner-to-partner quorum, if either partner loses quorum, the session loses quorum.</span></span> <span data-ttu-id="45b74-160">Wenn zu erwarten ist, dass der Zeuge für einen längeren Zeitraum getrennt sein wird, sollten Sie deshalb den Zeugen vorübergehend aus der Sitzung entfernen.</span><span class="sxs-lookup"><span data-stu-id="45b74-160">Therefore, if you expect the witness to remain disconnected for lots of time, we recommend that you temporarily remove the witness from the session.</span></span> <span data-ttu-id="45b74-161">Durch das Entfernen des Zeugen entfällt die Notwendigkeit des Quorums.</span><span class="sxs-lookup"><span data-stu-id="45b74-161">Removing the witness removes the requirement for quorum.</span></span> <span data-ttu-id="45b74-162">Wenn dann der Spiegelserver getrennt wird, kann der Prinzipalserver weiterhin die Datenbank bedienen.</span><span class="sxs-lookup"><span data-stu-id="45b74-162">Then, if the mirror server becomes disconnected, the principal server can continue to serve the database.</span></span> <span data-ttu-id="45b74-163">Informationen zum Hinzufügen oder Entfernen eines Zeugen finden Sie unter [Database Mirroring Witness](database-mirroring-witness.md).</span><span class="sxs-lookup"><span data-stu-id="45b74-163">For information about how to add or remove a witness, see [Database Mirroring Witness](database-mirroring-witness.md).</span></span>  
  
### <a name="how-quorum-affects-database-availability"></a><span data-ttu-id="45b74-164">Auswirkungen des Quorums auf die Datenbankverfügbarkeit</span><span class="sxs-lookup"><span data-stu-id="45b74-164">How Quorum Affects Database Availability</span></span>  
 <span data-ttu-id="45b74-165">In der folgenden Abbildung wird veranschaulicht, wie Zeuge und Partner gemeinsam sicherstellen, dass jeweils nur ein Partner die Rolle des Prinzipalservers besitzt und nur der aktuelle Prinzipalserver seine Datenbank online schalten kann.</span><span class="sxs-lookup"><span data-stu-id="45b74-165">The following illustration shows how the witness and the partners cooperate to make sure that, at given time, only one partner owns the role of principal and only the current principal server can bring its database online.</span></span> <span data-ttu-id="45b74-166">Beide Szenarien beginnen mit dem vollständigen Quorum, wobei sich **Partner_A** in der Rolle des Prinzipalservers und **Partner_B** in der Rolle des Spiegelservers befindet.</span><span class="sxs-lookup"><span data-stu-id="45b74-166">Both scenarios start with full quorum, and **Partner_A** in the principal role and **Partner_B** in the mirror role.</span></span>  
  
 <span data-ttu-id="45b74-167">![Kooperation zwischen Zeuge und Partnern](../media/dbm-quorum-scenarios.gif "Kooperation zwischen Zeuge und Partnern")</span><span class="sxs-lookup"><span data-stu-id="45b74-167">![How the witness and partners cooperate](../media/dbm-quorum-scenarios.gif "How the witness and partners cooperate")</span></span>  
  
 <span data-ttu-id="45b74-168">In Szenario 1 wird veranschaulicht, wie Zeuge und Spiegel nach einem Fehler am ursprünglichen Prinzipalserver (**Partner_A**) übereinstimmend erkennen, dass **Partner_A**nicht mehr verfügbar ist und ein Quorum bilden.</span><span class="sxs-lookup"><span data-stu-id="45b74-168">Scenario 1 shows how after the original principal server (**Partner_A**) fails, the witness and mirror agree that the principal, **Partner_A**, is not available any longer and form quorum.</span></span> <span data-ttu-id="45b74-169">Der Spiegelserver, **Partner_B** , übernimmt daraufhin die Rolle des Prinzipalservers.</span><span class="sxs-lookup"><span data-stu-id="45b74-169">The mirror, **Partner_B** then assumes the principal role.</span></span> <span data-ttu-id="45b74-170">Ein automatisches Failover erfolgt, und **Partner_B**schaltet seine Kopie der Datenbank online.</span><span class="sxs-lookup"><span data-stu-id="45b74-170">Automatic failover occurs, and **Partner_B**, brings its copy of the database online.</span></span> <span data-ttu-id="45b74-171">Anschließend wird **Partner_B** heruntergefahren, und die Datenbank wird offline geschaltet.</span><span class="sxs-lookup"><span data-stu-id="45b74-171">Then **Partner_B** goes down, and the database goes offline.</span></span> <span data-ttu-id="45b74-172">Später stellt der vorherige Prinzipalserver, **Partner_A**, die Verbindung mit dem Zeugen wieder her und erhält wieder das Quorum. Im Rahmen der Kommunikation mit dem Zeugen erkennt **Partner_A** jedoch, dass die eigene Datenbankkopie nicht online geschaltet werden kann, da jetzt **Partner_B** die Rolle des Prinzipalservers besitzt.</span><span class="sxs-lookup"><span data-stu-id="45b74-172">Later, the former principal server, **Partner_A**, reconnects to the witness regaining quorum, but on communicating with the witness, **Partner_A** learns that it cannot bring its copy of the database online, because **Partner_B** now owns the principal role.</span></span> <span data-ttu-id="45b74-173">Sobald **Partner_B** wieder an der Sitzung teilnimmt, wird auch die Datenbank wieder online geschaltet.</span><span class="sxs-lookup"><span data-stu-id="45b74-173">When **Partner_B** rejoins the session, it brings the database back online.</span></span>  
  
 <span data-ttu-id="45b74-174">In Szenario 2 verliert der Zeuge sein Quorum, während die Partner **Partner_A** und **Partner_B**das Quorum gemeinsam behalten; die Datenbank bleibt online.</span><span class="sxs-lookup"><span data-stu-id="45b74-174">In Scenario 2, the witness loses quorum, while the partners, **Partner_A** and **Partner_B**, retain quorum with each other, and the database remains online.</span></span> <span data-ttu-id="45b74-175">Dann verlieren auch die Partner ihr Quorum, und die Datenbank wird offline geschaltet.</span><span class="sxs-lookup"><span data-stu-id="45b74-175">Then the partners lose their quorum, too, and the database goes offline.</span></span> <span data-ttu-id="45b74-176">Später stellt der Prinzipalserver ( **Partner_A**) die Verbindung mit dem Zeugen wieder her und erhält dadurch das Quorum.</span><span class="sxs-lookup"><span data-stu-id="45b74-176">Later, the principal server, **Partner_A**, reconnects to the witness regaining quorum.</span></span> <span data-ttu-id="45b74-177">Der Zeuge bestätigt, dass **Partner_A** noch immer im Besitz der Prinzipalrolle ist, und **Partner_A** schaltet die Datenbank wieder online.</span><span class="sxs-lookup"><span data-stu-id="45b74-177">The witness confirms that **Partner_A** still owns the principal role, and **Partner_A** brings the database back online.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="45b74-178">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="45b74-178">See Also</span></span>  
 <span data-ttu-id="45b74-179">[Betriebsmodi der Datenbankspiegelung](database-mirroring-operating-modes.md) </span><span class="sxs-lookup"><span data-stu-id="45b74-179">[Database Mirroring Operating Modes](database-mirroring-operating-modes.md) </span></span>  
 <span data-ttu-id="45b74-180">[Rollenwechsel während einer Datenbank-Spiegelungssitzung &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="45b74-180">[Role Switching During a Database Mirroring Session &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md) </span></span>  
 <span data-ttu-id="45b74-181">[Datenbank-Spiegelungszeuge](database-mirroring-witness.md) </span><span class="sxs-lookup"><span data-stu-id="45b74-181">[Database Mirroring Witness](database-mirroring-witness.md) </span></span>  
 <span data-ttu-id="45b74-182">[Mögliche Fehler während der Datenbankspiegelung](possible-failures-during-database-mirroring.md) </span><span class="sxs-lookup"><span data-stu-id="45b74-182">[Possible Failures During Database Mirroring](possible-failures-during-database-mirroring.md) </span></span>  
 [<span data-ttu-id="45b74-183">Spiegelungsstatus &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="45b74-183">Mirroring States &#40;SQL Server&#41;</span></span>](mirroring-states-sql-server.md)  
  
  
