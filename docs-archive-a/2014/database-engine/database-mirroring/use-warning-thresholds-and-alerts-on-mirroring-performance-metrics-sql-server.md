---
title: Verwenden von Warnungs Schwellenwerten und Warnungen für Spiegelungsleistungsmetriken (SQL Server) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- monitoring database mirroring [SQL Server]
- thresholds [SQL Server]
- database mirroring [SQL Server], managing in SQL Server Management Studio
- alerts [SQL Server], database mirroring
- database mirroring [SQL Server], monitoring
- warnings [database mirroring]
ms.assetid: 8cdd1515-0bd7-4f8c-a7fc-a33b575e20f6
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 908b234143bc7e2140fe1c98d85ba150ea69b28d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87616673"
---
# <a name="use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server"></a><span data-ttu-id="55931-102">Verwenden von Warnungsschwellenwerten und Warnmeldungen für Spiegelungsleistungsmetriken (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="55931-102">Use Warning Thresholds and Alerts on Mirroring Performance Metrics (SQL Server)</span></span>
  <span data-ttu-id="55931-103">Dieses Thema enthält Informationen über [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Ereignisse, für die Schwellenwerte für Warnungen konfiguriert und die Datenbankspiegelung verwaltet werden können.</span><span class="sxs-lookup"><span data-stu-id="55931-103">This topic contains information about the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] events for which warning thresholds can be configured and managed for database mirroring.</span></span> <span data-ttu-id="55931-104">Sie können den Datenbankspiegelungs-Monitor oder die gespeicherten Prozeduren **sp_dbmmonitorchangealert**, **sp_dbmmonitorhelpalert**und **sp_dbmmonitordropalert** verwenden.</span><span class="sxs-lookup"><span data-stu-id="55931-104">You can use the  Database Mirroring Monitor or the **sp_dbmmonitorchangealert**, **sp_dbmmonitorhelpalert**, and **sp_dbmmonitordropalert** stored procedures.</span></span> <span data-ttu-id="55931-105">Dieses Thema enthält darüber hinaus Informationen über das Konfigurieren von Warnungen für Datenbank-Spiegelungsereignisse.</span><span class="sxs-lookup"><span data-stu-id="55931-105">This topic also contains information about configuring alerts on database mirroring events.</span></span>  
  
 <span data-ttu-id="55931-106">Nachdem für eine gespiegelte Datenbank die Überwachung eingerichtet wurde, können vom Systemadministrator für mehrere Schlüsselleistungsmetriken Warnungsschwellenwerte konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="55931-106">After monitoring is established for a mirrored database, a system administrator can configure warning thresholds on several key performance metrics.</span></span> <span data-ttu-id="55931-107">Administratoren können für diese Metriken und andere Datenbank-Spiegelungsereignisse auch Warnungsmeldungen konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="55931-107">Also, an administrator can configure alerts on these and other database mirroring events.</span></span>  
  
 <span data-ttu-id="55931-108">**In diesem Thema:**</span><span class="sxs-lookup"><span data-stu-id="55931-108">**In This Topic:**</span></span>  
  
-   [<span data-ttu-id="55931-109">Leistungsmetriken und Warnungsschwellenwerte</span><span class="sxs-lookup"><span data-stu-id="55931-109">Performance Metrics and Warning Thresholds</span></span>](#PerfMetricsAndWarningThresholds)  
  
-   [<span data-ttu-id="55931-110">Einrichten und Verwalten von Schwellenwerten für Warnungen</span><span class="sxs-lookup"><span data-stu-id="55931-110">Setting Up and Managing Warning Thresholds</span></span>](#SetUpManageWarningThresholds)  
  
-   [<span data-ttu-id="55931-111">Verwenden von Warnmeldungen für eine gespiegelte Datenbank</span><span class="sxs-lookup"><span data-stu-id="55931-111">Using Alerts for a Mirrored Database</span></span>](#UseAlerts)  
  
-   [<span data-ttu-id="55931-112">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="55931-112">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="performance-metrics-and-warning-thresholds"></a><a name="PerfMetricsAndWarningThresholds"></a><span data-ttu-id="55931-113">Leistungsmetriken und Warnungs Schwellenwerte</span><span class="sxs-lookup"><span data-stu-id="55931-113">Performance Metrics and Warning Thresholds</span></span>  
 <span data-ttu-id="55931-114">In der folgenden Tabelle werden die Leistungsmetriken, für die Warnungen konfiguriert werden können, zusammen mit den entsprechenden Warnungsschwellenwerten und der entsprechende Bezeichnung des Datenbanküberwachungs-Monitors aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="55931-114">The following table lists the performance metrics for which warnings can be configured, describes the corresponding warning threshold, and lists the corresponding Database Mirroring Monitor label.</span></span>  
  
|<span data-ttu-id="55931-115">Leistungsmetrik</span><span class="sxs-lookup"><span data-stu-id="55931-115">Performance metric</span></span>|<span data-ttu-id="55931-116">Schwellenwert für Warnung</span><span class="sxs-lookup"><span data-stu-id="55931-116">Warning threshold</span></span>|<span data-ttu-id="55931-117">Bezeichnung des Datenbankspiegelungs-Monitors</span><span class="sxs-lookup"><span data-stu-id="55931-117">Database Mirroring Monitor label</span></span>|  
|------------------------|-----------------------|--------------------------------------|  
|<span data-ttu-id="55931-118">Nicht gesendetes Protokoll</span><span class="sxs-lookup"><span data-stu-id="55931-118">Unsent log</span></span>|<span data-ttu-id="55931-119">Gibt an, bei welcher Menge (in KB) an nicht gesendeten Protokolldaten eine Warnung auf der Prinzipalserverinstanz generiert wird.</span><span class="sxs-lookup"><span data-stu-id="55931-119">Specifies how many kilobytes (KB) of unsent log generate a warning on the principal server instance.</span></span> <span data-ttu-id="55931-120">Anhand dieser Warnung, die speziell für den Modus für hohe Leistung relevant ist, kann der potenzielle Datenverlust in KB gemessen werden.</span><span class="sxs-lookup"><span data-stu-id="55931-120">This warning helps measure the potential for data loss in terms of KB and is especially relevant for high-performance mode.</span></span> <span data-ttu-id="55931-121">Die Warnung ist aber auch für den Modus für hohe Sicherheit relevant, wenn die Spiegelung angehalten oder unterbrochen wird, weil die Verbindung zwischen den Partnern getrennt wurde.</span><span class="sxs-lookup"><span data-stu-id="55931-121">However, the warning is also relevant for high-safety mode when mirroring is paused or suspended because the partners become disconnected.</span></span>|<span data-ttu-id="55931-122">**Warnhinweis anzeigen, wenn das nicht gesendete Protokoll den Schwellenwert überschreitet.**</span><span class="sxs-lookup"><span data-stu-id="55931-122">**Warn if the unsent log exceeds the threshold**</span></span>|  
|<span data-ttu-id="55931-123">Nicht wiederhergestelltes Protokoll</span><span class="sxs-lookup"><span data-stu-id="55931-123">Unrestored log</span></span>|<span data-ttu-id="55931-124">Gibt an, bei welcher Menge (in KB) an nicht wiederhergestellten Protokolldaten eine Warnung auf der Spiegelserverinstanz generiert wird.</span><span class="sxs-lookup"><span data-stu-id="55931-124">Specifies how many KB of unrestored log generate a warning on the mirror server instance.</span></span> <span data-ttu-id="55931-125">Diese Warnung ermöglicht die Messung der Failoverzeit.</span><span class="sxs-lookup"><span data-stu-id="55931-125">This warning helps measure failover time.</span></span> <span data-ttu-id="55931-126">Die*Failoverzeit* besteht hauptsächlich aus der Zeit, die der frühere Spiegelserver benötigt, um ein Rollforward für die Protokolldaten auszuführen, die sich noch in seiner Wiederholungswarteschlange befinden, sowie einer zusätzlichen kurzen Zeitspanne.</span><span class="sxs-lookup"><span data-stu-id="55931-126">*Failover time* consists mainly of the time that the former mirror server requires to roll forward any log remaining in its redo queue, plus a short additional time.</span></span><br /><br /> <span data-ttu-id="55931-127">Hinweis: Bei einem automatischen Failover hängt die Zeitspanne, die es dauert, bis das System den Fehler bemerkt, nicht von der Failoverzeit ab.</span><span class="sxs-lookup"><span data-stu-id="55931-127">Note: For an automatic failover, the time for the system to notice the error is independent of the failover time.</span></span><br /><br /> <span data-ttu-id="55931-128">Weitere Informationen finden Sie unter [Einschätzen der Unterbrechung des Diensts während des Rollenwechsels &#40;Datenbankspiegelung&#41;](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md)ausgetauscht werden.</span><span class="sxs-lookup"><span data-stu-id="55931-128">For more information, see [Estimate the Interruption of Service During Role Switching &#40;Database Mirroring&#41;](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).</span></span>|<span data-ttu-id="55931-129">**Warnhinweis anzeigen, wenn das nicht wiederhergestellte Protokoll den Schwellenwert überschreitet.**</span><span class="sxs-lookup"><span data-stu-id="55931-129">**Warn if the unrestored log exceeds the threshold**</span></span>|  
|<span data-ttu-id="55931-130">Älteste, nicht gesendete Transaktion</span><span class="sxs-lookup"><span data-stu-id="55931-130">Oldest unsent transaction</span></span>|<span data-ttu-id="55931-131">Gibt die Menge an Transaktionen (in Anzahl Minuten) an, die sich in der Sendewarteschlange ansammeln dürfen, bevor auf der Prinzipalserverinstanz eine Warnung generiert wird.</span><span class="sxs-lookup"><span data-stu-id="55931-131">Specifies the number of minutes worth of transactions that can accumulate in the send queue before a warning is generated on the principal server instance.</span></span> <span data-ttu-id="55931-132">Anhand dieser Warnung, die speziell für den Modus für hohe Leistung relevant ist, kann der potenzielle Datenverlust im Hinblick auf die Zeit gemessen werden.</span><span class="sxs-lookup"><span data-stu-id="55931-132">This warning helps measure the potential for data loss in terms of time and is especially relevant for high-performance mode.</span></span> <span data-ttu-id="55931-133">Die Warnung ist aber auch für den Modus für hohe Sicherheit relevant, wenn die Spiegelung angehalten oder unterbrochen wird, weil die Verbindung zwischen den Partnern getrennt wurde.</span><span class="sxs-lookup"><span data-stu-id="55931-133">However, the warning is also relevant for high-safety mode when mirroring is paused or suspended because the partners become disconnected.</span></span>|<span data-ttu-id="55931-134">**Warnhinweis anzeigen, wenn das Alter der ältesten, nicht gesendeten Transaktion den Schwellenwert überschreitet.**</span><span class="sxs-lookup"><span data-stu-id="55931-134">**Warn if the age of the oldest unsent transaction exceeds the threshold**</span></span>|  
|<span data-ttu-id="55931-135">Spiegelungscommitaufwand</span><span class="sxs-lookup"><span data-stu-id="55931-135">Mirror commit overhead</span></span>|<span data-ttu-id="55931-136">Gibt die durchschnittliche Verzögerung (in Anzahl der Millisekunden) pro Transaktion an, die toleriert wird, bevor auf dem Prinzipalserver eine Warnung generiert wird.</span><span class="sxs-lookup"><span data-stu-id="55931-136">Specifies the number of milliseconds of average delay per transaction that are tolerated before a warning is generated on the principal server.</span></span> <span data-ttu-id="55931-137">Hierbei handelt es sich um die Verzögerung, die entsteht, während die Prinzipalserverinstanz darauf wartet, dass die Spiegelserverinstanz den Transaktionsprotokolldatensatz in die Wiederholungswarteschlange schreibt.</span><span class="sxs-lookup"><span data-stu-id="55931-137">This delay is the amount of overhead incurred while the principal server instance waits for the mirror server instance to write the transaction's log record into the redo queue.</span></span> <span data-ttu-id="55931-138">Dieser Wert ist nur im Modus für hohe Sicherheit relevant.</span><span class="sxs-lookup"><span data-stu-id="55931-138">This value is relevant only in high-safety mode.</span></span>|<span data-ttu-id="55931-139">**Warnhinweis anzeigen, wenn der Spiegelungscommitaufwand den Schwellenwert überschreitet.**</span><span class="sxs-lookup"><span data-stu-id="55931-139">**Warn if the mirror commit overhead exceeds the threshold**</span></span>|  
  
 <span data-ttu-id="55931-140">Für jede dieser Leistungsmetrik kann vom Systemadministrator ein Schwellenwert für eine gespiegelte Datenbank angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="55931-140">For any one of these performance metrics, a system administrator can specify a threshold on a mirrored database.</span></span> <span data-ttu-id="55931-141">Weitere Informationen finden Sie unter [Einrichten und Verwalten von Schwellenwerten für Warnungen](#SetUpManageWarningThresholds)weiter unten in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="55931-141">For more information, see [Setting Up and Managing Warning Thresholds](#SetUpManageWarningThresholds), later in this topic.</span></span>  
  
##  <a name="setting-up-and-managing-warning-thresholds"></a><a name="SetUpManageWarningThresholds"></a><span data-ttu-id="55931-142">Einrichten und Verwalten von Schwellenwerten für Warnungen</span><span class="sxs-lookup"><span data-stu-id="55931-142">Setting Up and Managing Warning Thresholds</span></span>  
 <span data-ttu-id="55931-143">Ein Systemadministrator kann einen oder mehrere Warnungsschwellenwerte für die wichtigsten Leistungsmetriken für die Spiegelung konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="55931-143">A system administrator can configure one or more warning thresholds for the key mirroring performance metrics.</span></span> <span data-ttu-id="55931-144">Es wird empfohlen, einen Schwellenwert für eine bestimmte Warnung jeweils auf beiden Partnern festzulegen, um sicherzustellen, dass bei einem Failover der Datenbank die Warnung beibehalten wird.</span><span class="sxs-lookup"><span data-stu-id="55931-144">We recommend setting a threshold for a given warning on both partners to make sure that the warning persists if the database fails over.</span></span> <span data-ttu-id="55931-145">Der geeignete Schwellenwert für jeden der Partner hängt von den Leistungsmöglichkeiten des betreffenden Partnersystems ab.</span><span class="sxs-lookup"><span data-stu-id="55931-145">The appropriate threshold on each partner depends on the performance capabilities of that partner's system.</span></span>  
  
 <span data-ttu-id="55931-146">Warnungsschwellenwerte können mit einem der folgenden Tools konfiguriert und verwaltet werden:</span><span class="sxs-lookup"><span data-stu-id="55931-146">Warning thresholds can be configured and managed by using either of the following:</span></span>  
  
-   <span data-ttu-id="55931-147">Datenbankspiegelungs-Monitor</span><span class="sxs-lookup"><span data-stu-id="55931-147">Database Mirroring Monitor</span></span>  
  
     <span data-ttu-id="55931-148">Auf der Registerkarte **Warnungen** des Datenbankspiegelungs-Monitors kann der Administrator die aktuelle Konfiguration von Warnungen für eine ausgewählte Datenbank gleichzeitig für die Prinzipal- und die Spiegelserverinstanz anzeigen.</span><span class="sxs-lookup"><span data-stu-id="55931-148">In Database Mirroring Monitor, the administrator can view the current configuration of warnings for a selected database at both the principal and mirror server instances at the same time by selecting the **Warnings** tabbed page.</span></span> <span data-ttu-id="55931-149">Im Dialogfeld **Schwellenwerte für Warnungen festlegen** , das von dieser Registerkarte aus geöffnet werden kann, können dann Schwellenwerte für Warnungen aktiviert und konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="55931-149">From there, the administrator can open the **Set Warning Thresholds** dialog box to enable and configure one or more warning thresholds.</span></span>  
  
     <span data-ttu-id="55931-150">Eine Einführung zur Benutzeroberfläche des Datenbankspiegelungs-Monitors finden Sie unter [Database Mirroring Monitor Overview](database-mirroring-monitor-overview.md).</span><span class="sxs-lookup"><span data-stu-id="55931-150">For an introduction to the Database Mirroring Monitor interface, see [Database Mirroring Monitor Overview](database-mirroring-monitor-overview.md).</span></span> <span data-ttu-id="55931-151">Informationen zum Starten des Datenbankspiegelungs-Monitors finden Sie unter [Starten des Datenbankspiegelungs-Monitors &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="55931-151">For information about launching Database Mirroring Monitor, see [Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="55931-152">Gespeicherte Systemprozeduren</span><span class="sxs-lookup"><span data-stu-id="55931-152">System stored procedures</span></span>  
  
     <span data-ttu-id="55931-153">Mit den folgenden gespeicherten Systemprozeduren kann ein Administrator Warnungsschwellenwerte für die gespiegelten Datenbanken jeweils für einen Partner festlegen.</span><span class="sxs-lookup"><span data-stu-id="55931-153">The following set of system stored procedures enable an administrator to set up and manage warning thresholds on mirrored databases of one partner at a time.</span></span>  
  
    |<span data-ttu-id="55931-154">Verfahren</span><span class="sxs-lookup"><span data-stu-id="55931-154">Procedure</span></span>|<span data-ttu-id="55931-155">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="55931-155">Description</span></span>|  
    |---------------|-----------------|  
    |[<span data-ttu-id="55931-156">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-156">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql)|<span data-ttu-id="55931-157">Mit dieser Prozedur können Warnungsschwellenwerte für eine bestimmte Spiegelungsleistungsmetrik hinzugefügt oder geändert werden.</span><span class="sxs-lookup"><span data-stu-id="55931-157">Adds or changes warning threshold for a specified mirroring performance metric.</span></span>|  
    |[<span data-ttu-id="55931-158">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-158">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpalert-transact-sql)|<span data-ttu-id="55931-159">Gibt Informationen zu Warnungsschwellenwerten zurück, die für eine oder mehrere der Schlüsselleistungsmetriken für die Überwachung der Datenbankspiegelung festgelegt wurden.</span><span class="sxs-lookup"><span data-stu-id="55931-159">Returns information about warning thresholds on one or all of several key database mirroring monitor performance metrics.</span></span>|  
    |[<span data-ttu-id="55931-160">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-160">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropalert-transact-sql)|<span data-ttu-id="55931-161">Entfernt die Warnung für eine angegebene Leistungsmetrik.</span><span class="sxs-lookup"><span data-stu-id="55931-161">Drops the warning for a specified performance metric.</span></span>|  
  
## <a name="performance-threshold-events-sent-to-the-windows-event-log"></a><span data-ttu-id="55931-162">Leistungsschwellenwert-Ereignisse, die an das Windows-Ereignisprotokoll gesendet werden</span><span class="sxs-lookup"><span data-stu-id="55931-162">Performance-Threshold Events Sent to the Windows Event Log</span></span>  
 <span data-ttu-id="55931-163">Wenn für eine Leistungsmetrik ein Warnungsschwellenwert definiert wurde, wird beim Aktualisieren der Statustabelle der neueste Wert im Vergleich zum Schwellenwert ausgewertet.</span><span class="sxs-lookup"><span data-stu-id="55931-163">If warning thresholdis defined for a performance metric, when the status table is updated, the latest value is evaluated against the threshold.</span></span> <span data-ttu-id="55931-164">Wenn der Schwellenwert erreicht wurde, generiert die Aktualisierungs Prozedur ( **sp_dbmmonitorupdate**) ein Informations Ereignis (ein *Leistungs Schwellenwert Ereignis*) für die Metrik und schreibt das Ereignis in das [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows-Ereignisprotokoll.</span><span class="sxs-lookup"><span data-stu-id="55931-164">If the threshold has been reached, the update procedure, **sp_dbmmonitorupdate**, generates an informational event-a *performance-threshold event*- for the metric and writes the event to the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows event log.</span></span> <span data-ttu-id="55931-165">In der folgenden Tabelle werden die Ereignis-IDs der Leistungsschwellenwert-Ereignisse aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="55931-165">The following table lists the event IDs of the performance-threshold events.</span></span>  
  
|<span data-ttu-id="55931-166">Leistungsmetrik</span><span class="sxs-lookup"><span data-stu-id="55931-166">Performance metric</span></span>|<span data-ttu-id="55931-167">Ereignis-ID</span><span class="sxs-lookup"><span data-stu-id="55931-167">Event ID</span></span>|  
|------------------------|--------------|  
|<span data-ttu-id="55931-168">Nicht gesendetes Protokoll</span><span class="sxs-lookup"><span data-stu-id="55931-168">Unsent log</span></span>|<span data-ttu-id="55931-169">32042</span><span class="sxs-lookup"><span data-stu-id="55931-169">32042</span></span>|  
|<span data-ttu-id="55931-170">Nicht wiederhergestelltes Protokoll</span><span class="sxs-lookup"><span data-stu-id="55931-170">Unrestored log</span></span>|<span data-ttu-id="55931-171">32043</span><span class="sxs-lookup"><span data-stu-id="55931-171">32043</span></span>|  
|<span data-ttu-id="55931-172">Älteste, nicht gesendete Transaktion</span><span class="sxs-lookup"><span data-stu-id="55931-172">Oldest unsent transaction</span></span>|<span data-ttu-id="55931-173">32040</span><span class="sxs-lookup"><span data-stu-id="55931-173">32040</span></span>|  
|<span data-ttu-id="55931-174">Spiegelungscommitaufwand</span><span class="sxs-lookup"><span data-stu-id="55931-174">Mirror commit overhead</span></span>|<span data-ttu-id="55931-175">32044</span><span class="sxs-lookup"><span data-stu-id="55931-175">32044</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="55931-176">Ein Administrator kann Warnmeldungen für jedes dieser Ereignisse definieren.</span><span class="sxs-lookup"><span data-stu-id="55931-176">An administrator can define alerts on any one or more of these events.</span></span> <span data-ttu-id="55931-177">Weitere Informationen hierzu finden Sie unter [Verwenden von Warnmeldungen für eine gespiegelte Datenbank](#UseAlerts)weiter unten in diesem</span><span class="sxs-lookup"><span data-stu-id="55931-177">For more information, see [Using Alerts for a Mirrored Database](#UseAlerts), later in this</span></span>  
>   
>  <span data-ttu-id="55931-178">Thema.</span><span class="sxs-lookup"><span data-stu-id="55931-178">topic.</span></span>  
  
##  <a name="using-alerts-for-a-mirrored-database"></a><a name="UseAlerts"></a><span data-ttu-id="55931-179">Verwenden von Warnungen für eine gespiegelte Datenbank</span><span class="sxs-lookup"><span data-stu-id="55931-179">Using Alerts for a Mirrored Database</span></span>  
 <span data-ttu-id="55931-180">Eine wichtige Komponente der Überwachung einer gespiegelten Datenbank ist das Konfigurieren von Warnmeldungen für bedeutsame bei der Datenbankspiegelung auftretende Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="55931-180">An important part of monitoring a mirrored database is configuring alerts on significant database mirro events.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="55931-181">generiert die folgenden Typen von Datenbank-Spiegelungsereignissen:</span><span class="sxs-lookup"><span data-stu-id="55931-181">generates the following types of database mirroring events:</span></span>  
  
-   <span data-ttu-id="55931-182">Leistungsschwellenwert-Ereignisse</span><span class="sxs-lookup"><span data-stu-id="55931-182">Performance threshold events</span></span>  
  
     <span data-ttu-id="55931-183">Weitere Informationen finden Sie unter "Leistungsschwellenwert-Ereignisse, die an das Windows-Ereignisprotokoll gesendet werden" weiter oben in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="55931-183">For more information, see "Performance-Threshold Events Sent to the Windows Event Log" earlier in this topic.</span></span>  
  
-   <span data-ttu-id="55931-184">Statusänderungereignisse</span><span class="sxs-lookup"><span data-stu-id="55931-184">State-change events</span></span>  
  
     <span data-ttu-id="55931-185">Hierbei handelt es sich um Ereignisse der Windows-Verwaltungsinstrumentation (Windows Management Instrumentation, WMI), die generiert werden, wenn im internen Status einer Datenbank-Spiegelungssitzung Änderungen auftreten.</span><span class="sxs-lookup"><span data-stu-id="55931-185">These are Windows Management Instrumentation (WMI) events that are generated when changes occur in the internal state of a database mirroring session.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="55931-186">Weitere Informationen finden Sie unter [Konzepte des WMI-Anbieters für Serverereignisse](../../relational-databases/wmi-provider-server-events/wmi-provider-for-server-events-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="55931-186">For more information, see [WMI Provider for Server Events Concepts](../../relational-databases/wmi-provider-server-events/wmi-provider-for-server-events-concepts.md).</span></span>  
  
 <span data-ttu-id="55931-187">Ein Systemadministrator kann für diese Ereignisse mithilfe des [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Agents oder anderen Anwendungen, z. B. [!INCLUDE[msCoName](../../includes/msconame-md.md)] Operations Manager, Warnmeldungen konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="55931-187">A system administrator can configure alerts on these by using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent or other applications, such as [!INCLUDE[msCoName](../../includes/msconame-md.md)] Operations Manager.</span></span>  
  
 <span data-ttu-id="55931-188">Wenn Sie Warnmeldungen für Datenbank-Spiegelungsereignisse definieren, sollten Sie auf beiden Partnerserverinstanzen Warnungsschwellenwerte und Warnmeldungen definieren.</span><span class="sxs-lookup"><span data-stu-id="55931-188">When you define alerts on database mirroring events, we recommend that you define warning thresholds and alerts at both partner server instances.</span></span> <span data-ttu-id="55931-189">Die einzelnen Ereignisse werden jeweils nur auf dem Prinzipalserver oder auf dem Spiegelserver generiert, aber jeder Partner kann dadurch zu jedem Zeitpunkt die Rolle des anderen Partners übernehmen.</span><span class="sxs-lookup"><span data-stu-id="55931-189">Individual events are generated at either the principal server or the mirror server, but each partner can perform either role at any time.</span></span> <span data-ttu-id="55931-190">Soll sichergestellt sein, dass eine Warnmeldung auch nach einem Failover noch funktionsfähig ist, muss die Warnmeldung auf beiden Partnern definiert werden.</span><span class="sxs-lookup"><span data-stu-id="55931-190">To make sure that an alert continues to operate after a failover, the alert must be defined at both partners.</span></span>  
  
 <span data-ttu-id="55931-191">Weitere Informationen finden Sie im Whitepaper über das Ausgeben von Warnmeldungen bei Datenbank-Spiegelungsereignissen auf dieser [SQL Server-Website](../../database-engine/database-mirroring/use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="55931-191">For more information, see the white paper about alerting on database mirroring events at this [SQL Server Web site](../../database-engine/database-mirroring/use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span></span> <span data-ttu-id="55931-192">Dieses Whitepaper enthält Informationen zum Konfigurieren von Warnmeldungen mithilfe des [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Agents, zu WMI-Ereignissen für die Datenbankspiegelung sowie Beispielskripts.</span><span class="sxs-lookup"><span data-stu-id="55931-192">This white paper contains information about how to configure alerts using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent, the database mirroring WMI events, and sample scripts.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="55931-193">Für alle Spiegelungssitzungen wird dringend empfohlen, die Datenbank so zu konfigurieren, dass bei jedem Statusänderungsereignis eine Warnmeldung gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="55931-193">For all mirroring sessions, we strongly recommend that you configure the database to send an alert on any state-change events.</span></span> <span data-ttu-id="55931-194">Sofern eine Statusänderung nicht als Ergebnis einer manuellen Konfigurationsänderung erwartet wird, muss davon ausgegangen werden, dass ein Ereignis aufgetreten ist, das Ihre Daten gefährden kann.</span><span class="sxs-lookup"><span data-stu-id="55931-194">Unless a state change is expected as the result of a manual configuration change, something has occurred that could compromise your data.</span></span> <span data-ttu-id="55931-195">Um den Schutz der Daten sicherzustellen, müssen Sie die Ursache einer unerwarteten Statusänderung herausfinden und beheben.</span><span class="sxs-lookup"><span data-stu-id="55931-195">To help protect your data, identify and fix the cause of an unexpected state change.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="55931-196">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="55931-196">Related Tasks</span></span>  
 <span data-ttu-id="55931-197">**So erstellen Sie eine Warnung mit SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="55931-197">**To create an alert using SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="55931-198">Create an Alert Using an Error Number</span><span class="sxs-lookup"><span data-stu-id="55931-198">Create an Alert Using an Error Number</span></span>](../../ssms/agent/create-an-alert-using-an-error-number.md)  
  
-   [<span data-ttu-id="55931-199">Erstellen einer WMI-Ereigniswarnung</span><span class="sxs-lookup"><span data-stu-id="55931-199">Create a WMI Event Alert</span></span>](../../ssms/agent/create-a-wmi-event-alert.md)  
  
 <span data-ttu-id="55931-200">**So überwachen Sie die Datenbankspiegelung**</span><span class="sxs-lookup"><span data-stu-id="55931-200">**To monitor database mirroring**</span></span>  
  
-   [<span data-ttu-id="55931-201">Starten des Datenbankspiegelungs-Monitors &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-201">Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="55931-202">sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-202">sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql)  
  
-   [<span data-ttu-id="55931-203">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-203">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql)  
  
-   [<span data-ttu-id="55931-204">sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-204">sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql)  
  
-   [<span data-ttu-id="55931-205">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-205">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropalert-transact-sql)  
  
-   [<span data-ttu-id="55931-206">sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-206">sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql)  
  
-   [<span data-ttu-id="55931-207">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-207">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpalert-transact-sql)  
  
-   [<span data-ttu-id="55931-208">sp_dbmmonitorhelpmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-208">sp_dbmmonitorhelpmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpmonitoring-transact-sql)  
  
-   [<span data-ttu-id="55931-209">sp_dbmmonitorresults &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-209">sp_dbmmonitorresults &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql)  
  
-   [<span data-ttu-id="55931-210">sp_dbmmonitorupdate &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-210">sp_dbmmonitorupdate &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorupdate-transact-sql)  
  
## <a name="see-also"></a><span data-ttu-id="55931-211">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="55931-211">See Also</span></span>  
 <span data-ttu-id="55931-212">[Datenbankspiegelung &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="55931-212">[Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span></span>  
 [<span data-ttu-id="55931-213">Überwachen der Datenbankspiegelung &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="55931-213">Monitoring Database Mirroring &#40;SQL Server&#41;</span></span>](monitoring-database-mirroring-sql-server.md)  
  
  
