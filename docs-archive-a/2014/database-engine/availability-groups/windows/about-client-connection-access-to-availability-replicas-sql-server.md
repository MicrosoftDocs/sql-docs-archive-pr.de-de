---
title: Informationen zum Clientverbindungszugriff auf Verfügbarkeitsreplikate (SQL Server) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], availability replicas
- Availability Groups [SQL Server], readable secondary replicas
- active secondary replicas [SQL Server], read-only access to
- Availability Groups [SQL Server], configuring
- Availability Groups [SQL Server], client connectivity
- Availability Groups [SQL Server], active secondary replicas
ms.assetid: 29027e46-43e4-4b45-b650-c4cdeacdf552
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 79e61f29957d90a429d8a0c66782ca7cf2e7bd4c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87701948"
---
# <a name="about-client-connection-access-to-availability-replicas-sql-server"></a><span data-ttu-id="9f53e-102">Informationen zum Clientverbindungszugriff auf Verfügbarkeitsreplikate (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="9f53e-102">About Client Connection Access to Availability Replicas (SQL Server)</span></span>
  <span data-ttu-id="9f53e-103">In einer AlwaysOn-Verfügbarkeitsgruppe können Sie mindestens ein Verfügbarkeitsreplikat konfigurieren, um schreibgeschützte Verbindungen zuzulassen, wenn es unter der sekundären Rolle ausgeführt wird (d. h. bei Ausführung als sekundäres Replikat).</span><span class="sxs-lookup"><span data-stu-id="9f53e-103">In an AlwaysOn availability group, you can configure one or more availability replicas to allow read-only connections when running under the secondary role (that is, when running as a secondary replica).</span></span> <span data-ttu-id="9f53e-104">Sie können auch jedes Verfügbarkeitsreplikat konfigurieren, um schreibgeschützte Verbindungen bei der Ausführung unter der primären Rolle zuzulassen oder auszuschließen (d. h. bei Ausführung als das primäre Replikat).</span><span class="sxs-lookup"><span data-stu-id="9f53e-104">You can also configure each availability replica to allow or exclude read-only connections when running under the primary role (that is, when running as the primary replica).</span></span>  
  
 <span data-ttu-id="9f53e-105">Um den Clientzugriff auf primäre oder sekundäre Datenbanken einer bestimmten Verfügbarkeitsgruppe zu erleichtern, sollten Sie einen Verfügbarkeitsgruppenlistener erstellen.</span><span class="sxs-lookup"><span data-stu-id="9f53e-105">To facilitate client access to primary or secondary databases of a given availability group, you should define an availability group listener.</span></span> <span data-ttu-id="9f53e-106">Standardmäßig werden eingehende Verbindungen vom Verfügbarkeitsgruppenlistener an das primäre Replikat weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="9f53e-106">By default, the availability group listener directs incoming connections to the primary replica.</span></span> <span data-ttu-id="9f53e-107">Sie können jedoch eine Verfügbarkeitsgruppe konfigurieren, um schreibgeschütztes Routing zu unterstützen, das seinem Verfügbarkeitsgruppenlistener ermöglicht, die Verbindungsanforderungen von Anwendungen für beabsichtigte Lesevorgänge an ein lesbares, sekundäres Replikat umzuleiten.</span><span class="sxs-lookup"><span data-stu-id="9f53e-107">However, you can configure an availability group to support read-only routing, which enables its availability group listener to redirect the connection requests of read-intent applications to a readable secondary replica.</span></span> <span data-ttu-id="9f53e-108">Weitere Informationen finden Sie unter [Konfigurieren des schreibgeschützten Routing für eine Verfügbarkeitsgruppe &#40;SQL Server&#41;](configure-read-only-routing-for-an-availability-group-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="9f53e-108">For more information, see [Configure Read-Only Routing for an Availability Group &#40;SQL Server&#41;](configure-read-only-routing-for-an-availability-group-sql-server.md).</span></span>  
  
 <span data-ttu-id="9f53e-109">Während eines Failovers geht ein sekundäres Zielreplikat in die primäre Rolle über, und das frühere primäre Replikat geht in die sekundäre Rolle über.</span><span class="sxs-lookup"><span data-stu-id="9f53e-109">During a failover, a secondary replica transitions to the primary role and the former primary replica transitions to the secondary role.</span></span> <span data-ttu-id="9f53e-110">Während des Failoverprozesses werden alle Clientverbindungen zum primären Replikat und zu den sekundären Replikaten beendet.</span><span class="sxs-lookup"><span data-stu-id="9f53e-110">During the failover process, all client connections to both the primary replica and secondary replicas are terminated.</span></span> <span data-ttu-id="9f53e-111">Nach dem Failover, wenn ein Client die Verbindung mit dem Verfügbarkeitsgruppenlistener wiederherstellt, verbindet der Listener den Client erneut mit dem neuen primären Replikat, sofern es sich dabei nicht um eine Verbindungsanforderung für beabsichtigte Lesevorgänge handelt.</span><span class="sxs-lookup"><span data-stu-id="9f53e-111">After the failover, when a client reconnects to the availability group listener, the listener reconnects the client to the new primary replica, except for a read-intent connect request.</span></span> <span data-ttu-id="9f53e-112">Wenn schreibgeschütztes Routing auf dem Client und den Serverinstanzen konfiguriert wird, die das neue primäre Replikat hosten, und auf mindestens einem lesbaren sekundären Replikat, werden die Verbindungsanforderungen für beabsichtigte Lesevorgänge an ein sekundäres Replikat weitergeleitet, das den angeforderten Verbindungszugriffstyp des Clients unterstützt.</span><span class="sxs-lookup"><span data-stu-id="9f53e-112">If read-only routing is configured on the client and on the server instances that hosts the new primary replica and on at least one readable secondary replica, read-intent connection requests are re-routed to a secondary replica that supports the type of connection access that the client requires.</span></span> <span data-ttu-id="9f53e-113">Um nach einem Failover ordnungsgemäße Clientfunktionen sicherzustellen, ist es wichtig, den Verbindungszugriff für sekundäre und primäre Rollen jedes Verfügbarkeitsreplikats zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="9f53e-113">To ensure a graceful client experience after a failover, it is important to configure connection access for both the secondary and primary roles of every availability replica.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9f53e-114">Weitere Informationen über den Verfügbarkeitsgruppenlistener, der Verbindungsanforderungen von Clients verarbeitet, finden Sie unter [Verfügbarkeitsgruppenlistener, Clientkonnektivität und Anwendungsfailover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span><span class="sxs-lookup"><span data-stu-id="9f53e-114">For information about the availability group listener, which handles client connection requests, see [Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span></span>  
  
 <span data-ttu-id="9f53e-115">**In diesem Thema:**</span><span class="sxs-lookup"><span data-stu-id="9f53e-115">**In This Topic:**</span></span>  
  
-   [<span data-ttu-id="9f53e-116">Von der sekundären Rolle unterstützte Verbindungs Zugriffs Typen</span><span class="sxs-lookup"><span data-stu-id="9f53e-116">Types of Connection Access Supported by the Secondary Role</span></span>](#ConnectAccessForSecondary)  
  
-   [<span data-ttu-id="9f53e-117">Von der primären Rolle unterstützte Verbindungs Zugriffs Typen</span><span class="sxs-lookup"><span data-stu-id="9f53e-117">Types of Connection Access Supported by the Primary Role</span></span>](#ConnectAccessForPrimary)  
  
-   [<span data-ttu-id="9f53e-118">Auswirkungen der Verbindungs Zugriffs Konfiguration auf die Client Konnektivität</span><span class="sxs-lookup"><span data-stu-id="9f53e-118">How the Connection Access Configuration Affects Client Connectivity</span></span>](#HowConnectionAccessAffectsConnectivity)  
  
-   [<span data-ttu-id="9f53e-119">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="9f53e-119">Related Tasks</span></span>](#RelatedTasks)  
  
-   [<span data-ttu-id="9f53e-120">Verwandte Inhalte</span><span class="sxs-lookup"><span data-stu-id="9f53e-120">Related Content</span></span>](#RelatedContent)  
  
##  <a name="types-of-connection-access-supported-by-the-secondary-role"></a><a name="ConnectAccessForSecondary"></a> <span data-ttu-id="9f53e-121">Von der sekundären Rolle unterstützte Verbindungszugriffstypen</span><span class="sxs-lookup"><span data-stu-id="9f53e-121">Types of Connection Access Supported by the Secondary Role</span></span>  
 <span data-ttu-id="9f53e-122">Die sekundäre Rolle unterstützt die folgenden drei Alternativen für Clientverbindungen:</span><span class="sxs-lookup"><span data-stu-id="9f53e-122">The secondary role supports three alternatives for client connections, as follows:</span></span>  
  
 <span data-ttu-id="9f53e-123">Keine Verbindungen</span><span class="sxs-lookup"><span data-stu-id="9f53e-123">No connections</span></span>  
 <span data-ttu-id="9f53e-124">Es werden keine Benutzerverbindungen zugelassen.</span><span class="sxs-lookup"><span data-stu-id="9f53e-124">No user connections are allowed.</span></span> <span data-ttu-id="9f53e-125">Sekundäre Datenbanken sind nicht für Lesezugriff verfügbar.</span><span class="sxs-lookup"><span data-stu-id="9f53e-125">Secondary databases are not available for read access.</span></span> <span data-ttu-id="9f53e-126">Dies ist das Standardverhalten in der sekundären Rolle.</span><span class="sxs-lookup"><span data-stu-id="9f53e-126">This is the default behavior in the secondary role.</span></span>  
  
 <span data-ttu-id="9f53e-127">Nur Verbindungen für beabsichtigte Lesevorgänge</span><span class="sxs-lookup"><span data-stu-id="9f53e-127">Only read-intent connections</span></span>  
 <span data-ttu-id="9f53e-128">Die sekundären Datenbanken sind nur für Verbindungen verfügbar, für die die- `Application Intent` Verbindungs Eigenschaft auf festgelegt ist `ReadOnly` (Verbindungen für beabsichtigte*Lese*Vorgänge).</span><span class="sxs-lookup"><span data-stu-id="9f53e-128">The secondary database(s) are available only for connection for which the `Application Intent` connection property is set to `ReadOnly` (*read-intent connections*).</span></span>  
  
 <span data-ttu-id="9f53e-129">Weitere Informationen zu dieser Verbindungseigenschaft finden Sie unter [SQL Server Native Client-Unterstützung für hohe Verfügbarkeit, Wiederherstellung im Notfall](../../../relational-databases/native-client/features/sql-server-native-client-support-for-high-availability-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="9f53e-129">For information about this connection property, see [SQL Server Native Client Support for High Availability, Disaster Recovery](../../../relational-databases/native-client/features/sql-server-native-client-support-for-high-availability-disaster-recovery.md).</span></span>  
  
 <span data-ttu-id="9f53e-130">Alle schreibgeschützten Verbindungen zulassen</span><span class="sxs-lookup"><span data-stu-id="9f53e-130">Allow any read-only connection</span></span>  
 <span data-ttu-id="9f53e-131">Die sekundären Datenbanken sind alle für Lesezugriffsverbindungen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="9f53e-131">The secondary database(s) are all available for read access connections.</span></span> <span data-ttu-id="9f53e-132">Diese Option ermöglicht es Clients mit älteren Versionen, eine Verbindung herzustellen.</span><span class="sxs-lookup"><span data-stu-id="9f53e-132">This option allows lower versioned clients to connect.</span></span>  
  
 <span data-ttu-id="9f53e-133">Weitere Informationen finden Sie unter [Konfigurieren des schreibgeschützten Zugriffs auf ein Verfügbarkeitsreplikat &#40;SQL Server&#41;](configure-read-only-access-on-an-availability-replica-sql-server.md)besitzen.</span><span class="sxs-lookup"><span data-stu-id="9f53e-133">For more information, see [Configure Read-Only Access on an Availability Replica &#40;SQL Server&#41;](configure-read-only-access-on-an-availability-replica-sql-server.md).</span></span>  
  
##  <a name="types-of-connection-access-supported-by-the-primary-role"></a><a name="ConnectAccessForPrimary"></a> <span data-ttu-id="9f53e-134">Von der primären Rolle unterstützte Verbindungszugriffstypen</span><span class="sxs-lookup"><span data-stu-id="9f53e-134">Types of Connection Access Supported by the Primary Role</span></span>  
 <span data-ttu-id="9f53e-135">Die primäre Rolle unterstützt die folgenden zwei Alternativen für Clientverbindungen:</span><span class="sxs-lookup"><span data-stu-id="9f53e-135">The primary role supports two alternatives for client connections, as follows:</span></span>  
  
 <span data-ttu-id="9f53e-136">Alle Verbindungen sind zugelassen</span><span class="sxs-lookup"><span data-stu-id="9f53e-136">All connections are allowed</span></span>  
 <span data-ttu-id="9f53e-137">Sowohl Verbindungen mit Lese-/Schreibzugriff als auch schreibgeschützte Verbindungen sind für primäre Datenbanken zugelassen.</span><span class="sxs-lookup"><span data-stu-id="9f53e-137">Both read-write and read-only connections are allowed to primary databases.</span></span> <span data-ttu-id="9f53e-138">Dies ist das Standardverhalten für die primäre Rolle.</span><span class="sxs-lookup"><span data-stu-id="9f53e-138">This is the default behavior for the primary role.</span></span>  
  
 <span data-ttu-id="9f53e-139">Nur Verbindungen mit Lese-/Schreibzugriff zulassen</span><span class="sxs-lookup"><span data-stu-id="9f53e-139">Allow only read-write connections</span></span>  
 <span data-ttu-id="9f53e-140">Wenn die `Application Intent` Verbindungs Eigenschaft auf "read **Write** " festgelegt oder nicht festgelegt ist, wird die Verbindung zugelassen.</span><span class="sxs-lookup"><span data-stu-id="9f53e-140">When the `Application Intent` connection property is set to **ReadWrite** or is not set, the connection is allowed.</span></span> <span data-ttu-id="9f53e-141">Verbindungen, für die das `Application Intent` Schlüsselwort für die Verbindungs Zeichenfolge festgelegt ist, `ReadOnly` sind unzulässig.</span><span class="sxs-lookup"><span data-stu-id="9f53e-141">Connections for which the `Application Intent` connection string keyword is set to `ReadOnly` are not allowed.</span></span> <span data-ttu-id="9f53e-142">Durch das Zulassen nur von Verbindungen mit Lese-/Schreibzugriff kann verhindert werden, dass die Kunden mit dem primären Replikat versehentlich eine leseintensive Arbeitsauslastung verbinden.</span><span class="sxs-lookup"><span data-stu-id="9f53e-142">Allowing only read-write connections can help prevent your customers from connecting a read-intent work load to the primary replica by mistake.</span></span>  
  
 <span data-ttu-id="9f53e-143">Weitere Informationen zu dieser Verbindungseigenschaft finden Sie unter [Using Connection String Keywords with SQL Server Native Client](../../../relational-databases/native-client/applications/using-connection-string-keywords-with-sql-server-native-client.md).</span><span class="sxs-lookup"><span data-stu-id="9f53e-143">For information about this connection property, see [Using Connection String Keywords with SQL Server Native Client](../../../relational-databases/native-client/applications/using-connection-string-keywords-with-sql-server-native-client.md).</span></span>  
  
 <span data-ttu-id="9f53e-144">Weitere Informationen finden Sie unter [Konfigurieren des schreibgeschützten Zugriffs auf ein Verfügbarkeitsreplikat &#40;SQL Server&#41;](configure-read-only-access-on-an-availability-replica-sql-server.md)besitzen.</span><span class="sxs-lookup"><span data-stu-id="9f53e-144">For more information, see [Configure Read-Only Access on an Availability Replica &#40;SQL Server&#41;](configure-read-only-access-on-an-availability-replica-sql-server.md).</span></span>  
  
##  <a name="how-the-connection-access-configuration-affects-client-connectivity"></a><a name="HowConnectionAccessAffectsConnectivity"></a> <span data-ttu-id="9f53e-145">Auswirkungen der Verbindungszugriffskonfiguration auf die Clientkonnektivität</span><span class="sxs-lookup"><span data-stu-id="9f53e-145">How the Connection Access Configuration Affects Client Connectivity</span></span>  
 <span data-ttu-id="9f53e-146">Die Verbindungszugriffseinstellungen eines Replikats bestimmen, ob ein Verbindungsversuch fehlschlägt oder erfolgreich ist.</span><span class="sxs-lookup"><span data-stu-id="9f53e-146">The connection access settings of a replica determine whether a connection attempt fails or succeeds.</span></span> <span data-ttu-id="9f53e-147">In der folgenden Tabelle wird für jede Verbindungszugriffseinstellung zusammengefasst, ob ein bestimmter Verbindungsversuch erfolgreich ist oder fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="9f53e-147">The following table summarizes whether a given connection attempt succeeds or fails for each the connection-access setting.</span></span>  
  
|<span data-ttu-id="9f53e-148">Replikatrolle</span><span class="sxs-lookup"><span data-stu-id="9f53e-148">Replica Role</span></span>|<span data-ttu-id="9f53e-149">Auf Replikat unterstützter Verbindungszugriff</span><span class="sxs-lookup"><span data-stu-id="9f53e-149">Connection Access Supported on Replica</span></span>|<span data-ttu-id="9f53e-150">Verbindungsabsicht</span><span class="sxs-lookup"><span data-stu-id="9f53e-150">Connection Intent</span></span>|<span data-ttu-id="9f53e-151">Ergebnis des Verbindungsversuchs</span><span class="sxs-lookup"><span data-stu-id="9f53e-151">Connection-Attempt Result</span></span>|  
|------------------|--------------------------------------------|-----------------------|--------------------------------|  
|<span data-ttu-id="9f53e-152">Secondary</span><span class="sxs-lookup"><span data-stu-id="9f53e-152">Secondary</span></span>|<span data-ttu-id="9f53e-153">All</span><span class="sxs-lookup"><span data-stu-id="9f53e-153">All</span></span>|<span data-ttu-id="9f53e-154">Beabsichtigte Lesevorgänge, Lese-/Schreibzugriff oder keine Verbindungsabsicht angegeben</span><span class="sxs-lookup"><span data-stu-id="9f53e-154">Read-intent, read-write, or no connection intent specified</span></span>|<span data-ttu-id="9f53e-155">Erfolg</span><span class="sxs-lookup"><span data-stu-id="9f53e-155">Success</span></span>|  
|<span data-ttu-id="9f53e-156">Secondary</span><span class="sxs-lookup"><span data-stu-id="9f53e-156">Secondary</span></span>|<span data-ttu-id="9f53e-157">Keine (dies ist der sekundäre Standardverhalten)</span><span class="sxs-lookup"><span data-stu-id="9f53e-157">None (This is the default secondary behavior.)</span></span>|<span data-ttu-id="9f53e-158">Beabsichtigte Lesevorgänge, Lese-/Schreibzugriff oder keine Verbindungsabsicht angegeben</span><span class="sxs-lookup"><span data-stu-id="9f53e-158">Read-intent, read-write, or no connection intent specified</span></span>|<span data-ttu-id="9f53e-159">Fehler</span><span class="sxs-lookup"><span data-stu-id="9f53e-159">Failure</span></span>|  
|<span data-ttu-id="9f53e-160">Secondary</span><span class="sxs-lookup"><span data-stu-id="9f53e-160">Secondary</span></span>|<span data-ttu-id="9f53e-161">Nur beabsichtigte Lesevorgänge</span><span class="sxs-lookup"><span data-stu-id="9f53e-161">Read-intent only</span></span>|<span data-ttu-id="9f53e-162">Beabsichtigte Lesevorgänge</span><span class="sxs-lookup"><span data-stu-id="9f53e-162">Read-intent</span></span>|<span data-ttu-id="9f53e-163">Erfolg</span><span class="sxs-lookup"><span data-stu-id="9f53e-163">Success</span></span>|  
|<span data-ttu-id="9f53e-164">Secondary</span><span class="sxs-lookup"><span data-stu-id="9f53e-164">Secondary</span></span>|<span data-ttu-id="9f53e-165">Nur beabsichtigte Lesevorgänge</span><span class="sxs-lookup"><span data-stu-id="9f53e-165">Read-intent only</span></span>|<span data-ttu-id="9f53e-166">Lese-/Schreibzugriff oder keine Verbindungsabsicht angegeben</span><span class="sxs-lookup"><span data-stu-id="9f53e-166">Read-write or no connection intent specified</span></span>|<span data-ttu-id="9f53e-167">Fehler</span><span class="sxs-lookup"><span data-stu-id="9f53e-167">Failure</span></span>|  
|<span data-ttu-id="9f53e-168">Primär</span><span class="sxs-lookup"><span data-stu-id="9f53e-168">Primary</span></span>|<span data-ttu-id="9f53e-169">Alle (dies ist das primäre Standardverhalten)</span><span class="sxs-lookup"><span data-stu-id="9f53e-169">All (This is the default primary behavior.)</span></span>|<span data-ttu-id="9f53e-170">Schreibgeschützt, Lese-/Schreibzugriff oder keine Verbindungsabsicht angegeben</span><span class="sxs-lookup"><span data-stu-id="9f53e-170">Read-only, read-write, or no connection intent specified</span></span>|<span data-ttu-id="9f53e-171">Erfolg</span><span class="sxs-lookup"><span data-stu-id="9f53e-171">Success</span></span>|  
|<span data-ttu-id="9f53e-172">Primär</span><span class="sxs-lookup"><span data-stu-id="9f53e-172">Primary</span></span>|<span data-ttu-id="9f53e-173">Lese-/Schreibzugriff</span><span class="sxs-lookup"><span data-stu-id="9f53e-173">Read-write</span></span>|<span data-ttu-id="9f53e-174">Nur beabsichtigte Lesevorgänge</span><span class="sxs-lookup"><span data-stu-id="9f53e-174">Read-intent only</span></span>|<span data-ttu-id="9f53e-175">Fehler</span><span class="sxs-lookup"><span data-stu-id="9f53e-175">Failure</span></span>|  
|<span data-ttu-id="9f53e-176">Primär</span><span class="sxs-lookup"><span data-stu-id="9f53e-176">Primary</span></span>|<span data-ttu-id="9f53e-177">Lese-/Schreibzugriff</span><span class="sxs-lookup"><span data-stu-id="9f53e-177">Read-write</span></span>|<span data-ttu-id="9f53e-178">Lese-/Schreibzugriff oder keine Verbindungsabsicht angegeben</span><span class="sxs-lookup"><span data-stu-id="9f53e-178">Read-write or no connection intent specified</span></span>|<span data-ttu-id="9f53e-179">Erfolg</span><span class="sxs-lookup"><span data-stu-id="9f53e-179">Success</span></span>|  
  
 <span data-ttu-id="9f53e-180">Informationen darüber, wie Sie die Verfügbarkeitsgruppe konfigurieren müssen, damit diese Clientverbindungen zu ihren Replikaten akzeptiert, finden Sie unter [Verfügbarkeitsgruppenlistener, Clientkonnektivität und Anwendungsfailover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span><span class="sxs-lookup"><span data-stu-id="9f53e-180">For information about configuring an availability group to accept client connections to its replicas, see [Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span></span>  
  
### <a name="example-connection-access-configuration"></a><span data-ttu-id="9f53e-181">Beispiel für Verbindungszugriffskonfiguration</span><span class="sxs-lookup"><span data-stu-id="9f53e-181">Example Connection-Access Configuration</span></span>  
 <span data-ttu-id="9f53e-182">Abhängig von der unterschiedlichen Konfiguration von Verfügbarkeitsreplikaten für den Verbindungszugriff kann sich die Unterstützung für Clientverbindungen nach dem Failover einer Verfügbarkeitsgruppe ändern.</span><span class="sxs-lookup"><span data-stu-id="9f53e-182">Depending on how different availability replicas are configured for connection access, support for client connections might change after an availability group fails over.</span></span> <span data-ttu-id="9f53e-183">Betrachten Sie z. B. eine Verfügbarkeitsgruppe, für die die Berichterstellung auf sekundären Remotereplikaten mit asynchronem Commit ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="9f53e-183">For example, consider an availability group for which reporting is performed on remote asynchronous-commit secondary replicas.</span></span> <span data-ttu-id="9f53e-184">Für alle schreibgeschützten Anwendungen für die Datenbanken in dieser Verfügbarkeitsgruppe ist die `Application Intent`-Verbindungseigenschaft auf `ReadOnly` festgelegt, damit alle schreibgeschützten Verbindungen Verbindungen für beabsichtigte Lesevorgänge sind.</span><span class="sxs-lookup"><span data-stu-id="9f53e-184">All of the read-only applications for the databases in this availability group set their `Application Intent` connection property to `ReadOnly`, so that all read-only connections are read-intent connections.</span></span>  
  
 <span data-ttu-id="9f53e-185">Diese Beispielverfügbarkeitsgruppe besitzt zwei Replikate mit synchronem Commit im Hauptrechencenter und zwei Replikate mit asynchronem Commit an einem Satellitenstandort.</span><span class="sxs-lookup"><span data-stu-id="9f53e-185">This example availability group possesses two synchronous-commit replicas at the main computing center and two asynchronous-commit replicas at a satellite site.</span></span> <span data-ttu-id="9f53e-186">Für die primäre Rolle sind alle Replikate für Lese-/Schreibzugriff konfiguriert, wodurch Verbindungen für beabsichtigte Lesevorgänge zum primären Replikat in allen Situationen verhindert werden.</span><span class="sxs-lookup"><span data-stu-id="9f53e-186">For the primary role, all the replicas are configured for read-write access, which prevents read-intent connections to the primary replica in all situations.</span></span> <span data-ttu-id="9f53e-187">Die sekundäre Rolle mit synchronem Commit verwendet die Standard-Verbindungszugriffskonfiguration ("keine"), die alle Clientverbindungen unter der sekundären Rolle verhindert.</span><span class="sxs-lookup"><span data-stu-id="9f53e-187">The synchronous commit secondary role uses the default connection-access configuration ("none"), which prevents all client connections under the secondary role.</span></span>  <span data-ttu-id="9f53e-188">Im Gegensatz dazu werden die Replikate mit asynchronem Commit konfiguriert, um Verbindungen für beabsichtigte Lesevorgänge unter der sekundären Rolle zuzulassen.</span><span class="sxs-lookup"><span data-stu-id="9f53e-188">In contrast, the asynchronous commit replicas are configured to permit read-intent connections under the secondary role.</span></span> <span data-ttu-id="9f53e-189">In der folgenden Tabelle wird diese Beispielkonfiguration zusammengefasst:</span><span class="sxs-lookup"><span data-stu-id="9f53e-189">The following table summarize this example configuration:</span></span>  
  
|<span data-ttu-id="9f53e-190">Replikat</span><span class="sxs-lookup"><span data-stu-id="9f53e-190">Replica</span></span>|<span data-ttu-id="9f53e-191">Commit-Modus</span><span class="sxs-lookup"><span data-stu-id="9f53e-191">Commit Mode</span></span>|<span data-ttu-id="9f53e-192">Anfangsrolle</span><span class="sxs-lookup"><span data-stu-id="9f53e-192">Initial Role</span></span>|<span data-ttu-id="9f53e-193">Verbindungszugriff für sekundäre Rolle</span><span class="sxs-lookup"><span data-stu-id="9f53e-193">Connection Access for Secondary Role</span></span>|<span data-ttu-id="9f53e-194">Verbindungszugriff für primäre Rolle</span><span class="sxs-lookup"><span data-stu-id="9f53e-194">Connection Access for Primary Role</span></span>|  
|-------------|-----------------|------------------|------------------------------------------|----------------------------------------|  
|<span data-ttu-id="9f53e-195">Replikat1</span><span class="sxs-lookup"><span data-stu-id="9f53e-195">Replica1</span></span>|<span data-ttu-id="9f53e-196">Synchron</span><span class="sxs-lookup"><span data-stu-id="9f53e-196">Synchronous</span></span>|<span data-ttu-id="9f53e-197">Primär</span><span class="sxs-lookup"><span data-stu-id="9f53e-197">Primary</span></span>|<span data-ttu-id="9f53e-198">Keine</span><span class="sxs-lookup"><span data-stu-id="9f53e-198">None</span></span>|<span data-ttu-id="9f53e-199">Lese-/Schreibzugriff</span><span class="sxs-lookup"><span data-stu-id="9f53e-199">Read-write</span></span>|  
|<span data-ttu-id="9f53e-200">Replikat2</span><span class="sxs-lookup"><span data-stu-id="9f53e-200">Replica2</span></span>|<span data-ttu-id="9f53e-201">Synchron</span><span class="sxs-lookup"><span data-stu-id="9f53e-201">Synchronous</span></span>|<span data-ttu-id="9f53e-202">Secondary</span><span class="sxs-lookup"><span data-stu-id="9f53e-202">Secondary</span></span>|<span data-ttu-id="9f53e-203">Keine</span><span class="sxs-lookup"><span data-stu-id="9f53e-203">None</span></span>|<span data-ttu-id="9f53e-204">Lese-/Schreibzugriff</span><span class="sxs-lookup"><span data-stu-id="9f53e-204">Read-write</span></span>|  
|<span data-ttu-id="9f53e-205">Replikat3</span><span class="sxs-lookup"><span data-stu-id="9f53e-205">Replica3</span></span>|<span data-ttu-id="9f53e-206">Asynchron</span><span class="sxs-lookup"><span data-stu-id="9f53e-206">Asynchronous</span></span>|<span data-ttu-id="9f53e-207">Secondary</span><span class="sxs-lookup"><span data-stu-id="9f53e-207">Secondary</span></span>|<span data-ttu-id="9f53e-208">Nur beabsichtigte Lesevorgänge</span><span class="sxs-lookup"><span data-stu-id="9f53e-208">Read-intentonly</span></span>|<span data-ttu-id="9f53e-209">Lese-/Schreibzugriff</span><span class="sxs-lookup"><span data-stu-id="9f53e-209">Read-write</span></span>|  
|<span data-ttu-id="9f53e-210">Replikat4</span><span class="sxs-lookup"><span data-stu-id="9f53e-210">Replica4</span></span>|<span data-ttu-id="9f53e-211">Asynchron</span><span class="sxs-lookup"><span data-stu-id="9f53e-211">Asynchronous</span></span>|<span data-ttu-id="9f53e-212">Secondary</span><span class="sxs-lookup"><span data-stu-id="9f53e-212">Secondary</span></span>|<span data-ttu-id="9f53e-213">Nur beabsichtigte Lesevorgänge</span><span class="sxs-lookup"><span data-stu-id="9f53e-213">Read-intent only</span></span>|<span data-ttu-id="9f53e-214">Lese-/Schreibzugriff</span><span class="sxs-lookup"><span data-stu-id="9f53e-214">Read-write</span></span>|  
  
 <span data-ttu-id="9f53e-215">In der Regel treten in diesem Beispielszenario Failover nur zwischen den Replikaten mit synchronem Commit auf, und sofort nach dem Failover können Anwendungen für beabsichtigte Lesevorgänge erneut eine Verbindung mit einem der sekundären Replikate mit asynchronem Commit herstellen.</span><span class="sxs-lookup"><span data-stu-id="9f53e-215">Typically, in this example scenario, failovers occur only between the synchronous-commit replicas, and  immediately after the failover, read-intent applications are able to reconnect to one of the asynchronous-commit secondary replicas.</span></span> <span data-ttu-id="9f53e-216">Bei einem Notfall im Hauptrechencenter gehen jedoch beide Replikate mit synchronem Commit verloren.</span><span class="sxs-lookup"><span data-stu-id="9f53e-216">However, when a disaster occurs at the main computing center both synchronous-commit replicas are lost.</span></span> <span data-ttu-id="9f53e-217">Der Datenbankadministrator am Satellitenstandort reagiert, indem er ein erzwungenes manuelles Failover zu einem sekundären Replikat mit asynchronem Commit ausführt.</span><span class="sxs-lookup"><span data-stu-id="9f53e-217">The database administrator at the satellite site responds by performing a forced manual failover to an asynchronous-commit secondary replica.</span></span> <span data-ttu-id="9f53e-218">Die sekundären Datenbanken auf dem verbleibenden sekundären Replikat werden vom erzwungenen Failover angehalten und dadurch für schreibgeschützte Arbeitsauslastungen nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="9f53e-218">The secondary databases on the remaining secondary replica are suspended by the forced failover, making them unavailable for read-only workloads.</span></span> <span data-ttu-id="9f53e-219">Das für Lese-/Schreibverbindungen konfigurierte neue primäre Replikat verhindert, dass die Arbeitsauslastung für beabsichtigte Lesevorgänge mit der Auslastung für Lese-/Schreibzugriff konkurriert.</span><span class="sxs-lookup"><span data-stu-id="9f53e-219">The new primary replica, which is configured for read-write connections, prevents the read-intent workload from competing with the read-write workload.</span></span> <span data-ttu-id="9f53e-220">Dies bedeutet, dass bis der Datenbankadministrator die sekundären Datenbanken auf dem verbleibenden sekundären Replikat mit asynchronem Commit fortsetzt, Clients für beabsichtigte Lesevorgänge keine Verbindung mit einem Verfügbarkeitsreplikat herstellen können.</span><span class="sxs-lookup"><span data-stu-id="9f53e-220">This means that until the database administrator resumes the secondary databases on the remaining asynchronous-commit secondary replica, read-intent clients cannot connect to any availability replica.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="9f53e-221">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="9f53e-221">Related Tasks</span></span>  
  
-   [<span data-ttu-id="9f53e-222">Konfigurieren des schreibgeschützten Zugriffs auf ein Verfügbarkeitsreplikat &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="9f53e-222">Configure Read-Only Access on an Availability Replica &#40;SQL Server&#41;</span></span>](configure-read-only-access-on-an-availability-replica-sql-server.md)  
  
-   [<span data-ttu-id="9f53e-223">Konfigurieren des schreibgeschützten Routing für eine Verfügbarkeitsgruppe &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="9f53e-223">Configure Read-Only Routing for an Availability Group &#40;SQL Server&#41;</span></span>](configure-read-only-routing-for-an-availability-group-sql-server.md)  
  
-   [<span data-ttu-id="9f53e-224">Überwachen von Verfügbarkeitsgruppen &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="9f53e-224">Monitor Availability Groups &#40;Transact-SQL&#41;</span></span>](monitor-availability-groups-transact-sql.md)  
  
-   [<span data-ttu-id="9f53e-225">Anzeigen von Verfügbarkeitsreplikateigenschaften &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="9f53e-225">View Availability Replica Properties &#40;SQL Server&#41;</span></span>](view-availability-replica-properties-sql-server.md)  
  
-   [<span data-ttu-id="9f53e-226">Verwenden des Dialogfelds Neue Verfügbarkeitsgruppe &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="9f53e-226">Use the New Availability Group Dialog Box &#40;SQL Server Management Studio&#41;</span></span>](use-the-new-availability-group-dialog-box-sql-server-management-studio.md)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="9f53e-227">Verwandte Inhalte</span><span class="sxs-lookup"><span data-stu-id="9f53e-227">Related Content</span></span>  
  
-   [<span data-ttu-id="9f53e-228">Microsoft SQL Server AlwaysOn-Lösungshandbuch zu hoher Verfügbarkeit und Notfallwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="9f53e-228">Microsoft SQL Server AlwaysOn Solutions Guide for High Availability and Disaster Recovery</span></span>](https://go.microsoft.com/fwlink/?LinkId=227600)  
  
-   [<span data-ttu-id="9f53e-229">SQL Server AlwaysOn-Teamblog: Der offizielle SQL Server AlwaysOn-Teamblog</span><span class="sxs-lookup"><span data-stu-id="9f53e-229">SQL Server AlwaysOn Team Blog: The official SQL Server AlwaysOn Team Blog</span></span>](https://blogs.msdn.com/b/sqlalwayson/)  
  
## <a name="see-also"></a><span data-ttu-id="9f53e-230">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="9f53e-230">See Also</span></span>  
 <span data-ttu-id="9f53e-231">[Übersicht über AlwaysOn-Verfügbarkeitsgruppen &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="9f53e-231">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="9f53e-232">[Verfügbarkeitsgruppenlistener, Clientkonnektivität und Anwendungsfailover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span><span class="sxs-lookup"><span data-stu-id="9f53e-232">[Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span></span>  
 [<span data-ttu-id="9f53e-233">Statistik</span><span class="sxs-lookup"><span data-stu-id="9f53e-233">Statistics</span></span>](../../../relational-databases/statistics/statistics.md)  
  
  
