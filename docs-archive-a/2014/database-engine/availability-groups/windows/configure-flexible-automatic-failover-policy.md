---
title: Konfigurieren der flexiblen Failoverrichtlinie zum Steuern der Bedingungen für automatisches Failover (Always on-Verfügbarkeits Gruppen) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], flexible failover policy
- Availability Groups [SQL Server], failover
- failover [SQL Server], AlwaysOn Availability Groups
ms.assetid: 1ed564b4-9835-4245-ae35-9ba67419a4ce
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: c938624a3ed39fe2d41f21a21af5231aa76a8c17
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87724233"
---
# <a name="configure-the-flexible-failover-policy-to-control-conditions-for-automatic-failover-always-on-availability-groups"></a><span data-ttu-id="a9cf4-102">Konfigurieren der flexiblen Failoverrichtlinie zum Steuern der Bedingungen für ein automatisches Failover (AlwaysOn-Verfügbarkeitsgruppen)</span><span class="sxs-lookup"><span data-stu-id="a9cf4-102">Configure the Flexible Failover Policy to Control Conditions for Automatic Failover (Always On Availability Groups)</span></span>
  <span data-ttu-id="a9cf4-103">In diesem Thema wird beschrieben, wie die flexible Failoverrichtlinie für eine AlwaysOn-Verfügbarkeitsgruppe mithilfe von [!INCLUDE[tsql](../../../includes/tsql-md.md)] oder PowerShell in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]konfiguriert wird.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-103">This topic describes how to configure the flexible failover policy for an AlwaysOn availability group by using [!INCLUDE[tsql](../../../includes/tsql-md.md)] or PowerShell in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="a9cf4-104">Eine flexible Failoverrichtlinie ermöglicht eine präzise Kontrolle über die Bedingungen, die ein automatisches Failover für eine Verfügbarkeitsgruppe verursachen.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-104">A flexible failover policy provides granular control over the conditions that cause automatic failover for an availability group.</span></span> <span data-ttu-id="a9cf4-105">Durch eine Änderung der Fehlerbedingungen, die ein automatisches Failover und die Häufigkeit von Integritätsprüfungen auslösen, können Sie die Wahrscheinlichkeit für ein automatisches Failover erhöhen oder verringern, um das SLA für Hochverfügbarkeit zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-105">By changing the failure conditions that trigger an automatic failover and the frequency of health checks, you can increase or decrease the likelihood of an automatic failover to support your SLA for high availability.</span></span>  
  
  
  
    > [!NOTE]  
    >  The flexible failover policy of an availability group cannot be configured by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="a9cf4-106">Vorbereitungen</span><span class="sxs-lookup"><span data-stu-id="a9cf4-106">Before You Begin</span></span>  
  
###  <a name="limitations-on-automatic-failovers"></a><a name="Limitations"></a><span data-ttu-id="a9cf4-107">Einschränkungen bei automatischen Failovern</span><span class="sxs-lookup"><span data-stu-id="a9cf4-107">Limitations on Automatic Failovers</span></span>  
  
-   <span data-ttu-id="a9cf4-108">Damit ein automatisches Failover ausgeführt werden kann, müssen das aktuelle primäre Replikat und ein sekundäres Replikat für den Verfügbarkeitsmodus für synchrone Commits und automatischem Failover konfiguriert und das sekundäre Replikat mit dem primären Replikat synchronisiert sein.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-108">For an automatic failover to occur, the current primary replica and one secondary replica must be configured for synchronous-commit availability mode with automatic failover and the secondary replica must be synchronized with the primary replica.</span></span>  
  
-   <span data-ttu-id="a9cf4-109">Wenn eine Verfügbarkeitsgruppe den Schwellenwert für WSFC-Fehler überschreitet, versucht der WSFC-Cluster nicht, ein automatisches Failover für die Verfügbarkeitsgruppe auszuführen.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-109">If an availability group exceeds its WSFC failure threshold, the WSFC cluster will not attempt an automatic failover for the availability group.</span></span> <span data-ttu-id="a9cf4-110">Außerdem verbleibt die WSFC-Ressourcengruppe der Verfügbarkeitsgruppe so lange in einem fehlerhaften Zustand, bis der Clusteradministrator die fehlerhafte Gruppe manuell online schaltet oder bis der Datenbankadministrator ein manuelles Failover der Verfügbarkeitsgruppe ausführt.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-110">Furthermore, the WSFC resource group of the availability group remains in a failed state until either the cluster administrator manually brings the failed resource group online or the database administrator performs a manual failover of the availability group.</span></span> <span data-ttu-id="a9cf4-111">Der *WSFC-Fehlerschwellenwert* ist als maximale Anzahl von Fehlern definiert, die während eines bestimmten Zeitraums für die Verfügbarkeitsgruppe unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-111">The *WSFC failure threshold* is defined as the maximum number of failures supported for the availability group during a given time period.</span></span> <span data-ttu-id="a9cf4-112">Der Standardzeitraum beträgt sechs Stunden, und der Standardwert für die maximale Anzahl von Fehlern während dieses Zeitraums entspricht *n*-1, wobei *n* für die Anzahl der WSFC-Knoten steht.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-112">The default time period is six hours, and the default value for the maximum number of failures during this period is *n*-1, where *n* is the number of WSFC nodes.</span></span> <span data-ttu-id="a9cf4-113">Um den Fehlerschwellenwert für eine angegebene Verfügbarkeitsgruppe zu ändern, verwenden Sie die WSFC Failover Manager Console.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-113">To change the failure-threshold values for a given availability group, use the WSFC Failover Manager Console.</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="a9cf4-114">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="a9cf4-114">Prerequisites</span></span>  
  
-   <span data-ttu-id="a9cf4-115">Sie müssen mit der Serverinstanz verbunden sein, die das primäre Replikat hostet.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-115">You must be connected to the server instance that hosts the primary replica.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="a9cf4-116">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="a9cf4-116">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="a9cf4-117">Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="a9cf4-117">Permissions</span></span>  
  
|<span data-ttu-id="a9cf4-118">Aufgabe</span><span class="sxs-lookup"><span data-stu-id="a9cf4-118">Task</span></span>|<span data-ttu-id="a9cf4-119">Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="a9cf4-119">Permissions</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="a9cf4-120">Konfigurieren der flexiblen Failoverrichtlinie für eine neue Verfügbarkeitsgruppe</span><span class="sxs-lookup"><span data-stu-id="a9cf4-120">To configure the flexible failover policy for a new availability group</span></span>|<span data-ttu-id="a9cf4-121">Erfordert die Mitgliedschaft in der festen Serverrolle **sysadmin** und die CREATE AVAILABILITY GROUP-Serverberechtigung, ALTER ANY AVAILABILITY GROUP-Berechtigung oder CONTROL SERVER-Berechtigung.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-121">Requires membership in the **sysadmin** fixed server role and either CREATE AVAILABILITY GROUP server permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span>|  
|<span data-ttu-id="a9cf4-122">Ändern der Richtlinie einer vorhandenen Verfügbarkeitsgruppe</span><span class="sxs-lookup"><span data-stu-id="a9cf4-122">To modify the policy of an existing availability group</span></span>|<span data-ttu-id="a9cf4-123">Erfordert die ALTER AVAILABILITY GROUP-Berechtigung für die Verfügbarkeitsgruppe, die CONTROL AVAILABILITY GROUP-Berechtigung, die ALTER ANY AVAILABILITY GROUP-Berechtigung oder die CONTROL SERVER-Berechtigung.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-123">Requires ALTER AVAILABILITY GROUP permission on the availability group, CONTROL AVAILABILITY GROUP permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span>|  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="a9cf4-124">Verwenden von Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="a9cf4-124">Using Transact-SQL</span></span>  
 <span data-ttu-id="a9cf4-125">**So konfigurieren Sie die flexible Failoverrichtlinie**</span><span class="sxs-lookup"><span data-stu-id="a9cf4-125">**To configure the flexible failover policy**</span></span>  
  
1.  <span data-ttu-id="a9cf4-126">Stellen Sie eine Verbindung mit der Serverinstanz her, die das primäre Replikat hostet.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-126">Connect to the server instance that hosts the primary replica.</span></span>  
  
2.  <span data-ttu-id="a9cf4-127">Verwenden Sie für eine neue Verfügbarkeits Gruppe die [Create Availability Group](/sql/t-sql/statements/create-availability-group-transact-sql) - [!INCLUDE[tsql](../../../includes/tsql-md.md)] Anweisung.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-127">For a new availability group, use the [CREATE AVAILABILITY GROUP](/sql/t-sql/statements/create-availability-group-transact-sql)[!INCLUDE[tsql](../../../includes/tsql-md.md)] statement.</span></span> <span data-ttu-id="a9cf4-128">Wenn Sie eine vorhandene Verfügbarkeits Gruppe ändern, verwenden Sie die [Alter Availability Group](/sql/t-sql/statements/alter-availability-group-transact-sql) - [!INCLUDE[tsql](../../../includes/tsql-md.md)] Anweisung.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-128">If you are modifying an existing availability group, use the [ALTER AVAILABILITY GROUP](/sql/t-sql/statements/alter-availability-group-transact-sql)[!INCLUDE[tsql](../../../includes/tsql-md.md)] statement.</span></span>  
  
    -   <span data-ttu-id="a9cf4-129">Um die Failover-Bedingungsebene festzulegen, verwenden Sie die Option FAILURE_CONDITION_LEVEL = *n* , wobei *n* für eine ganze Zahl zwischen 1 und 5 steht.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-129">To set the failover condition level, use the FAILURE_CONDITION_LEVEL = *n* option, where, *n* is an integer from 1 to 5.</span></span>  
  
         <span data-ttu-id="a9cf4-130">Beispielsweise wird mit der folgenden [!INCLUDE[tsql](../../../includes/tsql-md.md)] -Anweisung die Fehlerbedingungsebene der vorhandenen Verfügbarkeitsgruppe `AG1`in Ebene 1 geändert:</span><span class="sxs-lookup"><span data-stu-id="a9cf4-130">For example, the following [!INCLUDE[tsql](../../../includes/tsql-md.md)] statement changes the failure-condition level of an existing availability group, `AG1`, to level one:</span></span>  
  
        ```sql
        ALTER AVAILABILITY GROUP AG1 SET (FAILURE_CONDITION_LEVEL = 1);  
        ```  
  
         <span data-ttu-id="a9cf4-131">Diese ganzzahligen Werte stehen in folgender Beziehung zu den Fehlerbedingungsebenen:</span><span class="sxs-lookup"><span data-stu-id="a9cf4-131">The relationship of these integer values to the failure condition levels is as follows:</span></span>  
  
        |[!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="a9cf4-132">-Wert</span><span class="sxs-lookup"><span data-stu-id="a9cf4-132">Value</span></span>|<span data-ttu-id="a9cf4-133">Ebene</span><span class="sxs-lookup"><span data-stu-id="a9cf4-133">Level</span></span>|<span data-ttu-id="a9cf4-134">Automatisches Failover wird initiiert, wenn...</span><span class="sxs-lookup"><span data-stu-id="a9cf4-134">Automatic Is Failover Initiated When...</span></span>|  
        |------------------------------|-----------|-------------------------------------------|  
        |<span data-ttu-id="a9cf4-135">1</span><span class="sxs-lookup"><span data-stu-id="a9cf4-135">1</span></span>|<span data-ttu-id="a9cf4-136">Eine</span><span class="sxs-lookup"><span data-stu-id="a9cf4-136">One</span></span>|<span data-ttu-id="a9cf4-137">der Server ausfällt.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-137">On server down.</span></span> <span data-ttu-id="a9cf4-138">Der SQL Server-Dienst wird aufgrund eines Failovers oder Neustarts beendet.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-138">The SQL Server service stops because of a failover or restart.</span></span>|  
        |<span data-ttu-id="a9cf4-139">2</span><span class="sxs-lookup"><span data-stu-id="a9cf4-139">2</span></span>|<span data-ttu-id="a9cf4-140">Zwei</span><span class="sxs-lookup"><span data-stu-id="a9cf4-140">Two</span></span>|<span data-ttu-id="a9cf4-141">der Server nicht reagiert.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-141">On server unresponsive.</span></span> <span data-ttu-id="a9cf4-142">Der Wert der Bedingungsebene wird unterschritten, der SQL Server-Dienst ist mit dem Cluster verbunden, und der Schwellenwert für das Timeout der Integritätsprüfung wird überschritten, oder das aktuelle primäre Replikat weist einen fehlerhaften Status auf.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-142">Any condition of lower value is satisfied, the SQL Server service is connected to the cluster and the health check timeout threshold is exceeded, or the current primary replica is in a failed state.</span></span>|  
        |<span data-ttu-id="a9cf4-143">3</span><span class="sxs-lookup"><span data-stu-id="a9cf4-143">3</span></span>|<span data-ttu-id="a9cf4-144">drei</span><span class="sxs-lookup"><span data-stu-id="a9cf4-144">Three</span></span>|<span data-ttu-id="a9cf4-145">ein kritischer Serverfehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-145">On critical server error.</span></span> <span data-ttu-id="a9cf4-146">Der Wert der Bedingungsebene wird unterschritten, oder es tritt ein interner kritischer Serverfehler auf.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-146">Any condition of lower value is satisfied or an internal critical server error occurs.</span></span><br /><br /> <span data-ttu-id="a9cf4-147">Dies ist der Standardebene.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-147">This is the default level.</span></span>|  
        |<span data-ttu-id="a9cf4-148">4</span><span class="sxs-lookup"><span data-stu-id="a9cf4-148">4</span></span>|<span data-ttu-id="a9cf4-149">4 (vier)</span><span class="sxs-lookup"><span data-stu-id="a9cf4-149">Four</span></span>|<span data-ttu-id="a9cf4-150">ein mittelschwerer Serverfehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-150">On moderate server error.</span></span> <span data-ttu-id="a9cf4-151">Der Wert der Bedingungsebene wird unterschritten, oder es tritt ein mittelschwerer Serverfehler auf.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-151">Any condition of lower value is satisfied or a moderate Server error occurs.</span></span>|  
        |<span data-ttu-id="a9cf4-152">5</span><span class="sxs-lookup"><span data-stu-id="a9cf4-152">5</span></span>|<span data-ttu-id="a9cf4-153">5 (fünf)</span><span class="sxs-lookup"><span data-stu-id="a9cf4-153">Five</span></span>|<span data-ttu-id="a9cf4-154">eine qualifizierte Fehlerbedingung auftritt.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-154">On any qualified failure conditions.</span></span> <span data-ttu-id="a9cf4-155">Der Wert der Bedingungsebene wird unterschritten, oder es tritt eine qualifizierte Fehlerbedingung auf.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-155">Any condition of lower value is satisfied or a qualifying failure condition occurs.</span></span>|  
  
         <span data-ttu-id="a9cf4-156">Weitere Informationen zu den Failover-Bedingungsebenen finden Sie unter [Flexible Failoverrichtlinie für automatisches Failover einer Verfügbarkeitsgruppe &#40;SQL Server&#41;](flexible-automatic-failover-policy-availability-group.md).</span><span class="sxs-lookup"><span data-stu-id="a9cf4-156">For more information about the failover condition levels, see [Flexible Failover Policy for Automatic Failover of an Availability Group &#40;SQL Server&#41;](flexible-automatic-failover-policy-availability-group.md).</span></span>  
  
    -   <span data-ttu-id="a9cf4-157">Um den Schwellenwert für das Timeout der Integritätsprüfung zu konfigurieren, verwenden Sie die Option HEALTH_CHECK_TIMEOUT = *n* , wobei *n* für eine ganze Zahl zwischen 15000 Millisekunden (15 Sekunden) und 4294967295 Millisekunden steht.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-157">To configure the health check timeout threshold, use the HEALTH_CHECK_TIMEOUT = *n* option, where, *n* is an integer from 15000 milliseconds (15 seconds) to 4294967295 milliseconds.</span></span> <span data-ttu-id="a9cf4-158">Der Standardwert ist 30.000 Millisekunden (oder 30 Sekunden).</span><span class="sxs-lookup"><span data-stu-id="a9cf4-158">The default value is 30000 milliseconds (30 seconds)</span></span>  
  
         <span data-ttu-id="a9cf4-159">Mit der folgenden [!INCLUDE[tsql](../../../includes/tsql-md.md)] -Anweisung wird z. B. der Schwellenwert für das Timeout der Integritätsprüfung einer vorhandenen Verfügbarkeitsgruppe mit dem Namen `AG1`in 60.000 Millisekunden (eine Minute) geändert.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-159">For example, the following [!INCLUDE[tsql](../../../includes/tsql-md.md)] statement changes the health-check timeout threshold of an existing availability group, `AG1`, to 60,000 milliseconds (one minute).</span></span>  
  
        ```sql
        ALTER AVAILABILITY GROUP AG1 SET (HEALTH_CHECK_TIMEOUT = 60000);  
        ```  
  
##  <a name="using-powershell"></a><a name="PowerShellProcedure"></a> <span data-ttu-id="a9cf4-160">Verwenden von PowerShell</span><span class="sxs-lookup"><span data-stu-id="a9cf4-160">Using PowerShell</span></span>  

### <a name="to-configure-the-flexible-failover-policy"></a><span data-ttu-id="a9cf4-161">So konfigurieren Sie die flexible Failoverrichtlinie \* \*</span><span class="sxs-lookup"><span data-stu-id="a9cf4-161">To configure the flexible failover policy\*\*</span></span>  
  
1.  <span data-ttu-id="a9cf4-162">Legen Sie den Standard (`cd`) auf die Serverinstanz fest, auf der das primäre Replikat gehostet wird.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-162">Set default (`cd`) to the server instance that hosts the primary replica.</span></span>  
  
2.  <span data-ttu-id="a9cf4-163">Wenn Sie einer Verfügbarkeitsgruppe ein Verfügbarkeitsreplikat hinzufügen, verwenden Sie das `New-SqlAvailabilityGroup`-Cmdlet.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-163">When adding an availability replica to an availability group, use the `New-SqlAvailabilityGroup` cmdlet.</span></span> <span data-ttu-id="a9cf4-164">Wenn Sie ein vorhandenes Verfügbarkeitsreplikat ändern, verwenden Sie das `Set-SqlAvailabilityGroup`-Cmdlet.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-164">When modifying an existing availability replica, use the `Set-SqlAvailabilityGroup` cmdlet.</span></span>  
  
    -   <span data-ttu-id="a9cf4-165">Um die Failover-Bedingungs Ebene festzulegen, verwenden Sie den `FailureConditionLevel` *Level* -Parameter, wobei *Level* einem der folgenden Werte entspricht:</span><span class="sxs-lookup"><span data-stu-id="a9cf4-165">To set the failover condition level, use the `FailureConditionLevel`*level* parameter, where, *level* is one of the following values:</span></span>  
  
        |<span data-ttu-id="a9cf4-166">Wert</span><span class="sxs-lookup"><span data-stu-id="a9cf4-166">Value</span></span>|<span data-ttu-id="a9cf4-167">Ebene</span><span class="sxs-lookup"><span data-stu-id="a9cf4-167">Level</span></span>|<span data-ttu-id="a9cf4-168">Automatisches Failover wird initiiert, wenn...</span><span class="sxs-lookup"><span data-stu-id="a9cf4-168">Automatic Is Failover Initiated When...</span></span>|  
        |-----------|-----------|-------------------------------------------|  
        |`OnServerDown`|<span data-ttu-id="a9cf4-169">Eine</span><span class="sxs-lookup"><span data-stu-id="a9cf4-169">One</span></span>|<span data-ttu-id="a9cf4-170">der Server ausfällt.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-170">On server down.</span></span> <span data-ttu-id="a9cf4-171">Der SQL Server-Dienst wird aufgrund eines Failovers oder Neustarts beendet.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-171">The SQL Server service stops because of a failover or restart.</span></span>|  
        |`OnServerUnresponsive`|<span data-ttu-id="a9cf4-172">Zwei</span><span class="sxs-lookup"><span data-stu-id="a9cf4-172">Two</span></span>|<span data-ttu-id="a9cf4-173">der Server nicht reagiert.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-173">On server unresponsive.</span></span> <span data-ttu-id="a9cf4-174">Der Wert der Bedingungsebene wird unterschritten, der SQL Server-Dienst ist mit dem Cluster verbunden, und der Schwellenwert für das Timeout der Integritätsprüfung wird überschritten, oder das aktuelle primäre Replikat weist einen fehlerhaften Status auf.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-174">Any condition of lower value is satisfied, the SQL Server service is connected to the cluster and the health check timeout threshold is exceeded, or the current primary replica is in a failed state.</span></span>|  
        |`OnCriticalServerError`|<span data-ttu-id="a9cf4-175">drei</span><span class="sxs-lookup"><span data-stu-id="a9cf4-175">Three</span></span>|<span data-ttu-id="a9cf4-176">ein kritischer Serverfehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-176">On critical server error.</span></span> <span data-ttu-id="a9cf4-177">Der Wert der Bedingungsebene wird unterschritten, oder es tritt ein interner kritischer Serverfehler auf.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-177">Any condition of lower value is satisfied or an internal critical server error occurs.</span></span><br /><br /> <span data-ttu-id="a9cf4-178">Dies ist der Standardebene.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-178">This is the default level.</span></span>|  
        |`OnModerateServerError`|<span data-ttu-id="a9cf4-179">4 (vier)</span><span class="sxs-lookup"><span data-stu-id="a9cf4-179">Four</span></span>|<span data-ttu-id="a9cf4-180">ein mittelschwerer Serverfehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-180">On moderate server error.</span></span> <span data-ttu-id="a9cf4-181">Der Wert der Bedingungsebene wird unterschritten, oder es tritt ein mittelschwerer Serverfehler auf.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-181">Any condition of lower value is satisfied or a moderate Server error occurs.</span></span>|  
        |`OnAnyQualifiedFailureConditions`|<span data-ttu-id="a9cf4-182">5 (fünf)</span><span class="sxs-lookup"><span data-stu-id="a9cf4-182">Five</span></span>|<span data-ttu-id="a9cf4-183">eine qualifizierte Fehlerbedingung auftritt.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-183">On any qualified failure conditions.</span></span> <span data-ttu-id="a9cf4-184">Der Wert der Bedingungsebene wird unterschritten, oder es tritt eine qualifizierte Fehlerbedingung auf.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-184">Any condition of lower value is satisfied or a qualifying failure condition occurs.</span></span>|  
  
         <span data-ttu-id="a9cf4-185">Weitere Informationen zu den Failover-Bedingungsebenen finden Sie unter [Flexible Failoverrichtlinie für automatisches Failover einer Verfügbarkeitsgruppe &#40;SQL Server&#41;](flexible-automatic-failover-policy-availability-group.md).</span><span class="sxs-lookup"><span data-stu-id="a9cf4-185">For more information about the failover condition levels, see [Flexible Failover Policy for Automatic Failover of an Availability Group &#40;SQL Server&#41;](flexible-automatic-failover-policy-availability-group.md).</span></span>  
  
         <span data-ttu-id="a9cf4-186">Beispielsweise wird mit dem folgenden Befehl die Fehlerbedingungsebene der vorhandenen Verfügbarkeitsgruppe `AG1`in Ebene 1 geändert.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-186">For example, the following command changes the failure-condition level of an existing availability group, `AG1`, to level one.</span></span>  
  
        ```powershell
        Set-SqlAvailabilityGroup `
         -Path SQLSERVER:\Sql\PrimaryServer\InstanceName\AvailabilityGroups\MyAg `
         -FailureConditionLevel OnServerDown  
        ```  
  
    -   <span data-ttu-id="a9cf4-187">Um den Schwellenwert für das Timeout der Integritätsprüfung festzulegen, verwenden Sie den `HealthCheckTimeout` Parameter *n* , wobei *n* für eine ganze Zahl zwischen 15000 Millisekunden (15 Sekunden) und 4294967295 Millisekunden steht.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-187">To set the health check timeout threshold, use the `HealthCheckTimeout`*n* parameter, where, *n* is an integer from 15000 milliseconds (15 seconds) to 4294967295 milliseconds.</span></span> <span data-ttu-id="a9cf4-188">Der Standardwert ist 30000 Millisekunden (oder 30 Sekunden).</span><span class="sxs-lookup"><span data-stu-id="a9cf4-188">The default value is 30000 milliseconds (30 seconds).</span></span>  
  
         <span data-ttu-id="a9cf4-189">Mit dem folgenden Befehl wird z. B. der Schwellenwert für das Timeout der Integritätsprüfung der vorhandenen Verfügbarkeitsgruppe `AG1`in 120.000 Millisekunden (zwei Minuten) geändert.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-189">For example, the following command changes the health-check timeout threshold of an existing availability group, `AG1`, to 120,000 milliseconds (two minutes).</span></span>  
  
        ```powershell
        Set-SqlAvailabilityGroup `
         -Path SQLSERVER:\Sql\PrimaryServer\InstanceName\AvailabilityGroups\MyAG `
         -HealthCheckTimeout 120000  
        ```  
  
> [!NOTE]  
>  <span data-ttu-id="a9cf4-190">Um die Syntax eines Cmdlets anzuzeigen, verwenden Sie das `Get-Help`-Cmdlet in der [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell-Umgebung.</span><span class="sxs-lookup"><span data-stu-id="a9cf4-190">To view the syntax of a cmdlet, use the `Get-Help` cmdlet in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] PowerShell environment.</span></span> <span data-ttu-id="a9cf4-191">Weitere Informationen finden Sie unter [Get Help SQL Server PowerShell](../../../powershell/sql-server-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="a9cf4-191">For more information, see [Get Help SQL Server PowerShell](../../../powershell/sql-server-powershell.md).</span></span>  
  
 <span data-ttu-id="a9cf4-192">**Einrichten und Verwenden des SQL Server PowerShell-Anbieters**</span><span class="sxs-lookup"><span data-stu-id="a9cf4-192">**To set up and use the SQL Server PowerShell provider**</span></span>  
  
-   [<span data-ttu-id="a9cf4-193">SQL Server PowerShell-Anbieter</span><span class="sxs-lookup"><span data-stu-id="a9cf4-193">SQL Server PowerShell Provider</span></span>](../../../powershell/sql-server-powershell-provider.md)  
  
-   [<span data-ttu-id="a9cf4-194">Get Help SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="a9cf4-194">Get Help SQL Server PowerShell</span></span>](../../../powershell/sql-server-powershell.md)  
  
## <a name="see-also"></a><span data-ttu-id="a9cf4-195">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="a9cf4-195">See Also</span></span>  
 <span data-ttu-id="a9cf4-196">[Übersicht über AlwaysOn-Verfügbarkeitsgruppen &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="a9cf4-196">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="a9cf4-197">[Verfügbarkeits Modi (AlwaysOn-Verfügbarkeitsgruppen)](availability-modes-always-on-availability-groups.md) </span><span class="sxs-lookup"><span data-stu-id="a9cf4-197">[Availability Modes (AlwaysOn Availability Groups)](availability-modes-always-on-availability-groups.md) </span></span>  
 <span data-ttu-id="a9cf4-198">[Failover-und Failovermodi &#40;AlwaysOn-Verfügbarkeitsgruppen&#41;](failover-and-failover-modes-always-on-availability-groups.md) </span><span class="sxs-lookup"><span data-stu-id="a9cf4-198">[Failover and Failover Modes &#40;AlwaysOn Availability Groups&#41;](failover-and-failover-modes-always-on-availability-groups.md) </span></span>  
 <span data-ttu-id="a9cf4-199">[Windows Server-Failoverclustering &#40;WSFC&#41; mit SQL Server](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="a9cf4-199">[Windows Server Failover Clustering &#40;WSFC&#41; with SQL Server](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md) </span></span>  
 <span data-ttu-id="a9cf4-200">[Failover Policy for Failover Cluster Instances](../../../sql-server/failover-clusters/windows/failover-policy-for-failover-cluster-instances.md) </span><span class="sxs-lookup"><span data-stu-id="a9cf4-200">[Failover Policy for Failover Cluster Instances](../../../sql-server/failover-clusters/windows/failover-policy-for-failover-cluster-instances.md) </span></span>  
 [<span data-ttu-id="a9cf4-201">sp_server_diagnostics &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a9cf4-201">sp_server_diagnostics &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-server-diagnostics-transact-sql)  
