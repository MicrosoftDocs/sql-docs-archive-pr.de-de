---
title: Failoverclustering und AlwaysOn-Verfügbarkeitsgruppen (SQL Server) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- clustering [SQL Server]
- Availability Groups [SQL Server], WSFC clusters
- Failover Cluster Instances [SQL Server], see failover clustering [SQL Server]
- quorum [SQL Server]
- failover clustering [SQL Server], AlwaysOn Availability Groups
- Availability Groups [SQL Server], Failover Cluster Instances
ms.assetid: 613bfbf1-9958-477b-a6be-c6d4f18785c3
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 64ee815c2b852849d9506ca6c3fc114d3d0e4935
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87617277"
---
# <a name="failover-clustering-and-alwayson-availability-groups-sql-server"></a><span data-ttu-id="3a265-102">Failoverclustering und AlwaysOn-Verfügbarkeitsgruppen (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="3a265-102">Failover Clustering and AlwaysOn Availability Groups (SQL Server)</span></span>
  [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]<span data-ttu-id="3a265-103">, die in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] eingeführte Lösung für Hochverfügbarkeit und Notfallwiederherstellung, erfordert WSFC (Windows Server-Failoverclustering).</span><span class="sxs-lookup"><span data-stu-id="3a265-103">, the high availability and disaster recovery solution introduced in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)], requires Windows Server Failover Clustering (WSFC).</span></span> <span data-ttu-id="3a265-104">[!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] ist zwar nicht von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Failoverclustering abhängig, Sie können aber dennoch eine FCI (Failoverclusterinstanz) verwenden, um ein Verfügbarkeitsreplikat für eine Verfügbarkeitsgruppe zu hosten.</span><span class="sxs-lookup"><span data-stu-id="3a265-104">Also, though [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] is not dependent upon [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Clustering, you can use a failover clustering instance (FCI) to host an availability replica for an availability group.</span></span> <span data-ttu-id="3a265-105">Es ist wichtig, dass Sie die Rolle jeder Clusteringtechnologie kennen, und wissen, welche Überlegungen Sie für den Entwurf Ihrer [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] -Umgebung anstellen müssen.</span><span class="sxs-lookup"><span data-stu-id="3a265-105">It is important to know the role of each clustering technology, and to know what considerations are necessary as you design your [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] environment.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="3a265-106">Informationen zu [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]-Konzepten finden Sie unter [Übersicht über AlwaysOn-Verfügbarkeitsgruppen &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="3a265-106">For information about [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] concepts, see [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md).</span></span>  
  

  
##  <a name="windows-server-failover-clustering-and-availability-groups"></a><a name="WSFC"></a><span data-ttu-id="3a265-107">Windows Server-Failoverclustering und Verfügbarkeits Gruppen</span><span class="sxs-lookup"><span data-stu-id="3a265-107">Windows Server Failover Clustering and Availability Groups</span></span>  
 <span data-ttu-id="3a265-108">Für die Bereitstellung von [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] ist ein WSFC-Cluster (Windows Server-Failoverclustering) erforderlich.</span><span class="sxs-lookup"><span data-stu-id="3a265-108">Deploying [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] requires a Windows Server Failover Clustering (WSFC) cluster.</span></span> <span data-ttu-id="3a265-109">Um für [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]aktiviert werden zu können, muss eine Instanz von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] in einem WSFC-Knoten befinden, und der WSFC-Cluster und -Knoten müssen online sein.</span><span class="sxs-lookup"><span data-stu-id="3a265-109">To be enabled for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] must reside on a WSFC node, and the WSFC cluster and node must be online.</span></span> <span data-ttu-id="3a265-110">Zudem muss sich jedes Verfügbarkeitsreplikat einer bestimmten Verfügbarkeitsgruppe in einem anderen Knoten desselben WSFC-Clusters befinden.</span><span class="sxs-lookup"><span data-stu-id="3a265-110">Furthermore, each availability replica of a given availability group must reside on a different node of the same WSFC cluster.</span></span> <span data-ttu-id="3a265-111">Die einzige Ausnahme besteht darin, dass sich eine Verfügbarkeitsgruppe während der Migration zu einem anderen WSFC-Cluster vorübergehend auf zwei Cluster erstrecken kann.</span><span class="sxs-lookup"><span data-stu-id="3a265-111">The only exception is that while being migrated to another WSFC cluster, an availability group can temporarily straddle two clusters.</span></span>  
  
 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="3a265-112">basiert zur Überwachung und Verwaltung der aktuellen Rollen der Verfügbarkeitsreplikate, die zu einer gegebenen Verfügbarkeitsgruppe gehören, auf dem Windows-Failoverclustering (WSFC)-Cluster und bestimmt, wie sich ein Failoverereignis auf die Verfügbarkeitsreplikate auswirkt.</span><span class="sxs-lookup"><span data-stu-id="3a265-112">relies on the Windows Failover Clustering (WSFC) cluster to monitor and manage the current roles of the availability replicas that belong to a given availability group and to determine how a failover event affects the availability replicas.</span></span> <span data-ttu-id="3a265-113">Für jede erstellte Verfügbarkeitsgruppe wird eine WSFC-Ressourcengruppe erstellt.</span><span class="sxs-lookup"><span data-stu-id="3a265-113">A WSFC resource group is created for every availability group that you create.</span></span> <span data-ttu-id="3a265-114">Der WSFC-Cluster überwacht diese Ressourcengruppe, um den Zustand des primären Replikats auszuwerten.</span><span class="sxs-lookup"><span data-stu-id="3a265-114">The WSFC cluster monitors this resource group to evaluate the health of the primary replica.</span></span>  
  
 <span data-ttu-id="3a265-115">Das Quorum für [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] basiert unabhängig davon, ob ein bestimmter Clusterknoten Verfügbarkeitsreplikate hostet, auf allen Knoten des WSFC-Clusters.</span><span class="sxs-lookup"><span data-stu-id="3a265-115">The quorum for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] is based on all nodes in the WSFC cluster regardless of whether a given cluster node hosts any availability replicas.</span></span> <span data-ttu-id="3a265-116">Im Gegensatz zur Datenbankspiegelung ist in [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] keine Zeugenrolle verfügbar.</span><span class="sxs-lookup"><span data-stu-id="3a265-116">In contrast to database mirroring, there is no witness role in [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span></span>  
  
 <span data-ttu-id="3a265-117">Die allgemeine Integrität des WSFC-Clusters wird von den Abstimmungen eines Quorums der Clusterknoten bestimmt.</span><span class="sxs-lookup"><span data-stu-id="3a265-117">The overall health of a WSFC cluster is determined by the votes of quorum of nodes in the cluster.</span></span> <span data-ttu-id="3a265-118">Wird der WSFC-Cluster wegen eines nicht geplanten Notfalls oder aufgrund eines persistenten Hardware- oder Kommunikationsfehlers offline geschaltet, ist manueller Eingriff durch den Administrator erforderlich.</span><span class="sxs-lookup"><span data-stu-id="3a265-118">If the WSFC cluster goes offline because of an unplanned disaster, or due to a persistent hardware or communications failure, manual administrative intervention is required.</span></span> <span data-ttu-id="3a265-119">Ein Windows Server- oder WSFC-Clusteradministrator muss ein Quorum erzwingen und dann die überdauernden Clusterknoten in einer nicht fehlertolerante Konfiguration wieder online schalten.</span><span class="sxs-lookup"><span data-stu-id="3a265-119">A Windows Server or WSFC cluster administrator will need to force a quorum and then bring the surviving cluster nodes back online in a non-fault-tolerant configuration.</span></span>  
  
> [!IMPORTANT]  
>  [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="3a265-120">-Registrierungsschlüssel sind Unterschlüssel des WSFC-Clusters.</span><span class="sxs-lookup"><span data-stu-id="3a265-120">registry keys are subkeys of the WSFC cluster.</span></span> <span data-ttu-id="3a265-121">Wenn Sie einen WSFC-Cluster löschen und neu erstellen, müssen Sie die Funktion [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] für jede Instanz von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] deaktivieren und erneut aktivieren, auf der auf dem ursprünglichen WSFC-Cluster ein Verfügbarkeitsreplikat gehostet wurde.</span><span class="sxs-lookup"><span data-stu-id="3a265-121">If you delete and re-create a WSFC cluster, you must disable and re-enable the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature on each instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that hosted an availability replica on the original WSFC cluster.</span></span>  
  
 <span data-ttu-id="3a265-122">Informationen zum Ausführen von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] auf Windows Server-Failoverclustering (WSFC)-Knoten sowie zum WSFC-Quorum finden Sie unter [Windows Server-Failoverclustering &#40;WSFC&#41; mit SQL Server](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="3a265-122">For information about running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on Windows Server Failover Clustering (WSFC) nodes and about WSFC quorum, see [Windows Server Failover Clustering &#40;WSFC&#41; with SQL Server](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md).</span></span>  
  
### <a name="cross-cluster-migration-of-alwayson-availability-groups-for-os-upgrade"></a><span data-ttu-id="3a265-123">Clusterübergreifende Migration von AlwaysOn-Verfügbarkeitsgruppen für Betriebssystemupgrade</span><span class="sxs-lookup"><span data-stu-id="3a265-123">Cross-Cluster Migration of AlwaysOn Availability Groups for OS Upgrade</span></span>  
 <span data-ttu-id="3a265-124">Ab [!INCLUDE[ssSQL11SP1](../../../includes/sssql11sp1-md.md)]unterstützt [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] die clusterübergreifende Migration von Verfügbarkeitsgruppen für Bereitstellungen in einem neuen WSFC-Cluster (Windows Server Failover Clustering).</span><span class="sxs-lookup"><span data-stu-id="3a265-124">Beginning with [!INCLUDE[ssSQL11SP1](../../../includes/sssql11sp1-md.md)], [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] supports cross-cluster migration of availability groups for deployments to a new Windows Server Failover Clustering (WSFC) cluster.</span></span> <span data-ttu-id="3a265-125">Über die clusterübergreifende Migration wird eine Verfügbarkeitsgruppe oder ein Batch von Verfügbarkeitsgruppen bei minimaler Downtime in das neue Ziel-WSFC-Cluster verschoben.</span><span class="sxs-lookup"><span data-stu-id="3a265-125">A cross-cluster migration moves one availability group or a batch of availability groups to the new, destination WSFC cluster with minimal downtime.</span></span> <span data-ttu-id="3a265-126">Durch das Verfahren der clusterübergreifenden Migration können Sie beim Aktualisieren auf einen [!INCLUDE[win8srv](../../../includes/win8srv-md.md)] -Cluster Ihre Vereinbarungen zum Servicelevel (SLAs) einhalten.</span><span class="sxs-lookup"><span data-stu-id="3a265-126">The cross-cluster migration process enables you to maintain your service level agreements (SLAs) when upgrading to a [!INCLUDE[win8srv](../../../includes/win8srv-md.md)] cluster.</span></span> [!INCLUDE[ssSQL11SP1](../../../includes/sssql11sp1-md.md)] <span data-ttu-id="3a265-127">(oder eine höhere Version) muss auf dem Ziel-WSFC-Cluster installiert und für AlwaysOn aktiviert sein.</span><span class="sxs-lookup"><span data-stu-id="3a265-127">(or a later version) must be installed and enabled for AlwaysOn on the destination WSFC cluster.</span></span> <span data-ttu-id="3a265-128">Der Erfolg einer Kreuzclustermigration hängt von gründlicher Planung und Vorbereitung des Ziel-WSFC-Clusters ab.</span><span class="sxs-lookup"><span data-stu-id="3a265-128">The success of a cross-cluster migration depends on thorough planning and preparation of the destination WSFC cluster.</span></span>  
  
 <span data-ttu-id="3a265-129">Weitere Informationen finden Sie unter [Clusterübergreifende Migration von AlwaysOn-Verfügbarkeitsgruppen für Betriebssystemupgrade](https://msdn.microsoft.com/library/jj873730.aspx).</span><span class="sxs-lookup"><span data-stu-id="3a265-129">For more information, see [Cross-Cluster Migration of AlwaysOn Availability Groups for OS Upgrade](https://msdn.microsoft.com/library/jj873730.aspx).</span></span>  
  
##  <a name="ssnoversion-failover-cluster-instances-fcis-and-availability-groups"></a><a name="SQLServerFC"></a> <span data-ttu-id="3a265-130">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failoverclusterinstanzen (FCIs) und Verfügbarkeitsgruppen</span><span class="sxs-lookup"><span data-stu-id="3a265-130">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster Instances (FCIs) and Availability Groups</span></span>  
 <span data-ttu-id="3a265-131">Sie können auf Serverinstanzebene eine zweite Failoverebene einrichten, indem Sie das [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Failoverclustering zusammen mit dem WSFC-Cluster implementieren.</span><span class="sxs-lookup"><span data-stu-id="3a265-131">You can set up a second layer of failover at the server-instance level by implementing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clustering together with the WSFC cluster.</span></span> <span data-ttu-id="3a265-132">Ein Verfügbarkeitsreplikat kann von einer eigenständigen Instanz von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] oder einer FCI-Instanz gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="3a265-132">An availability replica can be hosted by either a standalone instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] or an FCI instance.</span></span> <span data-ttu-id="3a265-133">Ein Replikat für eine Verfügbarkeitsgruppe kann jeweils nur von einem FCI-Partner gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="3a265-133">Only one FCI partner can host a replica for a given availability group.</span></span> <span data-ttu-id="3a265-134">Bei Ausführung eines Verfügbarkeitsreplikats in einer FCI enthält die Liste möglicher Besitzer für die Verfügbarkeitsgruppe nur den aktiven FCI-Knoten.</span><span class="sxs-lookup"><span data-stu-id="3a265-134">When an availability replica is running on an FCI, the possible owners list for the availability group will contain only the active FCI node.</span></span>  
  
 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="3a265-135">hängt von keiner Form eines gemeinsam verwendeten Speichers ab.</span><span class="sxs-lookup"><span data-stu-id="3a265-135">does not depend on any form of shared storage.</span></span> <span data-ttu-id="3a265-136">Falls Sie jedoch eine [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Failoverclusterinstanz (FCI) zum Hosten von mindestens einem Verfügbarkeitsreplikats verwenden, ist für all diese FCIs der standardmäßigen Installation der SQL Server-Failoverclusterinstanz entsprechend gemeinsam verwendeter Speicher erforderlich.</span><span class="sxs-lookup"><span data-stu-id="3a265-136">However, if you use a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance (FCI) to host one or more availability replicas, each of those FCIs will require shared storage as per standard SQL Server failover cluster instance installation.</span></span>  
  
 <span data-ttu-id="3a265-137">Weitere Informationen zu zusätzlichen erforderlichen Komponenten finden Sie im Abschnitt „Voraussetzungen und Einschränkungen zum Hosten eines Verfügbarkeitsreplikats mithilfe einer SQL Server-Failoverclusterinstanz (FCI)“ von [Voraussetzungen, Einschränkungen und Empfehlungen für AlwaysOn-Verfügbarkeitsgruppen &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).</span><span class="sxs-lookup"><span data-stu-id="3a265-137">For more information about additional prerequisites, see the "Prerequisites and Restrictions for Using a SQL Server Failover Cluster Instance (FCI) to Host an Availability Replica" section of [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).</span></span>  
  
### <a name="comparison-of-failover-cluster-instances-and-availability-groups"></a><span data-ttu-id="3a265-138">Vergleich der Failoverclusterinstanzen und Verfügbarkeitsgruppen</span><span class="sxs-lookup"><span data-stu-id="3a265-138">Comparison of Failover Cluster Instances and Availability Groups</span></span>  
 <span data-ttu-id="3a265-139">Unabhängig von der Anzahl der Knoten in der FCI hostet eine ganze FCI ein einzelnes Replikat innerhalb einer Verfügbarkeitsgruppe.</span><span class="sxs-lookup"><span data-stu-id="3a265-139">Regardless of the number of nodes in the FCI, an entire FCI hosts a single replica within an availability group.</span></span> <span data-ttu-id="3a265-140">In der folgenden Tabelle werden die Unterschiede der Konzepte zwischen Knoten in einer FCI und Replikaten in einer Verfügbarkeitsgruppe beschrieben.</span><span class="sxs-lookup"><span data-stu-id="3a265-140">The following table describes the distinctions in concepts between nodes in an FCI and replicas within an availability group.</span></span>  
  
||<span data-ttu-id="3a265-141">Knoten in einer FCI</span><span class="sxs-lookup"><span data-stu-id="3a265-141">Nodes within an FCI</span></span>|<span data-ttu-id="3a265-142">Replikate in einer Verfügbarkeitsgruppe</span><span class="sxs-lookup"><span data-stu-id="3a265-142">Replicas within an availability group</span></span>|  
|-|-------------------------|-------------------------------------------|  
|<span data-ttu-id="3a265-143">**Verwendet WSFC-Cluster**</span><span class="sxs-lookup"><span data-stu-id="3a265-143">**Uses WSFC cluster**</span></span>|<span data-ttu-id="3a265-144">Ja</span><span class="sxs-lookup"><span data-stu-id="3a265-144">Yes</span></span>|<span data-ttu-id="3a265-145">Ja</span><span class="sxs-lookup"><span data-stu-id="3a265-145">Yes</span></span>|  
|<span data-ttu-id="3a265-146">**Schutzebene**</span><span class="sxs-lookup"><span data-stu-id="3a265-146">**Protection level**</span></span>|<span data-ttu-id="3a265-147">Instanz</span><span class="sxs-lookup"><span data-stu-id="3a265-147">Instance</span></span>|<span data-ttu-id="3a265-148">Datenbank</span><span class="sxs-lookup"><span data-stu-id="3a265-148">Database</span></span>|  
|<span data-ttu-id="3a265-149">**Speichertyp**</span><span class="sxs-lookup"><span data-stu-id="3a265-149">**Storage type**</span></span>|<span data-ttu-id="3a265-150">Shared</span><span class="sxs-lookup"><span data-stu-id="3a265-150">Shared</span></span>|<span data-ttu-id="3a265-151">Nicht freigegeben</span><span class="sxs-lookup"><span data-stu-id="3a265-151">Non-shared</span></span><br /><br /> <span data-ttu-id="3a265-152">Beachten Sie Folgendes: Obwohl die Replikate in einer Verfügbarkeitsgruppe keinen Speicher gemeinsam verwenden, verwendet ein Replikat, das von einer FCI gehostet wird, gemäß der Anforderung dieser FCI eine gemeinsame Speicherlösung.</span><span class="sxs-lookup"><span data-stu-id="3a265-152">Note that while the replicas in an availability group do not share storage, a replica that is hosted by an FCI uses a shared storage solution as required by that FCI.</span></span> <span data-ttu-id="3a265-153">Die Speicherlösung wird nur von Knoten in dieser FCI verwendet und nicht zwischen den Replikaten der Verfügbarkeitsgruppe.</span><span class="sxs-lookup"><span data-stu-id="3a265-153">The storage solution is shared only by nodes within the FCI and not between replicas of the availability group.</span></span>|  
|<span data-ttu-id="3a265-154">**Speicherlösungen**</span><span class="sxs-lookup"><span data-stu-id="3a265-154">**Storage solutions**</span></span>|<span data-ttu-id="3a265-155">Direkt angefügt, SAN, Einbindungspunkte, SMB</span><span class="sxs-lookup"><span data-stu-id="3a265-155">Direct attached, SAN, mount points, SMB</span></span>|<span data-ttu-id="3a265-156">Hängt von Knotentyp ab</span><span class="sxs-lookup"><span data-stu-id="3a265-156">Depends on node type</span></span>|  
|<span data-ttu-id="3a265-157">**Lesbare sekundäre Replikate**</span><span class="sxs-lookup"><span data-stu-id="3a265-157">**Readable secondaries**</span></span>|<span data-ttu-id="3a265-158">Nein\*</span><span class="sxs-lookup"><span data-stu-id="3a265-158">No\*</span></span>|<span data-ttu-id="3a265-159">Ja</span><span class="sxs-lookup"><span data-stu-id="3a265-159">Yes</span></span>|  
|<span data-ttu-id="3a265-160">**Anwendbare Failoverrichtlinieneinstellungen**</span><span class="sxs-lookup"><span data-stu-id="3a265-160">**Applicable failover policy settings**</span></span>|<span data-ttu-id="3a265-161">WSFC-Quorum</span><span class="sxs-lookup"><span data-stu-id="3a265-161">WSFC quorum</span></span><br /><br /> <span data-ttu-id="3a265-162">FCI-spezifisch</span><span class="sxs-lookup"><span data-stu-id="3a265-162">FCI-specific</span></span><br /><br /> <span data-ttu-id="3a265-163">Verfügbarkeitsgruppeneinstellungen\*\*</span><span class="sxs-lookup"><span data-stu-id="3a265-163">Availability group settings\*\*</span></span>|<span data-ttu-id="3a265-164">WSFC-Quorum</span><span class="sxs-lookup"><span data-stu-id="3a265-164">WSFC quorum</span></span><br /><br /> <span data-ttu-id="3a265-165">Einstellungen der Verfügbarkeitsgruppe</span><span class="sxs-lookup"><span data-stu-id="3a265-165">Availability group settings</span></span>|  
|<span data-ttu-id="3a265-166">**Failoverressourcen**</span><span class="sxs-lookup"><span data-stu-id="3a265-166">**Failed-over resources**</span></span>|<span data-ttu-id="3a265-167">Server, Instanz und Datenbank</span><span class="sxs-lookup"><span data-stu-id="3a265-167">Server, instance, and database</span></span>|<span data-ttu-id="3a265-168">Nur Datenbank</span><span class="sxs-lookup"><span data-stu-id="3a265-168">Database only</span></span>|  
  
 <span data-ttu-id="3a265-169">\*Während synchrone sekundäre Replikate in einer Verfügbarkeitsgruppe stets in ihren jeweiligen [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Instanzen ausgeführt werden, haben Sekundärknoten in einer FCI ihre jeweiligen [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Instanzen tatsächlich nicht gestartet und sind daher nicht lesbar.</span><span class="sxs-lookup"><span data-stu-id="3a265-169">\*Whereas synchronous secondary replicas in an availability group are always running on their respective [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instances, secondary nodes in an FCI actually have not started their respective [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instances and are therefore not readable.</span></span> <span data-ttu-id="3a265-170">In einer FCI startet ein sekundärer Knoten seine [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Instanz nur, wenn der Ressourcengruppenbesitz während eines FCI-Failovers an ihn übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="3a265-170">In an FCI, a secondary node starts its [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance only when the resource group ownership is transferred to it during an FCI failover.</span></span> <span data-ttu-id="3a265-171">Wenn jedoch auf dem aktiven FCI-Knoten eine FCI-gehostete Datenbank zu einer Verfügbarkeitsgruppe gehört, ist die Datenbank lesbar, wenn das lokale Verfügbarkeitsreplikat als lesbares sekundäres Replikat ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="3a265-171">However, on the active FCI node, when an FCI-hosted database belongs to an availability group, if the local availability replica is running as a readable secondary replica, the database is readable.</span></span>  
  
 <span data-ttu-id="3a265-172">\*\*Failoverrichtlinieneinstellungen für die Verfügbarkeitsgruppe gelten für alle Replikate, unabhängig davon, ob sie in einer eigenständigen Instanz oder einer FCI-Instanz gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="3a265-172">\*\*Failover policy settings for the availability group apply to all replicas, whether it is hosted in a standalone instance or an FCI instance.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="3a265-173">Weitere Informationen zur **Anzahl der Knoten** innerhalb des Failoverclustering und **AlwaysOn-Verfügbarkeitsgruppen** für verschiedene Editionen von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] finden Sie [unter von den-Editionen unterstützte Funktionen SQL Server 2012](https://go.microsoft.com/fwlink/?linkid=232473) () https://go.microsoft.com/fwlink/?linkid=232473) .</span><span class="sxs-lookup"><span data-stu-id="3a265-173">For more information about **Number of nodes** within Failover Clustering and **AlwaysOn Availability Groups** for different editions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2012](https://go.microsoft.com/fwlink/?linkid=232473) (https://go.microsoft.com/fwlink/?linkid=232473).</span></span>  
  
### <a name="considerations-for-hosting-an-availability-replica-on-an-fci"></a><span data-ttu-id="3a265-174">Überlegungen zum Hosten eines Verfügbarkeitsreplikats auf einer FCI</span><span class="sxs-lookup"><span data-stu-id="3a265-174">Considerations for hosting an Availability Replica on an FCI</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="3a265-175">Wenn Sie planen, in einer SQL Server-Failoverclusterinstanz (FCI) ein Verfügbarkeitsreplikat zu hosten, stellen Sie sicher, dass die Windows Server 2008-Hostknoten die AlwaysOn-Voraussetzungen und -Einschränkungen für Failoverclusterinstanzen (FCIs) erreichen.</span><span class="sxs-lookup"><span data-stu-id="3a265-175">If you plan to host an availability replica on a SQL Server Failover Cluster Instance (FCI), ensure that the Windows Server 2008 host nodes meet the AlwaysOn prerequisites and restrictions for Failover Cluster Instances (FCIs).</span></span> <span data-ttu-id="3a265-176">Weitere Informationen finden Sie unter [Voraussetzungen, Einschränkungen und Empfehlungen für AlwaysOn-Verfügbarkeitsgruppen&#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).</span><span class="sxs-lookup"><span data-stu-id="3a265-176">For more information, see [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](prereqs-restrictions-recommendations-always-on-availability.md).</span></span>  
  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="3a265-177">Failoverclusterinstanzen (FCIs) unterstützen kein automatisches AlwaysOn-Failover durch Verfügbarkeitsgruppen. Daher können die Verfügbarkeitsreplikate, die von einer FCI gehostet werden, nur für manuelles Failover konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="3a265-177">Failover Cluster Instances (FCIs) do not support automatic failover by availability groups, so any availability replica that is hosted by an FCI can only be configured for manual failover.</span></span>  
  
 <span data-ttu-id="3a265-178">Möglicherweise muss ein Windows Server Failover Clustering (WSFC)-Cluster so konfiguriert werden, dass er freigegebene Datenträger enthält, die nicht auf allen Knoten verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="3a265-178">You might need to configure a Windows Server Failover Clustering (WSFC) cluster to include shared disks that are not available on all nodes.</span></span> <span data-ttu-id="3a265-179">Denken Sie beispielsweise an ein WSFC-Cluster über zwei Datenzentren mit drei Knoten.</span><span class="sxs-lookup"><span data-stu-id="3a265-179">For example, consider a WSFC cluster across two data centers with three nodes.</span></span> <span data-ttu-id="3a265-180">Zwei der Knoten hosten im primären Rechenzentrum eine SQL Server-Failoverclusteringinstanz (FCI) und haben Zugriff auf dieselben freigegebenen Datenträger.</span><span class="sxs-lookup"><span data-stu-id="3a265-180">Two of the nodes host a SQL Server failover clustering instance (FCI) in the primary data center and have access to the same shared disks.</span></span> <span data-ttu-id="3a265-181">Der dritte Knoten hostet eine eigenständige Instanz von SQL Server in einem anderen Rechenzentrum und verfügt nicht über Zugriff auf die freigegebenen Datenträger vom primären Rechenzentrum.</span><span class="sxs-lookup"><span data-stu-id="3a265-181">The third node hosts a stand-alone instance of SQL Server in a different data center and does not have access to the shared disks from the primary data center.</span></span> <span data-ttu-id="3a265-182">Diese WSFC-Clusterkonfiguration unterstützt die Bereitstellung einer Verfügbarkeitsgruppe, wenn die FCI das primäre Replikat hostet und die eigenständige Instanz das sekundäre Replikat hostet.</span><span class="sxs-lookup"><span data-stu-id="3a265-182">This WSFC cluster configuration supports the deployment of an availability group if the FCI hosts the primary replica and the stand-alone instance hosts the secondary replica.</span></span>  
  
 <span data-ttu-id="3a265-183">Bei Auswahl einer FCI zum Hosten eines Verfügbarkeitsreplikats für eine angegebene Verfügbarkeitsgruppe muss gewährleistet sein, dass ein FCI-Failover nicht möglicherweise bewirkt, dass ein einzelner WSFC-Knoten versucht, zwei Verfügbarkeitsreplikate für dieselbe Verfügbarkeitsgruppe zu hosten.</span><span class="sxs-lookup"><span data-stu-id="3a265-183">When choosing an FCI to host an availability replica for a given availability group, ensure that an FCI failover could not potentially cause a single WSFC node to attempt to host two availability replicas for the same availability group.</span></span>  
  
 <span data-ttu-id="3a265-184">Im folgenden Beispielszenario wird veranschaulicht, wie diese Konfiguration zu Problemen führen könnte:</span><span class="sxs-lookup"><span data-stu-id="3a265-184">The following example scenario illustrates how this configuration could lead to problems:</span></span>  
  
 <span data-ttu-id="3a265-185">Marcel konfiguriert einen WSFC-Cluster mit zwei Knoten, `NODE01` und `NODE02`.</span><span class="sxs-lookup"><span data-stu-id="3a265-185">Marcel configures two a WSFC cluster with two nodes, `NODE01` and `NODE02`.</span></span> <span data-ttu-id="3a265-186">Er installiert eine [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Failoverclusterinstanz, `fciInstance1`, auf `NODE01` und `NODE02` , wobei `NODE01` der aktuelle Besitzer für `fciInstance1`ist.</span><span class="sxs-lookup"><span data-stu-id="3a265-186">He installs a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance, `fciInstance1`, on both `NODE01` and `NODE02` where `NODE01` is the current owner for `fciInstance1`.</span></span>  
 <span data-ttu-id="3a265-187">Auf `NODE02`installiert Marcel eine andere Instanz von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], `Instance3`, die eine eigenständige Instanz ist.</span><span class="sxs-lookup"><span data-stu-id="3a265-187">On `NODE02`, Marcel installs another instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], `Instance3`, which is a stand-alone instance.</span></span>  
 <span data-ttu-id="3a265-188">Auf `NODE01`aktiviert Marcel fciInstance1 für [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3a265-188">On `NODE01`, Marcel enables fciInstance1 for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span></span> <span data-ttu-id="3a265-189">Auf `NODE02`aktiviert er `Instance3` für [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3a265-189">On `NODE02`, he enables `Instance3` for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span></span> <span data-ttu-id="3a265-190">Dann richtet er eine Verfügbarkeitsgruppe ein, für die `fciInstance1` das primäre Replikat hostet, und `Instance3` hostet das sekundäre Replikat.</span><span class="sxs-lookup"><span data-stu-id="3a265-190">Then he sets up an availability group for which `fciInstance1` hosts the primary replica, and `Instance3` hosts the secondary replica.</span></span>  
 <span data-ttu-id="3a265-191">An einen bestimmten Punkt ist `fciInstance1` auf `NODE01`nicht mehr verfügbar, und der WSFC-Cluster verursacht einen Failover von `fciInstance1` auf `NODE02`.</span><span class="sxs-lookup"><span data-stu-id="3a265-191">At some point `fciInstance1` becomes unavailable on `NODE01`, and the WSFC cluster causes a failover of `fciInstance1` to `NODE02`.</span></span> <span data-ttu-id="3a265-192">Nach dem Failover ist `fciInstance1` eine [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]-fähige Instanz, die unter der primären Rolle auf `NODE02`ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="3a265-192">After the failover, `fciInstance1` is a [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]-enabled instance running under the primary role on `NODE02`.</span></span> <span data-ttu-id="3a265-193">`Instance3` befindet sich jetzt jedoch auf demselben WSFC-Knoten wie `fciInstance1`.</span><span class="sxs-lookup"><span data-stu-id="3a265-193">However, `Instance3` now resides on the same WSFC node as `fciInstance1`.</span></span> <span data-ttu-id="3a265-194">Dies verstößt gegen die [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] -Einschränkung.</span><span class="sxs-lookup"><span data-stu-id="3a265-194">This violates the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] constraint.</span></span>  
 <span data-ttu-id="3a265-195">Um das Problem in diesem Szenario zu beheben, muss sich die eigenständige Instanz, `Instance3`, auf einem anderen Knoten im selben WSFC-Cluster wie `NODE01` und `NODE02`befinden.</span><span class="sxs-lookup"><span data-stu-id="3a265-195">To correct the problem that this scenario presents, the stand-alone instance, `Instance3`, must reside on another node in the same WSFC cluster as `NODE01` and `NODE02`.</span></span>  
  
 <span data-ttu-id="3a265-196">Weitere Informationen zur [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]-Failover-Clusterunterstützung finden Sie unter [AlwaysOn-Failoverclusterinstanzen &#40;SQL Server&#41;](../../../sql-server/failover-clusters/windows/always-on-failover-cluster-instances-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="3a265-196">For more information about [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clustering, see [AlwaysOn Failover Cluster Instances &#40;SQL Server&#41;](../../../sql-server/failover-clusters/windows/always-on-failover-cluster-instances-sql-server.md).</span></span>  
  
##  <a name="restrictions-on-using-the-wsfc-failover-cluster-manager-with-availability-groups"></a><a name="FCMrestrictions"></a><span data-ttu-id="3a265-197">Einschränkungen bei der Verwendung der wsfc-Failovercluster-Manager mit Verfügbarkeits Gruppen</span><span class="sxs-lookup"><span data-stu-id="3a265-197">Restrictions on Using The WSFC Failover Cluster Manager with Availability Groups</span></span>  
 <span data-ttu-id="3a265-198">Verwenden Sie den Failovercluster-Manager nicht zum Bearbeiten von Verfügbarkeitsgruppen, beispielsweise:</span><span class="sxs-lookup"><span data-stu-id="3a265-198">Do not use the Failover Cluster Manager to manipulate availability groups, for example:</span></span>  
  
-   <span data-ttu-id="3a265-199">Fügen Sie im Clusterdienst (Ressourcengruppe) keine Ressourcen für die Verfügbarkeitsgruppe hinzu, bzw. entfernen Sie keine Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="3a265-199">Do not add or remove resources in the clustered service (resource group) for the availability group.</span></span>  
  
-   <span data-ttu-id="3a265-200">Ändern Sie keine Verfügbarkeitsgruppeneigenschaften, z. B. die möglichen und bevorzugten Besitzer.</span><span class="sxs-lookup"><span data-stu-id="3a265-200">Do not change any availability group properties, such as the possible owners and preferred owners.</span></span> <span data-ttu-id="3a265-201">Diese Eigenschaften werden automatisch von der Verfügbarkeitsgruppe festgelegt.</span><span class="sxs-lookup"><span data-stu-id="3a265-201">These properties are set automatically by the availability group.</span></span>  
  
-   <span data-ttu-id="3a265-202">Verwenden Sie den Failovercluster-Manager nicht zum Verschieben von Verfügbarkeitsgruppen auf verschiedene Knoten oder zum Ausführen eines Failovers für Verfügbarkeitsgruppen.</span><span class="sxs-lookup"><span data-stu-id="3a265-202">Do not use the Failover Cluster Manager to move availability groups to different nodes or to fail over availability groups.</span></span> <span data-ttu-id="3a265-203">Der Synchronisierungsstatus der Verfügbarkeitsreplikate ist dem Failovercluster-Manager nicht bekannt, sodass ein solcher Vorgang die Downtime verlängern kann.</span><span class="sxs-lookup"><span data-stu-id="3a265-203">The Failover Cluster Manager is not aware of the synchronization status of the availability replicas, and doing so can lead to extended downtime.</span></span> <span data-ttu-id="3a265-204">Sie müssen [!INCLUDE[tsql](../../../includes/tsql-md.md)] oder [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]verwenden.</span><span class="sxs-lookup"><span data-stu-id="3a265-204">You must use [!INCLUDE[tsql](../../../includes/tsql-md.md)] or [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span>  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="3a265-205">Verwandte Inhalte</span><span class="sxs-lookup"><span data-stu-id="3a265-205">Related Content</span></span>  
  
-   <span data-ttu-id="3a265-206">**Blogs:**</span><span class="sxs-lookup"><span data-stu-id="3a265-206">**Blogs:**</span></span>  
  
     [<span data-ttu-id="3a265-207">Konfigurieren von Windows-Failoverclustering für SQL Server (Verfügbarkeitsgruppe oder Failoverclusterinstanz) mit beschränkter Sicherheit</span><span class="sxs-lookup"><span data-stu-id="3a265-207">Configure Windows Failover Clustering for SQL Server (Availability Group or FCI) with Limited Security</span></span>](https://blogs.msdn.com/b/sqlalwayson/archive/2012/06/05/configure-windows-failover-clustering-for-sql-server-availability-group-or-fci-with-limited-security.aspx)  
  
     [<span data-ttu-id="3a265-208">SQL Server AlwaysOn-Teamblogs: Der offizielle SQL Server AlwaysOn-Teamblog</span><span class="sxs-lookup"><span data-stu-id="3a265-208">SQL Server AlwaysOn Team Blogs: The official SQL Server AlwaysOn Team Blog</span></span>](https://blogs.msdn.com/b/sqlalwayson/)  
  
     [<span data-ttu-id="3a265-209">CSS SQL Server-Technikblogs</span><span class="sxs-lookup"><span data-stu-id="3a265-209">CSS SQL Server Engineers Blogs</span></span>](https://blogs.msdn.com/b/psssql/)  
  
-   <span data-ttu-id="3a265-210">**Whitepaper:**</span><span class="sxs-lookup"><span data-stu-id="3a265-210">**Whitepapers:**</span></span>  
  
     [<span data-ttu-id="3a265-211">AlwaysOn-Architekturhandbuch: Erstellen einer Lösung für hohe Verfügbarkeit und Notfallwiederherstellung unter Verwendung von Failoverclusterinstanzen und Verfügbarkeitsgruppen</span><span class="sxs-lookup"><span data-stu-id="3a265-211">AlwaysOn Architecture Guide: Building a High Availability and Disaster Recovery Solution by Using Failover Cluster Instances and Availability Groups</span></span>](https://msdn.microsoft.com/library/jj215886.aspx)  
  
     [<span data-ttu-id="3a265-212">Microsoft SQL Server AlwaysOn-Lösungshandbuch zu hoher Verfügbarkeit und Notfallwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="3a265-212">Microsoft SQL Server AlwaysOn Solutions Guide for High Availability and Disaster Recovery</span></span>](https://go.microsoft.com/fwlink/?LinkId=227600)  
  
     [<span data-ttu-id="3a265-213">Microsoft-Whitepapers für SQL Server 2012</span><span class="sxs-lookup"><span data-stu-id="3a265-213">Microsoft White Papers for SQL Server 2012</span></span>](https://msdn.microsoft.com/library/hh403491.aspx)  
  
     [<span data-ttu-id="3a265-214">Whitepapers des SQL Server-Kundenberatungsteams</span><span class="sxs-lookup"><span data-stu-id="3a265-214">SQL Server Customer Advisory Team Whitepapers</span></span>](http://sqlcat.com/)  
  
## <a name="see-also"></a><span data-ttu-id="3a265-215">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="3a265-215">See Also</span></span>  
 <span data-ttu-id="3a265-216">[Übersicht über die AlwaysOn-Verfügbarkeitsgruppen &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) [aktivieren und Deaktivieren von AlwaysOn-Verfügbarkeitsgruppen &#40;](enable-and-disable-always-on-availability-groups-sql-server.md) SQL Server&#41;&#40;für die [Überwachung von Verfügbarkeits Gruppen&#41;Transact-SQL](monitor-availability-groups-transact-sql.md) -</span><span class="sxs-lookup"><span data-stu-id="3a265-216">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) [Enable and Disable AlwaysOn Availability Groups &#40;SQL Server&#41;](enable-and-disable-always-on-availability-groups-sql-server.md) [Monitor Availability Groups &#40;Transact-SQL&#41;](monitor-availability-groups-transact-sql.md)</span></span>  
 [<span data-ttu-id="3a265-217">AlwaysOn-Failoverclusterinstanzen &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="3a265-217">AlwaysOn Failover Cluster Instances &#40;SQL Server&#41;</span></span>](../../../sql-server/failover-clusters/windows/always-on-failover-cluster-instances-sql-server.md) 
  
  
