---
title: Links in CLR-Integrations Sicherheit | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: reference
helpviewer_keywords:
- table-access links [CLR integration]
- security [CLR integration]
- invocation links [CLR integration]
- gated links [CLR integration]
ms.assetid: 168efd01-d12e-4bdf-a1b3-0b5c76474eaf
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 52a4f8084a8a90384c8916f2219faaf2c138b11c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87726170"
---
# <a name="links-in-clr-integration-security"></a><span data-ttu-id="418c0-102">Links in Sicherheit der CLR-Integration</span><span class="sxs-lookup"><span data-stu-id="418c0-102">Links in CLR Integration Security</span></span>
  <span data-ttu-id="418c0-103">In diesem Abschnitt wird beschrieben, wie in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]Teile des Benutzercodes andere Benutzercodeteile in [!INCLUDE[tsql](../../includes/tsql-md.md)] oder einer der verwalteten Sprachen aufrufen können.</span><span class="sxs-lookup"><span data-stu-id="418c0-103">This section describes how pieces of user code can call each other in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], either in [!INCLUDE[tsql](../../includes/tsql-md.md)] or in one of the managed languages.</span></span> <span data-ttu-id="418c0-104">Diese Beziehungen zwischen Objekten werden als Links bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="418c0-104">These relationships between objects are referred to as links.</span></span>  
  
## <a name="invocation-links"></a><span data-ttu-id="418c0-105">Aufruflinks</span><span class="sxs-lookup"><span data-stu-id="418c0-105">Invocation Links</span></span>  
 <span data-ttu-id="418c0-106">Aufruflinks entsprechen einem Codeaufruf, beispielsweise wenn ein Benutzer ein Objekt (z. B. der Aufruf einer gespeicherten Prozedur durch einen [!INCLUDE[tsql](../../includes/tsql-md.md)] -Batch) oder eine gespeicherte CLR-Prozedur (Common Language Runtime) oder Funktion aufruft.</span><span class="sxs-lookup"><span data-stu-id="418c0-106">Invocation links correspond to a code invocation, either from a user calling an object (such as a [!INCLUDE[tsql](../../includes/tsql-md.md)] batch calling a stored procedure), or a common language runtime (CLR) stored procedure or function.</span></span> <span data-ttu-id="418c0-107">Aufruflinks bewirken eine Überprüfung der `EXECUTE`-Berechtigung für den aufgerufenen Code.</span><span class="sxs-lookup"><span data-stu-id="418c0-107">Invocation links cause an `EXECUTE` permission on the callee to be checked.</span></span>  
  
## <a name="table-access-links"></a><span data-ttu-id="418c0-108">Tabellenzugriffslinks</span><span class="sxs-lookup"><span data-stu-id="418c0-108">Table-Access Links</span></span>  
 <span data-ttu-id="418c0-109">Tabellenzugriffslinks entsprechen dem Abrufen oder Ändern von Werten in einer Tabelle, Sicht oder Tabellenwertfunktion.</span><span class="sxs-lookup"><span data-stu-id="418c0-109">Table access links correspond to retrieving or modifying values in a table, view, or a table-valued function.</span></span> <span data-ttu-id="418c0-110">Sie gleichen Aufruflinks, verfügen jedoch durch die SELECT-, INSERT-, UPDATE- und DELETE-Berechtigungen über eine differenziertere Zugriffssteuerung.</span><span class="sxs-lookup"><span data-stu-id="418c0-110">They are similar to invocation links, except that they have a finer-grained access control in terms of SELECT, INSERT, UPDATE, and DELETE permissions.</span></span>  
  
## <a name="gated-links"></a><span data-ttu-id="418c0-111">Gated Links</span><span class="sxs-lookup"><span data-stu-id="418c0-111">Gated Links</span></span>  
 <span data-ttu-id="418c0-112">Gated Links bedeuten, dass die Berechtigungen für eine Objektbeziehung während der Ausführung nicht mehr überprüft werden, sobald die Beziehung hergestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="418c0-112">Gated links mean that during execution, permissions are not checked across the object relationship once it has been established.</span></span> <span data-ttu-id="418c0-113">Wenn zwischen zwei Objekten (beispielsweise Objekt **x** und Objekt **y**) ein Gated Link besteht, dann werden die Berechtigungen für Objekt **y** und andere Objekte, auf die von Objekt **y** aus zugegriffen wird, nur während der Erstellung von Objekt **x**überprüft.</span><span class="sxs-lookup"><span data-stu-id="418c0-113">When there is a gated link between two objects (for example, object **x** and object **y**), permissions on object **y** and other objects accessed from object **y** are checked only at the creation time of object **x**.</span></span> <span data-ttu-id="418c0-114">Zum Zeitpunkt der Erstellung von Objekt **x** `REFERENCE` wird die Berechtigung für **y** auf den Besitzer von **x**überprüft.</span><span class="sxs-lookup"><span data-stu-id="418c0-114">At the creation time of object **x**, `REFERENCE` permission is checked on **y** against the owner of **x**.</span></span> <span data-ttu-id="418c0-115">Während der Codeausführung (wenn beispielsweise das Objekt **x**aufgerufen wird) werden keine Berechtigungen für Objekt **y** oder andere Objekte überprüft, auf die dieses Objekt statisch verweist.</span><span class="sxs-lookup"><span data-stu-id="418c0-115">At execution time, (for example, when someone calls object **x**), there are no permissions checked against **y** or other objects it references statically.</span></span> <span data-ttu-id="418c0-116">Während der Ausführung wird überprüft, ob eine entsprechende Berechtigung für Objekt **x** selbst vorliegt.</span><span class="sxs-lookup"><span data-stu-id="418c0-116">At execution time, an appropriate permission will be checked against object **x** itself.</span></span>  
  
 <span data-ttu-id="418c0-117">Gated Links werden immer in Verbindung mit einer Metadatenabhängigkeit zwischen zwei Objekten verwendet.</span><span class="sxs-lookup"><span data-stu-id="418c0-117">Gated links are always used in conjunction with a metadata dependency between two objects.</span></span> <span data-ttu-id="418c0-118">Diese Metadatenabhängigkeit ist eine Beziehung, die in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Katalogen eingerichtet wird und verhindert, dass ein Objekt solange nicht freigegeben wird, solange ein anderes Objekt von ihm abhängt.</span><span class="sxs-lookup"><span data-stu-id="418c0-118">This metadata dependency is a relationship established in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] catalogs that prevents an object from being dropped as long as another object depends on it.</span></span>  
  
 <span data-ttu-id="418c0-119">Gated Links sind nützlich, wenn es nicht angemessen oder praktikabel ist, vielen abhängigen Objekten Berechtigungen zu erteilen.</span><span class="sxs-lookup"><span data-stu-id="418c0-119">Gated links are useful when it is not appropriate or manageable to give permissions to many dependent objects.</span></span> <span data-ttu-id="418c0-120">Gated Links werden zwischen Objekten eingeführt, die [!INCLUDE[tsql](../../includes/tsql-md.md)] -Einstiegspunkte in CLR-Assemblys (z. B. CLR-Prozeduren, Trigger, Funktionen, Typen und Aggregate) und die Assemblys definieren, von denen diese definiert werden.</span><span class="sxs-lookup"><span data-stu-id="418c0-120">Gated links are introduced between objects that define [!INCLUDE[tsql](../../includes/tsql-md.md)] entry points into CLR assemblies (for example, CLR procedures, triggers, functions, types, and aggregates) and the assemblies from which they are defined.</span></span> <span data-ttu-id="418c0-121">Der Schutz dieser Objekte durch Gated Links hat zur Folge, dass ein in einer CLR-Assembly definierter [!INCLUDE[tsql](../../includes/tsql-md.md)] -Einstiegspunkt aufgerufen werden kann, wenn der Aufrufer über die entsprechende Berechtigung für diesen [!INCLUDE[tsql](../../includes/tsql-md.md)] -Eintrittspunkt verfügt.</span><span class="sxs-lookup"><span data-stu-id="418c0-121">Gated security against these objects implies that in order to invoke a [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point defined in a CLR assembly, the caller only needs an appropriate permission on that [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point.</span></span> <span data-ttu-id="418c0-122">Der Aufrufer muss nicht über Berechtigungen für die Assembly oder andere Assemblys, auf die diese statisch verweist, verfügen.</span><span class="sxs-lookup"><span data-stu-id="418c0-122">The caller is not required to have permissions on that assembly or any other assemblies it statically references.</span></span> <span data-ttu-id="418c0-123">Die Berechtigungen für die Assembly werden zur Erstellungszeit des [!INCLUDE[tsql](../../includes/tsql-md.md)] -Einstiegspunkts überprüft.</span><span class="sxs-lookup"><span data-stu-id="418c0-123">The permissions on the assembly are checked at creation time of the [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point.</span></span>  
  
## <a name="sql-server-authorization-based-security"></a><span data-ttu-id="418c0-124">Auf der SQL Server-Autorisierung basierende Sicherheit</span><span class="sxs-lookup"><span data-stu-id="418c0-124">SQL Server Authorization-Based Security</span></span>  
 <span data-ttu-id="418c0-125">Im Folgenden werden die Grundregeln beschrieben, die den [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Sicherheitsprüfungen von Aufrufen von und zwischen CLR-basierten Datenobjekten zugrunde liegen. Die ersten drei Regeln definieren, welche Berechtigungen für welches Objekt überprüft werden. Die vierte Regel definiert, für welchen Ausführungskontext die Berechtigung überprüft wird.</span><span class="sxs-lookup"><span data-stu-id="418c0-125">The following are the basic rules behind the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] security checks for invocations of and between CLR-based database objects; the first three rules define which permissions are checked and against which object; the fourth rule defines which execution context the permission is checked against.</span></span>  
  
1.  <span data-ttu-id="418c0-126">Sofern die Aufrufe nicht innerhalb desselben Objekts erfolgen, ist für alle Aufrufe die `EXECUTE`-Berechtigung erforderlich. Das bedeutet, dass für Aufrufe innerhalb einer Assembly keine Berechtigungen überprüft werden müssen.</span><span class="sxs-lookup"><span data-stu-id="418c0-126">All invocations require `EXECUTE` permission unless the invocations occur within the same object; this means that calls within the same assembly do not require any permission checks.</span></span> <span data-ttu-id="418c0-127">Die Berechtigung wird während der Ausführung überprüft.</span><span class="sxs-lookup"><span data-stu-id="418c0-127">The permission is checked at execution time.</span></span>  
  
2.  <span data-ttu-id="418c0-128">Bei Gated Links ist eine `REFERENCE`-Berechtigung für das aufgerufene Objekt erforderlich, wenn das aufrufende Objekt erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="418c0-128">Gated links require `REFERENCE` permission against the callee when the calling object is created.</span></span> <span data-ttu-id="418c0-129">Bei der Objekterstellung wird geprüft, ob der Besitzer des aufrufenden Objekts über diese Berechtigung verfügt.</span><span class="sxs-lookup"><span data-stu-id="418c0-129">The permission is checked for the owner of the calling object when the object is created.</span></span>  
  
3.  <span data-ttu-id="418c0-130">Tabellenzugriffslinks erfordern beim Zugriff auf die Tabelle oder Sicht die entsprechende `SELECT`, `INSERT`-, `UPDATE`- bzw. `DELETE`-Berechtigung.</span><span class="sxs-lookup"><span data-stu-id="418c0-130">Table-access links require the corresponding `SELECT`, `INSERT`, `UPDATE`, or `DELETE` permission against the table or view being accessed.</span></span>  
  
4.  <span data-ttu-id="418c0-131">Die Berechtigung wird im aktuellen Ausführungskontext überprüft.</span><span class="sxs-lookup"><span data-stu-id="418c0-131">The permission is checked against the current execution context.</span></span> <span data-ttu-id="418c0-132">Prozeduren und Funktionen können mit einem Ausführungskontext erstellt werden, der sich vom Aufrufer unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="418c0-132">Procedures and functions can be created with an execution context that is different from the caller.</span></span> <span data-ttu-id="418c0-133">Assemblys werden immer mit dem Ausführungskontexts der Prozedur, der Funktion oder des Triggers erstellt, die bzw. der für sie definiert wurde.</span><span class="sxs-lookup"><span data-stu-id="418c0-133">Assemblies are always created with the execution context of the procedure, function, or trigger that is defined against it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="418c0-134">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="418c0-134">See Also</span></span>  
 [<span data-ttu-id="418c0-135">Sicherheit der CLR-Integration</span><span class="sxs-lookup"><span data-stu-id="418c0-135">CLR Integration Security</span></span>](../../relational-databases/clr-integration/security/clr-integration-security.md)  
  
  
