---
title: Konfigurieren einer Windows-Firewall für Datenbank-Engine-Zugriff | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/22/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- connections [SQL Server], firewall systems
- firewall systems, [Database Engine]
- security [SQL Server], firewalls
ms.assetid: 0093b43c-c6b5-4574-9b30-3a0e91e1a1f9
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: f76eecb4dd48f3e7f54cad79953773f8432f416e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87622900"
---
# <a name="configure-a-windows-firewall-for-database-engine-access"></a><span data-ttu-id="64854-102">Konfigurieren einer Windows-Firewall für Datenbank-Engine-Zugriff</span><span class="sxs-lookup"><span data-stu-id="64854-102">Configure a Windows Firewall for Database Engine Access</span></span>
  <span data-ttu-id="64854-103">In diesem Thema wird beschrieben, wie eine Windows-Firewall für Datenbank-Engine-Zugriff in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] mithilfe des SQL Server-Konfigurations-Managers konfiguriert wird.</span><span class="sxs-lookup"><span data-stu-id="64854-103">This topic describes how to configure a Windows firewall for Database Engine access in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using SQL Server Configuration Manager.</span></span> <span data-ttu-id="64854-104">Durch Firewallsysteme kann der nicht autorisierte Zugriff auf Computerressourcen verhindert werden.</span><span class="sxs-lookup"><span data-stu-id="64854-104">Firewall systems help prevent unauthorized access to computer resources.</span></span> <span data-ttu-id="64854-105">Um über eine Firewall auf eine Instanz von [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] zugreifen zu können, müssen Sie die Firewall auf dem Computer mit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] entsprechend konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="64854-105">To access an instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] through a firewall, you must configure the firewall on the computer running [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to allow access.</span></span>  
  
 <span data-ttu-id="64854-106">Weitere Informationen zu den Standardeinstellungen der Windows-Firewall und eine Beschreibung der TCP-Ports, die sich auf das [!INCLUDE[ssDE](../../includes/ssde-md.md)], Analysis Services, Reporting Services und Integration Services auswirken, finden Sie unter [Konfigurieren der Windows-Firewall für den SQL Server-Zugriff](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="64854-106">For more information about the default Windows firewall settings, and a description of the TCP ports that affect the [!INCLUDE[ssDE](../../includes/ssde-md.md)], Analysis Services, Reporting Services, and Integration Services, see [Configure the Windows Firewall to Allow SQL Server Access](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span></span> <span data-ttu-id="64854-107">Es gibt zahlreiche verschiedene Firewallsysteme auf dem Markt.</span><span class="sxs-lookup"><span data-stu-id="64854-107">There are many firewall systems available.</span></span> <span data-ttu-id="64854-108">Informationen zu den für Ihr System relevanten Einstellungen finden Sie in der Firewalldokumentation.</span><span class="sxs-lookup"><span data-stu-id="64854-108">For information specific to your system, see the firewall documentation.</span></span>  
  
 <span data-ttu-id="64854-109">Die wichtigsten Schritte zum Konfigurieren des Zugriffs werden im Folgenden beschrieben:</span><span class="sxs-lookup"><span data-stu-id="64854-109">The principal steps to allow access are:</span></span>  
  
1.  <span data-ttu-id="64854-110">Konfigurieren Sie [!INCLUDE[ssDE](../../includes/ssde-md.md)] für die Verwendung eines bestimmten TCP/IP-Ports.</span><span class="sxs-lookup"><span data-stu-id="64854-110">Configure the [!INCLUDE[ssDE](../../includes/ssde-md.md)] to use a specific TCP/IP port.</span></span> <span data-ttu-id="64854-111">In der Standardinstanz von [!INCLUDE[ssDE](../../includes/ssde-md.md)] wird Port 1433 verwendet. Sie können diese Einstellung jedoch ändern.</span><span class="sxs-lookup"><span data-stu-id="64854-111">The default instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] uses port 1433, but that can be changed.</span></span> <span data-ttu-id="64854-112">Der vom [!INCLUDE[ssDE](../../includes/ssde-md.md)] verwendete Port ist im [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Fehlerprotokoll aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="64854-112">The port used by the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is listed in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error log.</span></span> <span data-ttu-id="64854-113">Instanzen von [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], [!INCLUDE[ssEW](../../includes/ssew-md.md)] und benannte Instanzen von [!INCLUDE[ssDE](../../includes/ssde-md.md)] verwenden dynamische Ports.</span><span class="sxs-lookup"><span data-stu-id="64854-113">Instances of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], [!INCLUDE[ssEW](../../includes/ssew-md.md)], and named instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] use dynamic ports.</span></span> <span data-ttu-id="64854-114">Informationen zum Konfigurieren dieser Instanzen zum Verwenden eines bestimmten Ports finden Sie unter [Konfigurieren eines Servers zur Überwachung eines bestimmten TCP-Ports &#40;SQL Server-Konfigurations-Manager&#41;](configure-a-server-to-listen-on-a-specific-tcp-port.md).</span><span class="sxs-lookup"><span data-stu-id="64854-114">To configure these instances to use a specific port, see [Configure a Server to Listen on a Specific TCP Port &#40;SQL Server Configuration Manager&#41;](configure-a-server-to-listen-on-a-specific-tcp-port.md).</span></span>  
  
2.  <span data-ttu-id="64854-115">Konfigurieren Sie die Firewall so, dass autorisierten Benutzern oder Computern der Zugriff auf diesen Port gewährt wird.</span><span class="sxs-lookup"><span data-stu-id="64854-115">Configure the firewall to allow access to that port for authorized users or computers.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="64854-116">Mit dem [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Browser-Dienst können Benutzer ohne Kenntnis der Portnummer Verbindungen mit Instanzen von [!INCLUDE[ssDE](../../includes/ssde-md.md)] herstellen, die nicht den Port 1433 überwachen.</span><span class="sxs-lookup"><span data-stu-id="64854-116">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service lets users connect to instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] that are not listening on port 1433, without knowing the port number.</span></span> <span data-ttu-id="64854-117">Wenn Sie [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Browser verwenden möchten, müssen Sie UDP-Port 1434 öffnen.</span><span class="sxs-lookup"><span data-stu-id="64854-117">To use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser, you must open UDP port 1434.</span></span> <span data-ttu-id="64854-118">Um eine möglichst sichere Umgebung zu erzielen, lassen Sie den [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Browser-Dienst beendet, und konfigurieren Sie die Clients so, dass sie Verbindungen mithilfe der Portnummer herstellen müssen.</span><span class="sxs-lookup"><span data-stu-id="64854-118">To promote the most secure environment, leave the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service stopped, and configure clients to connect using the port number.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="64854-119">Standardmäßig wird die Windows-Firewall von [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows aktiviert. Damit wird Port 1433 geschlossen, um zu verhindern, dass Internetcomputer Verbindungen mit einer Standardinstanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] auf Ihrem Computer herstellen.</span><span class="sxs-lookup"><span data-stu-id="64854-119">By default, [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows enables the Windows Firewall, which closes port 1433 to prevent Internet computers from connecting to a default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on your computer.</span></span> <span data-ttu-id="64854-120">Verbindungen zur Standardinstanz über TCP/IP sind nicht möglich, außer wenn Sie Port 1433 erneut öffnen.</span><span class="sxs-lookup"><span data-stu-id="64854-120">Connections to the default instance using TCP/IP are not possible unless you reopen port 1433.</span></span> <span data-ttu-id="64854-121">Die grundlegenden Schritte für die Konfiguration der Windows-Firewall werden in den folgenden Verfahren beschrieben.</span><span class="sxs-lookup"><span data-stu-id="64854-121">The basic steps to configure the Windows firewall are provided in the following procedures.</span></span> <span data-ttu-id="64854-122">Weitere Informationen finden Sie in der Windows-Dokumentation.</span><span class="sxs-lookup"><span data-stu-id="64854-122">For more information, see the Windows documentation.</span></span>  
  
 <span data-ttu-id="64854-123">Als Alternative zum Konfigurieren von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] für das Lauschen an einem festen Port und zum Öffnen des Ports können Sie die ausführbare [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Datei (Sqlservr.exe) als Ausnahme in die Liste der blockierten Programme aufnehmen.</span><span class="sxs-lookup"><span data-stu-id="64854-123">As an alternative to configuring [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to listen on a fixed port and opening the port, you can list the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] executable (Sqlservr.exe) as an exception to the blocked programs.</span></span> <span data-ttu-id="64854-124">Verwenden Sie diese Methode, wenn Sie weiterhin dynamische Ports verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="64854-124">Use this method when you want to continue to use dynamic ports.</span></span> <span data-ttu-id="64854-125">Auf diese Weise kann nur auf eine einzige Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="64854-125">Only one instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can be accessed in this way.</span></span>  
  
 <span data-ttu-id="64854-126">**In diesem Thema**</span><span class="sxs-lookup"><span data-stu-id="64854-126">**In This Topic**</span></span>  
  
-   <span data-ttu-id="64854-127">**Vorbereitungen:**</span><span class="sxs-lookup"><span data-stu-id="64854-127">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="64854-128">Security</span><span class="sxs-lookup"><span data-stu-id="64854-128">Security</span></span>](#Security)  
  
-   <span data-ttu-id="64854-129">**Konfigurieren einer Windows-Firewall für Datenbank-Engine-Zugriff mithilfe von:**</span><span class="sxs-lookup"><span data-stu-id="64854-129">**To configure a Windows Firewall for Database Engine access, using:**</span></span>  
  
     [<span data-ttu-id="64854-130">SQL Server-Konfigurations-Manager</span><span class="sxs-lookup"><span data-stu-id="64854-130">SQL Server Configuration Manager</span></span>](#SSMSProcedure)  
  
## <a name="before-you-begin"></a><span data-ttu-id="64854-131">Vorbereitungen</span><span class="sxs-lookup"><span data-stu-id="64854-131">Before You Begin</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="64854-132">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="64854-132">Security</span></span>  
 <span data-ttu-id="64854-133">Das Öffnen von Ports in der Firewall kann dazu führen, dass der Server böswilligen Angriffen ausgesetzt ist.</span><span class="sxs-lookup"><span data-stu-id="64854-133">Opening ports in your firewall can leave your server exposed to malicious attacks.</span></span> <span data-ttu-id="64854-134">Daher sollten Sie Ports grundsätzlich nur dann öffnen, wenn Sie sicher sind, dass Sie das Konzept von Firewallsystemen verstanden haben.</span><span class="sxs-lookup"><span data-stu-id="64854-134">Make sure that you understand firewall systems before you open ports.</span></span> <span data-ttu-id="64854-135">Weitere Informationen finden Sie unter [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md).</span><span class="sxs-lookup"><span data-stu-id="64854-135">For more information, see [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md)</span></span>  
  
##  <a name="using-sql-server-configuration-manager"></a><a name="SSMSProcedure"></a> <span data-ttu-id="64854-136">Verwenden des SQL Server-Konfigurations-Managers</span><span class="sxs-lookup"><span data-stu-id="64854-136">Using SQL Server Configuration Manager</span></span>  
 <span data-ttu-id="64854-137">Gilt für: Windows Vista, Windows 7 und Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="64854-137">Applies to Windows Vista, Windows 7, and Windows Server 2008</span></span>  
  
 <span data-ttu-id="64854-138">Anhand der folgenden Prozeduren wird die Windows-Firewall unter Verwendung des MMC-Snap-Ins (Microsoft Management Console) "Windows-Firewall mit erweiterter Sicherheit" konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="64854-138">The following procedures configure the Windows Firewall by using the Windows Firewall with Advanced Security Microsoft Management Console (MMC) snap-in.</span></span> <span data-ttu-id="64854-139">Von der Windows-Firewall mit erweiterter Sicherheit wird nur das aktuelle Profil konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="64854-139">The Windows Firewall with Advanced Security only configures the current profile.</span></span> <span data-ttu-id="64854-140">Weitere Informationen über die Windows-Firewall mit erweiterter Sicherheit finden Sie unter [Konfigurieren der Windows-Firewall für den SQL Server-Zugriff](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="64854-140">For more information about the Windows Firewall with Advanced Security, see [Configure the Windows Firewall to Allow SQL Server Access](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md)</span></span>  
  
#### <a name="to-open-a-port-in-the-windows-firewall-for-tcp-access"></a><span data-ttu-id="64854-141">So öffnen Sie einen Port in der Windows-Firewall für den TCP-Zugriff</span><span class="sxs-lookup"><span data-stu-id="64854-141">To open a port in the Windows firewall for TCP access</span></span>  
  
1.  <span data-ttu-id="64854-142">Klicken Sie im Menü **Start** auf **Ausführen**, geben Sie **WF.msc**ein, und klicken Sie anschließend auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="64854-142">On the **Start** menu, click **Run**, type **WF.msc**, and then click **OK**.</span></span>  
  
2.  <span data-ttu-id="64854-143">Klicken Sie im linken Bereich von **Windows-Firewall mit erweiterter Sicherheit**mit der rechten Maustaste auf **Eingehende Regeln**, und klicken Sie anschließend im Aktionsbereich auf **Neue Regel** .</span><span class="sxs-lookup"><span data-stu-id="64854-143">In the **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then click **New Rule** in the action pane.</span></span>  
  
3.  <span data-ttu-id="64854-144">Wählen Sie im Dialogfeld **Regeltyp** die Option **Port**aus, und klicken Sie anschließend auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="64854-144">In the **Rule Type** dialog box, select **Port**, and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="64854-145">Wählen Sie im Dialogfeld **Protokoll und Ports** die Option **TCP**aus.</span><span class="sxs-lookup"><span data-stu-id="64854-145">In the **Protocol and Ports** dialog box, select **TCP**.</span></span> <span data-ttu-id="64854-146">Wählen Sie **bestimmte lokale Ports**aus, und geben Sie dann die Portnummer der Instanz von ein [!INCLUDE[ssDE](../../includes/ssde-md.md)] , z `1433` . b. für die Standard Instanz.</span><span class="sxs-lookup"><span data-stu-id="64854-146">Select **Specific local ports**, and then type the port number of the instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], such as `1433` for the default instance.</span></span> <span data-ttu-id="64854-147">Klicken Sie auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="64854-147">Click **Next**.</span></span>  
  
5.  <span data-ttu-id="64854-148">Wählen Sie im Dialogfeld **Aktion** die Option **Verbindung zulassen**aus, und klicken Sie anschließend auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="64854-148">In the **Action** dialog box, select **Allow the connection**, and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="64854-149">Wählen Sie im Dialogfeld **Profil** beliebige Profile aus, die die Verbindungsumgebung des Computers beschreiben, wenn Sie eine Verbindung zum [!INCLUDE[ssDE](../../includes/ssde-md.md)]herstellen möchten, und klicken Sie dann auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="64854-149">In the **Profile** dialog box, select any profiles that describe the computer connection environment when you want to connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)], and then click **Next**.</span></span>  
  
7.  <span data-ttu-id="64854-150">Geben Sie im Dialogfeld **Name** einen Namen und eine Beschreibung für diese Regel ein, und klicken Sie dann auf **Fertig stellen**.</span><span class="sxs-lookup"><span data-stu-id="64854-150">In the **Name** dialog box, type a name and description for this rule, and then click **Finish**.</span></span>  
  
#### <a name="to-open-access-to-sql-server-when-using-dynamic-ports"></a><span data-ttu-id="64854-151">So ermöglichen Sie den Zugriff auf SQL Server bei der Verwendung von dynamischen Ports</span><span class="sxs-lookup"><span data-stu-id="64854-151">To open access to SQL Server when using dynamic ports</span></span>  
  
1.  <span data-ttu-id="64854-152">Klicken Sie im Menü **Start** auf **Ausführen**, geben Sie **WF.msc**ein, und klicken Sie anschließend auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="64854-152">On the **Start** menu, click **Run**, type **WF.msc**, and then click **OK**.</span></span>  
  
2.  <span data-ttu-id="64854-153">Klicken Sie im linken Bereich von **Windows-Firewall mit erweiterter Sicherheit**mit der rechten Maustaste auf **Eingehende Regeln**, und klicken Sie anschließend im Aktionsbereich auf **Neue Regel** .</span><span class="sxs-lookup"><span data-stu-id="64854-153">In the **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then click **New Rule** in the action pane.</span></span>  
  
3.  <span data-ttu-id="64854-154">Wählen Sie im Dialogfeld **Regeltyp** die Option **Programm**aus, und klicken Sie anschließend auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="64854-154">In the **Rule Type** dialog box, select **Program**, and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="64854-155">Wählen Sie im Dialogfeld **Programm** die Option **Dieser Programmpfad**aus.</span><span class="sxs-lookup"><span data-stu-id="64854-155">In the **Program** dialog box, select **This program path**.</span></span> <span data-ttu-id="64854-156">Klicken Sie auf **Durchsuchen**, navigieren Sie zu der Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , auf die Sie durch die Firewall hindurch zugreifen möchten, und klicken Sie dann auf **Öffnen**.</span><span class="sxs-lookup"><span data-stu-id="64854-156">Click **Browse**, and navigate to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that you want to access through the firewall, and then click **Open**.</span></span> <span data-ttu-id="64854-157">Standardmäßig befindet sich [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] im Verzeichnis **C:\Programme\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Binn\Sqlservr.exe**.</span><span class="sxs-lookup"><span data-stu-id="64854-157">By default, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is at **C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Binn\Sqlservr.exe**.</span></span> <span data-ttu-id="64854-158">Klicken Sie auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="64854-158">Click **Next**.</span></span>  
  
5.  <span data-ttu-id="64854-159">Wählen Sie im Dialogfeld **Aktion** die Option **Verbindung zulassen**aus, und klicken Sie anschließend auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="64854-159">In the **Action** dialog box, select **Allow the connection**, and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="64854-160">Wählen Sie im Dialogfeld **Profil** beliebige Profile aus, die die Verbindungsumgebung des Computers beschreiben, wenn Sie eine Verbindung zum [!INCLUDE[ssDE](../../includes/ssde-md.md)]herstellen möchten, und klicken Sie dann auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="64854-160">In the **Profile** dialog box, select any profiles that describe the computer connection environment when you want to connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)], and then click **Next**.</span></span>  
  
7.  <span data-ttu-id="64854-161">Geben Sie im Dialogfeld **Name** einen Namen und eine Beschreibung für diese Regel ein, und klicken Sie dann auf **Fertig stellen**.</span><span class="sxs-lookup"><span data-stu-id="64854-161">In the **Name** dialog box, type a name and description for this rule, and then click **Finish**.</span></span>  
  
  
