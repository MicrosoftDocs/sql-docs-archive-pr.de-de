---
title: Herstellen einer Verbindung mit der Datenbank-Engine unter Verwendung von „Erweiterter Schutz“ | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- spoofing attacks
- service binding
- luring attacks
- Schannel
- channel binding
- Extended Protection
ms.assetid: ecfd783e-7dbb-4a6c-b5ab-c6c27d5dd57f
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 718e5c9897f0883734d460e34ca26bba4f759a54
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87619323"
---
# <a name="connect-to-the-database-engine-using-extended-protection"></a><span data-ttu-id="9eaf0-102">Herstellen einer Verbindung mit der Datenbank-Engine unter Verwendung von Erweiterter Schutz</span><span class="sxs-lookup"><span data-stu-id="9eaf0-102">Connect to the Database Engine Using Extended Protection</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="9eaf0-103">Erweiterter Schutz **wird von** ab [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)]unterstützt.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-103">supports **Extended Protection** beginning with [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span></span> <span data-ttu-id="9eaf0-104">**Erweiterter Schutz für die Authentifizierung** ist eine Funktion der vom Betriebssystem implementierten Netzwerkkomponenten.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-104">**Extended Protection for Authentication** is a feature of the network components implemented by the operating system.</span></span> <span data-ttu-id="9eaf0-105">**Erweiterter Schutz** wird in Windows 7 und Windows Server 2008 R2 unterstützt.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-105">**Extended Protection** is supported in Windows 7 and Windows Server 2008 R2.</span></span> <span data-ttu-id="9eaf0-106">**Erweiterter Schutz** ist in Service Packs für ältere [!INCLUDE[msCoName](../../includes/msconame-md.md)] -Betriebssystemen enthalten.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-106">**Extended Protection** is included in service packs for older [!INCLUDE[msCoName](../../includes/msconame-md.md)] operating systems.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="9eaf0-107">ist sicherer, wenn Verbindungen möglichst mithilfe des **erweiterten Schutzes**hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-107">is more secure when connections are made using **Extended Protection**.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="9eaf0-108">**Erweiterter Schutz** ist in Windows standardmäßig nicht aktiviert.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-108">Windows does not enable **Extended Protection** by default.</span></span> <span data-ttu-id="9eaf0-109">Informationen zum Aktivieren von **Erweiterter Schutz** in Windows finden Sie unter [Erweiterter Schutz für die Authentifizierung](https://support.microsoft.com/kb/968389).</span><span class="sxs-lookup"><span data-stu-id="9eaf0-109">For information about how to enable **Extended Protection** in Windows, see [Extended Protection for Authentication](https://support.microsoft.com/kb/968389).</span></span>  
  
## <a name="description-of-extended-protection"></a><span data-ttu-id="9eaf0-110">Beschreibung von "Erweiterter Schutz"</span><span class="sxs-lookup"><span data-stu-id="9eaf0-110">Description of Extended Protection</span></span>  
 <span data-ttu-id="9eaf0-111">**Erweiterter Schutz** nutzt die Dienstbindung und die Kanalbindung, um Relayangriffe während der Authentifizierung zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-111">**Extended Protection** uses service binding and channel binding to help prevent an authentication relay attack.</span></span> <span data-ttu-id="9eaf0-112">Bei einem Relayangriff während der Authentifizierung stellt ein Client, der in der Lage ist, NTLM-Authentifizierungen auszuführen (z. B. Windows-Explorer, [!INCLUDE[msCoName](../../includes/msconame-md.md)] Outlook, eine .NET SqlClient-Anwendung usw.), eine Verbindung mit einem Angreifer her (z. B. einem feindlichen CIFS-Dateiserver).</span><span class="sxs-lookup"><span data-stu-id="9eaf0-112">In an authentication relay attack, a client that can perform NTLM authentication (for example, Windows Explorer, [!INCLUDE[msCoName](../../includes/msconame-md.md)] Outlook, a .NET SqlClient application, etc.), connects to an attacker (for example, a malicious CIFS file server).</span></span> <span data-ttu-id="9eaf0-113">Der Angreifer verwendet die Anmeldeinformationen des Clients, um sich als der Client auszugeben und sich bei einem Dienst (z.B. einer Instanz des [!INCLUDE[ssDE](../../includes/ssde-md.md)]-Diensts) zu authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-113">The attacker uses the client's credentials to masquerade as the client and authenticate to a service (for example, an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] service).</span></span>  
  
 <span data-ttu-id="9eaf0-114">Der Angriff kann auf zwei Arten erfolgen:</span><span class="sxs-lookup"><span data-stu-id="9eaf0-114">There are two variations of this attack:</span></span>  
  
-   <span data-ttu-id="9eaf0-115">Bei einem "Lockangriff" wird der Client dazu verleitet, freiwillig eine Verbindung mit dem Angreifer herzustellen.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-115">In a luring attack, the client is lured to voluntarily connect to the attacker.</span></span>  
  
-   <span data-ttu-id="9eaf0-116">Bei einem Spoofingangriff beabsichtigt der Client, eine Verbindung mit einem gültigen Dienst herzustellen, bemerkt jedoch nicht, dass DNS und/oder IP-Routing manipuliert wurden, um die Verbindung an den Angreifer umzuleiten.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-116">In a spoofing attack, the client intends to connect to a valid service, but is unaware that one or both of DNS and IP routing are poisoned to redirect the connection to the attacker instead.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="9eaf0-117">trägt mithilfe der Dienstbindung und Kanalbindung dazu bei, solche Angriffe auf [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Instanzen zu reduzieren.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-117">supports service binding and channel binding to help reduce these attacks on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instances.</span></span>  
  
### <a name="service-binding"></a><span data-ttu-id="9eaf0-118">Dienstbindung</span><span class="sxs-lookup"><span data-stu-id="9eaf0-118">Service Binding</span></span>  
 <span data-ttu-id="9eaf0-119">Bei der Dienstbindung werden Lockangriffe dadurch verhindert, dass ein Client einen signierten Dienstprinzipalnamen (Service Principal Name, SPN) des [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Diensts senden muss, mit dem der Client eine Verbindung herstellen möchte.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-119">Service binding addresses luring attacks by requiring a client to send a signed service principal name (SPN) of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service that the client intends to connect to.</span></span> <span data-ttu-id="9eaf0-120">Der Dienst überprüft als Teil der Authentifizierungsantwort, ob der im Paket empfangene SPN mit seinem eigenen SPN übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-120">As part of the authentication response, the service validates that the SPN received in the packet matches its own SPN.</span></span> <span data-ttu-id="9eaf0-121">Wenn ein Client verleitet wird, eine Verbindung mit einem Angreifer herzustellen, sendet der Client den signierten SPN des Angreifers.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-121">If a client is lured to connect to an attacker, the client will include the signed SPN of the attacker.</span></span> <span data-ttu-id="9eaf0-122">Der Angreifer kann das Paket nicht übertragen, um sich beim echten [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Dienst als Client zu authentifizieren, weil das Paket den SPN des Angreifers enthält.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-122">The attacker cannot relay the packet to authenticate to the real [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service as the client, because it would include the SPN of the attacker.</span></span> <span data-ttu-id="9eaf0-123">Bei der Dienstbindung fallen einmalig unwesentliche Kosten an, allerdings bietet sie keinen Schutz vor Spoofingangriffen.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-123">Service binding incurs a one-time, negligible cost, but it does not address spoofing attacks.</span></span> <span data-ttu-id="9eaf0-124">Dienstbindung tritt auf, wenn eine Clientanwendung keine Verschlüsselung verwendet, um eine Verbindung mit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]herzustellen.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-124">Service Binding occurs when a client application does not use encryption to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
### <a name="channel-binding"></a><span data-ttu-id="9eaf0-125">Kanalbindung</span><span class="sxs-lookup"><span data-stu-id="9eaf0-125">Channel Binding</span></span>  
 <span data-ttu-id="9eaf0-126">Bei der Kanalbindung wird zwischen einem Client und einer Instanz des [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Diensts ein sicherer Kanal (SChannel) eingerichtet.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-126">Channel binding establishes a secure channel (Schannel) between a client and an instance of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service.</span></span> <span data-ttu-id="9eaf0-127">Der Dienst überprüft die Echtheit des Clients, indem er das für den jeweiligen Kanal spezifische Kanalbindungsbindungstoken (Channel Binding Token, CBT) des Clients mit dem eigenen CBT vergleicht.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-127">The service verifies the authenticity of the client by comparing the client's channel binding token (CBT) specific to that channel, with its own CBT.</span></span> <span data-ttu-id="9eaf0-128">Durch die Kanalbindung werden sowohl Lock- als auch Spoofingangriffe unterbunden.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-128">Channel binding addresses both luring and spoofing attacks.</span></span> <span data-ttu-id="9eaf0-129">Diese Methode verursacht jedoch höhere Laufzeitkosten, da TLS (Transport Layer Security)-Verschlüsselung für den gesamten Sitzungsdatenverkehr erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-129">However, it incurs a larger runtime cost, because it requires Transport Layer Security (TLS) encryption of all the session traffic.</span></span> <span data-ttu-id="9eaf0-130">Kanalbindung tritt auf, wenn eine Clientanwendung Verschlüsselungen verwendet, um eine Verbindung mit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]herzustellen – unabhängig davon, ob Verschlüsselungen vom Client oder dem Server erzwungen werden.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-130">Channel Binding occurs when a client application uses encryption to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], regardless of whether encryption is enforced by the client or by the server.</span></span>  
  
> [!WARNING]  
>  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="9eaf0-131">und [!INCLUDE[msCoName](../../includes/msconame-md.md)] -Datenanbieter für [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] unterstützen TLS 1.0 und SSL 3.0.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-131">and [!INCLUDE[msCoName](../../includes/msconame-md.md)] data providers for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] support TLS 1.0 and SSL 3.0.</span></span> <span data-ttu-id="9eaf0-132">Wenn Sie ein anderes Protokoll (beispielsweise TLS 1.1 oder TLS 1.2) erzwingen, indem Sie Änderungen an der SChannel-Betriebssystemebene vornehmen, können Sie möglicherweise keine Verbindung mit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] herstellen.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-132">If you enforce a different protocol (such as TLS 1.1 or TLS 1.2) by making changes in the operating system SChannel layer, your connections to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might fail.</span></span>  
  
### <a name="operating-system-support"></a><span data-ttu-id="9eaf0-133">Betriebssystemunterstützung</span><span class="sxs-lookup"><span data-stu-id="9eaf0-133">Operating System Support</span></span>  
 <span data-ttu-id="9eaf0-134">Die folgenden Links enthalten weitere Informationen dazu, wie **Erweiterter Schutz**von Windows unterstützt wird:</span><span class="sxs-lookup"><span data-stu-id="9eaf0-134">The following links provide more information about how Windows supports **Extended Protection**:</span></span>  
  
-   [<span data-ttu-id="9eaf0-135">Integrierte Windows-Authentifizierung unter Verwendung von "Erweiterter Schutz" (möglicherweise auf Englisch)</span><span class="sxs-lookup"><span data-stu-id="9eaf0-135">Integrated Windows Authentication with Extended Protection</span></span>](https://msdn.microsoft.com/library/dd639324.aspx)  
  
-   [<span data-ttu-id="9eaf0-136">Microsoft-Sicherheitsempfehlung (973811): Erweiterter Schutz für die Authentifizierung (möglicherweise auf Englisch)</span><span class="sxs-lookup"><span data-stu-id="9eaf0-136">Microsoft Security Advisory (973811), Extended Protection for Authentication</span></span>](https://support.microsoft.com//help/973811/microsoft-security-advisory-extended-protection-for-authentication)  
  
## <a name="settings"></a><span data-ttu-id="9eaf0-137">Einstellungen</span><span class="sxs-lookup"><span data-stu-id="9eaf0-137">Settings</span></span>  
 <span data-ttu-id="9eaf0-138">Es gibt drei [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Verbindungseinstellungen, die sich auf die Dienstbindung und die Kanalbindung auswirken.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-138">There are three [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] connection settings that affect service binding and channel binding.</span></span> <span data-ttu-id="9eaf0-139">Die Einstellungen können mit dem [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Konfigurations-Manager oder der Windows-Verwaltungsinstrumentation konfiguriert und mithilfe des Facets **Serverprotokolleinstellung** der richtlinienbasierten Verwaltung angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-139">The settings can be configured by using the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager, or by using WMI, and can by viewed by using the **Server Protocol Settings** facet of Policy Based Management.</span></span>  
  
-   <span data-ttu-id="9eaf0-140">**Erzwingen der Verschlüsselung**</span><span class="sxs-lookup"><span data-stu-id="9eaf0-140">**Force Encryption**</span></span>  
  
     <span data-ttu-id="9eaf0-141">Mögliche Werte sind **Ein** und **Aus**.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-141">Possible values are **On** and **Off**.</span></span> <span data-ttu-id="9eaf0-142">Zur Verwendung der Kanalbindung muss **Verschlüsselung erzwingen** auf **Ein**festgelegt werden, sodass die Verschlüsselung auf allen Clients erzwungen wird.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-142">To use channel binding, **Force Encryption** must be set to **On**, and all clients will be forced to encrypt.</span></span> <span data-ttu-id="9eaf0-143">Bei der Einstellung **Aus**wird nur die Dienstbindung gewährleistet.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-143">If it is **Off**, only service binding is guaranteed.</span></span> <span data-ttu-id="9eaf0-144">**Verschlüsselung erzwingen** befindet sich im **-Konfigurations-Manager unter** Protokolle für MSSQLSERVER-Eigenschaften (Registerkarte „Flags“) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="9eaf0-144">**Force Encryption** is on the **Protocols for MSSQLSERVER Properties (Flags Tab)** in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span>  
  
-   <span data-ttu-id="9eaf0-145">**Erweiterter Schutz**</span><span class="sxs-lookup"><span data-stu-id="9eaf0-145">**Extended Protection**</span></span>  
  
     <span data-ttu-id="9eaf0-146">Mögliche Werte sind **Aus**, **Zulässig**und **Erforderlich**.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-146">Possible values are **Off**, **Allowed**, and **Required**.</span></span> <span data-ttu-id="9eaf0-147">Mit der Variablen **Erweiterter Schutz** können Benutzer die Ebene für **Erweiterter Schutz** für jede [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Instanz konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-147">The **Extended Protection** variable lets users configure the **Extended Protection** level for each [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="9eaf0-148">**Erweiterter Schutz** befindet sich im **-Konfigurations-Manager unter** Protokolle für MSSQLSERVER-Eigenschaften [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (Registerkarte „Erweitert“).</span><span class="sxs-lookup"><span data-stu-id="9eaf0-148">**Extended Protection** is on the **Protocols for MSSQLSERVER Properties (Advanced Tab)** in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span>  
  
    -   <span data-ttu-id="9eaf0-149">Bei der Einstellung **Aus**ist **Erweiterter Schutz** deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-149">When set to **Off**, **Extended Protection** is disabled.</span></span> <span data-ttu-id="9eaf0-150">Die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Instanz akzeptiert Verbindungen von jedem beliebigen Client, unabhängig davon, ob er geschützt ist oder nicht.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-150">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will accept connections from any client regardless of whether the client is protected or not.</span></span> <span data-ttu-id="9eaf0-151">**Aus** ist mit älteren und nicht gepatchten Betriebssystemen kompatibel, bietet aber weniger Sicherheit.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-151">**Off** is compatible with older and unpatched operating systems, but is less secure.</span></span> <span data-ttu-id="9eaf0-152">Verwenden Sie diese Einstellung, wenn Sie wissen, dass die Clientbetriebssysteme keinen erweiterten Schutz unterstützen.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-152">Use this setting when you know that the client operating systems do not support extended protection.</span></span>  
  
    -   <span data-ttu-id="9eaf0-153">Bei der Einstellung **Zulässig**wird **Erweiterter Schutz** für Verbindungen von Betriebssystemen vorausgesetzt, die die Funktion **Erweiterter Schutz**unterstützen.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-153">When set to **Allowed**, **Extended Protection** is required for connections from operating systems that support **Extended Protection**.</span></span> <span data-ttu-id="9eaf0-154">Bei Verbindungen von Betriebssystemen, die**Erweiterter Schutz** nicht unterstützen, wird die Funktion **Erweiterter Schutz**ignoriert.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-154">**Extended Protection** is ignored for connections from operating systems that do not support **Extended Protection**.</span></span> <span data-ttu-id="9eaf0-155">Verbindungen von ungeschützten Clientanwendungen, die auf geschützten Clientbetriebssystemen ausgeführt werden, werden abgelehnt.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-155">Connections from unprotected client applications that are running on protected client operating systems are rejected.</span></span> <span data-ttu-id="9eaf0-156">Diese Einstellung ist sicherer als **Aus**, bietet jedoch nicht die höchste Sicherheit.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-156">This setting is more secure than **Off**, but is not the most secure setting.</span></span> <span data-ttu-id="9eaf0-157">Verwenden Sie diese Einstellung in gemischten Umgebungen, in denen einige Betriebssysteme die Funktion **Erweiterter Schutz** unterstützen, einige jedoch nicht.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-157">Use this setting in mixed environments, where some operating systems support **Extended Protection** and some do not.</span></span>  
  
    -   <span data-ttu-id="9eaf0-158">Bei der Einstellung **Erforderlich**werden nur Verbindungen von geschützten Anwendungen auf geschützten Betriebssystemen akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-158">When set to **Required**, only connections from protected applications on protected operating systems are accepted.</span></span> <span data-ttu-id="9eaf0-159">Dies ist die sicherste Einstellung. Von Betriebssystemen oder Anwendungen, die die Funktion **Erweiterter Schutz** nicht unterstützen, können jedoch keine Verbindungen mit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-159">This setting is the most secure but connections from operating systems or applications that do not support **Extended Protection** will not be able to connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="9eaf0-160">**Akzeptierte NTLM-SPNs**</span><span class="sxs-lookup"><span data-stu-id="9eaf0-160">**Accepted NTLM SPNs**</span></span>  
  
     <span data-ttu-id="9eaf0-161">Die Variable **Akzeptierte NTLM-SPNs** wird benötigt, wenn ein Server durch mehr als einen SPN identifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-161">The **Accepted NTLM SPNs** variable is needed when a server is known by more than one SPN.</span></span> <span data-ttu-id="9eaf0-162">Wenn ein Client versucht, mithilfe eines gültigen, dem Server nicht bekannten SPNs eine Verbindung mit dem Server herzustellen, verursacht die Dienstbindung einen Fehler.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-162">When a client attempts to connect to the server by using a valid SPN that the server does not know, service binding will fail.</span></span> <span data-ttu-id="9eaf0-163">Um dieses Problem zu vermeiden, können Benutzer mithilfe von **Akzeptierte NTLM-SPNs**mehrere SPNs für den Server angeben.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-163">To avoid this problem, users can specify several SPNs that represent the server by using **Accepted NTLM SPNs**.</span></span> <span data-ttu-id="9eaf0-164">**Akzeptierte NTLM-SPNs** umfasst eine Reihe durch Semikolons getrennter SPNs.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-164">**Accepted NTLM SPNs** is a series of SPNs separated my semicolons.</span></span> <span data-ttu-id="9eaf0-165">Beispiel: Um die Verwendung der SPNs **MSSQLSvc/ HostName1.Contoso.com** und **MSSQLSvc/ HostName2.Contoso.com**zuzulassen, geben Sie im Feld **Akzeptierte NTLM-SPNs** die Zeichenfolge **MSSQLSvc/HostName1.Contoso.com;MSSQLSvc/HostName2.Contoso.com** ein.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-165">For example, to allow the SPNs **MSSQLSvc/ HostName1.Contoso.com** and **MSSQLSvc/ HostName2.Contoso.com**, type **MSSQLSvc/HostName1.Contoso.com;MSSQLSvc/HostName2.Contoso.com** in the **Accepted NTLM SPNs** box.</span></span> <span data-ttu-id="9eaf0-166">Die maximale Länge der Variablen beträgt 2.048 Zeichen.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-166">The variable has a maximum length of 2,048 characters.</span></span> <span data-ttu-id="9eaf0-167">**Akzeptierte NTLM-SPNs** befindet sich im **-Konfigurations-Manager unter** Protokolle für MSSQLSERVER-Eigenschaften (Registerkarte „Erweitert“) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="9eaf0-167">**Accepted NTLM SPNs** is on the **Protocols for MSSQLSERVER Properties (Advanced Tab)** in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span>  
  
## <a name="enabling-extended-protection-for-the-database-engine"></a><span data-ttu-id="9eaf0-168">Aktivieren von "Erweiterter Schutz" für die Datenbank-Engine</span><span class="sxs-lookup"><span data-stu-id="9eaf0-168">Enabling Extended Protection for the Database Engine</span></span>  
 <span data-ttu-id="9eaf0-169">Zur Verwendung von **Erweiterter Schutz**benötigen sowohl der Server als auch der Client ein Betriebssystem, das **Erweiterter Schutz**unterstützt, und die Funktion **Erweiterter Schutz** muss für das Betriebssystem aktiviert sein.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-169">To use **Extended Protection**, both the server and the client must have an operating system on that supports **Extended Protection**, and **Extended Protection** must be enabled on the operating system.</span></span> <span data-ttu-id="9eaf0-170">Weitere Informationen zum Aktivieren von **Erweiterter Schutz** für das Betriebssystem finden Sie unter [Erweiterter Schutz für die Authentifizierung](https://support.microsoft.com/kb/968389).</span><span class="sxs-lookup"><span data-stu-id="9eaf0-170">For more information about how to enable **Extended Protection** for the operating system, see [Extended Protection for Authentication](https://support.microsoft.com/kb/968389).</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="9eaf0-171">Erweiterter Schutz **wird von** ab [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)]unterstützt.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-171">supports **Extended Protection** beginning with [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span></span> <span data-ttu-id="9eaf0-172">Für einige frühere **-Versionen wird** Erweiterter Schutz [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in zukünftigen Updates verfügbar sein.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-172">**Extended Protection** for some earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will be made available in future updates.</span></span> <span data-ttu-id="9eaf0-173">Nachdem Sie **Erweiterter Schutz** auf dem Servercomputer aktiviert haben, führen Sie die folgenden Schritte aus, um **Erweiterter Schutz**zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="9eaf0-173">After enabling **Extended Protection** on the server computer, use the following steps to enable **Extended Protection**:</span></span>  
  
1.  <span data-ttu-id="9eaf0-174">Zeigen Sie im Menü **Start** auf **Alle Programme**, zeigen Sie auf **Microsoft SQL Server** , und klicken Sie dann auf **SQL Server-Konfigurations-Manager**.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-174">On the **Start** menu, choose **All Programs**, point to **Microsoft SQL Server** and then click **SQL Server Configuration Manager**.</span></span>  
  
2.  <span data-ttu-id="9eaf0-175">Erweitern Sie **SQL Server Netzwerkkonfiguration**, klicken Sie dann mit der rechten Maustaste auf **Protokolle für** *\<*InstanceName*>* , und klicken Sie dann auf **Eigenschaften**.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-175">Expand **SQL Server Network Configuration**, and then right-click **Protocols for** *\<*InstanceName*>*, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="9eaf0-176">Legen Sie sowohl für die Kanalbindung als auch für die Dienstbindung auf der Registerkarte **Erweitert** die geeignete Einstellung für die Funktion **Erweiterter Schutz** fest.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-176">For both channel binding and service binding, on the **Advanced** tab, set **Extended Protection** to the appropriate setting.</span></span>  
  
4.  <span data-ttu-id="9eaf0-177">Wenn ein Server durch mehr als einen SPN identifiziert wird, konfigurieren Sie auf der Registerkarte **Erweitert** optional das Feld **Akzeptierte NTLM-SPNs** , wie im Abschnitt "Einstellungen" beschrieben.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-177">Optionally, when a server is known by more than one SPN, on the **Advanced** tab configure the **Accepted NTLM SPNs** field as described in the "Settings" section.</span></span>  
  
5.  <span data-ttu-id="9eaf0-178">Legen Sie für die Kanalbindung auf der Registerkarte **Flags** die Einstellung **Verschlüsselung erzwingen** auf **Ein**fest.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-178">For channel binding, on the **Flags** tab, set **Force Encryption** to **On**.</span></span>  
  
6.  <span data-ttu-id="9eaf0-179">Starten Sie den [!INCLUDE[ssDE](../../includes/ssde-md.md)] -Dienst neu.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-179">Restart the [!INCLUDE[ssDE](../../includes/ssde-md.md)] service.</span></span>  
  
## <a name="configuring-other-sql-server-components"></a><span data-ttu-id="9eaf0-180">Konfigurieren anderer SQL Server-Komponenten</span><span class="sxs-lookup"><span data-stu-id="9eaf0-180">Configuring Other SQL Server Components</span></span>  
 <span data-ttu-id="9eaf0-181">Weitere Informationen zur Konfiguration von [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]finden Sie unter [Extended Protection for Authentication with Reporting Services](../../reporting-services/security/extended-protection-for-authentication-with-reporting-services.md)(Erweiterter Schutz für die Authentifizierung mit Reporting Services).</span><span class="sxs-lookup"><span data-stu-id="9eaf0-181">For more information about how to configure [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], see [Extended Protection for Authentication with Reporting Services](../../reporting-services/security/extended-protection-for-authentication-with-reporting-services.md).</span></span>  
  
 <span data-ttu-id="9eaf0-182">Wenn IIS verwendet wird, um über eine HTTP- oder HTTPS-Verbindung auf [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] -Daten zuzugreifen, kann [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] den von IIS bereitgestellten erweiterten Schutz nutzen.</span><span class="sxs-lookup"><span data-stu-id="9eaf0-182">When using IIS to access [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] data using an HTTP or HTTPs connection, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] can take advantage of Extended Protection provided by IIS.</span></span> <span data-ttu-id="9eaf0-183">Weitere Informationen dazu, wie IIS für die Verwendung des erweiterten Schutzes konfiguriert wird, finden Sie unter [Konfigurieren von "Erweiterter Schutz" in IIS 7.5](https://go.microsoft.com/fwlink/?LinkId=181105)(möglicherweise auf Englisch).</span><span class="sxs-lookup"><span data-stu-id="9eaf0-183">For more information about how to configure IIS to use Extended Protection, see [Configure Extended Protection in IIS 7.5](https://go.microsoft.com/fwlink/?LinkId=181105).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9eaf0-184">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="9eaf0-184">See Also</span></span>  
 <span data-ttu-id="9eaf0-185">[Server-Netzwerkkonfiguration](server-network-configuration.md) </span><span class="sxs-lookup"><span data-stu-id="9eaf0-185">[Server Network Configuration](server-network-configuration.md) </span></span>  
 <span data-ttu-id="9eaf0-186">[Client-Netzwerkkonfiguration](client-network-configuration.md) </span><span class="sxs-lookup"><span data-stu-id="9eaf0-186">[Client Network Configuration](client-network-configuration.md) </span></span>  
 <span data-ttu-id="9eaf0-187">[Übersicht über den erweiterten Schutz für die Authentifizierung (möglicherweise auf Englisch)](https://go.microsoft.com/fwlink/?LinkID=177943) </span><span class="sxs-lookup"><span data-stu-id="9eaf0-187">[Extended Protection for Authentication Overview](https://go.microsoft.com/fwlink/?LinkID=177943) </span></span>  
 [<span data-ttu-id="9eaf0-188">Integrierte Windows-Authentifizierung unter Verwendung von "Erweiterter Schutz" (möglicherweise auf Englisch)</span><span class="sxs-lookup"><span data-stu-id="9eaf0-188">Integrated Windows Authentication with Extended Protection</span></span>](https://go.microsoft.com/fwlink/?LinkId=179922)  
  
  
