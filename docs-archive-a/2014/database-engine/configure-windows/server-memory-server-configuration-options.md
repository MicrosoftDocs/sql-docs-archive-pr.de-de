---
title: Konfigurationsoptionen für den Serverarbeitsspeicher | Microsoft-Dokumentation
ms.custom: ''
ms.date: 07/22/2020
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- Virtual Memory Manager
- max server memory option
- virtual memory [SQL Server]
- VMM
- server memory options [SQL Server]
- servers [SQL Server], memory
- buffer pools [SQL Server]
- min server memory option
- manual memory options [SQL Server]
- memory [SQL Server], servers
ms.assetid: 29ce373e-18f8-46ff-aea6-15bbb10fb9c2
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 46a4bb354b78d25c6667e9ff67c6eda697a0369e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87723058"
---
# <a name="server-memory-configuration-options"></a><span data-ttu-id="15545-102">Konfigurationsoptionen für den Serverarbeitsspeicher</span><span class="sxs-lookup"><span data-stu-id="15545-102">Server Memory Configuration Options</span></span>
  <span data-ttu-id="15545-103">Mit den beiden Arbeitsspeicheroptionen für den Server, **Min. Serverarbeitsspeicher** und **Max. Serverarbeitsspeicher**, können Sie die Größe des Arbeitsspeichers (in Megabytes) umkonfigurieren, der vom SQL Server-Speicher-Manager für einen von einer Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]verwendeten SQL Server-Prozess verwaltet wird.</span><span class="sxs-lookup"><span data-stu-id="15545-103">Use the two server memory options, **min server memory** and **max server memory**, to reconfigure the amount of memory (in megabytes) that is managed by the SQL Server Memory Manager for a SQL Server process used by an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="15545-104">Die Standardeinstellung für **Min. Serverarbeitsspeicher** ist 0, die für **Max. Serverarbeitsspeicher** 2147483647 MB.</span><span class="sxs-lookup"><span data-stu-id="15545-104">The default setting for **min server memory** is 0, and the default setting for **max server memory** is 2147483647 MB.</span></span> <span data-ttu-id="15545-105">Standardmäßig können die Arbeitsspeicheranforderungen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] anhand der verfügbaren Systemressourcen dynamisch geändert werden.</span><span class="sxs-lookup"><span data-stu-id="15545-105">By default, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can change its memory requirements dynamically based on available system resources.</span></span>  
  
> [!NOTE]  
> <span data-ttu-id="15545-106">Wenn die Option **Max. Serverarbeitsspeicher** auf den Minimalwert festgelegt ist, kann dies die Leistung von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] erheblich einschränken und sogar den Start von SQL Server verhindern.</span><span class="sxs-lookup"><span data-stu-id="15545-106">Setting **max server memory** to the minimum value can severely reduce [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] performance and even prevent it from starting.</span></span> <span data-ttu-id="15545-107">Wenn [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nach dem Ändern dieser Option nicht gestartet werden kann, müssen Sie den Start mithilfe der Startoption **-f** durchführen und die Option **Max. Serverarbeitsspeicher** auf ihren vorherigen Wert zurücksetzen.</span><span class="sxs-lookup"><span data-stu-id="15545-107">If you cannot start [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] after changing this option, start it using the **-f** startup option and reset **max server memory** to its previous value.</span></span> <span data-ttu-id="15545-108">Weitere Informationen finden Sie unter [Startoptionen für den Datenbank-Engine-Dienst](database-engine-service-startup-options.md).</span><span class="sxs-lookup"><span data-stu-id="15545-108">For more information, see [Database Engine Service Startup Options](database-engine-service-startup-options.md).</span></span>  
  
 <span data-ttu-id="15545-109">Bei dynamischer Verwendung des Arbeitsspeichers von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] wird der im System verfügbare Arbeitsspeicher in regelmäßigen Abständen abgefragt.</span><span class="sxs-lookup"><span data-stu-id="15545-109">When [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is using memory dynamically, it queries the system periodically to determine the amount of free memory.</span></span> <span data-ttu-id="15545-110">Bei Beibehaltung dieses freien Arbeitsspeichers werden Auslagerungsvorgänge durch das Betriebssystem verhindert.</span><span class="sxs-lookup"><span data-stu-id="15545-110">Maintaining this free memory prevents the operating system (OS) from paging.</span></span> <span data-ttu-id="15545-111">Wenn weniger freier Arbeitsspeicher vorhanden ist, gibt [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Arbeitsspeicher für das Betriebssystem frei.</span><span class="sxs-lookup"><span data-stu-id="15545-111">If less memory is free, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] releases memory to the OS.</span></span> <span data-ttu-id="15545-112">Wenn mehr Arbeitsspeicher frei ist, kann [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] auch mehr Speicher reservieren.</span><span class="sxs-lookup"><span data-stu-id="15545-112">If more memory is free, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] may allocate more memory.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="15545-113">fügt Arbeitsspeicher nur dann hinzu, wenn durch die Arbeitsauslastung mehr Arbeitsspeicher erforderlich ist. Bei einem ruhenden Server wird die Größe seines virtuellen Adressraums nicht vergrößert.</span><span class="sxs-lookup"><span data-stu-id="15545-113">adds memory only when its workload requires more memory; a server at rest does not increase the size of its virtual address space.</span></span>  
  
 <span data-ttu-id="15545-114">Beispiel B enthält eine Abfrage, welche den derzeit verwendeten Arbeitsspeicher zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="15545-114">See example B for a query to return the currently used memory.</span></span> <span data-ttu-id="15545-115">**Max. Serverarbeitsspeicher** steuert die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Speicherzuweisung, einschließlich Pufferpool, Arbeitsspeicherkompilierung, alle Caches, Arbeitsspeicherzuweisungen, Sperren-Manager-Speicher und Clr-Speicher (im Wesentlichen alle Arbeitsspeicherclerks in **sys.dm_os_memory_clerks**).</span><span class="sxs-lookup"><span data-stu-id="15545-115">**max server memory** controls the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] memory allocation, including the buffer pool, compile memory, all caches, qe memory grants, lock manager memory, and clr memory (essentially any memory clerk found in **sys.dm_os_memory_clerks**).</span></span> <span data-ttu-id="15545-116">Arbeitsspeicher für Threadstapel, Arbeitsspeicherheaps, andere verknüpfte Serveranbieter als [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]und durch Nicht- [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -DLL zugewiesener Speicher werden nicht von max. Serverarbeitsspeicher kontrolliert.</span><span class="sxs-lookup"><span data-stu-id="15545-116">Memory for thread stacks, memory heaps, linked server providers other than [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and any memory allocated by a non [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] DLL are not controlled by max server memory.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="15545-117">verwendet die Arbeitsspeicherbenachrichtigungs-API **querymemoryresourcenotifizierung** , um zu bestimmen, wann der SQL Server Speicher-Manager Arbeitsspeicher zuweisen und Speicher freigeben kann.</span><span class="sxs-lookup"><span data-stu-id="15545-117">uses the memory notification API **QueryMemoryResourceNotification** to determine when the SQL Server Memory Manager may allocate memory and release memory.</span></span>  
  
 <span data-ttu-id="15545-118">Grundsätzlich empfiehlt es sich, in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] eine dynamische Verwendung des Arbeitsspeichers zuzulassen. Sie können die Speicheroptionen jedoch auch manuell festlegen und den Umfang des für [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] zugreifbaren Arbeitsspeichers einschränken.</span><span class="sxs-lookup"><span data-stu-id="15545-118">Allowing [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to use memory dynamically is recommended; however, you can set the memory options manually and restrict the amount of memory that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can access.</span></span> <span data-ttu-id="15545-119">Bevor Sie den Umfang des Arbeitsspeichers für [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]festlegen, sollten Sie die geeignete Arbeitsspeichereinstellung ermitteln. Ziehen Sie dazu vom gesamten physischen Speicher den Arbeitsspeicher ab, der für das Betriebssystem und alle weiteren Instanzen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] erforderlich ist. (Falls der Computer nicht vollständig für [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]reserviert ist, müssen Sie zusätzlich auch den für andere Verwendungen des Systems benötigten Arbeitsspeicher abziehen.)</span><span class="sxs-lookup"><span data-stu-id="15545-119">Before you set the amount of memory for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], determine the appropriate memory setting by subtracting, from the total physical memory, the memory required for the OS and any other instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (and other system uses, if the computer is not wholly dedicated to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]).</span></span> <span data-ttu-id="15545-120">Die Differenz entspricht der maximalen Arbeitsspeichergröße, die Sie [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]zuweisen können.</span><span class="sxs-lookup"><span data-stu-id="15545-120">This difference is the maximum amount of memory you can assign to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="setting-the-memory-options-manually"></a><span data-ttu-id="15545-121">Manuelles Festlegen der Arbeitsspeicheroptionen</span><span class="sxs-lookup"><span data-stu-id="15545-121">Setting the Memory Options Manually</span></span>  
<span data-ttu-id="15545-122">Sie können die Serveroptionen **Min. Serverarbeitsspeicher** und **Max. Serverarbeitsspeicher** so festlegen, dass ein großer Bereich von Arbeitsspeicherwerten überdeckt wird.</span><span class="sxs-lookup"><span data-stu-id="15545-122">The server options **min server memory** and **max server memory** can be set to span a range of memory values.</span></span> <span data-ttu-id="15545-123">Diese Methode ist vor allem dann sinnvoll, wenn der System- oder Datenbankadministrator eine Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in Abhängigkeit von den Arbeitsspeicheranforderungen anderer Anwendungen oder weiterer Instanzen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], die auf demselben Computer ausgeführt werden, konfigurieren möchte.</span><span class="sxs-lookup"><span data-stu-id="15545-123">This method is useful for system or database administrators to configure an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in conjunction with the memory requirements of other applications, or other instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that run on the same host.</span></span>

> [!NOTE]
> <span data-ttu-id="15545-124">Bei **min server memory** und **max server memory** handelt es sich um erweiterte Optionen.</span><span class="sxs-lookup"><span data-stu-id="15545-124">The **min server memory** and **max server memory** options are advanced options.</span></span> <span data-ttu-id="15545-125">Wenn Sie diese Einstellungen mithilfe der gespeicherten Systemprozedur **sp_configure** ändern, können Sie diese nur ändern, wenn **Erweiterte Optionen anzeigen** auf 1 festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="15545-125">If you are using the **sp_configure** system stored procedure to change these settings, you can change them only when **show advanced options** is set to 1.</span></span> <span data-ttu-id="15545-126">Diese Einstellungen treten sofort ohne Neustart des Servers in Kraft.</span><span class="sxs-lookup"><span data-stu-id="15545-126">These settings take effect immediately without a server restart.</span></span>  
  
<a name="min_server_memory"></a> <span data-ttu-id="15545-127">Mithilfe der Konfigurationsoption **min_server_memory** wird sichergestellt, dass für den [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Speicher-Manager einer Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] eine Mindestmenge an Arbeitsspeicher verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="15545-127">Use **min_server_memory** to guarantee a minimum amount of memory available to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Memory Manager for an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="15545-128">Allerdings wird die unter **Min. Serverarbeitsspeicher** angegebene Arbeitsspeichermenge von nicht gleich beim Start zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="15545-128">will not immediately allocate the amount of memory specified in **min server memory** on startup.</span></span> <span data-ttu-id="15545-129">Sobald der Wert für die Speicherauslastung aufgrund der Clientauslastung erreicht ist, kann [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nur dann Arbeitsspeicher freigeben, wenn der Wert für **Min. Serverarbeitsspeicher** reduziert wird.</span><span class="sxs-lookup"><span data-stu-id="15545-129">However, after memory usage has reached this value due to client load, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cannot free memory unless the value of **min server memory** is reduced.</span></span> <span data-ttu-id="15545-130">Wenn beispielsweise mehrere Instanzen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] gleichzeitig auf dem gleichen Host ausgeführt werden können, legen Sie den Parameter „min_server_memory“ anstelle von „max_server_memory“ fest, um Arbeitsspeicher für eine Instanz zu reservieren.</span><span class="sxs-lookup"><span data-stu-id="15545-130">For example, when several instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can exist concurrently in the same host, set the min_server_memory parameter instead of max_server_memory for the purpose of reserving memory for an instance.</span></span> <span data-ttu-id="15545-131">Ferner ist das Festlegen eines Werts für „min_server_memory“ in einer virtualisierten Umgebung entscheidend, um sicherzustellen, dass Arbeitsspeichermangel beim zugrundeliegenden Host nicht zu dem Versuch führt, Arbeitsspeicher aus dem Pufferpool eines virtuellen [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Gastcomputers jenseits dessen abzuzweigen, was für eine vertretbare Leistung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="15545-131">Also, setting a min_server_memory value is essential in a virtualized environment to ensure memory pressure from the underlying host does not attempt to deallocate memory from the buffer pool on a guest [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] virtual machine (VM) beyond what is needed for acceptable performance.</span></span>
 
> [!NOTE]  
> <span data-ttu-id="15545-132">Allerdings kann nicht sichergestellt werden, dass [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] die in **min server memory** angegebene Arbeitsspeichermenge zuordnet.</span><span class="sxs-lookup"><span data-stu-id="15545-132">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is not guaranteed to allocate the amount of memory specified in **min server memory**.</span></span> <span data-ttu-id="15545-133">Wenn die in **min server memory**angegebene Arbeitsspeichermenge aufgrund der Serverlast zu keinem Zeitpunkt zugeordnet werden muss, wird [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mit weniger Arbeitsspeicher ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="15545-133">If the load on the server never requires allocating the amount of memory specified in **min server memory**, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will run with less memory.</span></span>  
  
<a name="max_server_memory"></a> <span data-ttu-id="15545-134">Verwenden Sie **max_server_memory**, um sicherzustellen, dass beim Betriebssystem kein nachteiliger Arbeitsspeichermangel eintritt.</span><span class="sxs-lookup"><span data-stu-id="15545-134">Use **max_server_memory** to guarantee the OS does not experience detrimental memory pressure.</span></span> <span data-ttu-id="15545-135">Um den maximalen Serverarbeitsspeicher zu konfigurieren, überwachen Sie den Gesamtverbrauch des [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Prozesses, um die Arbeitsspeicheranforderungen zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="15545-135">To set max server memory configuration, monitor overall consumption of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] process in order to determine memory requirements.</span></span> <span data-ttu-id="15545-136">Hier folgen genauere Angaben für diese Berechnungen für eine Einzelinstanz:</span><span class="sxs-lookup"><span data-stu-id="15545-136">To be more accurate with these calculations for a single instance:</span></span>
 -  <span data-ttu-id="15545-137">Reservieren Sie vom gesamten Arbeitsspeicher des Betriebssystems 1 GB–4 GB für das Betriebssystem selbst.</span><span class="sxs-lookup"><span data-stu-id="15545-137">From the total OS memory, reserve 1GB-4GB to the OS itself.</span></span>
 -  <span data-ttu-id="15545-138">Subtrahieren Sie dann das Äquivalent von potenziellen Speicher Belegungen [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] außerhalb der **maximalen Server Speicher** Kontrolle, die aus der **_Stapelgröße <sup>1</sup> \* berechnete maximale Arbeitsthreads <sup>2</sup> +-g Startparameter <sup>3</sup> _** besteht (oder standardmäßig 256 MB, wenn *-g* nicht festgelegt ist).</span><span class="sxs-lookup"><span data-stu-id="15545-138">Then subtract the equivalent of potential [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] memory allocations outside the **max server memory** control, which is comprised of **_stack size <sup>1</sup> \* calculated max worker threads <sup>2</sup> + -g startup parameter <sup>3</sup>_** (or 256MB by default if *-g* is not set).</span></span> <span data-ttu-id="15545-139">Der Rest sollte die Einstellung „max_server_memory“ für die Einrichtung einer einzelnen Instanz bilden.</span><span class="sxs-lookup"><span data-stu-id="15545-139">What remains should be the max_server_memory setting for a single instance setup.</span></span>
 
<span data-ttu-id="15545-140"><sup>1</sup> Informationen zu den Threadstapelgrößen der einzelnen Architekturen finden Sie im [Handbuch zur Architektur der Speicherverwaltung](https://docs.microsoft.com/sql/relational-databases/memory-management-architecture-guide#stacksizes).</span><span class="sxs-lookup"><span data-stu-id="15545-140"><sup>1</sup> Refer to the [Memory Management Architecture guide](https://docs.microsoft.com/sql/relational-databases/memory-management-architecture-guide#stacksizes) for information on thread stack sizes per architecture.</span></span>

<span data-ttu-id="15545-141"><sup>2</sup> Informationen zu den standardmäßig berechneten Arbeitsthreads für eine bestimmte Anzahl kategorisierter CPUs auf dem aktuellen Host finden Sie auf der Dokumentationsseite zum [Konfigurieren der Serverkonfigurationsoption Maximale Anzahl von Arbeitsthreads](../../database-engine/configure-windows/configure-the-max-worker-threads-server-configuration-option.md).</span><span class="sxs-lookup"><span data-stu-id="15545-141"><sup>2</sup> Refer to the documentation page on how to [Configure the max worker threads Server Configuration Option](../../database-engine/configure-windows/configure-the-max-worker-threads-server-configuration-option.md), for information on the calculated default worker threads for a given number of affinitized CPUs in the current host.</span></span>

<span data-ttu-id="15545-142"><sup>3</sup> Informationen zum Startparameter *-g* finden Sie auf der Dokumentationsseite zu [Startoptionen für den Datenbank-Engine-Dienst](database-engine-service-startup-options.md?view=sql-server-2014).</span><span class="sxs-lookup"><span data-stu-id="15545-142"><sup>3</sup> Refer to the documentation page on [Database Engine Service Startup Options](database-engine-service-startup-options.md?view=sql-server-2014) for information on the *-g* startup parameter.</span></span> <span data-ttu-id="15545-143">Gilt nur für 32-Bit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ([!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] bis [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="15545-143">Aplicable only to 32-bit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ([!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] through [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]).</span></span>

|<span data-ttu-id="15545-144">Betriebssystemtyp</span><span class="sxs-lookup"><span data-stu-id="15545-144">OS Type</span></span>|<span data-ttu-id="15545-145">Mindestens zulässiger Arbeitsspeicher für **Max. Server Arbeitsspeicher**</span><span class="sxs-lookup"><span data-stu-id="15545-145">Minimum Memory Amounts Allowable for **max server memory**</span></span>|  
|-------------|----------------------------------------------------------------|  
|<span data-ttu-id="15545-146">32 Bit</span><span class="sxs-lookup"><span data-stu-id="15545-146">32-bit</span></span>|<span data-ttu-id="15545-147">64 MB</span><span class="sxs-lookup"><span data-stu-id="15545-147">64 MB</span></span>|  
|<span data-ttu-id="15545-148">64 Bit</span><span class="sxs-lookup"><span data-stu-id="15545-148">64-bit</span></span>|<span data-ttu-id="15545-149">128 MB</span><span class="sxs-lookup"><span data-stu-id="15545-149">128 MB</span></span>| 

## <a name="how-to-configure-memory-options-using-sql-server-management-studio"></a><span data-ttu-id="15545-150">So konfigurieren Sie Speicheroptionen mit SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="15545-150">How to configure memory options using SQL Server Management Studio</span></span>  
 <span data-ttu-id="15545-151">Mit den beiden Arbeitsspeicheroptionen für den Server, **Min. Serverarbeitsspeicher** und **Max. Serverarbeitsspeicher**, können Sie den vom SQL Server-Speicher-Manager für eine Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]verwalteten Umfang des Arbeitsspeichers (in MB) umkonfigurieren.</span><span class="sxs-lookup"><span data-stu-id="15545-151">Use the two server memory options, **min server memory** and **max server memory**, to reconfigure the amount of memory (in megabytes) managed by the SQL Server Memory Manager for an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="15545-152">Standardmäßig können die Arbeitsspeicheranforderungen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] anhand der verfügbaren Systemressourcen dynamisch geändert werden.</span><span class="sxs-lookup"><span data-stu-id="15545-152">By default, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can change its memory requirements dynamically based on available system resources.</span></span>  
  
### <a name="procedure-for-configuring-a-fixed-amount-of-memory"></a><span data-ttu-id="15545-153">Vorgehensweise beim Konfigurieren eines festen Arbeitsspeichers</span><span class="sxs-lookup"><span data-stu-id="15545-153">Procedure for configuring a fixed amount of memory</span></span>  
 <span data-ttu-id="15545-154">**So legen Sie eine feste Arbeitsspeichergröße fest:**</span><span class="sxs-lookup"><span data-stu-id="15545-154">**To set a fixed amount of memory:**</span></span>  
  
1.  <span data-ttu-id="15545-155">Klicken Sie im Objekt-Explorer mit der rechten Maustaste auf einen Server, und wählen Sie **Eigenschaften** aus.</span><span class="sxs-lookup"><span data-stu-id="15545-155">In Object Explorer, right-click a server and select **Properties**.</span></span>  
  
2.  <span data-ttu-id="15545-156">Klicken Sie auf den **Speicher** -Knoten.</span><span class="sxs-lookup"><span data-stu-id="15545-156">Click the **Memory** node.</span></span>  
  
3.  <span data-ttu-id="15545-157">Geben Sie unter **Arbeitsspeicheroptionen für den Server**den gewünschten Wert für **Minimaler Serverarbeitsspeicher** und **Maximaler Serverarbeitsspeicher**ein.</span><span class="sxs-lookup"><span data-stu-id="15545-157">Under **Server Memory Options**, enter the amount that you want for **Minimum server memory** and **Maximum server memory**.</span></span>  
  
     <span data-ttu-id="15545-158">Verwenden Sie die Standardeinstellungen, damit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] die Arbeitsspeicheranforderungen auf der Grundlage der verfügbaren Systemressourcen dynamisch ändert.</span><span class="sxs-lookup"><span data-stu-id="15545-158">Use the default settings to allow [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to change its memory requirements dynamically based on available system resources.</span></span> <span data-ttu-id="15545-159">Die Standardeinstellung für **Min. Server Arbeitsspeicher** ist 0, und die Standardeinstellung für **Max. Server Arbeitsspeicher** beträgt 2147483647 Megabyte (MB).</span><span class="sxs-lookup"><span data-stu-id="15545-159">The default setting for **min server memory** is 0, and the default setting for **max server memory** is 2147483647 megabytes (MB).</span></span>  
  
## <a name="maximize-data-throughput-for-network-applications"></a><span data-ttu-id="15545-160">Maximieren des Datendurchsatzes in Netzwerkanwendungen</span><span class="sxs-lookup"><span data-stu-id="15545-160">Maximize Data Throughput for Network Applications</span></span>  
 <span data-ttu-id="15545-161">Um die Nutzung des Systemspeichers für [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]zu optimieren, sollten Sie den Arbeitsspeicher einschränken, der vom System zur Zwischenspeicherung von Dateien verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="15545-161">To optimize system memory use for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you should limit the amount of memory that is used by the system for file caching.</span></span> <span data-ttu-id="15545-162">Stellen Sie zum Einschränken des Dateisystemcache sicher, dass die Option **Datendurchsatz für Dateifreigabe maximieren** deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="15545-162">To limit the file system cache, make sure that **Maximize data throughput for file sharing** is not selected.</span></span> <span data-ttu-id="15545-163">Sie können den kleinsten Dateisystemcache angeben, indem Sie **Verwendeten Arbeitsspeicher minimieren** oder **Lastenausgleich durchführen**auswählen.</span><span class="sxs-lookup"><span data-stu-id="15545-163">You can specify the smallest file system cache by selecting **Minimize memory used** or **Balance**.</span></span>  
  
#### <a name="to-check-the-current-setting-on-your-operating-system"></a><span data-ttu-id="15545-164">So überprüfen Sie die aktuellen Einstellungen des Betriebssystems</span><span class="sxs-lookup"><span data-stu-id="15545-164">To check the current setting on your operating system</span></span>  
  
1.  <span data-ttu-id="15545-165">Klicken Sie im **Startmenü**auf **Systemsteuerung**, doppelklicken Sie auf **Netzwerkverbindungen**, und doppelklicken Sie dann auf **LAN-Verbindung**.</span><span class="sxs-lookup"><span data-stu-id="15545-165">Click **Start**, click **Control Panel**, double-click **Network Connections**, and then double-click **Local Area Connection**.</span></span>  
  
2.  <span data-ttu-id="15545-166">Klicken Sie auf der Registerkarte **Allgemein** auf **Eigenschaften**, wählen Sie **Datei- und Druckerfreigabe für Microsoft-Netzwerke**aus, und klicken Sie dann auf **Eigenschaften**.</span><span class="sxs-lookup"><span data-stu-id="15545-166">On the **General** tab, click **Properties**, select **File and Printer Sharing Microsoft Networks**, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="15545-167">Wenn die Option **Datendurchsatz für Netzwerkanwendungen maximieren** ausgewählt ist, wählen Sie ggf. weitere Optionen aus. Klicken Sie auf **OK**, und schließen Sie alle noch geöffneten Dialogfelder.</span><span class="sxs-lookup"><span data-stu-id="15545-167">If **Maximize data throughput for network applications** is selected, choose any other option, click **OK**, and then close the rest of the dialog boxes.</span></span>  
  
## <a name="lock-pages-in-memory"></a><span data-ttu-id="15545-168">Sperren von Seiten im Speicher</span><span class="sxs-lookup"><span data-stu-id="15545-168">Lock Pages in Memory</span></span>  
 <span data-ttu-id="15545-169">Mit dieser Windows-Richtlinie werden die Konten bestimmt, die einen Prozess zum Speichern von Daten im physischen Speicher verwenden können, um das systemgesteuerte Auslagern der Daten in den virtuellen Arbeitsspeicher zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="15545-169">This Windows policy determines which accounts can use a process to keep data in physical memory, preventing the system from paging the data to virtual memory on disk.</span></span> <span data-ttu-id="15545-170">Durch Sperren von Seiten im Arbeitsspeicher können Sie die Reaktionsfähigkeit des Servers möglicherweise auch nach Auslagerung von Arbeitsspeicherdaten auf die Festplatte aufrechterhalten.</span><span class="sxs-lookup"><span data-stu-id="15545-170">Locking pages in memory may keep the server responsive when paging memory to disk occurs.</span></span> <span data-ttu-id="15545-171">Die Option SQL Server **Lock pages in Memory** ist in 32-Bit-und 64-Bit-Instanzen der Standard Edition und höher auf ON festgelegt, [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Wenn dem Konto mit den Berechtigungen zum Ausführen sqlservr.exe das Windows-Benutzerrecht "Locked pages in Memory" (lpim) erteilt wurde.</span><span class="sxs-lookup"><span data-stu-id="15545-171">The SQL Server **Lock Pages in Memory** option is set to ON in 32-bit and 64-bit instances of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Standard edition and higher when the account with privileges to run sqlservr.exe has been granted the Windows "Locked Pages in Memory" (LPIM) user right.</span></span> <span data-ttu-id="15545-172">In früheren Versionen von SQL Server ist beim Festlegen der Option zum Sperren von Seiten für eine 32-Bit-Instanz von SQL Server erforderlich, dass das Konto mit den Privilegien zum Ausführen von "sqlservr.exe" das LPIM-Benutzerrecht besitzt und die awe_enabled-Konfigurationsoption auf ON festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="15545-172">In earlier versions of SQL Server, setting the Lock Pages option for a 32-bit instance of SQL Server, requires that the account with privileges to run sqlservr.exe have the LPIM user right and the 'awe_enabled' configuration option is set to ON.</span></span>  
  
 <span data-ttu-id="15545-173">Entfernen Sie zum Deaktivieren der Option **Sperren von Seiten im Speicher** für das [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Benutzerrecht "Locked pages in Memory" für das SQL Server Start Konto.</span><span class="sxs-lookup"><span data-stu-id="15545-173">To disable the **Lock Pages In Memory** option for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], remove the "Locked Pages in Memory" user right for the SQL Server startup account.</span></span>  
  
### <a name="to-disable-lock-pages-in-memory"></a><span data-ttu-id="15545-174">So deaktivieren Sie die Option "Sperren von Seiten im Speicher"</span><span class="sxs-lookup"><span data-stu-id="15545-174">To Disable Lock Pages in Memory</span></span>  
 <span data-ttu-id="15545-175">**So deaktivieren Sie die Option "Sperren von Seiten im Speicher":**</span><span class="sxs-lookup"><span data-stu-id="15545-175">**To disable the lock pages in memory option:**</span></span>  
  
1.  <span data-ttu-id="15545-176">Klicken Sie im Menü **Start** auf **Ausführen**.</span><span class="sxs-lookup"><span data-stu-id="15545-176">On the **Start** menu, click **Run**.</span></span> <span data-ttu-id="15545-177">Geben Sie im Feld **Öffnen** den Text ein `gpedit.msc` .</span><span class="sxs-lookup"><span data-stu-id="15545-177">In the **Open** box, type `gpedit.msc`.</span></span>  
  
     <span data-ttu-id="15545-178">Das Dialogfeld **Gruppenrichtlinie** wird geöffnet.</span><span class="sxs-lookup"><span data-stu-id="15545-178">The **Group Policy** dialog box opens.</span></span>  
  
2.  <span data-ttu-id="15545-179">Erweitern Sie in der Konsole **Gruppenrichtlinie** die Option **Computerkonfiguration**und dann **Windows-Einstellungen**.</span><span class="sxs-lookup"><span data-stu-id="15545-179">On the **Group Policy** console, expand **Computer Configuration**, and then expand **Windows Settings**.</span></span>  
  
3.  <span data-ttu-id="15545-180">Erweitern Sie **Sicherheitseinstellungen**und dann **Lokale Richtlinien**.</span><span class="sxs-lookup"><span data-stu-id="15545-180">Expand **Security Settings**, and then expand **Local Policies**.</span></span>  
  
4.  <span data-ttu-id="15545-181">Wählen Sie den Ordner **Zuweisen von Benutzerrechten** aus.</span><span class="sxs-lookup"><span data-stu-id="15545-181">Select the **User Rights Assignment** folder.</span></span>  
  
     <span data-ttu-id="15545-182">Die Richtlinien werden im Detailbereich angezeigt.</span><span class="sxs-lookup"><span data-stu-id="15545-182">The policies will be displayed in the details pane.</span></span>  
  
5.  <span data-ttu-id="15545-183">Doppelklicken Sie im Detailbereich auf **Sperren von Seiten im Speicher**.</span><span class="sxs-lookup"><span data-stu-id="15545-183">In the pane, double-click **Lock pages in memory**.</span></span>  
  
6.  <span data-ttu-id="15545-184">Wählen Sie im Dialogfeld **Lokale Sicherheitseinstellung** das Konto mit Privilegien zum Ausführen von "sqlservr.exe", und klicken Sie auf **Entfernen**.</span><span class="sxs-lookup"><span data-stu-id="15545-184">In the **Local Security Policy Setting** dialog box, select the account with privileges to run sqlservr.exe and click **Remove**.</span></span>  
  
## <a name="virtual-memory-manager"></a><span data-ttu-id="15545-185">Manager für virtuellen Arbeitsspeicher</span><span class="sxs-lookup"><span data-stu-id="15545-185">Virtual Memory Manager</span></span>  
 <span data-ttu-id="15545-186">Die 32-Bit-Betriebssysteme bieten Zugriff auf einen virtuellen Adressraum von 4 GB.</span><span class="sxs-lookup"><span data-stu-id="15545-186">The 32-bit operating systems provide access to 4 GB of virtual address space.</span></span> <span data-ttu-id="15545-187">2 GB des virtuellen Arbeitsspeichers sind für einzelne Prozesse reserviert und für Anwendungen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="15545-187">2 GB of virtual memory is private per process and available for application use.</span></span> <span data-ttu-id="15545-188">2 GB sind für die Verwendung durch das Betriebssystem reserviert.</span><span class="sxs-lookup"><span data-stu-id="15545-188">2 GB is reserved for operating system use.</span></span> <span data-ttu-id="15545-189">Alle Betriebssystemeditionen enthalten einen Schalter, mit dem Anwendungen der Zugriff auf einen virtuellen Adressraum von bis zu 3 GB gewährt und das Betriebssystem auf 1 GB beschränkt werden kann.</span><span class="sxs-lookup"><span data-stu-id="15545-189">All operating system editions include a switch that can provide applications with access up to 3 GB of virtual address space, limiting the operating system to 1 GB.</span></span> <span data-ttu-id="15545-190">Weitere Informationen zur Verwendung der Arbeitsspeicherkonfiguration mithilfe des Schalters finden Sie in der Windows-Dokumentation zur 4-GB-Optimierung (4 Gigabyte Tuning, 4GT).</span><span class="sxs-lookup"><span data-stu-id="15545-190">For more information about how to use the switch memory configuration, see the Windows documentation about 4-gigabyte tuning (4GT).</span></span> <span data-ttu-id="15545-191">Wenn die 32-Bit-Version von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] unter einem 64-Bit-Betriebssystem ausgeführt wird, steht Benutzern der vollständige virtuelle Adressraum von 4 GB zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="15545-191">When the 32-bit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running on 64-bit operating system its user available virtual address space is the full 4 GB.</span></span>  
  
 <span data-ttu-id="15545-192">Die zugesicherten Bereiche des Adressraums werden vom Windows-Manager für virtuellen Arbeitsspeicher (VMM, Virtual Memory Manager) dem verfügbaren physischen Arbeitsspeicher zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="15545-192">The committed regions of address space are mapped to the available physical memory by the Windows Virtual Memory Manager (VMM).</span></span>  
  
 <span data-ttu-id="15545-193">Weitere Informationen zur von anderen Betriebssystemen unterstützten Größe des physischen Speichers finden Sie in der Windows-Dokumentation "Arbeitsspeichergrenzwerte für Windows-Versionen" (möglicherweise in englischer Sprache).</span><span class="sxs-lookup"><span data-stu-id="15545-193">For more information on the amount of physical memory supported by different operating systems, see the Windows documentation "Memory Limits for Windows Releases".</span></span>  
  
 <span data-ttu-id="15545-194">Mit virtuellen Speichersystemen kann mehr physischer Arbeitsspeicher zugesichert werden, als tatsächlich vorhanden ist, sodass das Verhältnis von virtuellem zu physischem Arbeitsspeicher das Verhältnis 1:1 überschreiten kann.</span><span class="sxs-lookup"><span data-stu-id="15545-194">Virtual memory systems allow the over-commitment of physical memory, so that the ratio of virtual-to-physical memory can exceed 1:1.</span></span> <span data-ttu-id="15545-195">Auf diese Weise können größere Programme auf Computern mit verschiedenen Konfigurationen des physischen Arbeitsspeichers ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="15545-195">As a result, larger programs can run on computers with a variety of physical memory configurations.</span></span> <span data-ttu-id="15545-196">Wenn jedoch deutlich mehr virtueller Arbeitsspeicher verwendet wird, als die kombinierten durchschnittlichen Workingsets aller Prozesse verwenden, kann dies zu einem ungünstigen Leistungsverhalten führen.</span><span class="sxs-lookup"><span data-stu-id="15545-196">However, using significantly more virtual memory than the combined average working sets of all the processes can cause poor performance.</span></span>  
  
 <span data-ttu-id="15545-197">Bei **min server memory** und **max server memory** handelt es sich um erweiterte Optionen.</span><span class="sxs-lookup"><span data-stu-id="15545-197">The **min server memory** and **max server memory** options are advanced options.</span></span> <span data-ttu-id="15545-198">Wenn Sie diese Einstellungen mithilfe der gespeicherten Systemprozedur **sp_configure** ändern, können Sie diese nur ändern, wenn **Erweiterte Optionen anzeigen** auf 1 festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="15545-198">If you are using the **sp_configure** system stored procedure to change these settings, you can change them only when **show advanced options** is set to 1.</span></span> <span data-ttu-id="15545-199">Diese Einstellungen treten sofort ohne Neustart des Servers in Kraft.</span><span class="sxs-lookup"><span data-stu-id="15545-199">These settings take effect immediately without a server restart.</span></span>  
  
## <a name="running-multiple-instances-of-sql-server"></a><span data-ttu-id="15545-200">Ausführen mehrerer Instanzen von SQL Server</span><span class="sxs-lookup"><span data-stu-id="15545-200">Running Multiple Instances of SQL Server</span></span>  
 <span data-ttu-id="15545-201">Wenn Sie mehrere Instanzen von [!INCLUDE[ssDE](../../includes/ssde-md.md)]ausführen, stehen Ihnen zum Verwalten des Arbeitsspeichers drei Möglichkeiten zur Verfügung:</span><span class="sxs-lookup"><span data-stu-id="15545-201">When you are running multiple instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], there are three approaches you can use to manage memory:</span></span>  
  
-   <span data-ttu-id="15545-202">Steuern Sie die Speicherauslastung mithilfe von **max server memory** .</span><span class="sxs-lookup"><span data-stu-id="15545-202">Use **max server memory** to control memory usage.</span></span> <span data-ttu-id="15545-203">Richten Sie für jede Instanz Maximaleinstellungen ein, und achten Sie darauf, dass der gesamte zugeordnete Arbeitsspeicher nicht größer ist als der insgesamt auf dem Computer verfügbare physische Speicher.</span><span class="sxs-lookup"><span data-stu-id="15545-203">Establish maximum settings for each instance, being careful that the total allowance is not more than the total physical memory on your machine.</span></span> <span data-ttu-id="15545-204">Es empfiehlt sich, den jeder Instanz zugeordneten Arbeitsspeicher proportional zur erwarteten Arbeitsauslastung oder Datenbankgröße zu bemessen.</span><span class="sxs-lookup"><span data-stu-id="15545-204">You might want to give each instance memory proportional to its expected workload or database size.</span></span> <span data-ttu-id="15545-205">Dieser Ansatz hat den Vorteil, dass beim Starten neuer Prozesse oder Instanzen sofort freier Arbeitsspeicher für die Prozesse oder Instanzen zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="15545-205">This approach has the advantage that when new processes or instances start up, free memory will be available to them immediately.</span></span> <span data-ttu-id="15545-206">Der Nachteil ist, wenn nicht alle Instanzen ausgeführt werden, dass keine der laufenden Instanzen den verbleibenden freien Arbeitsspeicher nutzen kann.</span><span class="sxs-lookup"><span data-stu-id="15545-206">The drawback is that if you are not running all of the instances, none of the running instances will be able to utilize the remaining free memory.</span></span>  
  
-   <span data-ttu-id="15545-207">Steuern Sie die Speicherauslastung mithilfe von **min server memory** .</span><span class="sxs-lookup"><span data-stu-id="15545-207">Use **min server memory** to control memory usage.</span></span> <span data-ttu-id="15545-208">Richten Sie für jede Instanz Minimaleinstellungen ein, sodass die Summe dieser Mindestwerte 1 bis 2 GB unterhalb des gesamten physischen Speichers auf dem Computer liegt.</span><span class="sxs-lookup"><span data-stu-id="15545-208">Establish minimum settings for each instance, so that the sum of these minimums is 1-2 GB less than the total physical memory on your machine.</span></span> <span data-ttu-id="15545-209">Auch bei dieser Methode empfiehlt es sich, die Werte proportional zu der für die jeweilige Instanz erwarteten Arbeitsauslastung zu bemessen.</span><span class="sxs-lookup"><span data-stu-id="15545-209">Again, you may establish these minimums proportionately to the expected load of that instance.</span></span> <span data-ttu-id="15545-210">Dieser Ansatz hat den Vorteil, dass die laufenden Instanzen den verbleibenden freien Arbeitsspeicher nutzen können, wenn nicht alle Instanzen gleichzeitig ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="15545-210">This approach has the advantage that if not all instances are running at the same time, the ones that are running can use the remaining free memory.</span></span> <span data-ttu-id="15545-211">Diese Vorgehensweise ist auch dann sinnvoll, wenn auf dem Computer ein weiterer speicherintensiver Prozess vorhanden ist, da sichergestellt ist, dass [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] zumindest eine angemessene Menge an Arbeitsspeicher erhält.</span><span class="sxs-lookup"><span data-stu-id="15545-211">This approach is also useful when there is another memory-intensive process on the computer, since it would insure that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] would at least get a reasonable amount of memory.</span></span> <span data-ttu-id="15545-212">Der Nachteil besteht darin, dass es beim Starten einer neuen Instanz (oder eines anderen Prozesses) ggf. etwas dauern kann, bis die laufenden Instanzen Speicher freigeben. Dies trifft vor allem dann zu, wenn die Instanzen zuerst noch geänderte Seiten in ihre jeweiligen Datenbanken zurückschreiben müssen.</span><span class="sxs-lookup"><span data-stu-id="15545-212">The drawback is that when a new instance (or any other process) starts, it may take some time for the running instances to release memory, especially if they must write modified pages back to their databases to do so.</span></span>  
  
-   <span data-ttu-id="15545-213">Unternehmen Sie nichts (dies wird nicht empfohlen).</span><span class="sxs-lookup"><span data-stu-id="15545-213">Do nothing (not recommended).</span></span> <span data-ttu-id="15545-214">Die ersten Instanzen, denen eine Arbeitslast zugewiesen wird, weisen sich den gesamten Arbeitsspeicher zu.</span><span class="sxs-lookup"><span data-stu-id="15545-214">The first instances presented with a workload will tend to allocate all of memory.</span></span> <span data-ttu-id="15545-215">Instanzen im Leerlauf oder Instanzen, die später gestartet werden, müssen in dieser Situation u. U. mit einer minimalen Menge an Arbeitsspeicher auskommen.</span><span class="sxs-lookup"><span data-stu-id="15545-215">Idle instances, or instances started later, may end up running with only a minimal amount of memory available.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="15545-216">versucht nicht, die Speicherauslastung über mehrere Instanzen hinweg auszugleichen.</span><span class="sxs-lookup"><span data-stu-id="15545-216">makes no attempt to balance memory usage across instances.</span></span> <span data-ttu-id="15545-217">Alle Instanzen antworten jedoch auf Signale der Windows-Arbeitsspeicherbenachrichtigung, um ihren Speicherbedarf anzupassen.</span><span class="sxs-lookup"><span data-stu-id="15545-217">All instances will, however, respond to Windows Memory Notification signals to adjust the size of their memory footprint.</span></span> <span data-ttu-id="15545-218">Windows nimmt keinen Speicherausgleich bei Anwendungen vor, die über eine Arbeitsspeicherbenachrichtigungs-API verfügen.</span><span class="sxs-lookup"><span data-stu-id="15545-218">Windows does not balance memory across applications with the Memory Notification API.</span></span> <span data-ttu-id="15545-219">Es erfolgt lediglich eine globale Rückmeldung über die Verfügbarkeit von Arbeitsspeicher auf dem System.</span><span class="sxs-lookup"><span data-stu-id="15545-219">It merely provides global feedback as to the availability of memory on the system.</span></span>  
  
 <span data-ttu-id="15545-220">Sie können diese Einstellungen ohne Neustart der Instanzen ändern. Dadurch können Sie problemlos mit verschiedenen Einstellungen experimentieren, um die für Ihr Nutzungsmuster am besten geeigneten Einstellungen herauszufinden.</span><span class="sxs-lookup"><span data-stu-id="15545-220">You can change these settings without restarting the instances, so you can easily experiment to find the best settings for your usage pattern.</span></span>  
  
## <a name="providing-the-maximum-amount-of-memory-to-sql-server"></a><span data-ttu-id="15545-221">Bereitstellen der maximalen Menge von Arbeitsspeicher für SQL Server</span><span class="sxs-lookup"><span data-stu-id="15545-221">Providing the Maximum Amount of Memory to SQL Server</span></span>  
  
||<span data-ttu-id="15545-222">32-Bit</span><span class="sxs-lookup"><span data-stu-id="15545-222">32-bit</span></span>|<span data-ttu-id="15545-223">64 Bit</span><span class="sxs-lookup"><span data-stu-id="15545-223">64-bit</span></span>|  
|-|-------------|-------------|  
|<span data-ttu-id="15545-224">Konventioneller Arbeitsspeicher</span><span class="sxs-lookup"><span data-stu-id="15545-224">Conventional memory</span></span>|<span data-ttu-id="15545-225">Bis zu der für den virtuellen Prozessadressraum geltenden Beschränkung in allen Editionen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="15545-225">Up to process virtual address space limit in all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] editions:</span></span><br /><br /> <span data-ttu-id="15545-226">2 GB</span><span class="sxs-lookup"><span data-stu-id="15545-226">2 GB</span></span><br /><br /> <span data-ttu-id="15545-227">3 GB mit **/3GB** -Startparameter \*</span><span class="sxs-lookup"><span data-stu-id="15545-227">3 GB with **/3gb** boot parameter\*</span></span><br /><br /> <span data-ttu-id="15545-228">4 GB auf WOW64\*\*</span><span class="sxs-lookup"><span data-stu-id="15545-228">4 GB on WOW64\*\*</span></span>|<span data-ttu-id="15545-229">Bis zu der für den virtuellen Prozessadressraum geltenden Beschränkung in allen Editionen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="15545-229">Up to process virtual address space limit in all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] editions:</span></span><br /><br /> <span data-ttu-id="15545-230">8 TB in einer x64-Architektur</span><span class="sxs-lookup"><span data-stu-id="15545-230">8 TB on x64 architecture</span></span>|  
  
 <span data-ttu-id="15545-231">\***/3GB** ist ein Startparameter des Betriebssystems.</span><span class="sxs-lookup"><span data-stu-id="15545-231">\***/3gb** is an operating-system boot parameter.</span></span> <span data-ttu-id="15545-232">Weitere Informationen finden Sie in der [MSDN Library](https://go.microsoft.com/fwlink/?LinkID=10257&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="15545-232">For more information, visit the [MSDN Library](https://go.microsoft.com/fwlink/?LinkID=10257&clcid=0x409).</span></span>  
  
 <span data-ttu-id="15545-233">\* \* WOW64 (Windows unter Windows 64) ist ein Modus, in dem 32-Bit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] unter einem 64-Bit-Betriebssystem ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="15545-233">\*\*WOW64 (Windows on Windows 64) is a mode in which 32-bit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] runs on a 64-bit operating system.</span></span> <span data-ttu-id="15545-234">Weitere Informationen finden Sie in der [MSDN Library](https://go.microsoft.com/fwlink/?LinkID=10257&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="15545-234">For more information, visit the [MSDN Library](https://go.microsoft.com/fwlink/?LinkID=10257&clcid=0x409).</span></span>  
  
## <a name="examples"></a><span data-ttu-id="15545-235">Beispiele</span><span class="sxs-lookup"><span data-stu-id="15545-235">Examples</span></span>  
  
### <a name="example-a"></a><span data-ttu-id="15545-236">Beispiel A</span><span class="sxs-lookup"><span data-stu-id="15545-236">Example A</span></span>  
 <span data-ttu-id="15545-237">Im folgenden Beispiel wird die Option `max server memory` auf 4 GB festgelegt.</span><span class="sxs-lookup"><span data-stu-id="15545-237">The following example sets the `max server memory` option to 4 GB:</span></span>  
  
```  
sp_configure 'show advanced options', 1;  
GO  
RECONFIGURE;  
GO  
sp_configure 'max server memory', 4096;  
GO  
RECONFIGURE;  
GO  
```  
  
### <a name="example-b-determining-current-memory-allocation"></a><span data-ttu-id="15545-238">Beispiel B: Bestimmen der aktuellen Speicherbelegung</span><span class="sxs-lookup"><span data-stu-id="15545-238">Example B. Determining Current Memory Allocation</span></span>  
 <span data-ttu-id="15545-239">Mit der folgenden Abfrage werden Informationen zur aktuellen Speicherbelegung zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="15545-239">The following query returns information about currently allocated memory.</span></span>  
  
```  
SELECT  
(physical_memory_in_use_kb/1024) AS Memory_usedby_Sqlserver_MB,  
(locked_page_allocations_kb/1024) AS Locked_pages_used_Sqlserver_MB,  
(total_virtual_address_space_kb/1024) AS Total_VAS_in_MB,  
process_physical_memory_low,  
process_virtual_memory_low  
FROM sys.dm_os_process_memory;  
```  
  
## <a name="see-also"></a><span data-ttu-id="15545-240">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="15545-240">See Also</span></span>  
 <span data-ttu-id="15545-241">[Überwachen und Optimieren der Leistung](../../relational-databases/performance/monitor-and-tune-for-performance.md) </span><span class="sxs-lookup"><span data-stu-id="15545-241">[Monitor and Tune for Performance](../../relational-databases/performance/monitor-and-tune-for-performance.md) </span></span>  
 <span data-ttu-id="15545-242">[RECONFIGURE &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/reconfigure-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="15545-242">[RECONFIGURE &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/reconfigure-transact-sql) </span></span>  
 <span data-ttu-id="15545-243">[Serverkonfigurationsoptionen &#40;SQL Server&#41;](server-configuration-options-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="15545-243">[Server Configuration Options &#40;SQL Server&#41;](server-configuration-options-sql-server.md) </span></span>  
 [<span data-ttu-id="15545-244">sp_configure &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="15545-244">sp_configure &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-configure-transact-sql)  
  
  
