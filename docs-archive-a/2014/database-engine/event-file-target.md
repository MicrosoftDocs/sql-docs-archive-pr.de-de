---
title: Ereignis Datei Ziel | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- event file target
- file target [SQL Server extended events]
- targets [SQL Server extended events], file target
ms.assetid: 4f0ee6ec-a0a8-4c38-aa61-8293ab6ac7fd
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 1a64236b3874543982be5abbd8e60d8169082a1e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87701606"
---
# <a name="event-file-target"></a><span data-ttu-id="32f7d-102">Event File Target</span><span class="sxs-lookup"><span data-stu-id="32f7d-102">Event File Target</span></span>
  <span data-ttu-id="32f7d-103">Das Ereignisdateiziel ist ein Ziel, das vollständige Puffer auf Datenträger schreibt.</span><span class="sxs-lookup"><span data-stu-id="32f7d-103">The event file target is a target that writes complete buffers to disk.</span></span>  
  
 <span data-ttu-id="32f7d-104">In der folgenden Tabelle werden die verfügbaren Optionen zum Konfigurieren des Ereignisdateiziels beschrieben.</span><span class="sxs-lookup"><span data-stu-id="32f7d-104">The following table describes the available options for configuring the event file target.</span></span>  
  
|<span data-ttu-id="32f7d-105">Option</span><span class="sxs-lookup"><span data-stu-id="32f7d-105">Option</span></span>|<span data-ttu-id="32f7d-106">Zulässige Werte</span><span class="sxs-lookup"><span data-stu-id="32f7d-106">Allowed values</span></span>|<span data-ttu-id="32f7d-107">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="32f7d-107">Description</span></span>|  
|------------|--------------------|-----------------|  
|<span data-ttu-id="32f7d-108">filename</span><span class="sxs-lookup"><span data-stu-id="32f7d-108">filename</span></span>|<span data-ttu-id="32f7d-109">Eine beliebige Zeichenfolge mit bis zu 260&nbsp;Zeichen.</span><span class="sxs-lookup"><span data-stu-id="32f7d-109">Any string up to 260 characters.</span></span> <span data-ttu-id="32f7d-110">Dieser Wert ist erforderlich.</span><span class="sxs-lookup"><span data-stu-id="32f7d-110">This value is required.</span></span>|<span data-ttu-id="32f7d-111">Der Speicherort und der Dateiname.</span><span class="sxs-lookup"><span data-stu-id="32f7d-111">The file location and filename.</span></span><br /><br /> <span data-ttu-id="32f7d-112">Sie können eine beliebige Dateinamenerweiterung verwenden.</span><span class="sxs-lookup"><span data-stu-id="32f7d-112">You can use any filename extension.</span></span>|  
|<span data-ttu-id="32f7d-113">max_file_size</span><span class="sxs-lookup"><span data-stu-id="32f7d-113">max_file_size</span></span>|<span data-ttu-id="32f7d-114">Eine beliebige 64-Bit-Ganzzahl.</span><span class="sxs-lookup"><span data-stu-id="32f7d-114">Any 64 bit integer.</span></span> <span data-ttu-id="32f7d-115">Dieser Wert ist optional.</span><span class="sxs-lookup"><span data-stu-id="32f7d-115">This value is optional.</span></span>|<span data-ttu-id="32f7d-116">Die maximale Dateigröße in Megabyte (MB).</span><span class="sxs-lookup"><span data-stu-id="32f7d-116">The maximum file size in megabytes (MB).</span></span> <span data-ttu-id="32f7d-117">Wenn max_file_size nicht angegeben ist, kann die Datei so lange anwachsen, bis der Speicherplatz auf dem Datenträger erschöpft ist.</span><span class="sxs-lookup"><span data-stu-id="32f7d-117">If max_file_size is not specified, the file will grow until the disk is full.</span></span> <span data-ttu-id="32f7d-118">Die Standarddateigröße ist 1&nbsp;GB.</span><span class="sxs-lookup"><span data-stu-id="32f7d-118">The default file size is 1GB.</span></span><br /><br /> <span data-ttu-id="32f7d-119">Der Wert für max_file_size muss größer als die aktuelle Größe der Sitzungspuffer sein.</span><span class="sxs-lookup"><span data-stu-id="32f7d-119">max_file_size must be larger than the current size of the session buffers.</span></span> <span data-ttu-id="32f7d-120">Andernfalls wird zurückgegeben, dass max_file_size ungültig ist, und das Dateiziel kann nicht initialisiert werden.</span><span class="sxs-lookup"><span data-stu-id="32f7d-120">If it is not, the file target will fail to initialize, reporting that the max_file_size is invalid.</span></span> <span data-ttu-id="32f7d-121">Fragen Sie zum Anzeigen der aktuellen Puffergröße die Spalte „buffer_size“ in der dynamischen Verwaltungssicht [sys.dm_xe_sessions](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-sessions-transact-sql) ab.</span><span class="sxs-lookup"><span data-stu-id="32f7d-121">To view the current size of the buffers, query the buffer_size column in the [sys.dm_xe_sessions](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-sessions-transact-sql) dynamic management view.</span></span><br /><br /> <span data-ttu-id="32f7d-122">Wenn die Standardgröße geringer als die Sitzungspuffergröße ist, sollten Sie für „max_file_size“ den in der Spalte „max_memory“ der Katalogsicht [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) angegebenen Wert festlegen.</span><span class="sxs-lookup"><span data-stu-id="32f7d-122">If the default file size is smaller than the session buffer size, we recommend setting max_file_size to the value specified in the max_memory column in the [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) catalog view.</span></span><br /><br /> <span data-ttu-id="32f7d-123">Wenn für max_file_size ein höherer Wert als für die Sitzungspuffer definiert ist, wird dieses möglicherweise auf das nächstkleinere Vielfache der Sitzungspuffergröße abgerundet.</span><span class="sxs-lookup"><span data-stu-id="32f7d-123">When max_file_size is set to a size larger than the size of the session buffers, it may be rounded down to the nearest multiple of the session buffer size.</span></span> <span data-ttu-id="32f7d-124">Hierdurch wird eine Zieldatei erzeugt, die kleiner als der für max_file_size angegebene Wert ist.</span><span class="sxs-lookup"><span data-stu-id="32f7d-124">This may create a target file that is smaller than the specified value of max_file_size.</span></span> <span data-ttu-id="32f7d-125">Beispiel: Wenn die Puffergröße 100 MB beträgt und für &lt;legacyBold&gt;max_file_size&lt;/legacyBold&gt; 150 MB festgelegt ist, wird die resultierende Dateigröße auf 100 MB abgerundet, da in die verbleibenden 50 MB kein zweiter Puffer passen würde.</span><span class="sxs-lookup"><span data-stu-id="32f7d-125">For example, if the buffer size is 100MB and max_file_size is set to 150MB, the resultant file size is rounded down to 100MB because a second buffer would not fit in the remaining 50MB of space.</span></span><br /><br /> <span data-ttu-id="32f7d-126">Wenn die Standarddateigröße kleiner als die Sitzungspuffergröße ist, sollten Sie für „max_file_size“ den Wert in der Spalte „max_memory“ der Katalogsicht [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) festlegen.</span><span class="sxs-lookup"><span data-stu-id="32f7d-126">If the default file size is smaller than the session buffer size, we recommend setting max_file_size to the value in the max_memory column in the [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) catalog view.</span></span>|  
|<span data-ttu-id="32f7d-127">max_rollover_files</span><span class="sxs-lookup"><span data-stu-id="32f7d-127">max_rollover_files</span></span>|<span data-ttu-id="32f7d-128">Eine beliebige 32-Bit-Ganzzahl.</span><span class="sxs-lookup"><span data-stu-id="32f7d-128">Any 32 bit integer.</span></span> <span data-ttu-id="32f7d-129">Dieser Wert ist optional.</span><span class="sxs-lookup"><span data-stu-id="32f7d-129">This value is optional.</span></span>|<span data-ttu-id="32f7d-130">Die maximale Anzahl von Dateien, die im Dateisystem beibehalten werden.</span><span class="sxs-lookup"><span data-stu-id="32f7d-130">The maximum number of files to retain in the file system.</span></span> <span data-ttu-id="32f7d-131">Der Standardwert ist 5.</span><span class="sxs-lookup"><span data-stu-id="32f7d-131">The default value is 5.</span></span>|  
|<span data-ttu-id="32f7d-132">increment</span><span class="sxs-lookup"><span data-stu-id="32f7d-132">increment</span></span>|<span data-ttu-id="32f7d-133">Eine beliebige 32-Bit-Ganzzahl.</span><span class="sxs-lookup"><span data-stu-id="32f7d-133">Any 32 bit integer.</span></span> <span data-ttu-id="32f7d-134">Dieser Wert ist optional.</span><span class="sxs-lookup"><span data-stu-id="32f7d-134">This value is optional.</span></span>|<span data-ttu-id="32f7d-135">Die inkrementelle Zunahme für die Datei in Megabyte (MB).</span><span class="sxs-lookup"><span data-stu-id="32f7d-135">The incremental growth, in megabytes (MB), for the file.</span></span> <span data-ttu-id="32f7d-136">Falls der Wert für <legacyBold>increment</legacyBold> nicht angegeben wurde, wird als Standardwert das Doppelte der Sitzungspuffergröße verwendet.</span><span class="sxs-lookup"><span data-stu-id="32f7d-136">If unspecified, the default value for increment is twice the session buffer size.</span></span>|  
  
 <span data-ttu-id="32f7d-137">Wenn ein Ereignisdateiziel zum ersten Mal erstellt wird, wird an den Dateinamen „_0\_ “ und ein langer ganzzahliger Wert angefügt.</span><span class="sxs-lookup"><span data-stu-id="32f7d-137">The first time that an event file target is created, the filename you specify is appended with _0\_ and a long integer value.</span></span> <span data-ttu-id="32f7d-138">Der ganzzahlige Wert wird als die Anzahl von Millisekunden zwischen dem 1. Januar 1601 und dem Datum und der Uhrzeit der Dateierstellung berechnet.</span><span class="sxs-lookup"><span data-stu-id="32f7d-138">The integer value is calculated as the number of milliseconds between January 1, 1601 and the date and time the file is created.</span></span> <span data-ttu-id="32f7d-139">Nachfolgende Rolloverdateien verwenden ebenfalls dieses Format.</span><span class="sxs-lookup"><span data-stu-id="32f7d-139">Subsequent rollover files also use this format.</span></span> <span data-ttu-id="32f7d-140">Anhand des langen ganzzahligen Werts können Sie die neueste Datei ermitteln.</span><span class="sxs-lookup"><span data-stu-id="32f7d-140">From examining the value of the long integer, you can determine the most current file.</span></span> <span data-ttu-id="32f7d-141">Das folgende Beispiel veranschaulicht, wie Dateien in einem Szenario benannt werden, in dem die Option für den Dateinamen als C:\OutputFiles\MyOutput.xel angegeben wird:</span><span class="sxs-lookup"><span data-stu-id="32f7d-141">The following example illustrates how files are named in a scenario where you specify the filename option as C:\OutputFiles\MyOutput.xel:</span></span>  
  
-   <span data-ttu-id="32f7d-142">Erste erstellte Datei: C:\OutputFiles\MyOutput_0_128500310259380000.xel</span><span class="sxs-lookup"><span data-stu-id="32f7d-142">first file created - C:\OutputFiles\MyOutput_0_128500310259380000.xel</span></span>  
  
-   <span data-ttu-id="32f7d-143">Erste Rolloverdatei: C:\OutputFiles\MyOutput_0_128505831770890000.xel</span><span class="sxs-lookup"><span data-stu-id="32f7d-143">first rollover file - C:\OutputFiles\MyOutput_0_128505831770890000.xel</span></span>  
  
-   <span data-ttu-id="32f7d-144">Zweite Rolloverdatei: C:\OutputFiles\MyOutput_0_132410772966237000.xel</span><span class="sxs-lookup"><span data-stu-id="32f7d-144">second rollover file - C:\OutputFiles\MyOutput_0_132410772966237000.xel</span></span>  
  
## <a name="adding-the-target-to-a-session"></a><span data-ttu-id="32f7d-145">Hinzufügen des Ziels zu einer Sitzung</span><span class="sxs-lookup"><span data-stu-id="32f7d-145">Adding the Target to a Session</span></span>  
 <span data-ttu-id="32f7d-146">Schließen Sie beim Erstellen oder Ändern einer Ereignissitzung die folgenden Anweisungen ein, wobei Sie *Dateiname* durch den gewünschten Dateinamen mit Pfad ersetzen, um das Ereignisdateiziel einer Sitzung für erweiterte Ereignisse hinzuzufügen:</span><span class="sxs-lookup"><span data-stu-id="32f7d-146">To add the event file target to an Extended Events session, you would include the following statements when you create or alter an event session, replacing *file_name* with the desired file name and path:</span></span>  
  
```  
ADD TARGET package0.event_file(  
   SET filename='file_name.xel')  
```  
  
## <a name="reviewing-the-target-output"></a><span data-ttu-id="32f7d-147">Überprüfen der Zielausgabe</span><span class="sxs-lookup"><span data-stu-id="32f7d-147">Reviewing the Target Output</span></span>  
 <span data-ttu-id="32f7d-148">Verwenden Sie zum Überprüfen der Funktion „sys.fn_xe_file_target_read_file“ die Ausgabe des Dateiziels.</span><span class="sxs-lookup"><span data-stu-id="32f7d-148">To review the output from the file target, you must use the sys.fn_xe_file_target_read_file function.</span></span> <span data-ttu-id="32f7d-149">Es empfiehlt sich, die Daten in XML umzuwandeln.</span><span class="sxs-lookup"><span data-stu-id="32f7d-149">We recommend that you cast the data as XML.</span></span> <span data-ttu-id="32f7d-150">Sie können die folgende Syntax verwenden, wobei Sie *Dateiname* durch den Dateinamen mit Pfad ersetzen, die Sie beim Hinzufügen des Ziels angegeben haben:</span><span class="sxs-lookup"><span data-stu-id="32f7d-150">You can use the following syntax, replacing *file_name* with the file name and path that you specified when you added the target:</span></span>  
  
```  
SELECT *, CAST(event_data AS XML) AS 'event_data_XML'  
FROM sys.fn_xe_file_target_read_file('file_name*.xel', NULL, NULL, NULL)  
```  
  
## <a name="see-also"></a><span data-ttu-id="32f7d-151">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="32f7d-151">See Also</span></span>  
 <span data-ttu-id="32f7d-152">[Ziele für erweiterte Ereignisse von SQL Server](../../2014/database-engine/sql-server-extended-events-targets.md) </span><span class="sxs-lookup"><span data-stu-id="32f7d-152">[SQL Server Extended Events Targets](../../2014/database-engine/sql-server-extended-events-targets.md) </span></span>  
 <span data-ttu-id="32f7d-153">[sys. fn_xe_file_target_read_file &#40;Transact-SQL-&#41;](/sql/relational-databases/system-functions/sys-fn-xe-file-target-read-file-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="32f7d-153">[sys.fn_xe_file_target_read_file &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/sys-fn-xe-file-target-read-file-transact-sql) </span></span>  
 <span data-ttu-id="32f7d-154">[CREATE EVENT SESSION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-event-session-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="32f7d-154">[CREATE EVENT SESSION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-event-session-transact-sql) </span></span>  
 [<span data-ttu-id="32f7d-155">ALTER EVENT SESSION &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="32f7d-155">ALTER EVENT SESSION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-event-session-transact-sql)  
  
  
