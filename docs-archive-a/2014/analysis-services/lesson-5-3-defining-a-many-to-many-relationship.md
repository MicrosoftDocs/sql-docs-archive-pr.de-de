---
title: Definieren einer m:n-Beziehung | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 7bebb174-148c-4cbb-a285-2f6d536a16d5
author: minewiskan
ms.author: owend
ms.openlocfilehash: fb4e18831ae23b8cf1f0702b357672f7520478a8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87698793"
---
# <a name="defining-a-many-to-many-relationship"></a><span data-ttu-id="43eb0-102">Definieren einer m:n-Beziehung</span><span class="sxs-lookup"><span data-stu-id="43eb0-102">Defining a Many-to-Many Relationship</span></span>
  <span data-ttu-id="43eb0-103">Wenn Sie eine Dimension definieren, wird typischerweise jeder einzelne Fakt (fact) mit genau einem Dimensionsmitglied verknüpft, wohingegen ein einzelnes Dimensionselement vielen verschiedenen Fakten zugeordnet sein kann.</span><span class="sxs-lookup"><span data-stu-id="43eb0-103">When you define a dimension, typically each fact joins to one and only one dimension member, whereas a single dimension member can be associated with many different facts.</span></span> <span data-ttu-id="43eb0-104">Beispielsweise können für jeden Kunden mehrere Bestellungen vorliegen, aber jede Bestellung kann nur einem einzelnen Kunden zugeordnet sein.</span><span class="sxs-lookup"><span data-stu-id="43eb0-104">For example, each customer can have many orders but each order belongs to a single customer.</span></span> <span data-ttu-id="43eb0-105">In der Terminologie von relationalen Datenbanken wird dies als *1:* n-Beziehung bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="43eb0-105">In relational database terminology, this is referred to as a *one-to-many relationship*.</span></span> <span data-ttu-id="43eb0-106">Manchmal kann allerdings ein einzelner Fakt mit mehreren Dimensionselementen verknüpft sein.</span><span class="sxs-lookup"><span data-stu-id="43eb0-106">However, sometimes a single fact can join to multiple dimension members.</span></span> <span data-ttu-id="43eb0-107">In der Terminologie von relationalen Datenbanken wird dies als *m:n-Beziehung*bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="43eb0-107">In relational database terminology, this is referred to as a *many-to-many relationship*.</span></span> <span data-ttu-id="43eb0-108">Ein Kunde kann beispielsweise mehrere Gründe für einen Kauf haben, und ein Kaufgrund kann mehreren Käufen zugeordnet sein.</span><span class="sxs-lookup"><span data-stu-id="43eb0-108">For example, a customer may have multiple reasons for making a purchase, and a purchase reason can be associated with multiple purchases.</span></span> <span data-ttu-id="43eb0-109">Eine Jointabelle wird verwendet, um die Kaufgründe zu definieren, die sich auf den jeweiligen Kauf beziehen.</span><span class="sxs-lookup"><span data-stu-id="43eb0-109">A join table is used to define the sales reasons that relate to each purchase.</span></span> <span data-ttu-id="43eb0-110">Eine mit solchen Beziehungen konstruierte Sales Reason-Dimension würde dann mehrere Elemente aufweisen, die mit einer einzelnen Verkaufstransaktion verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="43eb0-110">A Sales Reason dimension constructed from such relationships would then have multiple members that relate to a single sales transaction.</span></span> <span data-ttu-id="43eb0-111">Durch m:n-Beziehungen werden das dimensionale Modell über das klassische Sternschema hinaus erweitert und komplexe Analysen unterstützt, wenn Dimensionen nicht direkt mit einer Faktentabelle verknüpft sind.</span><span class="sxs-lookup"><span data-stu-id="43eb0-111">Many-to-many dimensions expand the dimensional model beyond the classic star schema and support complex analytics when dimensions are not directly related to a fact table.</span></span>

 <span data-ttu-id="43eb0-112">In [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]definieren Sie eine m:n-Beziehung zwischen einer Dimension und einer Measuregruppe, indem Sie eine Zwischenfakttabelle angeben, die mit der Dimensionstabelle verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="43eb0-112">In [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)], you define a many-to-many relationship between a dimension and a measure group by specifying an intermediate fact table that is joined to the dimension table.</span></span> <span data-ttu-id="43eb0-113">Eine Zwischenfakttabelle ist wiederum mit einer Zwischendimensionstabelle verknüpft, die mit der Faktentabelle verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="43eb0-113">An intermediate fact table is joined, in turn, to an intermediate dimension table to which the fact table is joined.</span></span> <span data-ttu-id="43eb0-114">Von den m:n-Beziehungen zwischen der Zwischenfakttabelle und der Dimensionstabelle in der Beziehung und der Zwischendimension werden die m:n-Beziehungen zwischen Elementen der primären Dimension und Measures in der Measuregruppe erstellt, die durch die Beziehung angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="43eb0-114">The many-to-many relationships between the intermediate fact table and both the dimension tables in the relationship and the intermediate dimension creates the many-to-many relationships between members of the primary dimension and measures in the measure group that is specified by the relationship.</span></span> <span data-ttu-id="43eb0-115">Damit eine m:n-Beziehung zwischen einer Dimension und einer Measuregruppe über eine Zwischenmeasuregruppe definiert werden kann, muss die Zwischenmeasuregruppe eine oder mehrere Dimensionen mit der ursprünglichen Measuregruppe gemeinsam nutzen.</span><span class="sxs-lookup"><span data-stu-id="43eb0-115">In order to define a many-to-many relationship between a dimension and a measure group through an intermediate measure group, the intermediate measure group must share one or more dimensions with the original measure group.</span></span>

 <span data-ttu-id="43eb0-116">Bei einer m:n-Beziehung werden die Werte getrennt summiert, was bedeutet, dass sie nicht mehr als einmal für das All-Element aggregiert werden.</span><span class="sxs-lookup"><span data-stu-id="43eb0-116">With a many-to-many dimension, values are distinct summed, which means that they do not aggregate more than once to the All member.</span></span>

> [!NOTE]
>  <span data-ttu-id="43eb0-117">Um eine m:n-Dimensionsbeziehung zu unterstützen, muss eine Primärschlüssel-Fremdschlüssel Beziehung in der Datenquellen Sicht zwischen allen beteiligten Tabellen definiert werden.</span><span class="sxs-lookup"><span data-stu-id="43eb0-117">In order to support a many-to-many dimension relationship, a primary key-foreign key relationship must be defined in the data source view between all the tables that are involved.</span></span> <span data-ttu-id="43eb0-118">Sie können sonst nicht die entsprechende Zwischenmeasuregruppe auswählen, wenn Sie die Beziehung auf der Registerkarte **Dimensionsverwendung** des Cube-Designers einrichten.</span><span class="sxs-lookup"><span data-stu-id="43eb0-118">Otherwise, you will not be able to select the correct intermediate measure group when you establish the relationship in the **Dimension Usage** tab of Cube Designer.</span></span>

 <span data-ttu-id="43eb0-119">Weitere Informationen finden Sie unter [Dimensionsbeziehungen](multidimensional-models-olap-logical-cube-objects/dimension-relationships.md)und [Definieren einer m:n-Beziehung und deren Eigenschaften](multidimensional-models/define-a-many-to-many-relationship-and-many-to-many-relationship-properties.md).</span><span class="sxs-lookup"><span data-stu-id="43eb0-119">For more information, see [Dimension Relationships](multidimensional-models-olap-logical-cube-objects/dimension-relationships.md), and [Define a Many-to-Many Relationship and Many-to-Many Relationship Properties](multidimensional-models/define-a-many-to-many-relationship-and-many-to-many-relationship-properties.md).</span></span>

 <span data-ttu-id="43eb0-120">In den Aufgaben in diesem Thema definieren Sie die Sales Reasons-Dimension und die Sales Reasons-Measuregruppe, und Sie definieren eine m:n-Beziehung zwischen der Sales Reason-Dimension und der Sales-Measuregruppe durch die Sales Reasons-Measuregruppe.</span><span class="sxs-lookup"><span data-stu-id="43eb0-120">In the tasks in this topic, you define the Sales Reasons dimension and the Sales Reasons measure group, and you define a many-to-many relationship between the Sales Reasons dimension and the Internet Sales measure group through the Sales Reasons measure group.</span></span>

## <a name="adding-required-tables-to-the-data-source-view"></a><span data-ttu-id="43eb0-121">Hinzufügen erforderlicher Tabellen zur Datenquellensicht</span><span class="sxs-lookup"><span data-stu-id="43eb0-121">Adding Required Tables to the Data Source View</span></span>

1.  <span data-ttu-id="43eb0-122">Öffnen Sie den Datenquellensicht-Designer für die **Adventure Works DW 2012** -Datenquellensicht.</span><span class="sxs-lookup"><span data-stu-id="43eb0-122">Open Data Source View Designer for the **Adventure Works DW 2012** data source view.</span></span>

2.  <span data-ttu-id="43eb0-123">Klicken Sie mit der rechten Maustaste auf eine beliebige Stelle im Bereich **Diagramm Planer** , klicken Sie auf **Neues Diagramm**, und geben Sie `Internet Sales Order Reasons` als Namen für das neue Diagramm an.</span><span class="sxs-lookup"><span data-stu-id="43eb0-123">Right-click anywhere in the **Diagram Organizer** pane, click **New Diagram**, and specify `Internet Sales Order Reasons` as the name for this new diagram.</span></span>

3.  <span data-ttu-id="43eb0-124">Ziehen Sie die **InternetSales** -Tabelle aus dem Bereich **Tabellen** in den Bereich **Diagramm** .</span><span class="sxs-lookup"><span data-stu-id="43eb0-124">Drag the **InternetSales** table to the **Diagram** pane from the **Tables** pane.</span></span>

4.  <span data-ttu-id="43eb0-125">Klicken Sie mit der rechten Maustaste auf eine beliebige Stelle im Bereich **Diagramm** , und klicken Sie anschließend auf **Tabellen hinzufügen/entfernen**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-125">Right-click anywhere in the **Diagram** pane, and then click **Add/Remove Tables**.</span></span>

5.  <span data-ttu-id="43eb0-126">Fügen Sie der Liste **Eingeschlossene Objekte** im Dialogfeld **Tabellen hinzufügen/entfernen** die Tabellen **DimSalesReason** und **FactInternetSalesReason** hinzu, und klicken Sie anschließend auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-126">In the **Add/Remove Tables** dialog box, add the **DimSalesReason** table and the **FactInternetSalesReason** table to the **Included objects** list, and then click **OK**.</span></span>

     <span data-ttu-id="43eb0-127">Beachten Sie, dass die Primärschlüssel-Fremdschlüssel-Beziehungen zwischen den beteiligten Tabellen automatisch eingerichtet werden, da diese Beziehungen in der zugrunde liegenden relationalen Datenbank definiert werden.</span><span class="sxs-lookup"><span data-stu-id="43eb0-127">Notice that the primary key-foreign key relationships between the tables that are involved are established automatically because those relationships are defined in the underlying relational database.</span></span> <span data-ttu-id="43eb0-128">Wenn diese Beziehungen nicht in der zugrunde liegenden relationalen Datenbank definiert wären, müssten Sie sie in der Datenquellensicht definieren.</span><span class="sxs-lookup"><span data-stu-id="43eb0-128">If these relationships were not defined in the underlying relational database, you would have to define them in the data source view.</span></span>

6.  <span data-ttu-id="43eb0-129">Zeigen Sie im Menü **Format** auf **Automatisches Layout**, und klicken Sie anschließend auf **Diagramm**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-129">On the **Format** menu, point to **Auto Layout**, and then click **Diagram**.</span></span>

7.  <span data-ttu-id="43eb0-130">Ändern Sie im Eigenschaftenfenster die **FriendlyName** -Eigenschaft der **DimSalesReason** -Tabelle in `SalesReason` , und ändern Sie dann die **FriendlyName** -Eigenschaft der **FactInternetSalesReason** -Tabelle in `InternetSalesReason` .</span><span class="sxs-lookup"><span data-stu-id="43eb0-130">In the Properties window, change the **FriendlyName** property of the **DimSalesReason** table to `SalesReason`, and then change the **FriendlyName** property of the **FactInternetSalesReason** table to `InternetSalesReason`.</span></span>

8.  <span data-ttu-id="43eb0-131">Erweitern Sie **InternetSalesReason (dbo.FactInternetSalesReason)** im Bereich **Tabellen**, klicken Sie auf **SalesOrderNumber**, und überprüfen Sie anschließend die **DataType** -Eigenschaft für diese Datenspalte im Eigenschaftenfenster.</span><span class="sxs-lookup"><span data-stu-id="43eb0-131">In the **Tables** pane, expand **InternetSalesReason (dbo.FactInternetSalesReason)**, click **SalesOrderNumber**, and then review the **DataType** property for this data column in the Properties window.</span></span>

     <span data-ttu-id="43eb0-132">Beachten Sie, dass der Datentyp für die **SalesOrderNumber** -Spalte ein Zeichenfolgendatentyp ist.</span><span class="sxs-lookup"><span data-stu-id="43eb0-132">Notice that the data type for the **SalesOrderNumber** column is a string data type.</span></span>

9. <span data-ttu-id="43eb0-133">Überprüfen Sie die Datentypen für die anderen Spalten in der `InternetSalesReason` Tabelle.</span><span class="sxs-lookup"><span data-stu-id="43eb0-133">Review the data types for the other columns in the `InternetSalesReason` table.</span></span>

     <span data-ttu-id="43eb0-134">Beachten Sie, dass die Datentypen für die anderen zwei Spalten in dieser Tabelle numerische Datentypen sind.</span><span class="sxs-lookup"><span data-stu-id="43eb0-134">Notice that the data types for the other two columns in this table are numeric data types.</span></span>

10. <span data-ttu-id="43eb0-135">Klicken Sie im Bereich **Tabellen** mit der rechten Maustaste auf **InternetSalesReason (dbo.FactInternetSalesReason)**, und klicken Sie anschließend auf **Daten durchsuchen**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-135">In the **Tables** pane, right-click **InternetSalesReason (dbo.FactInternetSalesReason)**, and then click **Explore Data**.</span></span>

     <span data-ttu-id="43eb0-136">Beachten Sie, dass für jede Zeilennummer innerhalb jeder Bestellung von einem Schlüsselwert der Verkaufsgrund für den Kauf von diesem Zeilenelement identifiziert wird, wie in der folgenden Abbildung zu sehen.</span><span class="sxs-lookup"><span data-stu-id="43eb0-136">Notice that, for each line number within each order, a key value identifies the sales reason for the purchase of that line item, as shown in the following image.</span></span>

     <span data-ttu-id="43eb0-137">![Schlüsselwert zum Identifizieren des Verkaufsgrundes für Käufe](../../2014/tutorials/media/l5-many-to-many-1.gif "Schlüsselwert zum Identifizieren des Verkaufsgrundes für Käufe")</span><span class="sxs-lookup"><span data-stu-id="43eb0-137">![Key value to identify sales reason for purchases](../../2014/tutorials/media/l5-many-to-many-1.gif "Key value to identify sales reason for purchases")</span></span>

## <a name="defining-the-intermediate-measure-group"></a><span data-ttu-id="43eb0-138">Definieren der Zwischenmeasuregruppe</span><span class="sxs-lookup"><span data-stu-id="43eb0-138">Defining the Intermediate Measure Group</span></span>

1.  <span data-ttu-id="43eb0-139">Wechseln Sie zum Cube-Designer für den [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] Tutorial-Cube, und klicken Sie anschließend auf die Registerkarte **Cubestruktur** .</span><span class="sxs-lookup"><span data-stu-id="43eb0-139">Switch to Cube Designer for the [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] Tutorial cube, and then click the **Cube Structure** tab.</span></span>

2.  <span data-ttu-id="43eb0-140">Klicken Sie mit der rechten Maustaste auf eine beliebige Stelle im Bereich **Measures** und anschließend auf **Neue Measuregruppe**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-140">Right-click anywhere in the **Measures** pane, and then click **New Measure Group**.</span></span> <span data-ttu-id="43eb0-141">Weitere Informationen finden Sie unter [Erstellen von Measures und Measuregruppen in mehrdimensionalen Modellen](multidimensional-models/create-measures-and-measure-groups-in-multidimensional-models.md).</span><span class="sxs-lookup"><span data-stu-id="43eb0-141">For more information, see [Create Measures and Measure Groups in Multidimensional Models](multidimensional-models/create-measures-and-measure-groups-in-multidimensional-models.md).</span></span>

3.  <span data-ttu-id="43eb0-142">Wählen Sie im Dialogfeld **neue Measure** -Gruppe `InternetSalesReason` in der Liste **Wählen Sie eine Tabelle aus der Datenquellen Sicht aus aus** , und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-142">In the **New Measure Group** dialog box, select `InternetSalesReason` in the **Select a table from the data source view** list, and then click **OK**.</span></span>

     <span data-ttu-id="43eb0-143">Beachten Sie, dass die **Internet Sales Reason** -Measuregruppe jetzt im Bereich **Measures** angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="43eb0-143">Notice that the **Internet Sales Reason** measure group now appears in the **Measures** pane.</span></span>

4.  <span data-ttu-id="43eb0-144">Erweitern Sie die **Internet Sales Reason** -Measuregruppe.</span><span class="sxs-lookup"><span data-stu-id="43eb0-144">Expand the **Internet Sales Reason** measure group.</span></span>

     <span data-ttu-id="43eb0-145">Beachten Sie, dass nur ein einzelnes Measure für diese neue Measuregruppe definiert ist, das **Internet Sales Reason Count** -Measure.</span><span class="sxs-lookup"><span data-stu-id="43eb0-145">Notice that only a single measure is defined for this new measure group, the **Internet Sales Reason Count** measure.</span></span>

5.  <span data-ttu-id="43eb0-146">Wählen Sie **Internet Sales Reason Count** aus, und überprüfen Sie die Eigenschaften dieses Measures im Eigenschaftenfenster.</span><span class="sxs-lookup"><span data-stu-id="43eb0-146">Select **Internet Sales Reason Count** and review the properties of this measure in the Properties window.</span></span>

     <span data-ttu-id="43eb0-147">Die **AggregateFunction** -Eigenschaft für dieses Measure wurde als **Count** anstelle von **Sum**definiert.</span><span class="sxs-lookup"><span data-stu-id="43eb0-147">Notice that the **AggregateFunction** property for this measure is defined as **Count** instead of **Sum**.</span></span> [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]<span data-ttu-id="43eb0-148">Wählen Sie **Anzahl** aus, da der zugrunde liegende Datentyp ein Zeichen folgen-Datentyp ist.</span><span class="sxs-lookup"><span data-stu-id="43eb0-148">chose **Count** because the underlying data type is a string data type.</span></span> <span data-ttu-id="43eb0-149">Die anderen zwei Spalten in der zugrunde liegenden Faktentabelle wurden nicht als Measures ausgewählt, weil sie von [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] als numerische Schlüssel statt tatsächliche Measures festgestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="43eb0-149">The other two columns in the underlying fact table were not selected as measures because [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] detected them as numeric keys instead of as actual measures.</span></span> <span data-ttu-id="43eb0-150">Weitere Informationen finden Sie unter [Semiadditives Verhalten definieren](multidimensional-models/define-semiadditive-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="43eb0-150">For more information, see [Define Semiadditive Behavior](multidimensional-models/define-semiadditive-behavior.md).</span></span>

6.  <span data-ttu-id="43eb0-151">Ändern Sie im Eigenschaftenfenster die **Sichtbar** -Eigenschaft des **Internet Sales Reason Count** -Measures in **False**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-151">In the Properties window, change the **Visible** property of the **Internet Sales Reason Count** measure to **False**.</span></span>

     <span data-ttu-id="43eb0-152">Dieses Measure wird nur verwendet, um die Sales Reason-Dimension zu verknüpfen, die Sie nach der Internet Sales-Measuregruppe definieren werden.</span><span class="sxs-lookup"><span data-stu-id="43eb0-152">This measure will only be used to join the Sales Reason dimension that you will define next to the Internet Sales measure group.</span></span> <span data-ttu-id="43eb0-153">Benutzer werden dieses Measure nicht direkt durchsuchen.</span><span class="sxs-lookup"><span data-stu-id="43eb0-153">Users will not browse this measure directly.</span></span>

     <span data-ttu-id="43eb0-154">Die folgende Abbildung zeigt die Eigenschaften für das **Internet Sales Reason Count** -Measure.</span><span class="sxs-lookup"><span data-stu-id="43eb0-154">The following image shows the properties for the **Internet Sales Reason Count** measure.</span></span>

     <span data-ttu-id="43eb0-155">![Eigenschaften für das Internet Sales Reason Count-Measure](../../2014/tutorials/media/l5-many-to-many-2.gif "Eigenschaften für das Internet Sales Reason Count-Measure")</span><span class="sxs-lookup"><span data-stu-id="43eb0-155">![Properties for Internet Sales Reason Count measure](../../2014/tutorials/media/l5-many-to-many-2.gif "Properties for Internet Sales Reason Count measure")</span></span>

## <a name="defining-the-many-to-many-dimension"></a><span data-ttu-id="43eb0-156">Definieren der m:n-Dimension</span><span class="sxs-lookup"><span data-stu-id="43eb0-156">Defining the Many-to-Many Dimension</span></span>

1.  <span data-ttu-id="43eb0-157">Klicken Sie in Projektmappen-Explorer mit der rechten Maustaste auf **Dimensionen**, und klicken Sie dann auf **neue Dimension**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-157">In Solution Explorer, right-click **Dimensions**, and then click **New Dimension**.</span></span>

2.  <span data-ttu-id="43eb0-158">Klicken Sie auf der Seite **Willkommen beim Dimensions-Assistenten** auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-158">On the **Welcome to the Dimension Wizard** page, click **Next**.</span></span>

3.  <span data-ttu-id="43eb0-159">Überprüfen Sie, ob die Option **Vorhandene Tabelle verwenden** auf der Seite **Erstellungsmethode auswählen** ausgewählt ist, und klicken Sie anschließend auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-159">On the **Select Creation Method** page, verify that the **Use an existing table** option is selected, and then click **Next**.</span></span>

4.  <span data-ttu-id="43eb0-160">Überprüfen Sie auf der Seite **Quellinformationen angeben** , ob die [!INCLUDE[ssSampleDBCoShort](../includes/sssampledbcoshort-md.md)] DW 2012-Datenquellensicht ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="43eb0-160">On the **Specify Source Information** page, verify that the [!INCLUDE[ssSampleDBCoShort](../includes/sssampledbcoshort-md.md)] DW 2012 data source view is selected.</span></span>

5.  <span data-ttu-id="43eb0-161">Wählen Sie in der Liste **Haupttabelle** die Option aus `SalesReason` .</span><span class="sxs-lookup"><span data-stu-id="43eb0-161">In the **Main table** list, select `SalesReason`.</span></span>

6.  <span data-ttu-id="43eb0-162">Überprüfen Sie in der Liste **Schlüsselspalten** , ob **SalesReasonKey** aufgelistet wird.</span><span class="sxs-lookup"><span data-stu-id="43eb0-162">In the **Key columns** list, verify that **SalesReasonKey** is listed.</span></span>

7.  <span data-ttu-id="43eb0-163">Wählen Sie in der Liste **Namensspalte** den Eintrag **SalesReasonName**aus.</span><span class="sxs-lookup"><span data-stu-id="43eb0-163">In the **Name column** list, select **SalesReasonName**.</span></span>

8.  <span data-ttu-id="43eb0-164">Klicken Sie auf **Weiter**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-164">Click **Next**.</span></span>

9. <span data-ttu-id="43eb0-165">Auf der Seite **Dimensionsattribute auswählen** wird das **Sales Reason Key** -Attribut automatisch ausgewählt, da es das Schlüsselattribut ist.</span><span class="sxs-lookup"><span data-stu-id="43eb0-165">On the **Select Dimension Attributes** page, the **Sales Reason Key** attribute is automatically selected because it is the key attribute.</span></span> <span data-ttu-id="43eb0-166">Aktivieren Sie das Kontrollkästchen neben dem **Sales Reason Reason Type** -Attribut, ändern Sie den Namen in `Sales Reason Type` , und klicken Sie dann auf **weiter**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-166">Select the check box beside the **Sales Reason Reason Type** attribute, change its name to `Sales Reason Type`, and then click **Next**.</span></span>

10. <span data-ttu-id="43eb0-167">Klicken Sie auf der Seite **Assistenten abschließen** auf **Fertig stellen** , um die Sales Reason-Dimension zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="43eb0-167">On the **Completing the Wizard** page, click **Finish** to create the Sales Reason dimension.</span></span>

11. <span data-ttu-id="43eb0-168">Klicken Sie im Menü **File** (Datei) auf **Save All** (Alles speichern).</span><span class="sxs-lookup"><span data-stu-id="43eb0-168">On the **File** menu, click **Save All**.</span></span>

12. <span data-ttu-id="43eb0-169">Wählen Sie im Bereich **Attribute** des Dimensions-Designers für die **Sales Reason** -Dimension **Sales Reason Key**aus, und ändern Sie dann die **Name** -Eigenschaft im Eigenschaftenfenster in.`Sales Reason.`</span><span class="sxs-lookup"><span data-stu-id="43eb0-169">In the **Attributes** pane of the Dimension Designer for the **Sales Reason** dimension, select **Sales Reason Key**, and then change the **Name** property in the Properties window to `Sales Reason.`</span></span>

13. <span data-ttu-id="43eb0-170">Erstellen Sie im Bereich **Hierarchien** des Dimensions-Designers eine **Sales Reasons** -Benutzer Hierarchie, die die `Sales Reason Type` Ebene und die **Sales Reason** -Ebene in dieser Reihenfolge enthält.</span><span class="sxs-lookup"><span data-stu-id="43eb0-170">In the **Hierarchies** pane of the Dimension Designer, create a **Sales Reasons** user hierarchy that contains the `Sales Reason Type` level and the **Sales Reason** level, in that order.</span></span>

14. <span data-ttu-id="43eb0-171">Definieren Sie im Eigenschaftenfenster `All Sales Reasons` als Wert für die **allmembership Name** -Eigenschaft der Sales Reasons-Hierarchie.</span><span class="sxs-lookup"><span data-stu-id="43eb0-171">In the Properties window, define `All Sales Reasons` as the value for the **AllMemberName** property of the Sales Reasons hierarchy.</span></span>

15. <span data-ttu-id="43eb0-172">Definieren Sie `All Sales Reasons` als Wert für die **attributeallmembership Name** -Eigenschaft der Sales Reason-Dimension.</span><span class="sxs-lookup"><span data-stu-id="43eb0-172">Define `All Sales Reasons` as the value for **AttributeAllMemberName** property of the Sales Reason dimension.</span></span>

16. <span data-ttu-id="43eb0-173">Um die neu erstellte Dimension als Cubedimension zum [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] Tutorial-Cube hinzuzufügen, wechseln Sie zum **Cube-Designer**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-173">To add the newly created dimension to the [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] Tutorial cube as a cube dimension, switch to **Cube Designer**.</span></span> <span data-ttu-id="43eb0-174">Klicken Sie mit der rechten Maustaste in den Bereich **Dimensionen** der Registerkarte **Cubestruktur** , und wählen Sie die Option **Cubedimension hinzufügen**aus.</span><span class="sxs-lookup"><span data-stu-id="43eb0-174">On the **Cube Structure** tab, right-click in the **Dimensions** pane and select **Add Cube Dimension**.</span></span>

17. <span data-ttu-id="43eb0-175">Wählen Sie im Dialogfeld **Cubedimension hinzufügen** den Eintrag **Sales Reason** aus, und klicken Sie anschließend auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-175">In the **Add Cube Dimension** dialog box, select **Sales Reason** and then click **OK**.</span></span>

18. <span data-ttu-id="43eb0-176">Klicken Sie im Menü **File** (Datei) auf **Save All** (Alles speichern).</span><span class="sxs-lookup"><span data-stu-id="43eb0-176">On the **File** menu, click **Save All**.</span></span>

## <a name="defining-the-many-to-many-relationship"></a><span data-ttu-id="43eb0-177">Definieren der m:n-Beziehung</span><span class="sxs-lookup"><span data-stu-id="43eb0-177">Defining the Many to Many Relationship</span></span>

1.  <span data-ttu-id="43eb0-178">Wechseln Sie zum Cube-Designer für den [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] Tutorial-Cube, und klicken Sie anschließend auf die Registerkarte **Dimensionsverwendung** .</span><span class="sxs-lookup"><span data-stu-id="43eb0-178">Switch to Cube Designer for the [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] Tutorial cube, and then click the **Dimension Usage** tab.</span></span>

     <span data-ttu-id="43eb0-179">Beachten Sie, dass für die **Sales Reason** -Dimension eine reguläre Beziehung zur **Internet Sales Reason** -Measuregruppe definiert ist, nicht aber eine Beziehung zur **Internet Sales** -Measuregruppe oder zur **Reseller Sales** -Measuregruppe.</span><span class="sxs-lookup"><span data-stu-id="43eb0-179">Notice that the **Sales Reason** dimension has a regular relationship defined with the **Internet Sales Reason** measure group, but has no relationship defined with the **Internet Sales** or **Reseller Sales** measure groups.</span></span> <span data-ttu-id="43eb0-180">Außerdem ist für die **Internet Sales Order Details** -Dimension eine reguläre Beziehung zur **Internet Sales Reason** -Dimension definiert, für die wiederum eine **Faktenbeziehung** zur **Internet Sales** -Measuregruppe besteht.</span><span class="sxs-lookup"><span data-stu-id="43eb0-180">Notice also that the **Internet Sales Order Details** dimension has a regular relationship defined with the **Internet Sales Reason** dimension, which in turn has a **Fact Relationship** with the **Internet Sales** measure group.</span></span> <span data-ttu-id="43eb0-181">Wäre diese Dimension nicht vorhanden (oder wäre eine andere Dimension, für die eine Beziehung sowohl zur **Internet Sales Reason** - als auch zur **Internet Sales** -Measuregruppe besteht, nicht vorhanden), könnten Sie die m:n-Beziehung nicht definieren.</span><span class="sxs-lookup"><span data-stu-id="43eb0-181">If this dimension was not present (or another dimension with a relationship with both the **Internet Sales Reason** and the **Internet Sales** measure group were not present), you would not be able to define the many-to-many relationship.</span></span>

2.  <span data-ttu-id="43eb0-182">Klicken Sie auf die Zelle am Schnittpunkt der **Internet Sales** -Measuregruppe und der **Sales Reason** -Dimension und anschließend auf die Schaltfläche zum Durchsuchen (**…**).</span><span class="sxs-lookup"><span data-stu-id="43eb0-182">Click the cell at the intersection of the **Internet Sales** measure group and the **Sales Reason** dimension and then click the browse button (**...**).</span></span>

3.  <span data-ttu-id="43eb0-183">Wählen Sie im Dialogfeld **Beziehung definieren\*\*\*\*m:n** in der Liste **Beziehungstyp auswählen** aus.</span><span class="sxs-lookup"><span data-stu-id="43eb0-183">In the **Define Relationship** dialog box, select **Many-to-Many** in the **Select relationship type** list.</span></span>

     <span data-ttu-id="43eb0-184">Sie müssen die Zwischenmeasuregruppe definieren, die die Sales Reason-Dimension mit der Internet Sales-Measuregruppe verbindet.</span><span class="sxs-lookup"><span data-stu-id="43eb0-184">You have to define the intermediate measure group that connects the Sales Reason dimension to the Internet Sales measure group.</span></span>

4.  <span data-ttu-id="43eb0-185">Wählen Sie in der **Zwischenmeasuregruppe** -Liste **Internet Sales Reason**aus.</span><span class="sxs-lookup"><span data-stu-id="43eb0-185">In the **Intermediate measure group** list, select **Internet Sales Reason**.</span></span>

     <span data-ttu-id="43eb0-186">Die folgende Abbildung zeigt die Änderungen im Dialogfeld **Beziehung definieren** .</span><span class="sxs-lookup"><span data-stu-id="43eb0-186">The following image shows the changes in the **Define Relationship** dialog box.</span></span>

     <span data-ttu-id="43eb0-187">![Beziehung definieren (Dialogfeld)](../../2014/tutorials/media/l5-many-to-many-3.gif "Beziehung definieren (Dialogfeld)")</span><span class="sxs-lookup"><span data-stu-id="43eb0-187">![Define Relationship dialog box](../../2014/tutorials/media/l5-many-to-many-3.gif "Define Relationship dialog box")</span></span>

5.  <span data-ttu-id="43eb0-188">Klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-188">Click **OK**.</span></span>

     <span data-ttu-id="43eb0-189">Beachten Sie, dass das m:n-Symbol die Beziehung zwischen der Sales Reason-Dimension und der Internet Sales-Measuregruppe darstellt.</span><span class="sxs-lookup"><span data-stu-id="43eb0-189">Notice the many-to-many icon that represents the relationship between the Sales Reason dimension and the Internet Sales measure group.</span></span>

## <a name="browsing-the-cube-and-the-many-to-many-dimension"></a><span data-ttu-id="43eb0-190">Durchsuchen des Cubes und der m:n-Dimension</span><span class="sxs-lookup"><span data-stu-id="43eb0-190">Browsing the Cube and the Many-to-Many Dimension</span></span>

1.  <span data-ttu-id="43eb0-191">Klicken Sie im Menü **Erstellen** auf **Analysis Services Tutorial bereitstellen**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-191">On the **Build** menu, click **Deploy Analysis Services Tutorial**.</span></span>

2.  <span data-ttu-id="43eb0-192">Wechseln Sie nach erfolgreichem Abschluss der Bereitstellung im Cube-Designer für den **Tutorial-Cube zur Registerkarte** Browser [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] , und klicken Sie anschließend auf **Verbindung wiederherstellen**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-192">When deployment has successfully completed, switch to the **Browser** tab in Cube Designer for the [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] Tutorial cube, and then click **Reconnect**.</span></span>

3.  <span data-ttu-id="43eb0-193">Fügen Sie dem Datenbereich des Bereichs Daten das **Internet Sales-Sales Amount** -Measure hinzu.</span><span class="sxs-lookup"><span data-stu-id="43eb0-193">Add the **Internet Sales-Sales Amount** measure to the data area of the data pane.</span></span>

4.  <span data-ttu-id="43eb0-194">Fügen Sie die benutzerdefinierte **Sales Reasons** -Hierarchie aus der **Sales Reason** -Dimension dem Zeilenbereich des Datenbereichs hinzu.</span><span class="sxs-lookup"><span data-stu-id="43eb0-194">Add the **Sales Reasons** user-defined hierarchy from the **Sales Reason** dimension to the row area of the data pane.</span></span>

5.  <span data-ttu-id="43eb0-195">Erweitern Sie im Metadatenbereich **Customer**, **Location**, **Customer Geography**, **Members**, **All Customers**, **Australia**, klicken Sie mit der rechten Maustaste auf **Queensland**und anschließend auf **Zu Filter hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="43eb0-195">In the metadata pane, expand **Customer**, expand **Location**, expand **Customer Geography**, expand **Members**, expand **All Customers**, expand **Australia**, right-click **Queensland**, and then click **Add to Filter**.</span></span>

6.  <span data-ttu-id="43eb0-196">Erweitern Sie jedes Element der `Sales Reason Type` Ebene, um die Dollarwerte zu überprüfen, die mit jedem Grund verknüpft sind, den ein Kunde in Queensland für den Erwerb eines [!INCLUDE[ssSampleDBCoShort](../includes/sssampledbcoshort-md.md)] Produkts über das Internet angegeben hat.</span><span class="sxs-lookup"><span data-stu-id="43eb0-196">Expand each member of the `Sales Reason Type` level to review the dollar values that are associated with each reason a customer in Queensland gave for their purchase of an [!INCLUDE[ssSampleDBCoShort](../includes/sssampledbcoshort-md.md)] product over the Internet.</span></span>

     <span data-ttu-id="43eb0-197">Beachten Sie, dass die Gesamtsummen, die mit jedem Verkaufsgrund verknüpft sind, größer als die Gesamtverkäufe sind.</span><span class="sxs-lookup"><span data-stu-id="43eb0-197">Notice that the totals that are associated with each sales reason add up to more than the total sales.</span></span> <span data-ttu-id="43eb0-198">Der Grund dafür ist, dass einige Kunden mehrere Gründe für ihren Kauf angegeben haben.</span><span class="sxs-lookup"><span data-stu-id="43eb0-198">This is because some customers cited multiple reasons for their purchase.</span></span>

     <span data-ttu-id="43eb0-199">Die folgende Abbildung zeigt den Bereich **Filter** und den Bereich **Daten** des Cube-Designers.</span><span class="sxs-lookup"><span data-stu-id="43eb0-199">The following image shows the **Filter** pane and **Data** pane of Cube Designer.</span></span>

     <span data-ttu-id="43eb0-200">![Filter- und Datenbereiche des Cube-Designers](../../2014/tutorials/media/l5-many-to-many-5.gif "Filter- und Datenbereiche des Cube-Designers")</span><span class="sxs-lookup"><span data-stu-id="43eb0-200">![Filter and Data panes of Cube Designer](../../2014/tutorials/media/l5-many-to-many-5.gif "Filter and Data panes of Cube Designer")</span></span>

## <a name="next-task-in-lesson"></a><span data-ttu-id="43eb0-201">Nächste Aufgabe in der Lektion</span><span class="sxs-lookup"><span data-stu-id="43eb0-201">Next Task in Lesson</span></span>
 [<span data-ttu-id="43eb0-202">Definieren von Dimensionsgranularität innerhalb einer Measuregruppe</span><span class="sxs-lookup"><span data-stu-id="43eb0-202">Defining Dimension Granularity within a Measure Group</span></span>](lesson-5-4-defining-dimension-granularity-within-a-measure-group.md)

## <a name="see-also"></a><span data-ttu-id="43eb0-203">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="43eb0-203">See Also</span></span>
 <span data-ttu-id="43eb0-204">[Arbeiten mit Diagrammen im Datenquellen Sicht-Designer &#40;Analysis Services&#41;](multidimensional-models/work-with-diagrams-in-data-source-view-designer-analysis-services.md) [Dimensions Beziehungen](multidimensional-models-olap-logical-cube-objects/dimension-relationships.md) [eine m:n-Beziehung und m:n-Beziehungseigenschaften definieren](multidimensional-models/define-a-many-to-many-relationship-and-many-to-many-relationship-properties.md)</span><span class="sxs-lookup"><span data-stu-id="43eb0-204">[Work with Diagrams in Data Source View Designer &#40;Analysis Services&#41;](multidimensional-models/work-with-diagrams-in-data-source-view-designer-analysis-services.md) [Dimension Relationships](multidimensional-models-olap-logical-cube-objects/dimension-relationships.md) [Define a Many-to-Many Relationship and Many-to-Many Relationship Properties](multidimensional-models/define-a-many-to-many-relationship-and-many-to-many-relationship-properties.md)</span></span>


