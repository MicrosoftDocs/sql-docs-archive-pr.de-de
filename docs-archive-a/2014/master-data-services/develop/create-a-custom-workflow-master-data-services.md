---
title: Erstellen eines benutzerdefinierten Workflows (Master Data Services) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: reference
ms.assetid: 8e4403e9-595c-4b6b-9d0c-f6ae1b2bc99d
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: cac53946d83eda178328b153875a86440517a560
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87630686"
---
# <a name="create-a-custom-workflow-master-data-services"></a><span data-ttu-id="bcb94-102">Erstellen eines benutzerdefinierten Workflows (Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="bcb94-102">Create a Custom Workflow (Master Data Services)</span></span>
  [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] <span data-ttu-id="bcb94-103">verwendet Geschäftsregeln, um auf Basis der von Ihnen festgelegten Bedingungen grundlegende Workflowlösungen zu erstellen, beispielsweise das automatische Update und Validieren von Daten sowie das Senden von E-Mail-Benachrichtigungen.</span><span class="sxs-lookup"><span data-stu-id="bcb94-103">uses business rules to create basic workflow solutions, such as to automatically update and validate data and have e-mail notifications sent, based on conditions you specify.</span></span> <span data-ttu-id="bcb94-104">Wenn Sie Verarbeitungsfunktionen benötigen, die komplexer als die anhand der integrierten Workflowaktionen bereitgestellten Funktionen sind, verwenden Sie einen benutzerdefinierten Workflow.</span><span class="sxs-lookup"><span data-stu-id="bcb94-104">When you require processing that is more complex than what the built-in workflow actions provide, use a custom workflow.</span></span> <span data-ttu-id="bcb94-105">Ein benutzerdefinierter Workflow ist eine .NET-Assembly, die Sie erstellen.</span><span class="sxs-lookup"><span data-stu-id="bcb94-105">A custom workflow is a .NET assembly that you create.</span></span> <span data-ttu-id="bcb94-106">Wenn die Workflowassembly aufgerufen wird, kann der Code jede Aktion ausführen, die in Ihrer Situation erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="bcb94-106">When your workflow assembly is called, your code can take whatever action your situation requires.</span></span> <span data-ttu-id="bcb94-107">Erfordert Ihr Workflow beispielsweise eine komplexe Ereignisverarbeitung wie Genehmigungen mit mehreren Ebenen oder komplizierte Entscheidungsstrukturen, können Sie [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] so konfigurieren, dass ein benutzerdefinierter Workflow gestartet wird, der die Daten analysiert und den Empfänger der Daten für die Genehmigung bestimmt.</span><span class="sxs-lookup"><span data-stu-id="bcb94-107">For example, if your workflow requires complex event processing, such as multi-tiered approvals or complicated decision trees, you can configure [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] to start a custom workflow that analyzes the data and determines where to send it for approval.</span></span>  
  
## <a name="how-custom-workflows-are-processed"></a><span data-ttu-id="bcb94-108">Verarbeitung von benutzerdefinierten Workflows</span><span class="sxs-lookup"><span data-stu-id="bcb94-108">How Custom Workflows Are Processed</span></span>  
 <span data-ttu-id="bcb94-109">Es gibt drei Hauptkomponenten für die Verarbeitung von benutzerdefinierten Workflows: die [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)]-Webanwendung, den SQL Server MDS Workflow Integration Service und die Workflowhandlerassembly.</span><span class="sxs-lookup"><span data-stu-id="bcb94-109">There are three main components involved to process custom workflows: the [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] web application, SQL Server MDS Workflow Integration Service, and the workflow handler assembly.</span></span> <span data-ttu-id="bcb94-110">Diese Komponenten verarbeiten einen benutzerdefinierten Workflow folgendermaßen:</span><span class="sxs-lookup"><span data-stu-id="bcb94-110">These components process a custom workflow as follows:</span></span>  
  
1.  <span data-ttu-id="bcb94-111">Sie verwenden [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)], um eine Entität zu validieren, die einen Workflow startet.</span><span class="sxs-lookup"><span data-stu-id="bcb94-111">You use [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] to validate an entity that starts a workflow.</span></span>  
  
2.  [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] <span data-ttu-id="bcb94-112">sendet Elemente, die die Geschäftsregelbedingungen für eine Service Broker-Warteschlange in der [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)]-Datenbank erfüllen.</span><span class="sxs-lookup"><span data-stu-id="bcb94-112">sends members that meet the business rule conditions to a Service Broker queue in the [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] database.</span></span>  
  
3.  <span data-ttu-id="bcb94-113">In regelmäßigen Abständen ruft der SQL Server MDS Workflow Integration Service eine gespeicherte Prozedur in der [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)]-Datenbank auf.</span><span class="sxs-lookup"><span data-stu-id="bcb94-113">At regular intervals, SQL Server MDS Workflow Integration Service calls a stored procedure in the [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] database.</span></span>  
  
4.  <span data-ttu-id="bcb94-114">Wenn diese gespeicherte Prozedur Datensätze in der Service Broker-Warteschlange findet, gibt sie diese an den SQL Server MDS Workflow Integration Service zurück.</span><span class="sxs-lookup"><span data-stu-id="bcb94-114">When this stored procedure finds records in the Service Broker queue, it returns them to SQL Server MDS Workflow Integration Service.</span></span>  
  
5.  <span data-ttu-id="bcb94-115">Der SQL Server-MDS Workflow Integration Service leitet die Daten an die Workflowhandlerassembly weiter.</span><span class="sxs-lookup"><span data-stu-id="bcb94-115">SQL Server MDS Workflow Integration Services routes the data to your workflow handler assembly.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="bcb94-116">Hinweis: Der SQL Server MDS Workflow Integration Service ist für das Auslösen von einfachen Prozessen konzipiert.</span><span class="sxs-lookup"><span data-stu-id="bcb94-116">Note: SQL Server MDS Workflow Integration Service is meant to trigger simple processes.</span></span> <span data-ttu-id="bcb94-117">Wenn der benutzerdefinierte Code komplexe Verarbeitungsvorgänge erfordert, führen Sie die Verarbeitung entweder in einem separaten Thread oder außerhalb des Workflowprozesses aus.</span><span class="sxs-lookup"><span data-stu-id="bcb94-117">If your custom code requires complex processing, complete your processing either in a separate thread or outside of the workflow process.</span></span>  
  
## <a name="configure-master-data-services-for-custom-workflows"></a><span data-ttu-id="bcb94-118">Konfigurieren von Master Data Services für benutzerdefinierte Workflows</span><span class="sxs-lookup"><span data-stu-id="bcb94-118">Configure Master Data Services for Custom Workflows</span></span>  
 <span data-ttu-id="bcb94-119">Das Erstellen eines benutzerdefinierten Workflows erfordert das Schreiben von benutzerdefiniertem Code sowie das Konfigurieren von [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] zur Übergabe von Workflowdaten an den Workflowhandler.</span><span class="sxs-lookup"><span data-stu-id="bcb94-119">Creating a custom workflow requires writing some custom code and configuring [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] to pass workflow data to your workflow handler.</span></span> <span data-ttu-id="bcb94-120">Gehen Sie folgendermaßen vor, um die Verarbeitung von benutzerdefinierten Workflows zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="bcb94-120">Follow these steps to enable custom workflow processing:</span></span>  
  
1.  <span data-ttu-id="bcb94-121">Erstellen Sie eine .NET-Assembly, die [Microsoft. masterdataservices. workflowtypeextender. iworkflowtypeextender](/previous-versions/sql/sql-server-2016/hh758785(v=sql.130))implementiert.</span><span class="sxs-lookup"><span data-stu-id="bcb94-121">Create a .NET assembly that implements [Microsoft.MasterDataServices.WorkflowTypeExtender.IWorkflowTypeExtender](/previous-versions/sql/sql-server-2016/hh758785(v=sql.130)).</span></span>  
  
2.  <span data-ttu-id="bcb94-122">Konfigurieren Sie den SQL Server MDS Workflow Integration Service, um eine Verbindung mit der [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)]-Datenbank herzustellen und dem Workflowhandler ein Tag zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="bcb94-122">Configure SQL Server MDS Workflow Integration Service to connect to your [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] database and to associate a tag with your workflow handler.</span></span>  
  
3.  <span data-ttu-id="bcb94-123">Starten Sie den SQL Server MDS Workflow Integration Service.</span><span class="sxs-lookup"><span data-stu-id="bcb94-123">Start SQL Server MDS Workflow Integration Service.</span></span>  
  
4.  <span data-ttu-id="bcb94-124">Erstellen Sie in [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] eine Geschäftsregel zum Starten eines Workflows, der mit dem Namen des Workflowhandlers gekennzeichnet ist.</span><span class="sxs-lookup"><span data-stu-id="bcb94-124">Create a business rule in [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] that starts a workflow that is tagged with the name of your workflow handler.</span></span>  
  
5.  <span data-ttu-id="bcb94-125">Wenden Sie die Geschäftsregel auf ein Element an, das den benutzerdefinierten Workflow auslöst.</span><span class="sxs-lookup"><span data-stu-id="bcb94-125">Apply the business rule to a member that triggers your custom workflow.</span></span>  
  
### <a name="create-the-workflow-handler-assembly"></a><span data-ttu-id="bcb94-126">Erstellen der Workflowhandlerassembly</span><span class="sxs-lookup"><span data-stu-id="bcb94-126">Create the Workflow Handler Assembly</span></span>  
 <span data-ttu-id="bcb94-127">Ein benutzerdefinierter Workflow ist eine .net-Klassenbibliotheksassembly, die die [Microsoft. masterdataservices. workflowtypeextender. iworkflowtypeextender](/previous-versions/sql/sql-server-2016/hh758785(v=sql.130)) -Schnittstelle implementiert.</span><span class="sxs-lookup"><span data-stu-id="bcb94-127">A custom workflow is a .NET class library assembly that implements the [Microsoft.MasterDataServices.WorkflowTypeExtender.IWorkflowTypeExtender](/previous-versions/sql/sql-server-2016/hh758785(v=sql.130)) interface.</span></span> <span data-ttu-id="bcb94-128">SQL Server MDS-Workflow Integrations Dienst ruft die [Microsoft. masterdataservices. workflowtypeextender. iworkflowtypeextender. StartWorkflow \*](/previous-versions/sql/sql-server-2016/hh759009(v=sql.130)) -Methode auf, um den Code auszuführen.</span><span class="sxs-lookup"><span data-stu-id="bcb94-128">SQL Server MDS Workflow Integration Service calls the [Microsoft.MasterDataServices.WorkflowTypeExtender.IWorkflowTypeExtender.StartWorkflow\*](/previous-versions/sql/sql-server-2016/hh759009(v=sql.130)) method to run your code.</span></span> <span data-ttu-id="bcb94-129">Beispielcode, der [Microsoft. masterdataservices. workflowtypeextender. iworkflowtypeextender. StartWorkflow \*](/previous-versions/sql/sql-server-2016/hh759009(v=sql.130))implementiert, finden Sie unter Beispiel für einen [benutzerdefinierten Workflow &#40;Master Data Services&#41;](create-a-custom-workflow-example.md).</span><span class="sxs-lookup"><span data-stu-id="bcb94-129">For example code that implements [Microsoft.MasterDataServices.WorkflowTypeExtender.IWorkflowTypeExtender.StartWorkflow\*](/previous-versions/sql/sql-server-2016/hh759009(v=sql.130)), see [Custom Workflow Example &#40;Master Data Services&#41;](create-a-custom-workflow-example.md).</span></span>  
  
 <span data-ttu-id="bcb94-130">Gehen Sie wie folgt vor, um mit Visual Studio 2010 eine Assembly zu erstellen, die der SQL Server MDS Workflow Integration Service aufrufen kann, um einen benutzerdefinierten Workflow zu behandeln:</span><span class="sxs-lookup"><span data-stu-id="bcb94-130">Follow these steps to use Visual Studio 2010 to create an assembly that SQL Server MDS Workflow Integration Service can call to handle a custom workflow:</span></span>  
  
1.  <span data-ttu-id="bcb94-131">Erstellen Sie in Visual Studio 2010 ein neues **Klassenbibliotheksprojekt**, das Ihre gewünschte Sprache verwendet.</span><span class="sxs-lookup"><span data-stu-id="bcb94-131">In Visual Studio 2010, create a new **Class Library** project that uses the language of your choice.</span></span> <span data-ttu-id="bcb94-132">Um eine C#-Klassenbibliothek zu erstellen, wählen Sie die **Visual C#\Windows**-Projekttypen sowie die **Klassenbibliotheksvorlage** aus.</span><span class="sxs-lookup"><span data-stu-id="bcb94-132">To create a C# Class Library, select the **Visual C#\Windows** project types and select the **Class Library** template.</span></span> <span data-ttu-id="bcb94-133">Geben Sie einen Namen für das Projekt ein, z.B. **MDSWorkflowTest**, und klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="bcb94-133">Enter a name for your project, such as **MDSWorkflowTest**, and click **OK**.</span></span>  
  
2.  <span data-ttu-id="bcb94-134">Fügen Sie einen Verweis auf Microsoft.MasterDataServices.WorkflowTypeExtender.dll hinzu.</span><span class="sxs-lookup"><span data-stu-id="bcb94-134">Add a reference to Microsoft.MasterDataServices.WorkflowTypeExtender.dll.</span></span> <span data-ttu-id="bcb94-135">Diese Assembly befindet sich unter \<Your installation folder> \master Data services\webapplication\bin.</span><span class="sxs-lookup"><span data-stu-id="bcb94-135">This assembly can be found in \<Your installation folder>\Master Data Services\WebApplication\bin.</span></span>  
  
3.  <span data-ttu-id="bcb94-136">Fügen Sie „using Microsoft.MasterDataServices.Core.Workflow;“ der C#-Codedatei hinzu.</span><span class="sxs-lookup"><span data-stu-id="bcb94-136">Add 'using Microsoft.MasterDataServices.Core.Workflow;' to your C# code file.</span></span>  
  
4.  <span data-ttu-id="bcb94-137">Erben von [Microsoft. masterdataservices. workflowtypeextender. iworkflowtypeextender](/previous-versions/sql/sql-server-2016/hh758785(v=sql.130)) in der Klassen Deklaration.</span><span class="sxs-lookup"><span data-stu-id="bcb94-137">Inherit from [Microsoft.MasterDataServices.WorkflowTypeExtender.IWorkflowTypeExtender](/previous-versions/sql/sql-server-2016/hh758785(v=sql.130)) in your class declaration.</span></span> <span data-ttu-id="bcb94-138">Die Klassendeklaration sollte in etwa wie folgt aussehen: „public class WorkflowTester : IWorkflowTypeExtender“.</span><span class="sxs-lookup"><span data-stu-id="bcb94-138">The class declaration should be similar to: 'public class WorkflowTester : IWorkflowTypeExtender'.</span></span>  
  
5.  <span data-ttu-id="bcb94-139">Implementieren Sie die [Microsoft. masterdataservices. workflowtypeextender. iworkflowtypeextender](/previous-versions/sql/sql-server-2016/hh758785(v=sql.130)) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="bcb94-139">Implement the [Microsoft.MasterDataServices.WorkflowTypeExtender.IWorkflowTypeExtender](/previous-versions/sql/sql-server-2016/hh758785(v=sql.130)) interface.</span></span> <span data-ttu-id="bcb94-140">Die [Microsoft. masterdataservices. workflowtypeextender. iworkflowtypeextender. StartWorkflow \*](/previous-versions/sql/sql-server-2016/hh759009(v=sql.130)) -Methode wird von SQL Server MDS Workflow Integration Service aufgerufen, um den Workflow zu starten.</span><span class="sxs-lookup"><span data-stu-id="bcb94-140">The [Microsoft.MasterDataServices.WorkflowTypeExtender.IWorkflowTypeExtender.StartWorkflow\*](/previous-versions/sql/sql-server-2016/hh759009(v=sql.130)) method is called by SQL Server MDS Workflow Integration Service to start your workflow.</span></span>  
  
6.  <span data-ttu-id="bcb94-141">Kopieren Sie die Assembly an den Speicherort der ausführbaren Datei SQL Server MDS Workflow Integration Service mit dem Namen Microsoft.MasterDataServices.Workflow.exe in \<Your installation folder> \master Data services\webapplication\bin.</span><span class="sxs-lookup"><span data-stu-id="bcb94-141">Copy your assembly to the location of the SQL Server MDS Workflow Integration Service executable, named Microsoft.MasterDataServices.Workflow.exe, in \<Your installation folder>\Master Data Services\WebApplication\bin.</span></span>  
  
### <a name="configure-sql-server-mds-workflow-integration-service"></a><span data-ttu-id="bcb94-142">Konfigurieren des SQL Server MDS Workflow Integration Service</span><span class="sxs-lookup"><span data-stu-id="bcb94-142">Configure SQL Server MDS Workflow Integration Service</span></span>  
 <span data-ttu-id="bcb94-143">Bearbeiten Sie die [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)]-Konfigurationsdatei, um Verbindungsinformationen für die [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)]-Datenbank einzubinden und der Workflowhandlerassembly wie folgt ein Tag zuzuordnen:</span><span class="sxs-lookup"><span data-stu-id="bcb94-143">Edit the [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] configuration file to include connection information for your [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] database and to associate a tag with your workflow handler assembly by following these steps:</span></span>  
  
1.  <span data-ttu-id="bcb94-144">Suchen Sie nach Microsoft.MasterDataServices.Workflow.exe.config in \<Your installation folder> \master Data services\webapplication\bin.</span><span class="sxs-lookup"><span data-stu-id="bcb94-144">Find Microsoft.MasterDataServices.Workflow.exe.config in \<Your installation folder>\Master Data Services\WebApplication\bin.</span></span>  
  
2.  <span data-ttu-id="bcb94-145">Fügen Sie der Einstellung „ConnectionString“ die Verbindungsinformationen der [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)]-Datenbank hinzu.</span><span class="sxs-lookup"><span data-stu-id="bcb94-145">Add the [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] database connection information to the "ConnectionString" setting.</span></span> <span data-ttu-id="bcb94-146">Wenn die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Installation eine Sortierung mit Berücksichtigung der Groß-/Kleinschreibung verwendet, muss der Name der Datenbank in der gleichen Schreibweise wie in der Datenbank eingegeben werden.</span><span class="sxs-lookup"><span data-stu-id="bcb94-146">If your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation uses case-sensitive collation, the name of the database must be entered in the same case as in the database.</span></span> <span data-ttu-id="bcb94-147">Beispielsweise kann das vollständige Einstellungstag wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="bcb94-147">For example, the complete setting tag might look like this:</span></span>  
  
    ```xml  
    <setting name="ConnectionString" serializeAs="String">  
        <value>Server=myServer;Database=myDatabase;Integrated Security=True</value>  
    </setting>  
    ```  
  
3.  <span data-ttu-id="bcb94-148">Fügen Sie unter der Einstellung „ConnectionString“ eine Einstellung „WorkflowTypeExtenders“ hinzu, um der Workflowhandlerassembly einen Tagnamen zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="bcb94-148">Below the "ConnectionString" setting add a "WorkflowTypeExtenders" setting to associate a tag name with your workflow handler assembly.</span></span> <span data-ttu-id="bcb94-149">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="bcb94-149">For example:</span></span>  
  
    ```xml  
    <setting name="WorkflowTypeExtenders" serializeAs="String">  
        <value>TEST=MDSWorkflowTestLib.WorkflowTester, MDSWorkflowTestLib</value>  
    </setting>  
    ```  
  
     <span data-ttu-id="bcb94-150">Der innere Text des \<value> Tags weist das Format auf \<Workflow tag> = \<assembly-qualified workflow type name> .</span><span class="sxs-lookup"><span data-stu-id="bcb94-150">The inner text of the \<value> tag is in the form of \<Workflow tag>=\<assembly-qualified workflow type name>.</span></span> <span data-ttu-id="bcb94-151">\<Workflow tag>ist ein Name, mit dem Sie die workflowhandlerassembly identifizieren, wenn Sie in eine Geschäftsregel erstellen [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="bcb94-151">\<Workflow tag> is a name you use to identify the workflow handler assembly when you create a business rule in [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)].</span></span> <span data-ttu-id="bcb94-152">\<assembly-qualified workflow type name>der durch den Namespace qualifizierte Name der Workflow Klasse, gefolgt von einem Komma, gefolgt vom anzeigen amen der Assembly.</span><span class="sxs-lookup"><span data-stu-id="bcb94-152">\<assembly-qualified workflow type name> is the namespace-qualified name of your workflow class, followed by a comma, followed by the display name of the assembly.</span></span> <span data-ttu-id="bcb94-153">Verfügt die Assembly über einen starken Namen, binden Sie zudem Versionsinformationen und sowie das zugehörige PublicKeyToken ein.</span><span class="sxs-lookup"><span data-stu-id="bcb94-153">If your assembly is strongly named, you also have to include version information and its PublicKeyToken.</span></span> <span data-ttu-id="bcb94-154">Sie können mehrere Tags einschließen, \<setting> Wenn Sie mehrere Workflow Handler für unterschiedliche Arten von Workflows erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="bcb94-154">You can include multiple \<setting> tags if you have created multiple workflow handlers for different kinds of workflows.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="bcb94-155">Je nach Serverkonfiguration wird möglicherweise der Fehler „Der Zugriff wurde verweigert“ angezeigt, wenn Sie versuchen, die Datei „Microsoft.MasterDataServices.Workflow.exe.config“ zu speichern.</span><span class="sxs-lookup"><span data-stu-id="bcb94-155">Depending on the configuration of your server, you may see an "Access is denied" error when you try to save the Microsoft.MasterDataServices.Workflow.exe.config file.</span></span> <span data-ttu-id="bcb94-156">Tritt dieser Fehler auf, deaktivieren Sie vorübergehend die Benutzerkontensteuerung (UAC) auf dem Server.</span><span class="sxs-lookup"><span data-stu-id="bcb94-156">If this occurs, temporarily disable User Account Control (UAC) on the server.</span></span> <span data-ttu-id="bcb94-157">Öffnen Sie dazu die Systemsteuerung, und klicken Sie auf **System und Sicherheit**.</span><span class="sxs-lookup"><span data-stu-id="bcb94-157">To do this, open Control Panel, click **System and Security**.</span></span> <span data-ttu-id="bcb94-158">Klicken Sie unter **Wartungscenter** auf **Einstellungen der Benutzerkontensteuerung ändern**.</span><span class="sxs-lookup"><span data-stu-id="bcb94-158">Under **Action Center**, click **Change User Account Control Settings**.</span></span> <span data-ttu-id="bcb94-159">Schieben Sie im Dialogfeld **Einstellungen zur Benutzerkontensteuerung** den Balken nach unten, damit Sie keine Benachrichtigung erhalten.</span><span class="sxs-lookup"><span data-stu-id="bcb94-159">In the **User Account Control Settings** dialog, slide the bar to the bottom so that you are never notified.</span></span> <span data-ttu-id="bcb94-160">Starten Sie den Computer neu, und wiederholen Sie die vorherigen Schritte, um die Konfigurationsdatei zu bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="bcb94-160">Restart your computer and repeat the preceding steps to edit your configuration file.</span></span> <span data-ttu-id="bcb94-161">Setzen Sie nach dem Speichern der Datei die UAC-Einstellungen auf die Standardebene zurück.</span><span class="sxs-lookup"><span data-stu-id="bcb94-161">After saving the file, reset your UAC settings to the default level.</span></span>  
  
### <a name="start-sql-server-mds-workflow-integration-service"></a><span data-ttu-id="bcb94-162">Starten des SQL Server MDS Workflow Integration Service</span><span class="sxs-lookup"><span data-stu-id="bcb94-162">Start SQL Server MDS Workflow Integration Service</span></span>  
 <span data-ttu-id="bcb94-163">Standardmäßig ist SQL Server MDS Workflow Integration Service nicht installiert.</span><span class="sxs-lookup"><span data-stu-id="bcb94-163">By default, SQL Server MDS Workflow Integration Service is not installed.</span></span> <span data-ttu-id="bcb94-164">Sie müssen den Dienst installieren, bevor er verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="bcb94-164">You must install the service before it can be used.</span></span> <span data-ttu-id="bcb94-165">Erstellen Sie für eine maximale Sicherheit einen lokalen Benutzer für den Dienst, und weisen Sie diesem Benutzer nur die zum Ausführen von Workflowvorgängen erforderlichen Berechtigungen zu.</span><span class="sxs-lookup"><span data-stu-id="bcb94-165">For the greatest security, create a local user for the service and grant this user only the permissions needed to perform workflow operations.</span></span> <span data-ttu-id="bcb94-166">Gehen Sie wie folgt vor, um einen Benutzer zu erstellen sowie den Dienst zu installieren und zu starten:</span><span class="sxs-lookup"><span data-stu-id="bcb94-166">To create a user, install the service, and start the service, follow these steps:</span></span>  
  
1.  <span data-ttu-id="bcb94-167">Erstellen Sie mit dem Manager für lokale Benutzer und Gruppen einen lokalen Benutzer, beispielsweise mit dem Namen "mds_workflow_service".</span><span class="sxs-lookup"><span data-stu-id="bcb94-167">Use the Local Users and Groups manager to create a local user named, for example, mds_workflow_service.</span></span>  
  
2.  <span data-ttu-id="bcb94-168">Weisen Sie mithilfe von SQL Server Management Studio dem Benutzer "mds_workflow_service" die Berechtigung zum Ausführen der gespeicherten Prozedur "[mdm].[udpExternalActionsGet]" zu.</span><span class="sxs-lookup"><span data-stu-id="bcb94-168">Use SQL Server Management Studio to grant the mds_workflow_service user permission to execute the [mdm].[udpExternalActionsGet] stored procedure.</span></span> <span data-ttu-id="bcb94-169">Erstellen Sie dazu eine neue Anmeldung für das Konto "mds_workflow_service", erstellen Sie in der [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)]-Datenbank einen neuen Benutzer, ordnen Sie diesen Benutzer der Anmeldung "mds_workflow_service" zu, und gewähren Sie dem Benutzer die EXECUTE-Berechtigung für die gespeicherte Prozedur "[mdm].[udpExternalActionsGet]".</span><span class="sxs-lookup"><span data-stu-id="bcb94-169">To do this, create a new login for the mds_workflow_service account, create a new user in the [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] database, map this user to the mds_workflow_service login, and grant the user EXECUTE permission to the [mdm].[udpExternalActionsGet] stored procedure.</span></span>  
  
3.  <span data-ttu-id="bcb94-170">Gewähren Sie dem Benutzer "mds_workflow_service" die Berechtigung zum Ausführen der Workflowhandlerassembly.</span><span class="sxs-lookup"><span data-stu-id="bcb94-170">Grant the mds_workflow_service user permission to execute the workflow handler assembly.</span></span> <span data-ttu-id="bcb94-171">Fügen Sie dazu den Benutzer „mds_workflow_service“ der Registerkarte **Sicherheit** im Bereich **Eigenschaften** der Workflowhandlerassembly hinzu, und gewähren Sie dem Benutzer „mds_workflow_service“ die READ- und EXECUTE-Berechtigung.</span><span class="sxs-lookup"><span data-stu-id="bcb94-171">To do this, add the mds_workflow_service user to the **Security** tab of the **Properties** of the workflow handler assembly and grant the mds_workflow_service user READ and EXECUTE permission.</span></span>  
  
4.  <span data-ttu-id="bcb94-172">Gewähren Sie dem Benutzer "mds_workflow_service" die Berechtigung zum Ausführen der ausführbaren Datei des SQL Server MDS Workflow Integration Service.</span><span class="sxs-lookup"><span data-stu-id="bcb94-172">Grant the mds_workflow_service user permission to execute the SQL Server MDS Workflow Integration Service executable.</span></span> <span data-ttu-id="bcb94-173">Fügen Sie hierzu den mds_workflow_service Benutzer der Registerkarte **Sicherheit** der **Eigenschaften** Microsoft.MasterDataServices.Workflow.exe in \<Your installation folder> \master Data services\webapplication\bin hinzu, und erteilen Sie dem mds_workflow_service Benutzer die Berechtigung Lesen und ausführen.</span><span class="sxs-lookup"><span data-stu-id="bcb94-173">To do this, add the mds_workflow_service user to the **Security** tab of the **Properties** of Microsoft.MasterDataServices.Workflow.exe, in \<Your installation folder>\Master Data Services\WebApplication\bin and grant the mds_workflow_service user READ and EXECUTE permission.</span></span>  
  
5.  <span data-ttu-id="bcb94-174">Installieren Sie SQL Server MDS Workflow Integration Service mithilfe des .NET-Installationshilfsprogramms (InstallUtil.exe).</span><span class="sxs-lookup"><span data-stu-id="bcb94-174">Install SQL Server MDS Workflow Integration Service by using the .NET installation utility, named InstallUtil.exe.</span></span> <span data-ttu-id="bcb94-175">Die Datei „InstallUtil.exe“ befindet sich im .NET-Installationsordner, z.B. unter C:\Windows\Microsoft.NET\Framework\v4.0.30319\\\.</span><span class="sxs-lookup"><span data-stu-id="bcb94-175">InstallUtil.exe can be found in the .NET installation folder, such as C:\Windows\Microsoft.NET\Framework\v4.0.30319\\.</span></span> <span data-ttu-id="bcb94-176">Installieren Sie den SQL Server MDS Workflow Integration Service durch folgende Eingabe in einer Eingabeaufforderung für erhöhte Rechte:</span><span class="sxs-lookup"><span data-stu-id="bcb94-176">Install SQL Server MDS Workflow Integration Service by entering the following in an elevated command prompt:</span></span>  
  
    ```  
    C:\Windows\Microsoft.NET\Framework\v4.0.30319\InstallUtil Microsoft.MasterDataServices.Workflow.exe  
    ```  
  
     <span data-ttu-id="bcb94-177">Geben Sie während der Installation bei entsprechender Aufforderung den Benutzer "mds_workflow_service" an.</span><span class="sxs-lookup"><span data-stu-id="bcb94-177">Specify the mds_workflow_service user when prompted during installation.</span></span>  
  
6.  <span data-ttu-id="bcb94-178">Starten Sie SQL Server MDS Workflow Integration Service mithilfe des Dienst-Snap-Ins.</span><span class="sxs-lookup"><span data-stu-id="bcb94-178">Start SQL Server MDS Workflow Integration Service by using the Services snap-in.</span></span> <span data-ttu-id="bcb94-179">Suchen Sie dazu SQL Server MDS Workflow Integration Service im Dienst-Snap-In, wählen Sie den Dienst aus, und klicken Sie auf den Link **Starten**.</span><span class="sxs-lookup"><span data-stu-id="bcb94-179">To do this, find SQL Server MDS Workflow Integration Service in the Services snap-in, select it, and click the  **Start** link.</span></span>  
  
### <a name="create-a-workflow-business-rule"></a><span data-ttu-id="bcb94-180">Erstellen einer Workflowgeschäftsregel</span><span class="sxs-lookup"><span data-stu-id="bcb94-180">Create a Workflow Business Rule</span></span>  
 <span data-ttu-id="bcb94-181">Erstellen und veröffentlichen Sie mithilfe von [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] eine Geschäftsregel, die bei Anwendung den Workflow startet.</span><span class="sxs-lookup"><span data-stu-id="bcb94-181">Use [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] to create and publish a business rule that will start the workflow when applied.</span></span> <span data-ttu-id="bcb94-182">Die Geschäftsregel muss Aktionen enthalten, die Attributwerte ändern, damit die Regel den Wert "false" ergibt, nachdem sie einmal übernommen wurde.</span><span class="sxs-lookup"><span data-stu-id="bcb94-182">You should ensure that your business rule contains actions that change attribute values, so that the rule evaluates to false after it has been applied once.</span></span> <span data-ttu-id="bcb94-183">Beispielsweise kann die Geschäftsregel den Wert "true" ergeben, wenn ein Preisattributwert größer als 500 und der Approved-Attributwert leer ist.</span><span class="sxs-lookup"><span data-stu-id="bcb94-183">For example, your business rule might evaluate to true when a Price attribute value is greater than 500 and the Approved attribute value is blank.</span></span> <span data-ttu-id="bcb94-184">Die Regel kann dann zwei Aktionen umfassen, und zwar eine zum Festlegen des Approved-Attributwerts auf "Ausstehend" und eine zum Starten des Workflows.</span><span class="sxs-lookup"><span data-stu-id="bcb94-184">The rule can then include two actions: one to set the Approved attribute value to Pending and one to start the workflow.</span></span> <span data-ttu-id="bcb94-185">Sie können alternativ eine Regel erstellen, die auf die Bedingung „has changed“ (wurde geändert) zurückgreift, und Ihre Attribute hinzufügen, um die Nachverfolgungsgruppen zu ändern.</span><span class="sxs-lookup"><span data-stu-id="bcb94-185">Alternatively, you may want to create a rule that uses the "has changed" condition and add your attributes to change tracking groups.</span></span> <span data-ttu-id="bcb94-186">Weitere Informationen finden zu Geschäftsregeln Sie unter [Geschäftsregeln &#40;Master Data Services&#41;](../business-rules-master-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="bcb94-186">For more information about business rules, see [Business Rules &#40;Master Data Services&#41;](../business-rules-master-data-services.md).</span></span>  
  
 <span data-ttu-id="bcb94-187">Erstellen Sie wie folgt eine Geschäftsregel, mit der ein benutzerdefinierter Workflow in [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] gestartet wird:</span><span class="sxs-lookup"><span data-stu-id="bcb94-187">Create a business rule that starts a custom workflow in [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] by following these steps:</span></span>  
  
1.  <span data-ttu-id="bcb94-188">Ziehen Sie im Geschäftsregel-Editor von [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] nach dem Angeben der Bedingungen für die Geschäftsregel die Aktion **Workflow starten** aus der Liste **externe Aktionen** in die Bezeichnung **Aktion** des Bereichs **Then** .</span><span class="sxs-lookup"><span data-stu-id="bcb94-188">In the business rule editor of [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)], after you have specified the conditions of your business rule, drag the **Start Workflow** action from the **External actions** list to the **THEN** pane's **Action** label.</span></span>  
  
2.  <span data-ttu-id="bcb94-189">Geben Sie im Bereich **Aktion bearbeiten** im Feld **Workflowtyp** das Tag ein, mit dem die Workflowhandlerassembly identifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="bcb94-189">In the **Edit Action** pane, in the **Workflow type** box, type the tag that identifies your workflow handler assembly.</span></span> <span data-ttu-id="bcb94-190">Hierbei handelt es sich um das Tag, das Sie in der Konfigurationsdatei für die Assembly angegeben haben, beispielsweise TEST.</span><span class="sxs-lookup"><span data-stu-id="bcb94-190">This is the tag you specified in the configuration file for your assembly, for example, TEST.</span></span>  
  
3.  <span data-ttu-id="bcb94-191">Aktivieren Sie optional das Kontrollkästchen zum **Einschließen von Elementdaten**.</span><span class="sxs-lookup"><span data-stu-id="bcb94-191">Optionally, select the **Include member data** check box.</span></span> <span data-ttu-id="bcb94-192">Wählen Sie diese Option aus, um Attributnamen und Werte in der XML einzuschließen, die an den Workflowhandler übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="bcb94-192">Choose this to include attribute names and values in the XML that is passed to the workflow handler.</span></span>  
  
4.  <span data-ttu-id="bcb94-193">Geben Sie im Feld **Workflowsite** den Namen einer Website ein.</span><span class="sxs-lookup"><span data-stu-id="bcb94-193">In the **Workflow site** box, type the name of a website.</span></span> <span data-ttu-id="bcb94-194">Dies gilt u. U. nicht für den benutzerdefinierten Workflow, kann jedoch für zusätzlichen Kontext angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="bcb94-194">For your custom workflow this may not apply, but can be used for added context.</span></span>  
  
5.  <span data-ttu-id="bcb94-195">Geben Sie im Feld **Workflowname** den Namen des Workflows von Visual Studio ein.</span><span class="sxs-lookup"><span data-stu-id="bcb94-195">In the **Workflow name** box, type the name of your workflow from Visual Studio.</span></span> <span data-ttu-id="bcb94-196">Dies gilt u. U. nicht für den benutzerdefinierten Workflow, kann jedoch für zusätzlichen Kontext angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="bcb94-196">For your custom workflow this may not apply, but can be used for added context.</span></span>  
  
6.  <span data-ttu-id="bcb94-197">Speichern und veröffentlichen Sie die Geschäftsregel.</span><span class="sxs-lookup"><span data-stu-id="bcb94-197">Save and publish the business rule.</span></span>  
  
### <a name="apply-business-rules-to-start-a-workflow"></a><span data-ttu-id="bcb94-198">Anwenden von Geschäftsregeln zum Starten eines Workflows</span><span class="sxs-lookup"><span data-stu-id="bcb94-198">Apply Business Rules to Start a Workflow</span></span>  
 <span data-ttu-id="bcb94-199">Wenden Sie zum Starten des Workflows die Geschäftsregel auf die Daten an.</span><span class="sxs-lookup"><span data-stu-id="bcb94-199">Apply the business rule to your data to start the workflow.</span></span> <span data-ttu-id="bcb94-200">Bearbeiten Sie dazu mithilfe von [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] die Entität mit den zu validierenden Elementen.</span><span class="sxs-lookup"><span data-stu-id="bcb94-200">To do this, use [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] to edit the entity that contains the members you want to validate.</span></span> <span data-ttu-id="bcb94-201">Klicken Sie auf **Geschäftsregeln anwenden**.</span><span class="sxs-lookup"><span data-stu-id="bcb94-201">Click **Apply business rules**.</span></span> <span data-ttu-id="bcb94-202">Als Reaktion auf die Geschäftsregel füllt [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] die Service Broker-Warteschlange der [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)]-Datenbank auf.</span><span class="sxs-lookup"><span data-stu-id="bcb94-202">In response to the business rule, [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] populates the Service Broker queue of the [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] database.</span></span> <span data-ttu-id="bcb94-203">Überprüft der SQL Server MDS Workflow Integration Service die Warteschlange, werden die Daten an die angegebene Workflowhandlerassembly gesendet, und die Warteschlange wird geleert.</span><span class="sxs-lookup"><span data-stu-id="bcb94-203">When SQL Server MDS Workflow Integration Service checks the queue, it sends the data to the specified workflow handler assembly and clears the queue.</span></span> <span data-ttu-id="bcb94-204">Die Workflowhandlerassembly führt die Aktionen aus, die Sie darin codiert haben.</span><span class="sxs-lookup"><span data-stu-id="bcb94-204">The workflow handler assembly performs whatever actions you have coded into it.</span></span>  
  
## <a name="troubleshoot-custom-workflows"></a><span data-ttu-id="bcb94-205">Beheben von Fehlern bei benutzerdefinierten Workflows</span><span class="sxs-lookup"><span data-stu-id="bcb94-205">Troubleshoot Custom Workflows</span></span>  
 <span data-ttu-id="bcb94-206">Wenn die Workflowhandlerassembly keine Daten empfängt, versuchen Sie, SQL Server MDS Workflow Integration Service zu debuggen oder die Service Broker-Warteschlange anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="bcb94-206">If your workflow handler assembly doesn't receive data, you can try debugging SQL Server MDS Workflow Integration Service or viewing the Service Broker queue.</span></span>  
  
### <a name="debug-sql-server-mds-workflow-integration-service"></a><span data-ttu-id="bcb94-207">Debuggen von SQL Server MDS Workflow Integration Service</span><span class="sxs-lookup"><span data-stu-id="bcb94-207">Debug SQL Server MDS Workflow Integration Service</span></span>  
 <span data-ttu-id="bcb94-208">So debuggen Sie SQL Server Workflow Integration Service:</span><span class="sxs-lookup"><span data-stu-id="bcb94-208">To debug SQL Server Workflow Integration Service, take the following steps:</span></span>  
  
1.  <span data-ttu-id="bcb94-209">Verwenden Sie das Dienst-Snap-In, um den Dienst zu beenden.</span><span class="sxs-lookup"><span data-stu-id="bcb94-209">Use the Services snap-in to stop the service.</span></span>  
  
2.  <span data-ttu-id="bcb94-210">Öffnen Sie eine Eingabeaufforderung, navigieren Sie zum Speicherort des Diensts, und führen Sie den Dienst im Konsolenmodus aus. Geben Sie dazu Folgendes ein: Microsoft.MasterDataServices.Workflow.exe -console.</span><span class="sxs-lookup"><span data-stu-id="bcb94-210">Open a command prompt, navigate to the location of the service, and run the service in console mode by entering: Microsoft.MasterDataServices.Workflow.exe -console.</span></span>  
  
3.  <span data-ttu-id="bcb94-211">Aktualisieren Sie in [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)] das Element, und wenden Sie erneut Geschäftsregeln an.</span><span class="sxs-lookup"><span data-stu-id="bcb94-211">In [!INCLUDE[ssMDSmdm](../../includes/ssmdsmdm-md.md)], update your member and apply business rules again.</span></span> <span data-ttu-id="bcb94-212">Ausführliche Protokolle werden im Konsolenfenster angezeigt.</span><span class="sxs-lookup"><span data-stu-id="bcb94-212">Detailed logs are displayed in the console window.</span></span>  
  
### <a name="view-the-service-broker-queue"></a><span data-ttu-id="bcb94-213">Anzeigen der Service Broker-Warteschlange</span><span class="sxs-lookup"><span data-stu-id="bcb94-213">View the Service Broker Queue</span></span>  
 <span data-ttu-id="bcb94-214">Die Service Broker-Warteschlange, die die als Teil des Workflows übergebenen Masterdaten enthält, lautet folgendermaßen: mdm.microsoft/mdm/queue/externalaction.</span><span class="sxs-lookup"><span data-stu-id="bcb94-214">The Service Broker queue that contains the master data passed as part of the workflow is: mdm.microsoft/mdm/queue/externalaction.</span></span> <span data-ttu-id="bcb94-215">Warteschlangen befinden sich im **Objekt-Explorer** von SQL Management Studio unter dem Service Broker-Knoten der [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)]-Datenbank.</span><span class="sxs-lookup"><span data-stu-id="bcb94-215">Queues can be found in the **Object Explorer** of SQL Management Studio under the Service Broker node of the [!INCLUDE[ssMDSshort](../../includes/ssmdsshort-md.md)] database.</span></span> <span data-ttu-id="bcb94-216">Wenn der Dienst die Warteschlange ordnungsgemäß geleert hat, ist diese Warteschlange leer.</span><span class="sxs-lookup"><span data-stu-id="bcb94-216">Be aware that, if the service cleared the queue properly, this queue will be empty.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bcb94-217">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="bcb94-217">See Also</span></span>  
 <span data-ttu-id="bcb94-218">[Beispiel für einen benutzerdefinierten Workflow &#40;Master Data Services&#41;](create-a-custom-workflow-example.md) </span><span class="sxs-lookup"><span data-stu-id="bcb94-218">[Custom Workflow Example &#40;Master Data Services&#41;](create-a-custom-workflow-example.md) </span></span>  
 [<span data-ttu-id="bcb94-219">Benutzerdefinierte Workflow-XML-Beschreibung &#40;Master Data Services&#41;</span><span class="sxs-lookup"><span data-stu-id="bcb94-219">Custom Workflow XML Description &#40;Master Data Services&#41;</span></span>](create-a-custom-workflow-xml-description.md)  
  
  
