---
title: Transparente Datenverschlüsselung (TDE) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 11/23/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- Transparent Data Encryption
- database encryption key, about
- TDE
- database encryption key
- TDE, about
- Transparent Data Encryption, about
- encryption [SQL Server], transparent data encryption
ms.assetid: c75d0d4b-4008-4e71-9a9d-cee2a566bd3b
author: jaszymas
ms.author: jaszymas
ms.openlocfilehash: a8118f0781d7c9e3d839c029c6bdaf8b01e074b0
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87618609"
---
# <a name="transparent-data-encryption-tde"></a><span data-ttu-id="04a3e-102">TDE (Transparent Data Encryption)</span><span class="sxs-lookup"><span data-stu-id="04a3e-102">Transparent Data Encryption (TDE)</span></span>
  <span data-ttu-id="04a3e-103">*Transparente Datenverschlüsselung* (TDE) verschlüsselt [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] - und [!INCLUDE[ssSDSfull](../../../includes/sssdsfull-md.md)] -Datendateien, bekannt als "Verschlüsselung ruhender Daten".</span><span class="sxs-lookup"><span data-stu-id="04a3e-103">*Transparent Data Encryption* (TDE) encrypts [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and [!INCLUDE[ssSDSfull](../../../includes/sssdsfull-md.md)] data files, known as encrypting data at rest.</span></span> <span data-ttu-id="04a3e-104">Sie können verschiedene Vorsichtsmaßnahmen zum Schützen der Datenbank treffen, z.B. Entwerfen eines sicheren Systems, Verschlüsseln vertraulicher Datenbestände und Erstellen einer Firewall für die Datenbankserver.</span><span class="sxs-lookup"><span data-stu-id="04a3e-104">You can take several precautions to help secure the database such as designing a secure system, encrypting confidential assets, and building a firewall around the database servers.</span></span> <span data-ttu-id="04a3e-105">Im Falle eines Diebstahls physischer Medien (Festplatten, Sicherungsbänder oder Ähnliches) kann eine böswillige Partei die Datenbank jedoch einfach wiederherstellen oder anfügen und die Daten durchsuchen.</span><span class="sxs-lookup"><span data-stu-id="04a3e-105">However, in a scenario where the physical media (such as drives or backup tapes) are stolen, a malicious party can just restore or attach the database and browse the data.</span></span> <span data-ttu-id="04a3e-106">Eine Lösung dieses Problems besteht darin, die sensiblen Daten in der Datenbank zu verschlüsseln, und den für die Verschlüsselung der Daten verwendeten Schlüssel mit einem Zertifikat zu schützen.</span><span class="sxs-lookup"><span data-stu-id="04a3e-106">One solution is to encrypt the sensitive data in the database and protect the keys that are used to encrypt the data with a certificate.</span></span> <span data-ttu-id="04a3e-107">Dadurch kann niemand die Daten verwenden, der nicht im Besitz der Schlüssel ist. Diese Art des Schutzes muss jedoch im Voraus geplant werden.</span><span class="sxs-lookup"><span data-stu-id="04a3e-107">This prevents anyone without the keys from using the data, but this kind of protection must be planned in advance.</span></span>

 <span data-ttu-id="04a3e-108">TDE führt die E/A-Verschlüsselung und -Entschlüsselung der Daten- und Protokolldateien in Echtzeit durch.</span><span class="sxs-lookup"><span data-stu-id="04a3e-108">TDE performs real-time I/O encryption and decryption of the data and log files.</span></span> <span data-ttu-id="04a3e-109">Die Verschlüsselung verwendet einen Datenbank-Verschlüsselungsschlüssel (DEK), der im Startdatensatz der Datenbank gespeichert wird und während der Wiederherstellung zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="04a3e-109">The encryption uses a database encryption key (DEK), which is stored in the database boot record for availability during recovery.</span></span> <span data-ttu-id="04a3e-110">Der DEK ist ein symmetrischer Schlüssel, der durch ein in der Masterdatenbank des Servers gespeichertes Zertifikat gesichert wird, oder ein asymmetrischer Schlüssel, der von einem EKM-Modul geschützt wird.</span><span class="sxs-lookup"><span data-stu-id="04a3e-110">The DEK is a symmetric key secured by using a certificate stored in the master database of the server or an asymmetric key protected by an EKM module.</span></span> <span data-ttu-id="04a3e-111">TDE schützt die "ruhenden" Daten, also die Daten- und die Protokolldateien.</span><span class="sxs-lookup"><span data-stu-id="04a3e-111">TDE protects data "at rest", meaning the data and log files.</span></span> <span data-ttu-id="04a3e-112">Sie entspricht den in vielen Branchen etablierten Gesetzen, Bestimmungen und Richtlinien.</span><span class="sxs-lookup"><span data-stu-id="04a3e-112">It provides the ability to comply with many laws, regulations, and guidelines established in various industries.</span></span> <span data-ttu-id="04a3e-113">Dadurch können Softwareentwickler Daten mithilfe der AES- und 3DES-Verschlüsselungsalgorithmen verschlüsseln, ohne vorhandene Anwendungen ändern zu müssen.</span><span class="sxs-lookup"><span data-stu-id="04a3e-113">This enables software developers to encrypt data by using AES and 3DES encryption algorithms without changing existing applications.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="04a3e-114">TDE stellt keine Verschlüsselung über Kommunikationskanäle bereit.</span><span class="sxs-lookup"><span data-stu-id="04a3e-114">TDE does not provide encryption across communication channels.</span></span> <span data-ttu-id="04a3e-115">Weitere Informationen zum Verschlüsseln von Daten über Kommunikationskanäle finden Sie unter [Aktivieren von verschlüsselten Verbindungen für die Datenbank-Engine &#40;SQL Server-Konfigurations-Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="04a3e-115">For more information about how to encrypt data across communication channels, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>
> 
>  <span data-ttu-id="04a3e-116">**Verwandte Themen:**</span><span class="sxs-lookup"><span data-stu-id="04a3e-116">**Related topics:**</span></span>
> 
>  -   [<span data-ttu-id="04a3e-117">Transparent Data Encryption mit Azure SQL-Datenbank</span><span class="sxs-lookup"><span data-stu-id="04a3e-117">Transparent Data Encryption with Azure SQL Database</span></span>](../../../database-engine/transparent-data-encryption-with-azure-sql-database.md)
> -   [<span data-ttu-id="04a3e-118">Verschieben einer TDE-geschützten Datenbank auf einen anderen SQL-Server</span><span class="sxs-lookup"><span data-stu-id="04a3e-118">Move a TDE Protected Database to Another SQL Server</span></span>](move-a-tde-protected-database-to-another-sql-server.md)
> -   [<span data-ttu-id="04a3e-119">Aktivieren von TDE mit EKM</span><span class="sxs-lookup"><span data-stu-id="04a3e-119">Enable TDE Using EKM</span></span>](enable-tde-on-sql-server-using-ekm.md)

## <a name="about-tde"></a><span data-ttu-id="04a3e-120">Informationen zu TDE</span><span class="sxs-lookup"><span data-stu-id="04a3e-120">About TDE</span></span>
 <span data-ttu-id="04a3e-121">Die Verschlüsselung der Datenbankdatei erfolgt auf Seitenebene.</span><span class="sxs-lookup"><span data-stu-id="04a3e-121">Encryption of the database file is performed at the page level.</span></span> <span data-ttu-id="04a3e-122">In einer verschlüsselten Datenbank werden die Seiten verschlüsselt, bevor Sie auf den Datenträger geschrieben werden, und entschlüsselt, wenn sie in den Arbeitsspeicher gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="04a3e-122">The pages in an encrypted database are encrypted before they are written to disk and decrypted when read into memory.</span></span> <span data-ttu-id="04a3e-123">TDE erhöht nicht die Größe einer verschlüsselten Datenbank.</span><span class="sxs-lookup"><span data-stu-id="04a3e-123">TDE does not increase the size of the encrypted database.</span></span>

 <span data-ttu-id="04a3e-124">**Informationen für[!INCLUDE[ssSDS](../../../includes/sssds-md.md)]**</span><span class="sxs-lookup"><span data-stu-id="04a3e-124">**Information applicable to [!INCLUDE[ssSDS](../../../includes/sssds-md.md)]**</span></span>

 <span data-ttu-id="04a3e-125">Bei der Verwendung von TDE mit [!INCLUDE[sqldbesa](../../../includes/sqldbesa-md.md)] V12 ([Vorschau in einigen Regionen](https://azure.microsoft.com/documentation/articles/sql-database-preview-whats-new/?WT.mc_id=TSQL_GetItTag)) wird das auf Serverebene in der Masterdatenbank gespeicherte Zertifikat automatisch von [!INCLUDE[ssSDS](../../../includes/sssds-md.md)]erstellt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-125">When using TDE with [!INCLUDE[sqldbesa](../../../includes/sqldbesa-md.md)] V12  ([Preview in some regions](https://azure.microsoft.com/documentation/articles/sql-database-preview-whats-new/?WT.mc_id=TSQL_GetItTag)) the server-level certificate stored in the master database is automatically created for you by [!INCLUDE[ssSDS](../../../includes/sssds-md.md)].</span></span> <span data-ttu-id="04a3e-126">Zum Verschieben einer TDE-Datenbank auf [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] müssen Sie die Datenbank entschlüsseln, verschieben und auf der Ziel- [!INCLUDE[ssSDS](../../../includes/sssds-md.md)]erneut aktivieren.</span><span class="sxs-lookup"><span data-stu-id="04a3e-126">To move a TDE database on [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] you must decrypt the database, move the database, and then re-enable TDE on the destination [!INCLUDE[ssSDS](../../../includes/sssds-md.md)].</span></span> <span data-ttu-id="04a3e-127">Schrittweise Anweisungen für TDE auf [!INCLUDE[ssSDS](../../../includes/sssds-md.md)]finden Sie unter [Transparent Data Encryption with Azure SQL Database](../../../database-engine/transparent-data-encryption-with-azure-sql-database.md).</span><span class="sxs-lookup"><span data-stu-id="04a3e-127">For step-by-step instructions for TDE on [!INCLUDE[ssSDS](../../../includes/sssds-md.md)], see [Transparent Data Encryption with Azure SQL Database](../../../database-engine/transparent-data-encryption-with-azure-sql-database.md).</span></span>

 <span data-ttu-id="04a3e-128">Die Vorschau des Status von TDE gilt auch in der Teilmenge der geografischen Regionen, in denen die Versionsproduktfamilie V12 von [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] als jetzt allgemein verfügbar angekündigt wird.</span><span class="sxs-lookup"><span data-stu-id="04a3e-128">The preview of status of TDE applies even in the subset of geographic regions where version family V12 of [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] is announced as now being in general availability status.</span></span> <span data-ttu-id="04a3e-129">TDE für [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] dient nicht zur Verwendung in den Produktionsdatenbanken bis [!INCLUDE[msCoName](../../../includes/msconame-md.md)] ankündigt, dass TDE von der Vorschau zu GA heraufgestuft wird.</span><span class="sxs-lookup"><span data-stu-id="04a3e-129">TDE for [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] is not intended for use in production databases until [!INCLUDE[msCoName](../../../includes/msconame-md.md)] announces that TDE is promoted from preview to GA.</span></span> <span data-ttu-id="04a3e-130">Weitere Informationen zu [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] V12 finden Sie unter [Neuerungen in Azure SQL-Datenbank](https://azure.microsoft.com/documentation/articles/sql-database-preview-whats-new/).</span><span class="sxs-lookup"><span data-stu-id="04a3e-130">For more information about [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] V12, see [What's new in Azure SQL Database](https://azure.microsoft.com/documentation/articles/sql-database-preview-whats-new/).</span></span>

 <span data-ttu-id="04a3e-131">**Informationen für[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]**</span><span class="sxs-lookup"><span data-stu-id="04a3e-131">**Information applicable to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]**</span></span>

 <span data-ttu-id="04a3e-132">Nachdem sie gesichert wurde, kann die Datenbank mit dem richtigen Zertifikat wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="04a3e-132">After it is secured, the database can be restored by using the correct certificate.</span></span> <span data-ttu-id="04a3e-133">Weitere Informationen zu Zertifikaten finden Sie unter [SQL Server Certificates and Asymmetric Keys](../sql-server-certificates-and-asymmetric-keys.md).</span><span class="sxs-lookup"><span data-stu-id="04a3e-133">For more information about certificates, see [SQL Server Certificates and Asymmetric Keys](../sql-server-certificates-and-asymmetric-keys.md).</span></span>

 <span data-ttu-id="04a3e-134">Wenn Sie TDE aktivieren, sollten Sie das Zertifikat und den privaten Schlüssel, der dem Zertifikat zugeordnet ist, unmittelbar danach sichern.</span><span class="sxs-lookup"><span data-stu-id="04a3e-134">When enabling TDE, you should immediately back up the certificate and the private key associated with the certificate.</span></span> <span data-ttu-id="04a3e-135">Sollte das Zertifikat einmal nicht mehr verfügbar sein, oder sollten Sie die Datenbank auf einem anderen Server wiederherstellen oder anfügen müssen, müssen Sie über Sicherungen sowohl des Zertifikats als auch des privaten Schlüssels verfügen, da Sie andernfalls die Datenbank nicht öffnen können.</span><span class="sxs-lookup"><span data-stu-id="04a3e-135">If the certificate ever becomes unavailable or if you must restore or attach the database on another server, you must have backups of both the certificate and the private key or you will not be able to open the database.</span></span> <span data-ttu-id="04a3e-136">Das zum Verschlüsseln verwendete Zertifikat sollte beibehalten werden, selbst wenn TDE für die Datenbank nicht mehr aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="04a3e-136">The encrypting certificate should be retained even if TDE is no longer enabled on the database.</span></span> <span data-ttu-id="04a3e-137">Selbst wenn die Datenbank nicht verschlüsselt ist, können Teile des Transaktionsprotokolls nach wie vor geschützt sein. Für bestimmte Vorgänge wird das Zertifikat ggf. weiterhin benötigt, bis eine vollständige Sicherung der Datenbank ausgeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="04a3e-137">Even though the database is not encrypted, parts of the transaction log may still remain protected, and the certificate may be needed for some operations until the full backup of the database is performed.</span></span> <span data-ttu-id="04a3e-138">Ein abgelaufenes Zertifikat kann immer noch verwendet werden, um Daten mit TDE zu verschlüsseln und zu entschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="04a3e-138">A certificate that has exceeded its expiration date can still be used to encrypt and decrypt data with TDE.</span></span>

 <span data-ttu-id="04a3e-139">**Verschlüsselungshierarchie**</span><span class="sxs-lookup"><span data-stu-id="04a3e-139">**Encryption Hierarchy**</span></span>

 <span data-ttu-id="04a3e-140">Die folgende Abbildung zeigt die Architektur der TDE-Verschlüsselung.</span><span class="sxs-lookup"><span data-stu-id="04a3e-140">The following illustration shows the architecture of TDE encryption.</span></span> <span data-ttu-id="04a3e-141">Nur die Datenbankebenenelemente (der Datenbankverschlüsselungsschlüssel und die ALTER DATABASE-Teile können vom Benutzer bei der Verwendung von TDE in [!INCLUDE[ssSDS](../../../includes/sssds-md.md)]konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="04a3e-141">Only the database level items (the database encryption key and ALTER DATABASE portions are user-configurable when using TDE on [!INCLUDE[ssSDS](../../../includes/sssds-md.md)].</span></span>

 <span data-ttu-id="04a3e-142">![Zeigt die im Thema beschriebene Hierarchie an](../../../database-engine/media/tde-architecture.gif "Zeigt die im Thema beschriebene Hierarchie an")</span><span class="sxs-lookup"><span data-stu-id="04a3e-142">![Displays the hierarchy described in the topic.](../../../database-engine/media/tde-architecture.gif "Displays the hierarchy described in the topic.")</span></span>

## <a name="using-transparent-data-encryption"></a><span data-ttu-id="04a3e-143">Verwenden der transparenten Datenverschlüsselung</span><span class="sxs-lookup"><span data-stu-id="04a3e-143">Using Transparent Data Encryption</span></span>
 <span data-ttu-id="04a3e-144">Führen Sie folgende Schritte aus, um TDE zu verwenden:</span><span class="sxs-lookup"><span data-stu-id="04a3e-144">To use TDE, follow these steps.</span></span>

||
|-|
|<span data-ttu-id="04a3e-145">**Gilt für**: [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="04a3e-145">**Applies to**: [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>|

-   <span data-ttu-id="04a3e-146">Erstellen Sie einen Hauptschlüssel</span><span class="sxs-lookup"><span data-stu-id="04a3e-146">Create a master key</span></span>

-   <span data-ttu-id="04a3e-147">Erstellen oder beziehen Sie ein vom Hauptschlüssel geschütztes Zertifikat</span><span class="sxs-lookup"><span data-stu-id="04a3e-147">Create or obtain a certificate protected by the master key</span></span>

-   <span data-ttu-id="04a3e-148">Erstellen Sie einen Verschlüsselungsschlüssel für die Datenbank, und schützen Sie ihn durch das Zertifikat</span><span class="sxs-lookup"><span data-stu-id="04a3e-148">Create a database encryption key and protect it by the certificate</span></span>

-   <span data-ttu-id="04a3e-149">Legen Sie fest, dass für die Datenbank Verschlüsselung verwendet wird</span><span class="sxs-lookup"><span data-stu-id="04a3e-149">Set the database to use encryption</span></span>

 <span data-ttu-id="04a3e-150">Im folgenden Beispiel wird die Verschlüsselung und Entschlüsselung der `AdventureWorks2012` -Datenbank gezeigt, wobei ein auf dem Server `MyServerCert`installiertes Zertifikat verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="04a3e-150">The following example illustrates encrypting and decrypting the `AdventureWorks2012` database using a certificate installed on the server named `MyServerCert`.</span></span>

```
USE master;
GO
CREATE MASTER KEY ENCRYPTION BY PASSWORD = '<UseStrongPasswordHere>';
go
CREATE CERTIFICATE MyServerCert WITH SUBJECT = 'My DEK Certificate';
go
USE AdventureWorks2012;
GO
CREATE DATABASE ENCRYPTION KEY
WITH ALGORITHM = AES_128
ENCRYPTION BY SERVER CERTIFICATE MyServerCert;
GO
ALTER DATABASE AdventureWorks2012
SET ENCRYPTION ON;
GO
```

 <span data-ttu-id="04a3e-151">Die Verschlüsselungs- und Entschlüsselungsvorgänge werden in von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]geplanten Hintergrundthreads ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-151">The encryption and decryption operations are scheduled on background threads by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="04a3e-152">Sie können den Status dieser Vorgänge mithilfe der in der Liste weiter unten in diesem Thema genannten Katalogsichten und dynamischen Verwaltungssichten anzeigen.</span><span class="sxs-lookup"><span data-stu-id="04a3e-152">You can view the status of these operations using the catalog views and dynamic management views in the list that appears later in this topic.</span></span>

> [!CAUTION]
>  <span data-ttu-id="04a3e-153">Sicherungsdateien von Datenbanken, für die TDE aktiviert wurde, werden ebenfalls mithilfe des Verschlüsselungsschlüssels für die Datenbank verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-153">Backup files of databases that have TDE enabled are also encrypted by using the database encryption key.</span></span> <span data-ttu-id="04a3e-154">Darum muss bei der Wiederherstellung dieser Sicherungen das Zertifikat, das zum Verschlüsseln des Verschlüsselungsschlüssels für die Datenbank verwendet wurde, verfügbar sein.</span><span class="sxs-lookup"><span data-stu-id="04a3e-154">As a result, when you restore these backups, the certificate protecting the database encryption key must be available.</span></span> <span data-ttu-id="04a3e-155">Dies bedeutet, dass Sie zusätzlich zur Sicherung der Datenbank auch Sicherungskopien der Serverzertifikate aufbewahren müssen, um einem Datenverlust vorzubeugen.</span><span class="sxs-lookup"><span data-stu-id="04a3e-155">This means that in addition to backing up the database, you have to make sure that you maintain backups of the server certificates to prevent data loss.</span></span> <span data-ttu-id="04a3e-156">Ist das Zertifikat nicht mehr verfügbar, kann es zu einem Datenverlust kommen.</span><span class="sxs-lookup"><span data-stu-id="04a3e-156">Data loss will result if the certificate is no longer available.</span></span> <span data-ttu-id="04a3e-157">Weitere Informationen finden Sie unter [SQL Server Certificates and Asymmetric Keys](../sql-server-certificates-and-asymmetric-keys.md).</span><span class="sxs-lookup"><span data-stu-id="04a3e-157">For more information, see [SQL Server Certificates and Asymmetric Keys](../sql-server-certificates-and-asymmetric-keys.md).</span></span>

## <a name="commands-and-functions"></a><span data-ttu-id="04a3e-158">Befehle und Funktionen</span><span class="sxs-lookup"><span data-stu-id="04a3e-158">Commands and Functions</span></span>
 <span data-ttu-id="04a3e-159">Die für TDE verwendeten Zertifikate müssen mithilfe des Datenbank-Hauptschlüssels verschlüsselt sein, damit sie von den folgenden Anweisungen akzeptiert werden.</span><span class="sxs-lookup"><span data-stu-id="04a3e-159">The TDE certificates must be encrypted by the database master key to be accepted by the following statements.</span></span> <span data-ttu-id="04a3e-160">Eine Verschlüsselung nur durch ein Kennwort lehnen die Anweisungen ab.</span><span class="sxs-lookup"><span data-stu-id="04a3e-160">If they are encrypted by password only, the statements will reject them as encryptors.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="04a3e-161">Wenn die Zertifikate nach der Verwendung durch TDE mit einem Kennwortschutz versehen werden, kann auf die Datenbank nach einem Neustart nicht mehr zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="04a3e-161">Altering the certificates to be password-protected after they are used by TDE will cause the database to become inaccessible after a restart.</span></span>

 <span data-ttu-id="04a3e-162">Die folgende Tabelle bietet Links und Erläuterungen zu den Befehlen und Funktionen von TDE.</span><span class="sxs-lookup"><span data-stu-id="04a3e-162">The following table provides links and explanations of TDE commands and functions.</span></span>

|<span data-ttu-id="04a3e-163">Befehl oder Funktion</span><span class="sxs-lookup"><span data-stu-id="04a3e-163">Command or function</span></span>|<span data-ttu-id="04a3e-164">Zweck</span><span class="sxs-lookup"><span data-stu-id="04a3e-164">Purpose</span></span>|
|-------------------------|-------------|
|[<span data-ttu-id="04a3e-165">CREATE DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="04a3e-165">CREATE DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-database-encryption-key-transact-sql)|<span data-ttu-id="04a3e-166">Erstellt einen Schlüssel, der verwendet wird, um eine Datenbank zu verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="04a3e-166">Creates a key that is used to encrypt a database.</span></span>|
|[<span data-ttu-id="04a3e-167">ALTER DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="04a3e-167">ALTER DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-database-encryption-key-transact-sql)|<span data-ttu-id="04a3e-168">Ändert den Schlüssel, der verwendet wird, um eine Datenbank zu verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="04a3e-168">Changes the key that is used to encrypt a database.</span></span>|
|[<span data-ttu-id="04a3e-169">DROP DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="04a3e-169">DROP DATABASE ENCRYPTION KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/drop-database-transact-sql)|<span data-ttu-id="04a3e-170">Entfernt den Schlüssel, der verwendet wurde, um eine Datenbank zu verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="04a3e-170">Removes the key that was used to encrypt a database.</span></span>|
|[<span data-ttu-id="04a3e-171">ALTER DATABASE SET-Optionen &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="04a3e-171">ALTER DATABASE SET Options &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-database-transact-sql-set-options)|<span data-ttu-id="04a3e-172">Erklärt die `ALTER DATABASE`-Option, mit der TDE aktiviert wird.</span><span class="sxs-lookup"><span data-stu-id="04a3e-172">Explains the `ALTER DATABASE` option that is used to enable TDE.</span></span>|

## <a name="catalog-views-and-dynamic-management-views"></a><span data-ttu-id="04a3e-173">Katalogsichten und dynamische Verwaltungssichten</span><span class="sxs-lookup"><span data-stu-id="04a3e-173">Catalog Views and Dynamic Management Views</span></span>
 <span data-ttu-id="04a3e-174">In der folgenden Tabelle werden die Katalogsichten und die dynamischen Verwaltungssichten von TDE erläutert.</span><span class="sxs-lookup"><span data-stu-id="04a3e-174">The following table shows TDE catalog views and dynamic management views.</span></span>

|<span data-ttu-id="04a3e-175">Katalogsicht oder dynamische Verwaltungssicht</span><span class="sxs-lookup"><span data-stu-id="04a3e-175">Catalog view or dynamic management view</span></span>|<span data-ttu-id="04a3e-176">Zweck</span><span class="sxs-lookup"><span data-stu-id="04a3e-176">Purpose</span></span>|
|---------------------------------------------|-------------|
|[<span data-ttu-id="04a3e-177">sys.databases &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="04a3e-177">sys.databases &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql)|<span data-ttu-id="04a3e-178">Katalogsicht, die Datenbankinformationen anzeigt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-178">Catalog view that displays database information.</span></span>|
|[<span data-ttu-id="04a3e-179">sys.certificates &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="04a3e-179">sys.certificates &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-certificates-transact-sql)|<span data-ttu-id="04a3e-180">Katalogsicht, die die Zertifikate in einer Datenbank anzeigt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-180">Catalog view that shows the certificates in a database.</span></span>|
|[<span data-ttu-id="04a3e-181">sys.dm_database_encryption_keys &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="04a3e-181">sys.dm_database_encryption_keys &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-database-encryption-keys-transact-sql)|<span data-ttu-id="04a3e-182">Dynamische Verwaltungssicht, die Informationen zu den in einer Datenbank verwendeten Verschlüsselungsschlüsseln und dem aktuellen Status der Verschlüsselung einer Datenbank bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-182">Dynamic management view that provides information about the encryption keys used in a database, and the state of encryption of a database.</span></span>|

## <a name="permissions"></a><span data-ttu-id="04a3e-183">Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="04a3e-183">Permissions</span></span>
 <span data-ttu-id="04a3e-184">Jede Funktion und jeder Befehl von TDE erfordert bestimmte Berechtigungen, die in den zuvor gezeigten Tabellen beschrieben wurden.</span><span class="sxs-lookup"><span data-stu-id="04a3e-184">Each TDE feature and command has individual permission requirements, described in the tables shown earlier.</span></span>

 <span data-ttu-id="04a3e-185">Um die in Beziehung zu TDE stehenden Metadaten anzuzeigen, ist die VIEW DEFINITION-Berechtigung für das Zertifikat erforderlich.</span><span class="sxs-lookup"><span data-stu-id="04a3e-185">Viewing the metadata involved with TDE requires the VIEW DEFINITION permission on the certificate.</span></span>

## <a name="considerations"></a><span data-ttu-id="04a3e-186">Überlegungen</span><span class="sxs-lookup"><span data-stu-id="04a3e-186">Considerations</span></span>
 <span data-ttu-id="04a3e-187">Während eine erneute Verschlüsselungsprüfung für einen Datenbankverschlüsselungsvorgang ausgeführt wird, sind Wartungsvorgänge für die Datenbank deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="04a3e-187">While a re-encryption scan for a database encryption operation is in progress, maintenance operations to the database are disabled.</span></span> <span data-ttu-id="04a3e-188">Sie können den Einzelbenutzermodus für die Datenbank verwenden, um einen Wartungsvorgang durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="04a3e-188">You can use the single user mode setting for the database to perform the maintenance operation.</span></span> <span data-ttu-id="04a3e-189">Weitere Informationen finden Sie unter [So legen Sie den Einzelbenutzermodus für eine Datenbank fest](../../databases/set-a-database-to-single-user-mode.md).</span><span class="sxs-lookup"><span data-stu-id="04a3e-189">For more information, see [Set a Database to Single-user Mode](../../databases/set-a-database-to-single-user-mode.md).</span></span>

 <span data-ttu-id="04a3e-190">Der Verschlüsselungsstatus der Datenbank wird mit der dynamischen Verwaltungssicht sys.dm_database_encryption_keys angezeigt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-190">You can find the state of the database encryption using the sys.dm_database_encryption_keys dynamic management view.</span></span> <span data-ttu-id="04a3e-191">Weitere Informationen finden Sie im Abschnitt „Katalogsichten und dynamische Verwaltungssichten“ weiter oben in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="04a3e-191">For more information, see the "Catalog Views and Dynamic Management Views"section earlier in this topic).</span></span>

 <span data-ttu-id="04a3e-192">Bei TDE werden alle Dateien und Dateigruppen in der Datenbank verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-192">In TDE, all files and filegroups in the database are encrypted.</span></span> <span data-ttu-id="04a3e-193">Wenn Dateigruppen in einer Datenbank als READ ONLY markiert sind, schlägt der Datenbankverschlüsselungsvorgang fehl.</span><span class="sxs-lookup"><span data-stu-id="04a3e-193">If any filegroups in a database are marked READ ONLY, the database encryption operation will fail.</span></span>

 <span data-ttu-id="04a3e-194">Wenn eine Datenbank bei Datenbankspiegelung oder Protokollversand verwendet wird, werden beide Datenbanken verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-194">If a database is being used in database mirroring or log shipping, both databases will be encrypted.</span></span> <span data-ttu-id="04a3e-195">Die Protokolltransaktionen werden für die Übertragung zwischen den Datenbanken verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-195">The log transactions will be encrypted when sent between them.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="04a3e-196">Alle neuen Volltextindizes werden verschlüsselt, wenn für eine Datenbank die Verschlüsselung festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="04a3e-196">Any new full-text indexes will be encrypted when a database is set for encryption.</span></span> <span data-ttu-id="04a3e-197">Zuvor erstellte Volltextindizes werden während des Upgrades importiert und befinden sich in TDE, nachdem die Daten in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]geladen wurden.</span><span class="sxs-lookup"><span data-stu-id="04a3e-197">Previously-created full-text indexes will be imported during upgrade and they will be in TDE after the data is loaded into [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="04a3e-198">Wenn Sie einen Volltextindex für eine Spalte aktivieren, werden die Daten in dieser Spalte während eines Volltextindizierungsscans möglicherweise als Nur-Text auf den Datenträger geschrieben.</span><span class="sxs-lookup"><span data-stu-id="04a3e-198">Enabling a full-text index on a column can cause that column's data to be written in plain text onto the disk during a full-text indexing scan.</span></span> <span data-ttu-id="04a3e-199">Es wird empfohlen, keinen Volltextindex für vertrauliche verschlüsselte Daten zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="04a3e-199">We recommend that you do not create a full-text index on sensitive encrypted data.</span></span>

 <span data-ttu-id="04a3e-200">Verschlüsselte Daten lassen sich deutlich weniger komprimieren als entsprechende unverschlüsselte Daten.</span><span class="sxs-lookup"><span data-stu-id="04a3e-200">Encrypted data compresses significantly less than equivalent unencrypted data.</span></span> <span data-ttu-id="04a3e-201">Wenn TDE zum Verschlüsseln einer Datenbank verwendet wird, wird der für die Sicherung benötigte Speicherplatz durch die Sicherungskomprimierung nicht wesentlich geringer.</span><span class="sxs-lookup"><span data-stu-id="04a3e-201">If TDE is used to encrypt a database, backup compression will not be able to significantly compress the backup storage.</span></span> <span data-ttu-id="04a3e-202">Daher wird davon abgeraten, TDE zusammen mit der Sicherungskomprimierung zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="04a3e-202">Therefore, using TDE and backup compression together is not recommended.</span></span>

### <a name="restrictions"></a><span data-ttu-id="04a3e-203">Beschränkungen</span><span class="sxs-lookup"><span data-stu-id="04a3e-203">Restrictions</span></span>
 <span data-ttu-id="04a3e-204">Die folgende Vorgänge sind während der ersten Datenbankverschlüsselung, einer Schlüsseländerung oder der Datenbankentschlüsselung nicht erlaubt:</span><span class="sxs-lookup"><span data-stu-id="04a3e-204">The following operations are not allowed during initial database encryption, key change, or database decryption:</span></span>

-   <span data-ttu-id="04a3e-205">Löschen einer Datei aus einer Dateigruppe in der Datenbank</span><span class="sxs-lookup"><span data-stu-id="04a3e-205">Dropping a file from a filegroup in the database</span></span>

-   <span data-ttu-id="04a3e-206">Löschen der Datenbank</span><span class="sxs-lookup"><span data-stu-id="04a3e-206">Dropping the database</span></span>

-   <span data-ttu-id="04a3e-207">Offlineschalten der Datenbank</span><span class="sxs-lookup"><span data-stu-id="04a3e-207">Taking the database offline</span></span>

-   <span data-ttu-id="04a3e-208">Trennen einer Datenbank</span><span class="sxs-lookup"><span data-stu-id="04a3e-208">Detaching a database</span></span>

-   <span data-ttu-id="04a3e-209">Versetzen einer Datenbank oder einer Dateigruppe in den READ ONLY-Zustand</span><span class="sxs-lookup"><span data-stu-id="04a3e-209">Transitioning a database or filegroup into a READ ONLY state</span></span>

 <span data-ttu-id="04a3e-210">Die folgenden Vorgänge sind während der Ausführung der Anweisungen CREATE DATABASE ENCRYPTION KEY, ALTER DATABASE ENCRYPTION KEY, DROP DATABASE ENCRYPTION KEY oder ALTER DATABASE...SET ENCRYPTION nicht erlaubt:</span><span class="sxs-lookup"><span data-stu-id="04a3e-210">The following operations are not allowed during the CREATE DATABASE ENCRYPTION KEY, ALTER DATABASE ENCRYPTION KEY, DROP DATABASE ENCRYPTION KEY, or ALTER DATABASE...SET ENCRYPTION statements.</span></span>

-   <span data-ttu-id="04a3e-211">Löschen einer Datei aus einer Dateigruppe in der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="04a3e-211">Dropping a file from a filegroup in the database.</span></span>

-   <span data-ttu-id="04a3e-212">Löschen der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="04a3e-212">Dropping the database.</span></span>

-   <span data-ttu-id="04a3e-213">Offlineschalten der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="04a3e-213">Taking the database offline.</span></span>

-   <span data-ttu-id="04a3e-214">Trennen einer Datenbank.</span><span class="sxs-lookup"><span data-stu-id="04a3e-214">Detaching a database.</span></span>

-   <span data-ttu-id="04a3e-215">Versetzen einer Datenbank oder einer Dateigruppe in den READ ONLY-Zustand.</span><span class="sxs-lookup"><span data-stu-id="04a3e-215">Transitioning a database or filegroup into a READ ONLY state.</span></span>

-   <span data-ttu-id="04a3e-216">Verwenden eines ALTER DATABASE-Befehls.</span><span class="sxs-lookup"><span data-stu-id="04a3e-216">Using an ALTER DATABASE command.</span></span>

-   <span data-ttu-id="04a3e-217">Starten einer Datenbank- oder Datenbankdateisicherung.</span><span class="sxs-lookup"><span data-stu-id="04a3e-217">Starting a database or database file backup.</span></span>

-   <span data-ttu-id="04a3e-218">Starten einer Datenbank- oder Datenbankdateiwiederherstellung.</span><span class="sxs-lookup"><span data-stu-id="04a3e-218">Starting a database or database file restore.</span></span>

-   <span data-ttu-id="04a3e-219">Erstellen einer Momentaufnahme.</span><span class="sxs-lookup"><span data-stu-id="04a3e-219">Creating a snapshot.</span></span>

 <span data-ttu-id="04a3e-220">Die folgenden Vorgänge oder Bedingungen verhindern die Anweisungen CREATE DATABASE ENCRYPTION KEY, ALTER DATABASE ENCRYPTION KEY, DROP DATABASE ENCRYPTION KEY oder ALTER DATABASE...SET ENCRYPTION.</span><span class="sxs-lookup"><span data-stu-id="04a3e-220">The following operations or conditions will prevent the CREATE DATABASE ENCRYPTION KEY, ALTER DATABASE ENCRYPTION KEY, DROP DATABASE ENCRYPTION KEY, or ALTER DATABASE...SET ENCRYPTION statements.</span></span>

-   <span data-ttu-id="04a3e-221">Die Datenbank ist schreibgeschützt oder hat schreibgeschützte Dateigruppen.</span><span class="sxs-lookup"><span data-stu-id="04a3e-221">The database is read-only or has any read-only file groups.</span></span>

-   <span data-ttu-id="04a3e-222">Ein ALTER DATABASE-Befehl wird ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-222">An ALTER DATABASE command is executing.</span></span>

-   <span data-ttu-id="04a3e-223">Eine Datensicherung wird ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-223">Any data backup is running.</span></span>

-   <span data-ttu-id="04a3e-224">Die Datenbank ist offline geschaltet oder wird wiederhergestellt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-224">The database is in an offline or restore condition.</span></span>

-   <span data-ttu-id="04a3e-225">Eine Momentaufnahme wird ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-225">A snapshot is in progress.</span></span>

-   <span data-ttu-id="04a3e-226">Datenbankwartungstasks</span><span class="sxs-lookup"><span data-stu-id="04a3e-226">Database maintenance tasks.</span></span>

 <span data-ttu-id="04a3e-227">Beim Erstellen von Datenbankdateien ist die sofortige Dateiinitialisierung nicht verfügbar, wenn TDE aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="04a3e-227">When creating database files, instant file initialization is not available when TDE is enabled.</span></span>

 <span data-ttu-id="04a3e-228">Um den Verschlüsselungsschlüssel für die Datenbank mit einem asymmetrischen Schlüssel zu verschlüsseln, muss sich der asymmetrische Schlüssel auf einem erweiterbaren Schlüsselverwaltungsanbieter befinden.</span><span class="sxs-lookup"><span data-stu-id="04a3e-228">In order to encrypt the database encryption key with an asymmetric key, the asymmetric key must reside on an extensible key management provider.</span></span>

### <a name="transparent-data-encryption-and-transaction-logs"></a><span data-ttu-id="04a3e-229">Transparente Datenverschlüsselung und Transaktionsprotokolle</span><span class="sxs-lookup"><span data-stu-id="04a3e-229">Transparent Data Encryption and Transaction Logs</span></span>
 <span data-ttu-id="04a3e-230">Die Aktivierung einer Datenbank für die Verwendung von TDE führt dazu, dass der verbleibende Teil des virtuellen Transaktionsprotokolls auf 0 festgelegt wird. Dadurch wird ein neues virtuelles Transaktionsprotokoll erzwungen.</span><span class="sxs-lookup"><span data-stu-id="04a3e-230">Enabling a database to use TDE has the effect of "zeroing out" the remaining part of the virtual transaction log to force the next virtual transaction log.</span></span> <span data-ttu-id="04a3e-231">Dies gewährleistet, dass in den Transaktionsprotokollen kein Klartext verbleibt, nachdem die Datenbank für die Verschlüsselung eingerichtet wurde.</span><span class="sxs-lookup"><span data-stu-id="04a3e-231">This guarantees that no clear text is left in the transaction logs after the database is set for encryption.</span></span> <span data-ttu-id="04a3e-232">Sie können den Status der Protokolldateiverschlüsselung erkennen, wenn Sie die `encryption_state`-Spalte in der `sys.dm_database_encryption_keys`-Sicht anzeigen, wie in diesem Beispiel:</span><span class="sxs-lookup"><span data-stu-id="04a3e-232">You can find the status of the log file encryption by viewing the `encryption_state` column in the `sys.dm_database_encryption_keys` view, as in this example:</span></span>

```
USE AdventureWorks2012;
GO
/* The value 3 represents an encrypted state 
   on the database and transaction logs. */
SELECT *
FROM sys.dm_database_encryption_keys
WHERE encryption_state = 3;
GO
```

 <span data-ttu-id="04a3e-233">Weitere Informationen zur [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]-Protokolldateiarchitektur finden Sie unter [Das Transaktionsprotokoll &#40;SQL Server&#41;](../../logs/the-transaction-log-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="04a3e-233">For more information about the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] log file architecture, see [The Transaction Log &#40;SQL Server&#41;](../../logs/the-transaction-log-sql-server.md).</span></span>

 <span data-ttu-id="04a3e-234">Alle vor einer Änderung des Datenbank-Verschlüsselungsschlüssels in das Transaktionsprotokoll geschriebenen Daten werden mithilfe des vorherigen Verschlüsselungsschlüssels für die Datenbank verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-234">All data written to the transaction log before a change in the database encryption key will be encrypted by using the previous database encryption key.</span></span>

 <span data-ttu-id="04a3e-235">Nachdem ein Verschlüsselungsschlüssel für die Datenbank zweimal geändert wurde, muss eine Protokollsicherung ausgeführt werden, bevor der Verschlüsselungsschlüssel für die Datenbank wieder geändert werden kann.</span><span class="sxs-lookup"><span data-stu-id="04a3e-235">After a database encryption key has been modified twice, a log backup must be performed before the database encryption key can be modified again.</span></span>

### <a name="transparent-data-encryption-and-the-tempdb-system-database"></a><span data-ttu-id="04a3e-236">Transparente Datenverschlüsselung und die tempdb-Systemdatenbank</span><span class="sxs-lookup"><span data-stu-id="04a3e-236">Transparent Data Encryption and the tempdb System Database</span></span>
 <span data-ttu-id="04a3e-237">Die tempdb-Systemdatenbank wird verschlüsselt, wenn eine beliebige andere Datenbank in der [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Instanz mithilfe von TDE verschlüsselt ist.</span><span class="sxs-lookup"><span data-stu-id="04a3e-237">The tempdb system database will be encrypted if any other database on the instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is encrypted by using TDE.</span></span> <span data-ttu-id="04a3e-238">Dies könnte sich auf die Leistung unverschlüsselter Datenbanken der gleichen Instanz von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]auswirken.</span><span class="sxs-lookup"><span data-stu-id="04a3e-238">This might have a performance effect for unencrypted databases on the same instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="04a3e-239">Weitere Informationen über die tempdb-Systemdatenbank finden Sie unter [tempdb-Datenbank](../../databases/tempdb-database.md).</span><span class="sxs-lookup"><span data-stu-id="04a3e-239">For more information about the tempdb system database, see [tempdb Database](../../databases/tempdb-database.md).</span></span>

### <a name="transparent-data-encryption-and-replication"></a><span data-ttu-id="04a3e-240">Transparente Datenverschlüsselung und Replikation</span><span class="sxs-lookup"><span data-stu-id="04a3e-240">Transparent Data Encryption and Replication</span></span>
 <span data-ttu-id="04a3e-241">Daten aus einer TDE-aktivierten Datenbank werden bei der Replikation nicht automatisch in einer verschlüsselten Form repliziert.</span><span class="sxs-lookup"><span data-stu-id="04a3e-241">Replication does not automatically replicate data from a TDE-enabled database in an encrypted form.</span></span> <span data-ttu-id="04a3e-242">Sie müssen TDE separat aktivieren, wenn Sie die Verteilungs- und Abonnentendatenbanken schützen möchten.</span><span class="sxs-lookup"><span data-stu-id="04a3e-242">You must separately enable TDE if you want to protect the distribution and subscriber databases.</span></span> <span data-ttu-id="04a3e-243">Bei der Snapshotreplikation sowie bei der ursprünglichen Verteilung von Daten für die Transaktions- und Mergereplikation können Daten in unverschlüsselten Zwischendateien gespeichert werden – dies sind z. B. die BCP-Dateien.</span><span class="sxs-lookup"><span data-stu-id="04a3e-243">Snapshot replication, as well as the initial distribution of data for transactional and merge replication, can store data in unencrypted intermediate files; for example, the bcp files.</span></span>  <span data-ttu-id="04a3e-244">Während der Transaktions- oder Mergereplikation kann die Verschlüsselung aktiviert werden, um den Kommunikationskanal zu schützen.</span><span class="sxs-lookup"><span data-stu-id="04a3e-244">During transactional or merge replication, encryption can be enabled to protect the communication channel.</span></span> <span data-ttu-id="04a3e-245">Weitere Informationen finden Sie unter [Aktivieren von verschlüsselten Verbindungen zur Datenbank-Engine &#40;SQL Server-Konfigurations-Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="04a3e-245">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>

### <a name="transparent-data-encryption-and-filestream-data"></a><span data-ttu-id="04a3e-246">Transparente Datenverschlüsselung und FILESTREAM-Daten</span><span class="sxs-lookup"><span data-stu-id="04a3e-246">Transparent Data Encryption and FILESTREAM DATA</span></span>
 <span data-ttu-id="04a3e-247">FILESTREAM-Daten werden nicht verschlüsselt, auch dann nicht, wenn TDE aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="04a3e-247">FILESTREAM data is not encrypted even when TDE is enabled.</span></span>

### <a name="transparent-data-encryption-and-buffer-pool-extension"></a><span data-ttu-id="04a3e-248">Transparente Datenverschlüsselung und Pufferpoolerweiterung</span><span class="sxs-lookup"><span data-stu-id="04a3e-248">Transparent Data Encryption and Buffer Pool Extension</span></span>
 <span data-ttu-id="04a3e-249">Dateien, die mit der Pufferpoolerweiterung (BPE, Buffer Pool Extension) zusammenhängen, werden bei der Verschlüsselung der Datenbank mit TDE nicht verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-249">Files related to buffer pool extension (BPE) are not encrypted when database is encrypted using TDE.</span></span> <span data-ttu-id="04a3e-250">Für mit BPE zusammenhängende Dateien müssen Sie Verschlüsselungstools auf Dateisystemebene, wie Bitlocker oder EFS, verwenden.</span><span class="sxs-lookup"><span data-stu-id="04a3e-250">You must use file system level encryption tools like Bitlocker or EFS for BPE related files.</span></span>

## <a name="transparent-data-encryption-and-in-memory-oltp"></a><span data-ttu-id="04a3e-251">Transparente Datenverschlüsselung und In-Memory OLTP</span><span class="sxs-lookup"><span data-stu-id="04a3e-251">Transparent Data Encryption and In-Memory OLTP</span></span>
 <span data-ttu-id="04a3e-252">TDE kann auf einer Datenbank aktiviert werden, die über In-Memory OLTP-Objekte verfügt.</span><span class="sxs-lookup"><span data-stu-id="04a3e-252">TDE can be enabled on a database that has In-Memory OLTP objects.</span></span> <span data-ttu-id="04a3e-253">In-Memory OLTP-Protokolldatensätze werden verschlüsselt, wenn TDE aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="04a3e-253">In-Memory OLTP log records are encrypted if TDE is enabled.</span></span> <span data-ttu-id="04a3e-254">Daten in einer MEMORY_OPTIMIZED_DATA-Dateigruppe werden nicht verschlüsselt, wenn TDE aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="04a3e-254">Data in a MEMORY_OPTIMIZED_DATA filegroup is not encrypted if TDE is enabled.</span></span>

## <a name="see-also"></a><span data-ttu-id="04a3e-255">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="04a3e-255">See Also</span></span>
 <span data-ttu-id="04a3e-256">[Verschieben einer TDE-geschützten Datenbank auf eine andere SQL Server](move-a-tde-protected-database-to-another-sql-server.md) [TDE mithilfe von EKM](enable-tde-on-sql-server-using-ekm.md) [-transparent Data Encryption mit Azure SQL-Datenbank](../../../database-engine/transparent-data-encryption-with-azure-sql-database.md) [SQL Server Verschlüsselungs](sql-server-encryption.md) [SQL Server und Verschlüsselungsschlüsseln &#40;](sql-server-and-database-encryption-keys-database-engine.md) Datenbank-Engine&#41;Security Center SQL Server Datenbank-Engine &#40;[und Azure SQL-Datenbank](../security-center-for-sql-server-database-engine-and-azure-sql-database.md) - [FileStream](../../blob/filestream-sql-server.md) SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="04a3e-256">[Move a TDE Protected Database to Another SQL Server](move-a-tde-protected-database-to-another-sql-server.md) [Enable TDE Using EKM](enable-tde-on-sql-server-using-ekm.md) [Transparent Data Encryption with Azure SQL Database](../../../database-engine/transparent-data-encryption-with-azure-sql-database.md) [SQL Server Encryption](sql-server-encryption.md) [SQL Server and Database Encryption Keys &#40;Database Engine&#41;](sql-server-and-database-encryption-keys-database-engine.md) [Security Center for SQL Server Database Engine and Azure SQL Database](../security-center-for-sql-server-database-engine-and-azure-sql-database.md) [FILESTREAM &#40;SQL Server&#41;](../../blob/filestream-sql-server.md)</span></span>


