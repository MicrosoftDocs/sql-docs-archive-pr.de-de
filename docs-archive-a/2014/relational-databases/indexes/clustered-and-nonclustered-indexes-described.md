---
title: Beschreibung von gruppierten und nicht gruppierten Indizes | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: table-view-index
ms.topic: conceptual
helpviewer_keywords:
- query optimizer [SQL Server], index usage
- index concepts [SQL Server]
ms.assetid: b7d6b323-728d-4763-a987-92e6292f6f7a
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: c9eb51a24000b8af4a466fe4330644a722ad325b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87724649"
---
# <a name="clustered-and-nonclustered-indexes-described"></a><span data-ttu-id="ca102-102">Beschreibung von gruppierten und nicht gruppierten Indizes</span><span class="sxs-lookup"><span data-stu-id="ca102-102">Clustered and Nonclustered Indexes Described</span></span>
  <span data-ttu-id="ca102-103">Ein Index ist eine Struktur auf dem Datenträger, die einer Tabelle oder einer Sicht zugeordnet ist und durch die das Abrufen von Zeilen aus der Tabelle oder Sicht beschleunigt wird.</span><span class="sxs-lookup"><span data-stu-id="ca102-103">An index is an on-disk structure associated with a table or view that speeds retrieval of rows from the table or view.</span></span> <span data-ttu-id="ca102-104">Ein Index enthält Schlüssel, die aus einer oder mehreren Spalten in der Tabelle oder Sicht erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="ca102-104">An index contains keys built from one or more columns in the table or view.</span></span> <span data-ttu-id="ca102-105">Diese Schlüssel werden in einer Struktur (B-Struktur) gespeichert, die es [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ermöglicht, die den Schlüsselwerten zugeordneten Zeilen schnell und effizient zu finden.</span><span class="sxs-lookup"><span data-stu-id="ca102-105">These keys are stored in a structure (B-tree) that enables [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to find the row or rows associated with the key values quickly and efficiently.</span></span>  
  
 <span data-ttu-id="ca102-106">Eine Tabelle oder Sicht kann die folgenden Indextypen enthalten:</span><span class="sxs-lookup"><span data-stu-id="ca102-106">A table or view can contain the following types of indexes:</span></span>  
  
-   <span data-ttu-id="ca102-107">Gruppiert</span><span class="sxs-lookup"><span data-stu-id="ca102-107">Clustered</span></span>  
  
    -   <span data-ttu-id="ca102-108">Gruppierte Indizes sortieren und speichern die Datenzeilen in der Tabelle oder Sicht basierend auf ihren Schlüsselwerten.</span><span class="sxs-lookup"><span data-stu-id="ca102-108">Clustered indexes sort and store the data rows in the table or view based on their key values.</span></span> <span data-ttu-id="ca102-109">Dies sind die Spalten, die in der Indexdefinition enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="ca102-109">These are the columns included in the index definition.</span></span> <span data-ttu-id="ca102-110">Pro Tabelle kann nur ein gruppierter Index vorhanden sein, da die Datenzeilen nur in einer Reihenfolge sortiert werden können.</span><span class="sxs-lookup"><span data-stu-id="ca102-110">There can be only one clustered index per table, because the data rows themselves can be sorted in only one order.</span></span>  
  
    -   <span data-ttu-id="ca102-111">Datenzeilen in einer Tabelle werden nur dann in sortierter Reihenfolge gespeichert, wenn die Tabelle einen gruppierten Index enthält.</span><span class="sxs-lookup"><span data-stu-id="ca102-111">The only time the data rows in a table are stored in sorted order is when the table contains a clustered index.</span></span> <span data-ttu-id="ca102-112">Wenn eine Tabelle einen gruppierten Index besitzt, wird die Tabelle als gruppierte Tabelle bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="ca102-112">When a table has a clustered index, the table is called a clustered table.</span></span> <span data-ttu-id="ca102-113">Wenn eine Tabelle nicht über einen gruppierten Index verfügt, werden die Datenzeilen in einer nicht geordneten Struktur gespeichert, die als Heap bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="ca102-113">If a table has no clustered index, its data rows are stored in an unordered structure called a heap.</span></span>  
  
-   <span data-ttu-id="ca102-114">Nicht gruppiert</span><span class="sxs-lookup"><span data-stu-id="ca102-114">Nonclustered</span></span>  
  
    -   <span data-ttu-id="ca102-115">Nicht gruppierte Indizes weisen eine Struktur auf, die von den Datenzeilen getrennt ist.</span><span class="sxs-lookup"><span data-stu-id="ca102-115">Nonclustered indexes have a structure separate from the data rows.</span></span> <span data-ttu-id="ca102-116">Ein nicht gruppierter Index enthält die Schlüsselwerte des nicht gruppierten Indexes. Jeder Schlüsselwerteintrag verfügt über einen Zeiger auf die Datenzeile, die den Schlüsselwert enthält.</span><span class="sxs-lookup"><span data-stu-id="ca102-116">A nonclustered index contains the nonclustered index key values and each key value entry has a pointer to the data row that contains the key value.</span></span>  
  
    -   <span data-ttu-id="ca102-117">Der Zeiger von einer Indexzeile in einem nicht gruppierten Index auf eine Datenzeile wird als Zeilenlokator bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="ca102-117">The pointer from an index row in a nonclustered index to a data row is called a row locator.</span></span> <span data-ttu-id="ca102-118">Die Struktur des Zeilenlokators hängt davon ab, ob die Datenseiten in einem Heap oder einer gruppierten Tabelle gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="ca102-118">The structure of the row locator depends on whether the data pages are stored in a heap or a clustered table.</span></span> <span data-ttu-id="ca102-119">Bei einem Heap ist der Zeilenlokator ein Zeiger auf die Zeile.</span><span class="sxs-lookup"><span data-stu-id="ca102-119">For a heap, a row locator is a pointer to the row.</span></span> <span data-ttu-id="ca102-120">Bei einer gruppierten Tabelle entspricht der Zeilenlokator dem Schlüssel des gruppierten Indexes.</span><span class="sxs-lookup"><span data-stu-id="ca102-120">For a clustered table, the row locator is the clustered index key.</span></span>  
  
    -   <span data-ttu-id="ca102-121">Sie können der Blattebene des nicht gruppierten Indexes Nichtschlüsselspalten hinzufügen, um vorhandene Beschränkungen des Indexschlüssels (900 Bytes und 16 Schlüsselspalten) zu umgehen und vollständig abgedeckte, indizierte Abfragen auszuführen.</span><span class="sxs-lookup"><span data-stu-id="ca102-121">You can add nonkey columns to the leaf level of the nonclustered index to by-pass existing index key limits, 900 bytes and 16 key columns, and execute fully covered, indexed, queries.</span></span> <span data-ttu-id="ca102-122">Weitere Informationen finden Sie unter [Create Indexes with Included Columns](create-indexes-with-included-columns.md).</span><span class="sxs-lookup"><span data-stu-id="ca102-122">For more information, see [Create Indexes with Included Columns](create-indexes-with-included-columns.md).</span></span>  
  
 <span data-ttu-id="ca102-123">Sowohl gruppierte als auch nicht gruppierte Indizes können eindeutig sein.</span><span class="sxs-lookup"><span data-stu-id="ca102-123">Both clustered and nonclustered indexes can be unique.</span></span> <span data-ttu-id="ca102-124">Dies bedeutet, dass nicht derselbe Indexschlüsselwert für zwei oder mehr Zeilen verwendet werden darf.</span><span class="sxs-lookup"><span data-stu-id="ca102-124">This means no two rows can have the same value for the index key.</span></span> <span data-ttu-id="ca102-125">Andernfalls handelt es sich nicht um einen eindeutigen Index, und mehrere Zeilen können denselben Schlüsselwert verwenden.</span><span class="sxs-lookup"><span data-stu-id="ca102-125">Otherwise, the index is not unique and multiple rows can share the same key value.</span></span> <span data-ttu-id="ca102-126">Weitere Informationen finden Sie unter [Erstellen eindeutiger Indizes](create-unique-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="ca102-126">For more information, see [Create Unique Indexes](create-unique-indexes.md).</span></span>  
  
 <span data-ttu-id="ca102-127">Indizes werden bei jeder Änderung der Tabellendaten automatisch für eine Tabelle oder Sicht verwaltet.</span><span class="sxs-lookup"><span data-stu-id="ca102-127">Indexes are automatically maintained for a table or view whenever the table data is modified.</span></span>  
  
 <span data-ttu-id="ca102-128">Zusätzliche Indextypen für besondere Zwecke finden Sie unter [Indexes](indexes.md) .</span><span class="sxs-lookup"><span data-stu-id="ca102-128">See [Indexes](indexes.md) for additional types of special purpose indexes.</span></span>  
  
## <a name="indexes-and-constraints"></a><span data-ttu-id="ca102-129">Indizes und Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="ca102-129">Indexes and Constraints</span></span>  
 <span data-ttu-id="ca102-130">Indizes werden automatisch erstellt, wenn PRIMARY KEY- und UNIQUE-Einschränkungen für Tabellenspalten definiert werden.</span><span class="sxs-lookup"><span data-stu-id="ca102-130">Indexes are automatically created when PRIMARY KEY and UNIQUE constraints are defined on table columns.</span></span> <span data-ttu-id="ca102-131">Wenn Sie z. B. eine Tabelle erstellen und eine bestimmte Spalte als Primärschlüssel angeben, erstellt [!INCLUDE[ssDE](../../includes/ssde-md.md)] automatisch eine PRIMARY KEY-Einschränkung und einen Index für die betreffende Spalte.</span><span class="sxs-lookup"><span data-stu-id="ca102-131">For example, when you create a table and identify a particular column to be the primary key, the [!INCLUDE[ssDE](../../includes/ssde-md.md)] automatically creates a PRIMARY KEY constraint and index on that column.</span></span> <span data-ttu-id="ca102-132">Weitere Informationen finden Sie unter [Create Primary Keys](../tables/create-primary-keys.md) und [Create Unique Constraints](../tables/create-unique-constraints.md).</span><span class="sxs-lookup"><span data-stu-id="ca102-132">For more information, see [Create Primary Keys](../tables/create-primary-keys.md) and [Create Unique Constraints](../tables/create-unique-constraints.md).</span></span>  
  
## <a name="how-indexes-are-used-by-the-query-optimizer"></a><span data-ttu-id="ca102-133">Verwenden von Indizes durch den Abfrageoptimierer</span><span class="sxs-lookup"><span data-stu-id="ca102-133">How Indexes Are Used by the Query Optimizer</span></span>  
 <span data-ttu-id="ca102-134">Sorgfältig entworfene Indizes können die E/A-Operationen dem Datenträger verringern und weniger Systemressourcen belegen. Sie optimieren aus diesem Grund die Abfrageleistung.</span><span class="sxs-lookup"><span data-stu-id="ca102-134">Well-designed indexes can reduce disk I/O operations and consume fewer system resources therefore improving query performance.</span></span> <span data-ttu-id="ca102-135">Indizes können bei einer Vielzahl von Abfragen hilfreich sein, die die Anweisungen SELECT, UPDATE, DELETE oder MERGE enthalten.</span><span class="sxs-lookup"><span data-stu-id="ca102-135">Indexes can be helpful for a variety of queries that contain SELECT, UPDATE, DELETE, or MERGE statements.</span></span> <span data-ttu-id="ca102-136">Sehen Sie sich die `SELECT Title, HireDate FROM HumanResources.Employee WHERE EmployeeID = 250` -Abfrage in der [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] -Beispieldatenbank an.</span><span class="sxs-lookup"><span data-stu-id="ca102-136">Consider the query `SELECT Title, HireDate FROM HumanResources.Employee WHERE EmployeeID = 250` in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database.</span></span> <span data-ttu-id="ca102-137">Wenn diese Abfrage ausgeführt wird, wertet der Abfrageoptimierer alle verfügbaren Methoden zum Abrufen der Daten aus und wählt dann die effizienteste Methode aus.</span><span class="sxs-lookup"><span data-stu-id="ca102-137">When this query is executed, the query optimizer evaluates each available method for retrieving the data and selects the most efficient method.</span></span> <span data-ttu-id="ca102-138">Bei dieser Methode kann es sich um einen Tabellenscan oder möglicherweise um einen Scan eines Indexes oder mehrerer Indizes handeln, wenn Indizes vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="ca102-138">The method may be a table scan, or may be scanning one or more indexes if they exist.</span></span>  
  
 <span data-ttu-id="ca102-139">Bei der Ausführung eines Tabellenscans liest der Abfrageoptimierer alle Zeilen in der Tabelle und extrahiert dann die Zeilen, die die Abfragekriterien erfüllen.</span><span class="sxs-lookup"><span data-stu-id="ca102-139">When performing a table scan, the query optimizer reads all the rows in the table, and extracts the rows that meet the criteria of the query.</span></span> <span data-ttu-id="ca102-140">Ein Tabellenscan generiert zahlreiche E/A-Operationen des Datenträgers und kann ressourcenintensiv sein.</span><span class="sxs-lookup"><span data-stu-id="ca102-140">A table scan generates many disk I/O operations and can be resource intensive.</span></span> <span data-ttu-id="ca102-141">Ein Tabellenscan kann jedoch die effizienteste Methode sein, wenn z. B. das Resultset der Abfrage einen großen Prozentsatz der Zeilen aus der Tabelle enthält.</span><span class="sxs-lookup"><span data-stu-id="ca102-141">However, a table scan could be the most efficient method if, for example, the result set of the query is a high percentage of rows from the table.</span></span>  
  
 <span data-ttu-id="ca102-142">Wenn der Abfrageoptimierer einen Index verwendet, werden die Indexschlüsselspalten durchsucht, der Speicherort der von der Abfrage benötigten Zeilen ermittelt und die entsprechenden Zeilen aus diesem Speicherort extrahiert.</span><span class="sxs-lookup"><span data-stu-id="ca102-142">When the query optimizer uses an index, it searches the index key columns, finds the storage location of the rows needed by the query and extracts the matching rows from that location.</span></span> <span data-ttu-id="ca102-143">Im Allgemeinen ist das Durchsuchen des Indexes wesentlich schneller als das Durchsuchen der Tabelle, weil ein Index im Gegensatz zu einer Tabelle häufig nur sehr wenige Spalten pro Zeile enthält und die Zeilen eine sortierte Reihenfolge aufweisen.</span><span class="sxs-lookup"><span data-stu-id="ca102-143">Generally, searching the index is much faster than searching the table because unlike a table, an index frequently contains very few columns per row and the rows are in sorted order.</span></span>  
  
 <span data-ttu-id="ca102-144">Der Abfrageoptimierer wählt beim Ausführen von Abfragen normalerweise die effizienteste Methode aus.</span><span class="sxs-lookup"><span data-stu-id="ca102-144">The query optimizer typically selects the most efficient method when executing queries.</span></span> <span data-ttu-id="ca102-145">Wenn jedoch keine Indizes verfügbar sind, muss der Abfrageoptimierer einen Tabellenscan verwenden.</span><span class="sxs-lookup"><span data-stu-id="ca102-145">However, if no indexes are available, the query optimizer must use a table scan.</span></span> <span data-ttu-id="ca102-146">Ihre Aufgabe besteht darin, Indizes zu entwerfen und zu erstellen, die optimal für Ihre Umgebung geeignet sind, damit der Abfrageoptimierer seine Auswahl unter mehreren effizienten Indizes treffen kann.</span><span class="sxs-lookup"><span data-stu-id="ca102-146">Your task is to design and create indexes that are best suited to your environment so that the query optimizer has a selection of efficient indexes from which to select.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="ca102-147">stellt den [Datenbankoptimierungsratgeber](../performance/database-engine-tuning-advisor.md) bereit, der Sie bei der Analyse Ihrer Datenbankumgebung und der Auswahl der geeigneten Indizes unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ca102-147">provides the [Database Engine Tuning Advisor](../performance/database-engine-tuning-advisor.md) to help with the analysis of your database environment and in the selection of appropriate indexes.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="ca102-148">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="ca102-148">Related Tasks</span></span>  
 [<span data-ttu-id="ca102-149">Erstellen gruppierter Indizes</span><span class="sxs-lookup"><span data-stu-id="ca102-149">Create Clustered Indexes</span></span>](create-clustered-indexes.md)  
  
 [<span data-ttu-id="ca102-150">Erstellen nicht gruppierter Indizes</span><span class="sxs-lookup"><span data-stu-id="ca102-150">Create Nonclustered Indexes</span></span>](create-nonclustered-indexes.md)  
  
  
