---
title: SQL Server, Sperren-Objekt | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Locks object
- SQLServer:Locks
ms.assetid: ace04f0d-3993-4444-8317-ca39d7087e49
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: f13d4ea1172d6b32b90c045a45445c5c87f48a94
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87609832"
---
# <a name="sql-server-locks-object"></a><span data-ttu-id="b1338-102">SQL Server, Sperren-Objekt</span><span class="sxs-lookup"><span data-stu-id="b1338-102">SQL Server, Locks Object</span></span>
  <span data-ttu-id="b1338-103">Das **SQLServer:Locks** -Objekt in Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] stellt Informationen zu [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Sperren für einzelne Ressourcentypen zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="b1338-103">The **SQLServer:Locks** object in Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] locks on individual resource types.</span></span> <span data-ttu-id="b1338-104">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Ressourcen, wie etwa Zeilen, die während einer Transaktion gelesen oder geändert werden, werden mit Sperren belegt, um die zeitgleiche Verwendung der Ressourcen durch verschiedene Transaktionen zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="b1338-104">Locks are held on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] resources, such as rows read or modified during a transaction, to prevent concurrent use of resources by different transactions.</span></span> <span data-ttu-id="b1338-105">Wenn beispielsweise eine Zeile in einer Tabelle von einer Transaktion mit einer exklusiven Sperre (X) belegt wird, kann diese Zeile erst dann von einer anderen Transaktion geändert werden, wenn die Sperre aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="b1338-105">For example, if an exclusive (X) lock is held on a row within a table by a transaction, no other transaction can modify that row until the lock is released.</span></span> <span data-ttu-id="b1338-106">Durch die Reduzierung der Anzahl von Sperren kann die Parallelität erhöht werden, wodurch sich die Leistung verbessert.</span><span class="sxs-lookup"><span data-stu-id="b1338-106">Minimizing locks increases concurrency, which can improve performance.</span></span> <span data-ttu-id="b1338-107">Es können mehrere Instanzen des **Sperren** -Objekts gleichzeitig überwacht werden, wobei jede Instanz eine Sperre für einen Ressourcentyp darstellt.</span><span class="sxs-lookup"><span data-stu-id="b1338-107">Multiple instances of the **Locks** object can be monitored at the same time, with each instance representing a lock on a resource type.</span></span>  
  
 <span data-ttu-id="b1338-108">In dieser Tabelle werden die **Locks**-Zähler in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] beschrieben.</span><span class="sxs-lookup"><span data-stu-id="b1338-108">This table describes the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Locks** counters.</span></span>  
  
|<span data-ttu-id="b1338-109">Sperren-Leistungsindikatoren von SQL Server</span><span class="sxs-lookup"><span data-stu-id="b1338-109">SQL Server Locks counters</span></span>|<span data-ttu-id="b1338-110">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="b1338-110">Description</span></span>|  
|-------------------------------|-----------------|  
|<span data-ttu-id="b1338-111">**Durchschnittliche Wartezeit (ms)**</span><span class="sxs-lookup"><span data-stu-id="b1338-111">**Average Wait Time (ms)**</span></span>|<span data-ttu-id="b1338-112">Die durchschnittliche Länge der Wartezeit (in Millisekunden) für jede Sperranforderung, die nicht sofort erfüllt werden konnte.</span><span class="sxs-lookup"><span data-stu-id="b1338-112">Average amount of wait time (in milliseconds) for each lock request that resulted in a wait.</span></span>|  
|<span data-ttu-id="b1338-113">**Sperranforderungen/Sekunde**</span><span class="sxs-lookup"><span data-stu-id="b1338-113">**Lock Requests/sec**</span></span>|<span data-ttu-id="b1338-114">Anzahl von neuen Sperren und Sperrkonvertierungen pro Sekunde, die vom Sperren-Manager angefordert wurden.</span><span class="sxs-lookup"><span data-stu-id="b1338-114">Number of new locks and lock conversions per second requested from the lock manager.</span></span>|  
|<span data-ttu-id="b1338-115">**Sperrtimeouts/Sekunde (Timeout > 0)**</span><span class="sxs-lookup"><span data-stu-id="b1338-115">**Lock Timeouts (timeout > 0)/sec**</span></span>|<span data-ttu-id="b1338-116">Die Anzahl von Sperranforderungen pro Sekunde, für die ein Timeout eingetreten ist. Interne Anforderungen für NOWAIT-Sperren sind darin nicht eingeschlossen.</span><span class="sxs-lookup"><span data-stu-id="b1338-116">Number of lock requests per second that timed out, but excluding requests for NOWAIT locks.</span></span>|  
|<span data-ttu-id="b1338-117">**Sperrtimeouts/Sekunde**</span><span class="sxs-lookup"><span data-stu-id="b1338-117">**Lock Timeouts/sec**</span></span>|<span data-ttu-id="b1338-118">Die Anzahl von Sperranforderungen pro Sekunde, für die ein Timeout eingetreten ist. Dies umfasst auch Anforderungen für NOWAIT-Sperren.</span><span class="sxs-lookup"><span data-stu-id="b1338-118">Number of lock requests per second that timed out, including requests for NOWAIT locks.</span></span>|  
|<span data-ttu-id="b1338-119">**Wartezeit für Sperre (ms)**</span><span class="sxs-lookup"><span data-stu-id="b1338-119">**Lock Wait Time (ms)**</span></span>|<span data-ttu-id="b1338-120">Gesamtwartezeit (in Millisekunden) für Sperren in der vergangenen Sekunde.</span><span class="sxs-lookup"><span data-stu-id="b1338-120">Total wait time (in milliseconds) for locks in the last second.</span></span>|  
|<span data-ttu-id="b1338-121">**Sperrenwartevorgänge/Sekunde**</span><span class="sxs-lookup"><span data-stu-id="b1338-121">**Lock Waits/sec**</span></span>|<span data-ttu-id="b1338-122">Anzahl von Sperranforderungen pro Sekunde, bei denen der aufrufende Prozess warten musste.</span><span class="sxs-lookup"><span data-stu-id="b1338-122">Number of lock requests per second that required the caller to wait.</span></span>|  
|<span data-ttu-id="b1338-123">**Anzahl von Deadlocks/Sekunde**</span><span class="sxs-lookup"><span data-stu-id="b1338-123">**Number of Deadlocks/sec**</span></span>|<span data-ttu-id="b1338-124">Anzahl von Sperranforderungen pro Sekunde, die zu einem Deadlock geführt haben.</span><span class="sxs-lookup"><span data-stu-id="b1338-124">Number of lock requests per second that resulted in a deadlock.</span></span>|  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="b1338-125">kann die folgenden Ressourcen sperren.</span><span class="sxs-lookup"><span data-stu-id="b1338-125">can lock these resources.</span></span>  
  
|<span data-ttu-id="b1338-126">Element</span><span class="sxs-lookup"><span data-stu-id="b1338-126">Item</span></span>|<span data-ttu-id="b1338-127">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="b1338-127">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="b1338-128">**_Total**</span><span class="sxs-lookup"><span data-stu-id="b1338-128">**_Total**</span></span>|<span data-ttu-id="b1338-129">Informationen für alle Sperren.</span><span class="sxs-lookup"><span data-stu-id="b1338-129">Information for all locks.</span></span>|  
|<span data-ttu-id="b1338-130">**AllocUnit**</span><span class="sxs-lookup"><span data-stu-id="b1338-130">**AllocUnit**</span></span>|<span data-ttu-id="b1338-131">Eine Sperre für eine Zuweisungseinheit.</span><span class="sxs-lookup"><span data-stu-id="b1338-131">A lock on an allocation unit.</span></span>|  
|<span data-ttu-id="b1338-132">**Anwendung**</span><span class="sxs-lookup"><span data-stu-id="b1338-132">**Application**</span></span>|<span data-ttu-id="b1338-133">Eine Sperre für eine anwendungsspezifische Ressource.</span><span class="sxs-lookup"><span data-stu-id="b1338-133">A lock on an application-specified resource.</span></span>|  
|<span data-ttu-id="b1338-134">**Datenbank**</span><span class="sxs-lookup"><span data-stu-id="b1338-134">**Database**</span></span>|<span data-ttu-id="b1338-135">Eine Sperre für eine Datenbank, einschließlich aller Objekte in der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="b1338-135">A lock on a database, including all objects in the database.</span></span>|  
|<span data-ttu-id="b1338-136">**Extent**</span><span class="sxs-lookup"><span data-stu-id="b1338-136">**Extent**</span></span>|<span data-ttu-id="b1338-137">Eine Sperre für eine zusammenhängende Gruppe von 8 Seiten.</span><span class="sxs-lookup"><span data-stu-id="b1338-137">A lock on a contiguous group of 8 pages.</span></span>|  
|<span data-ttu-id="b1338-138">**File**</span><span class="sxs-lookup"><span data-stu-id="b1338-138">**File**</span></span>|<span data-ttu-id="b1338-139">Eine Sperre für eine Datenbankdatei.</span><span class="sxs-lookup"><span data-stu-id="b1338-139">A lock on a database file.</span></span>|  
|<span data-ttu-id="b1338-140">**Heap/BTree**</span><span class="sxs-lookup"><span data-stu-id="b1338-140">**Heap/BTree**</span></span>|<span data-ttu-id="b1338-141">Heap oder BTree (HOBT).</span><span class="sxs-lookup"><span data-stu-id="b1338-141">Heap or BTree (HOBT).</span></span> <span data-ttu-id="b1338-142">Eine Sperre für einen Heap von Datenseiten oder für die BTree-Struktur eines Indexes.</span><span class="sxs-lookup"><span data-stu-id="b1338-142">A lock on a heap of data pages, or on the BTree structure of an index.</span></span>|  
|<span data-ttu-id="b1338-143">**Schlüssel**</span><span class="sxs-lookup"><span data-stu-id="b1338-143">**Key**</span></span>|<span data-ttu-id="b1338-144">Eine Sperre für eine Zeile in einem Index.</span><span class="sxs-lookup"><span data-stu-id="b1338-144">A lock on a row in an index.</span></span>|  
|<span data-ttu-id="b1338-145">**Metadaten**</span><span class="sxs-lookup"><span data-stu-id="b1338-145">**Metadata**</span></span>|<span data-ttu-id="b1338-146">Eine Sperre für eine Kataloginformationskomponente, die auch als Metadaten bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="b1338-146">A lock on a piece of catalog information, also called metadata.</span></span>|  
|<span data-ttu-id="b1338-147">**Object**</span><span class="sxs-lookup"><span data-stu-id="b1338-147">**Object**</span></span>|<span data-ttu-id="b1338-148">Eine Sperre für eine Tabelle, gespeicherte Prozedur, Sicht usw., einschließlich aller Daten und Indizes.</span><span class="sxs-lookup"><span data-stu-id="b1338-148">A lock on table, stored procedure, view, etc, including all data and indexes.</span></span> <span data-ttu-id="b1338-149">Hierbei kann es sich um ein beliebiges Objekt handeln, das einen Eintrag in **sys.all_objects**aufweist.</span><span class="sxs-lookup"><span data-stu-id="b1338-149">The object can be anything that has an entry in **sys.all_objects**.</span></span>|  
|<span data-ttu-id="b1338-150">**Seite**</span><span class="sxs-lookup"><span data-stu-id="b1338-150">**Page**</span></span>|<span data-ttu-id="b1338-151">Eine Sperre für eine 8-KB-Seite in einer Datenbank.</span><span class="sxs-lookup"><span data-stu-id="b1338-151">A lock on an 8-kilobyte (KB) page in a database.</span></span>|  
|<span data-ttu-id="b1338-152">**RID**</span><span class="sxs-lookup"><span data-stu-id="b1338-152">**RID**</span></span>|<span data-ttu-id="b1338-153">Zeilen-ID.</span><span class="sxs-lookup"><span data-stu-id="b1338-153">Row ID.</span></span> <span data-ttu-id="b1338-154">Eine Sperre für eine einzelne Zeile in einem Heap.</span><span class="sxs-lookup"><span data-stu-id="b1338-154">A lock on a single row in a heap.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="b1338-155">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="b1338-155">See Also</span></span>  
 [<span data-ttu-id="b1338-156">Überwachen der Ressourcenverwendung &#40;Systemmonitor&#41;</span><span class="sxs-lookup"><span data-stu-id="b1338-156">Monitor Resource Usage &#40;System Monitor&#41;</span></span>](monitor-resource-usage-system-monitor.md)  
  
  
