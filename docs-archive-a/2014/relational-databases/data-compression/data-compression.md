---
title: Datenkomprimierung | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- page compression [Database Engine]
- indexes [SQL Server], compressed
- compressed indexes [SQL Server]
- storage compression [Database Engine]
- tables [SQL Server], compressed
- storage [SQL Server], compressed
- compression [SQL Server]
- row compression [Database Engine]
- compression [SQL Server], about compressed tables and indexes
- data compression [Database Engine]
- compressed tables [SQL Server]
ms.assetid: 5f33e686-e115-4687-bd39-a00c48646513
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 48c4b11963d8e05ff7787ce9200329daf2e899ba
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87621008"
---
# <a name="data-compression"></a><span data-ttu-id="ed149-102">Datenkomprimierung</span><span class="sxs-lookup"><span data-stu-id="ed149-102">Data Compression</span></span>
  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="ed149-103">unterstützt die Zeilen- und Seitenkomprimierung für rowstore-Tabellen und -Indizes sowie Columnstore und die columnstore-Archivierungskomprimierung für columnstore-Tabellen und -Indizes.</span><span class="sxs-lookup"><span data-stu-id="ed149-103">supports row and page compression for rowstore tables and indexes, and supports columnstore and columnstore archival compression for columnstore tables and indexes.</span></span>  
  
 <span data-ttu-id="ed149-104">Verwenden Sie für rowstore-Tabellen und -Indizes die Datenkomprimierungsfunktion, um die Größe der Datenbank zu reduzieren.</span><span class="sxs-lookup"><span data-stu-id="ed149-104">For rowstore tables and indexes, use the data compression feature to help reduce the size of the database.</span></span> <span data-ttu-id="ed149-105">Zusätzlich zum Sparen von Speicherplatz kann mithilfe der Datenkomprimierung auch die Leistung von E/A-intensiven Arbeitsauslastungen verbessert werden, da die Daten auf weniger Seiten gespeichert werden und Abfragen weniger Seiten vom Datenträger lesen müssen.</span><span class="sxs-lookup"><span data-stu-id="ed149-105">In addition to saving space, data compression can help improve performance of I/O intensive workloads because the data is stored in fewer pages and queries need to read fewer pages from disk.</span></span> <span data-ttu-id="ed149-106">Zusätzliche CPU-Ressourcen sind jedoch auf dem Datenbankserver erforderlich, um die Daten zu komprimieren und dekomprimieren, während Daten mit der Anwendung ausgetauscht werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-106">However, extra CPU resources are required on the database server to compress and decompress the data, while data is exchanged with the application.</span></span> <span data-ttu-id="ed149-107">Sie können die Zeilen- und Seitenkomprimierung für die folgenden Datenbankobjekte konfigurieren:</span><span class="sxs-lookup"><span data-stu-id="ed149-107">You can configure row and page compression on the following database objects:</span></span>  
  
-   <span data-ttu-id="ed149-108">Vollständige, als Heaps gespeicherte Tabellen</span><span class="sxs-lookup"><span data-stu-id="ed149-108">A whole table that is stored as a heap.</span></span>  
  
-   <span data-ttu-id="ed149-109">Vollständige, als gruppierte Indizes gespeicherte Tabellen</span><span class="sxs-lookup"><span data-stu-id="ed149-109">A whole table that is stored as a clustered index.</span></span>  
  
-   <span data-ttu-id="ed149-110">Vollständige nicht gruppierte Indizes</span><span class="sxs-lookup"><span data-stu-id="ed149-110">A whole nonclustered index.</span></span>  
  
-   <span data-ttu-id="ed149-111">Vollständige indizierte Sichten</span><span class="sxs-lookup"><span data-stu-id="ed149-111">A whole indexed view.</span></span>  
  
-   <span data-ttu-id="ed149-112">Bei partitionierten Tabellen und Indizes kann die Komprimierungsoption für jede Partition konfiguriert werden, wobei die verschiedenen Partitionen eines Objekts nicht die gleiche Komprimierungseinstellung aufweisen müssen.</span><span class="sxs-lookup"><span data-stu-id="ed149-112">For partitioned tables and indexes, you can configure the compression option for each partition, and the various partitions of an object do not have to have the same compression setting.</span></span>  
  
 <span data-ttu-id="ed149-113">Für columnstore-Tabellen und -Indizes wird immer die columnstore-Komprimierung verwendet, die nicht vom Benutzer konfiguriert werden kann.</span><span class="sxs-lookup"><span data-stu-id="ed149-113">For columnstore tables and indexes, all columnstore tables and indexes always use columnstore compression and this is not user configurable.</span></span> <span data-ttu-id="ed149-114">Die columnstore-Archivierungskomprimierung sollte zur weiteren Verringerung der Datengröße verwendet werden, wenn Sie zusätzliche Zeit und CPU-Ressourcen zum Speichern und Abrufen der Daten aufwenden können.</span><span class="sxs-lookup"><span data-stu-id="ed149-114">Use columnstore archival compression to further reduce the data size for situations when you can afford extra time and CPU resources to store and retrieve the data.</span></span>  <span data-ttu-id="ed149-115">Die columnstore-Archivierungskomprimierung kann für die folgenden Datenbankobjekte konfiguriert werden:</span><span class="sxs-lookup"><span data-stu-id="ed149-115">You can configure columnstore archival compression on the following database objects:</span></span>  
  
-   <span data-ttu-id="ed149-116">Vollständige columnstore-Tabelle oder vollständiger gruppierter columnstore-Index.</span><span class="sxs-lookup"><span data-stu-id="ed149-116">A whole columnstore table or a whole clustered columnstore index.</span></span>  <span data-ttu-id="ed149-117">Da eine columnstore-Tabelle als gruppierter columnstore-Index gespeichert wird, haben beide Vorgehensweisen dieselben Ergebnisse.</span><span class="sxs-lookup"><span data-stu-id="ed149-117">Since a columnstore table is stored as a clustered columnstore index, both approaches have the same results.</span></span>  
  
-   <span data-ttu-id="ed149-118">Vollständiger nicht gruppierter columnstore-Index.</span><span class="sxs-lookup"><span data-stu-id="ed149-118">A whole nonclustered columnstore index.</span></span>  
  
-   <span data-ttu-id="ed149-119">Bei partitionierten columnstore-Tabellen und -Indizes kann die Option für die Archivierungskomprimierung für jede Partition konfiguriert werden, wobei die verschiedenen Partitionen nicht die gleiche Einstellung für die Archivierungskomprimierung aufweisen müssen.</span><span class="sxs-lookup"><span data-stu-id="ed149-119">For partitioned columnstore tables and columnstore indexes, you can configure the archival compression option for each partition, and the various partitions do not have to have the same archival compression setting.</span></span>  
  
## <a name="considerations-for-when-you-use-row-and-page-compression"></a><span data-ttu-id="ed149-120">Überlegungen zur Verwendung von Zeilen- und Seitenkomprimierung</span><span class="sxs-lookup"><span data-stu-id="ed149-120">Considerations for When You Use Row and Page Compression</span></span>  
 <span data-ttu-id="ed149-121">Beachten Sie die folgenden Punkte, wenn Sie die Zeilen- und Seitenkomprimierung verwenden:</span><span class="sxs-lookup"><span data-stu-id="ed149-121">When you use row and page compression, be aware the following considerations:</span></span>  
  
-   <span data-ttu-id="ed149-122">Die Details der Datenkomprimierung können ohne vorherige Ankündigung in Service Packs oder nachfolgenden Versionen geändert werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-122">The details of data compression are subject to change without notice in service packs or subsequent releases.</span></span>  
  
-   <span data-ttu-id="ed149-123">Komprimierungsfunktionen sind nicht in jeder Edition von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ed149-123">Compression is not available in every edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ed149-124">Weitere Informationen finden Sie unter [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="ed149-124">For more information, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
-   <span data-ttu-id="ed149-125">Für Systemtabellen ist die Komprimierung nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ed149-125">Compression is not available for system tables.</span></span>  
  
-   <span data-ttu-id="ed149-126">Die Komprimierung kann ermöglichen, dass mehr Zeilen auf einer Seite gespeichert werden, die maximale Zeilengröße einer Tabelle bzw. eines Indexes kann dadurch allerdings nicht geändert werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-126">Compression can allow more rows to be stored on a page, but does not change the maximum row size of a table or index.</span></span>  
  
-   <span data-ttu-id="ed149-127">Eine Tabelle kann nicht komprimiert werden, wenn die maximale Zeilengröße einschließlich Verarbeitungsbytes die maximale Größe von 8060 Bytes überschreitet.</span><span class="sxs-lookup"><span data-stu-id="ed149-127">A table cannot be enabled for compression when the maximum row size plus the compression overhead exceeds the maximum row size of 8060 bytes.</span></span> <span data-ttu-id="ed149-128">Beispielsweise kann eine Tabelle mit den Spalten C1 `char(8000)` und C2 `char(53)` aufgrund des zusätzlichen Komprimierungs Aufwands nicht komprimiert werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-128">For example, a table that has the columns c1`char(8000)` and c2`char(53)` cannot be compressed because of the additional compression overhead.</span></span> <span data-ttu-id="ed149-129">Bei Verwendung des vardecimal-Speicherformats wird die Zeilengröße überprüft, wenn das Format aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="ed149-129">When the vardecimal storage format is used, the row-size check is performed when the format is enabled.</span></span> <span data-ttu-id="ed149-130">Bei der Zeilen- und Seitenkomprimierung wird die Überprüfung der Zeilengröße durchgeführt, wenn das Objekt zuerst komprimiert wird und die Überprüfung beim Einfügen bzw. Ändern der einzelnen Zeilen erfolgt.</span><span class="sxs-lookup"><span data-stu-id="ed149-130">For row and page compression, the row-size check is performed when the object is initially compressed, and then checked as each row is inserted or modified.</span></span> <span data-ttu-id="ed149-131">Bei der Komprimierung gelten die folgenden zwei Regeln:</span><span class="sxs-lookup"><span data-stu-id="ed149-131">Compression enforces the following two rules:</span></span>  
  
    -   <span data-ttu-id="ed149-132">Ein Update für einen Datentyp mit fester Länge muss immer erfolgreich sein.</span><span class="sxs-lookup"><span data-stu-id="ed149-132">An update to a fixed-length type must always succeed.</span></span>  
  
    -   <span data-ttu-id="ed149-133">Die Deaktivierung der Datenkomprimierung muss immer erfolgreich sein.</span><span class="sxs-lookup"><span data-stu-id="ed149-133">Disabling data compression must always succeed.</span></span> <span data-ttu-id="ed149-134">Selbst wenn die komprimierte Zeile auf die Seite passt, d. h. wenn ihre Größe weniger als 8060 Bytes beträgt, verhindert [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Updates, die nicht in die unkomprimierte Zeile passen würden.</span><span class="sxs-lookup"><span data-stu-id="ed149-134">Even if the compressed row fits on the page, which means that it is less than 8060 bytes; [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] prevents updates that would not fit on the row when it is uncompressed.</span></span>  
  
-   <span data-ttu-id="ed149-135">Bei Angabe einer Liste mit Partitionen kann der Komprimierungstyp für einzelne Partitionen auf ROW, PAGE oder NONE gesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-135">When a list of partitions is specified, the compression type can be set to ROW, PAGE, or NONE on individual partitions.</span></span> <span data-ttu-id="ed149-136">Ohne Angabe einer Liste mit Partitionen wird für alle Partitionen die in der Anweisung angegebene Datenkomprimierungseigenschaft festgelegt.</span><span class="sxs-lookup"><span data-stu-id="ed149-136">If the list of partitions is not specified, all partitions are set with the data compression property that is specified in the statement.</span></span> <span data-ttu-id="ed149-137">Bei Erstellung einer Tabelle oder eines Indexes wird die Datenkomprimierung auf NONE festgelegt, falls nicht anders angegeben.</span><span class="sxs-lookup"><span data-stu-id="ed149-137">When a table or index is created, data compression is set to NONE unless otherwise specified.</span></span> <span data-ttu-id="ed149-138">Bei Änderung einer Tabelle wird die vorhandene Komprimierung beibehalten, falls nicht anders angegeben.</span><span class="sxs-lookup"><span data-stu-id="ed149-138">When a table is modified, the existing compression is preserved unless otherwise specified.</span></span>  
  
-   <span data-ttu-id="ed149-139">Wenn Sie eine Partitionsliste bzw. eine Partition außerhalb des zulässigen Bereichs angeben, wird ein Fehler generiert.</span><span class="sxs-lookup"><span data-stu-id="ed149-139">If you specify a list of partitions or a partition that is out of range, an error will be generated.</span></span>  
  
-   <span data-ttu-id="ed149-140">Nicht gruppierte Indizes erben die Komprimierungseigenschaft der Tabelle nicht.</span><span class="sxs-lookup"><span data-stu-id="ed149-140">Nonclustered indexes do not inherit the compression property of the table.</span></span> <span data-ttu-id="ed149-141">In diesem Fall müssen Sie die Komprimierungseigenschaft explizit festlegen, um die Indizes zu komprimieren.</span><span class="sxs-lookup"><span data-stu-id="ed149-141">To compress indexes, you must explicitly set the compression property of the indexes.</span></span> <span data-ttu-id="ed149-142">Standardmäßig wird die Komprimierungseinstellung bei Erstellung eines Indexes auf NONE festgelegt.</span><span class="sxs-lookup"><span data-stu-id="ed149-142">By default, the compression setting for indexes will set to NONE when the index is created.</span></span>  
  
-   <span data-ttu-id="ed149-143">Wenn ein gruppierter Index auf einem Heap erstellt wird, erbt der gruppierte Index den Komprimierungsstatus des Heaps, sofern kein anderer Komprimierungsstatus angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="ed149-143">When a clustered index is created on a heap, the clustered index inherits the compression state of the heap unless an alternative compression state is specified.</span></span>  
  
-   <span data-ttu-id="ed149-144">Wenn ein Heap zur Komprimierung auf Seitenebene konfiguriert wird, erfolgt die Komprimierung auf Seitenebene für die Seiten ausschließlich mit folgenden Methoden:</span><span class="sxs-lookup"><span data-stu-id="ed149-144">When a heap is configured for page-level compression, pages receive page-level compression only in the following ways:</span></span>  
  
    -   <span data-ttu-id="ed149-145">Der Massenimport von Daten findet mit aktivierten Massenoptimierungen statt.</span><span class="sxs-lookup"><span data-stu-id="ed149-145">Data is bulk imported with bulk optimizations enabled.</span></span>  
  
    -   <span data-ttu-id="ed149-146">Die Daten werden mit INSERT INTO ... eingefügt. WITH (TABLOCK)-Syntax, und die Tabelle weist keinen nicht gruppierten Index auf.</span><span class="sxs-lookup"><span data-stu-id="ed149-146">Data is inserted using INSERT INTO ... WITH (TABLOCK) syntax and the table does not have a nonclustered index.</span></span>  
  
    -   <span data-ttu-id="ed149-147">Eine Tabelle wird durch Ausführung von ALTER TABLE ... erneut erstellt. REBUILD-Anweisung mit der PAGE-Komprimierungsoption.</span><span class="sxs-lookup"><span data-stu-id="ed149-147">A table is rebuilt by executing the ALTER TABLE ... REBUILD statement with the PAGE compression option.</span></span>  
  
-   <span data-ttu-id="ed149-148">Neue Seiten, die in einem Heap als Teil von DML-Vorgängen zugeordnet sind, verwenden die PAGE-Komprimierung erst nach der Neuerstellung des Heaps.</span><span class="sxs-lookup"><span data-stu-id="ed149-148">New pages allocated in a heap as part of DML operations will not use PAGE compression until the heap is rebuilt.</span></span> <span data-ttu-id="ed149-149">Erstellen Sie den Heap neu, indem Sie die Komprimierung entfernen und neu anwenden oder indem Sie einen gruppierten Index erstellen und entfernen.</span><span class="sxs-lookup"><span data-stu-id="ed149-149">Rebuild the heap by removing and reapplying compression, or by creating and removing a clustered index.</span></span>  
  
-   <span data-ttu-id="ed149-150">Zur Änderung der Komprimierungseinstellung für einen Heap müssen alle nicht gruppierten Indizes der Tabelle neu erstellt werden, sodass sie auf die neuen Zeilenpositionen im Heap zeigen.</span><span class="sxs-lookup"><span data-stu-id="ed149-150">Changing the compression setting of a heap requires all nonclustered indexes on the table to be rebuilt so that they have pointers to the new row locations in the heap.</span></span>  
  
-   <span data-ttu-id="ed149-151">Sie können die ROW- bzw. die PAGE-Komprimierung online oder offline aktivieren und deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="ed149-151">You can enable or disable ROW or PAGE compression online or offline.</span></span> <span data-ttu-id="ed149-152">Die Online-Aktivierung der Komprimierung für einen Heap erfolgt mit einem einzelnen Thread.</span><span class="sxs-lookup"><span data-stu-id="ed149-152">Enabling compression on a heap is single threaded for an online operation.</span></span>  
  
-   <span data-ttu-id="ed149-153">Die Speicherplatzanforderungen zur Aktivierung bzw. Deaktivierung der Zeilen- oder Seitenkomprimierung entsprechen den Anforderungen zur Indexerstellung bzw. -neuerstellung.</span><span class="sxs-lookup"><span data-stu-id="ed149-153">The disk space requirements for enabling or disabling row or page compression are the same as for creating or rebuilding an index.</span></span> <span data-ttu-id="ed149-154">Für partitionierte Daten können Sie den erforderlichen Speicherplatz reduzieren, indem sie die Komprimierung für die Partitionen einzeln aktivieren bzw. deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="ed149-154">For partitioned data, you can reduce the space that is required by enabling or disabling compression for one partition at a time.</span></span>  
  
-   <span data-ttu-id="ed149-155">Um den Komprimierungsstatus der Partitionen in einer partitionierten Tabelle zu ermitteln, fragen Sie die data_compression-Spalte der sys.partitions-Katalogsicht ab.</span><span class="sxs-lookup"><span data-stu-id="ed149-155">To determine the compression state of partitions in a partitioned table, query the data_compression column of the sys.partitions catalog view.</span></span>  
  
-   <span data-ttu-id="ed149-156">Bei der Indexkomprimierung können Seiten auf Blattebene sowohl mit der Zeilen- als auch mit der Seitenkomprimierung komprimiert werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-156">When you are compressing indexes, leaf-level pages can be compressed with both row and page compression.</span></span> <span data-ttu-id="ed149-157">Für Seiten auf Nichtblattebene erfolgt keine Seitenkomprimierung.</span><span class="sxs-lookup"><span data-stu-id="ed149-157">Non-leaf-level pages do not receive page compression.</span></span>  
  
-   <span data-ttu-id="ed149-158">Aufgrund ihrer Größe werden Datentypen mit umfangreichen Werten in einigen Fällen getrennt von den regulären Zeilendaten auf speziell dafür vorgesehenen Seiten gespeichert.</span><span class="sxs-lookup"><span data-stu-id="ed149-158">Because of their size, large-value data types are sometimes stored separately from the normal row data on special purpose pages.</span></span> <span data-ttu-id="ed149-159">Die Datenkomprimierung ist für getrennt gespeicherte Daten nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ed149-159">Data compression is not available for the data that is stored separately.</span></span>  
  
-   <span data-ttu-id="ed149-160">Für Tabellen, für die in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] das vardecimal-Speicherformat implementiert wurde, wird diese Einstellung bei Durchführung eines Upgrades beibehalten.</span><span class="sxs-lookup"><span data-stu-id="ed149-160">Tables which implemented the vardecimal storage format in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] will retain that setting when upgraded.</span></span> <span data-ttu-id="ed149-161">Sie können die Zeilenkomprimierung auf Tabellen mit dem vardecimal-Speicherformat anwenden.</span><span class="sxs-lookup"><span data-stu-id="ed149-161">You can apply row compression to a table that has the vardecimal storage format.</span></span> <span data-ttu-id="ed149-162">Da die Zeilenkomprimierung dem vardecimal-Speicherformat übergeordnet ist, besteht jedoch kein Grund, das vardecimal-Speicherformat beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="ed149-162">However, because row compression is a superset of the vardecimal storage format, there is no reason to retain the vardecimal storage format.</span></span> <span data-ttu-id="ed149-163">Der Komprimierungsgrad für Dezimalwerte wird durch die Kombination von vardecimal-Speicherformat und Zeilenkomprimierung nicht erhöht.</span><span class="sxs-lookup"><span data-stu-id="ed149-163">Decimal values gain no additional compression when you combine the vardecimal storage format with row compression.</span></span> <span data-ttu-id="ed149-164">Sie können die Seitenkomprimierung auf Tabellen mit dem vardecimal-Speicherformat anwenden, erzielen damit jedoch nicht unbedingt einen höheren Komprimierungsgrad für die Spalten im vardecimal-Speicherformat.</span><span class="sxs-lookup"><span data-stu-id="ed149-164">You can apply page compression to a table that has the vardecimal storage format; however, the vardecimal storage format columns probably will not achieve additional compression.</span></span>  
  
    > [!NOTE]  
    >  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="ed149-165">unterstützt das vardecimal-Speicherformat. Da mit der Zeilenkomprimierung jedoch dasselbe Ergebnis erzielt wird, wurde das vardecimal-Speicherformat als veraltet markiert.</span><span class="sxs-lookup"><span data-stu-id="ed149-165">supports the vardecimal storage format; however, because row-level compression achieves the same goals, the vardecimal storage format is deprecated.</span></span> [!INCLUDE[ssNoteDepFutureAvoid](../../includes/ssnotedepfutureavoid-md.md)]  
  
## <a name="using-columnstore-and-columnstore-archive-compression"></a><span data-ttu-id="ed149-166">Verwenden von Columnstore und der Columnstore-Archivierungskomprimierung</span><span class="sxs-lookup"><span data-stu-id="ed149-166">Using Columnstore and Columnstore Archive Compression</span></span>  
  
||  
|-|  
|<span data-ttu-id="ed149-167">**Gilt für**: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ([!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] bis [aktuelle Version](https://go.microsoft.com/fwlink/p/?LinkId=299658)).</span><span class="sxs-lookup"><span data-stu-id="ed149-167">**Applies to**: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ([!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] through [current version](https://go.microsoft.com/fwlink/p/?LinkId=299658)).</span></span>|  
  
### <a name="basics"></a><span data-ttu-id="ed149-168">Grundlagen</span><span class="sxs-lookup"><span data-stu-id="ed149-168">Basics</span></span>  
 <span data-ttu-id="ed149-169">Columnstore-Tabellen und -Indizes werden immer mit columnstore-Komprimierung gespeichert.</span><span class="sxs-lookup"><span data-stu-id="ed149-169">Columnstore tables and indexes are always stored with columnstore compression.</span></span> <span data-ttu-id="ed149-170">Sie können die Größe von columnstore-Daten weiter reduzieren, indem Sie eine zusätzliche Komprimierung, die so genannte Archivierungskomprimierung, konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="ed149-170">You can further reduce the size of columnstore data by configuring an additional compression called archival compression.</span></span>  <span data-ttu-id="ed149-171">Zur Archivierungskomprimierung führt [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] den Microsoft XPRESS-Komprimierungsalgorithmus für die Daten aus.</span><span class="sxs-lookup"><span data-stu-id="ed149-171">To perform archival compression, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] runs the Microsoft XPRESS compression algorithm on the data.</span></span> <span data-ttu-id="ed149-172">Die Archivierungskomprimierung kann mithilfe der folgenden Datenkomprimierungstypen aktiviert bzw. deaktiviert werden:</span><span class="sxs-lookup"><span data-stu-id="ed149-172">Add or remove archival compression by using the following data compression types:</span></span>  
  
-   <span data-ttu-id="ed149-173">Verwenden Sie die `COLUMNSTORE_ARCHIVE`-Datenkomprimierung, um columnstore-Daten mit der Archivierungskomprimierung zu komprimieren.</span><span class="sxs-lookup"><span data-stu-id="ed149-173">Use `COLUMNSTORE_ARCHIVE` data compression to compress columnstore data with archival compression.</span></span>  
  
-   <span data-ttu-id="ed149-174">Verwenden Sie die **COLUMNSTORE** -Datenkomprimierung, um mit der Archivierungskomprimierung komprimierte Daten zu dekomprimieren.</span><span class="sxs-lookup"><span data-stu-id="ed149-174">Use **COLUMNSTORE** data compression to decompress archival compression.</span></span> <span data-ttu-id="ed149-175">Die resultierenden Daten sind weiterhin mit der columnstore-Komprimierung komprimiert.</span><span class="sxs-lookup"><span data-stu-id="ed149-175">This resulting data will continue to be compressed with columnstore compression.</span></span>  
  
 <span data-ttu-id="ed149-176">Um die Archivierungskomprimierung zu aktivieren, verwenden Sie [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) oder [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) mit der REBUILD-Option sowie DATA COMPRESSION = COLUMNSTORE.</span><span class="sxs-lookup"><span data-stu-id="ed149-176">To add archival compression, use [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) or [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) with the REBUILD option and DATA COMPRESSION = COLUMNSTORE.</span></span>  
  
 <span data-ttu-id="ed149-177">Beispiele:</span><span class="sxs-lookup"><span data-stu-id="ed149-177">Examples:</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE ON PARTITIONS (2,4)) ;  
  
```  
  
 <span data-ttu-id="ed149-178">Um die Archivierungskomprimierung zu deaktivieren und die Daten wieder mit der columnstodere-Komprimierung zu komprimieren, verwenden Sie [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) oder [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) mit der REBUILD-Option sowie DATA COMPRESSION = COLUMNSTORE.</span><span class="sxs-lookup"><span data-stu-id="ed149-178">To remove archival compression and restore the data to columnstore compression, use [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) or [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) with the REBUILD option and DATA COMPRESSION = COLUMNSTORE.</span></span>  
  
 <span data-ttu-id="ed149-179">Beispiele:</span><span class="sxs-lookup"><span data-stu-id="ed149-179">Examples:</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  COLUMNSTORE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE ON PARTITIONS (2,4) ) ;  
  
```  
  
 <span data-ttu-id="ed149-180">Im folgenden Beispiel wird die Datenkomprimierung für einige Partitionen auf die columnstore-Komprimierung und für andere Partitionen auf die columnstore-Archivierungskomprimierung festgelegt.</span><span class="sxs-lookup"><span data-stu-id="ed149-180">This next example sets the data compression to columnstore on some partitions, and to columnstore archival on other partitions.</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (  
    DATA_COMPRESSION =  COLUMNSTORE ON PARTITIONS (4,5),  
    DATA COMPRESSION = COLUMNSTORE_ARCHIVE ON PARTITIONS (1,2,3)  
) ;  
```  
  
### <a name="performance"></a><span data-ttu-id="ed149-181">Leistung</span><span class="sxs-lookup"><span data-stu-id="ed149-181">Performance</span></span>  
 <span data-ttu-id="ed149-182">Mit der Archivierungskomprimierung komprimierte columnstore-Indizes werden langsamer ausgeführt als columnstore-Indizes ohne Archivierungskomprimierung.</span><span class="sxs-lookup"><span data-stu-id="ed149-182">Compressing columnstore indexes with archival compression will cause the index to perform slower than columnstore indexes that do not have the archival compression.</span></span>  <span data-ttu-id="ed149-183">Die Archivierungskomprimierung sollte nur verwendet werden, wenn zusätzliche Zeit und CPU-Ressourcen zum Komprimieren und Abrufen der Daten aufgewendet werden können.</span><span class="sxs-lookup"><span data-stu-id="ed149-183">Use archival compression only when you can afford to use extra time and CPU resources to compress and retrieve the data.</span></span>  
  
 <span data-ttu-id="ed149-184">Einerseits wird zwar die Leistung gemindert, andererseits aber weniger Speicher beansprucht, was bei Daten von Vorteil ist, auf die nicht häufig zugegriffen wird.</span><span class="sxs-lookup"><span data-stu-id="ed149-184">The benefit of slower performance is reduced storage which is useful for data that is not frequently accessed.</span></span> <span data-ttu-id="ed149-185">Beispiel: Wenn Sie für die monatlich anfallenden Daten jeweils eine Partition verwenden und sich Ihre Aktivitäten meist auf die letzten Monate beschränken, könnten Sie die Daten weiter zurückliegender Monate archivieren, um den Speicherbedarf zu reduzieren.</span><span class="sxs-lookup"><span data-stu-id="ed149-185">For example, if you have a partition for each month of data, and most of your activity is for the most recent months, you could archive older months to reduce the storage requirements.</span></span>  
  
### <a name="metadata"></a><span data-ttu-id="ed149-186">Metadaten</span><span class="sxs-lookup"><span data-stu-id="ed149-186">Metadata</span></span>  
 <span data-ttu-id="ed149-187">Die folgenden Systemsichten enthalten Informationen zur Datenkomprimierung für gruppierte Indizes:</span><span class="sxs-lookup"><span data-stu-id="ed149-187">The following system views contain information about data compression for clustered indexes:</span></span>  
  
-   <span data-ttu-id="ed149-188">[sys. Indexes &#40;Transact-SQL-&#41;](/sql/relational-databases/system-catalog-views/sys-indexes-transact-sql) : `type` die `type_desc` Spalten und enthalten gruppierten columnstore und einen nicht gruppierten columnstore.</span><span class="sxs-lookup"><span data-stu-id="ed149-188">[sys.indexes &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-indexes-transact-sql) - The `type` and `type_desc` columns include CLUSTERED COLUMNSTORE and NONCLUSTERED COLUMNSTORE.</span></span>  
  
-   <span data-ttu-id="ed149-189">[sys. Partitions &#40;Transact-SQL-&#41;](/sql/relational-databases/system-catalog-views/sys-partitions-transact-sql) - `data_compression` die `data_compression_desc` Spalten und enthalten columnstore und COLUMNSTORE_ARCHIVE.</span><span class="sxs-lookup"><span data-stu-id="ed149-189">[sys.partitions &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-partitions-transact-sql) - The `data_compression` and `data_compression_desc` columns include COLUMNSTORE and COLUMNSTORE_ARCHIVE.</span></span>  
  
 <span data-ttu-id="ed149-190">Die Prozedur [sp_estimate_data_compression_savings &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-estimate-data-compression-savings-transact-sql) gilt nicht für columnstore-Indizes.</span><span class="sxs-lookup"><span data-stu-id="ed149-190">The procedure [sp_estimate_data_compression_savings &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-estimate-data-compression-savings-transact-sql) does not apply to columnstore indexes.</span></span>  
  
## <a name="how-compression-affects-partitioned-tables-and-indexes"></a><span data-ttu-id="ed149-191">Auswirkungen der Komprimierung auf partitionierte Tabellen und Indizes</span><span class="sxs-lookup"><span data-stu-id="ed149-191">How Compression Affects Partitioned Tables and Indexes</span></span>  
 <span data-ttu-id="ed149-192">Wenn Sie die Datenkomprimierung mit partitionierten Tabellen und Indizes verwenden, beachten Sie Folgendes:</span><span class="sxs-lookup"><span data-stu-id="ed149-192">When you use data compression with partitioned tables and indexes, be aware of the following considerations:</span></span>  
  
-   <span data-ttu-id="ed149-193">Wenn Sie Partitionen mit der ALTER PARTITION-Anweisung teilen, erben die geteilten Partitionen das Datenkomprimierungsattribut der ursprünglichen Partition.</span><span class="sxs-lookup"><span data-stu-id="ed149-193">When partitions are split by using the ALTER PARTITION statement, both partitions inherit the data compression attribute of the original partition.</span></span>  
  
-   <span data-ttu-id="ed149-194">Wenn Sie zwei Partitionen zusammenführen, erbt die zurückgegebene Partition das Datenkomprimierungsattribut der Zielpartition.</span><span class="sxs-lookup"><span data-stu-id="ed149-194">When two partitions are merged, the resultant partition inherits the data compression attribute of the destination partition.</span></span>  
  
-   <span data-ttu-id="ed149-195">Zum Wechseln einer Partition muss die Datenkomprimierungseigenschaft der Partition mit der Komprimierungseigenschaft der Tabelle übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="ed149-195">To switch a partition, the data compression property of the partition must match the compression property of the table.</span></span>  
  
-   <span data-ttu-id="ed149-196">Zur Änderung der Komprimierung einer partitionierten Tabelle bzw. eines Indexes stehen zwei Syntaxvariationen zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="ed149-196">There are two syntax variations that you can use to modify the compression of a partitioned table or index:</span></span>  
  
    -   <span data-ttu-id="ed149-197">Mit der folgenden Syntax wird nur die referenzierte Partition neu erstellt:</span><span class="sxs-lookup"><span data-stu-id="ed149-197">The following syntax rebuilds only the referenced partition:</span></span>  
  
        ```  
        ALTER TABLE <table_name>   
        REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  <option>)  
        ```  
  
    -   <span data-ttu-id="ed149-198">Mit der folgenden Syntax wird die gesamte Tabelle neu erstellt, wobei für nicht referenzierte Partitionen die vorhandene Komprimierungseinstellung verwendet wird:</span><span class="sxs-lookup"><span data-stu-id="ed149-198">The following syntax rebuilds the whole table by using the existing compression setting for any partitions that are not referenced:</span></span>  
  
        ```  
        ALTER TABLE <table_name>   
        REBUILD PARTITION = ALL   
        WITH (DATA_COMPRESSION = PAGE ON PARTITIONS(<range>),  
        ... )  
        ```  
  
     <span data-ttu-id="ed149-199">Für partitionierte Indizes gilt bei Verwendung von ALTER INDEX dasselbe Prinzip.</span><span class="sxs-lookup"><span data-stu-id="ed149-199">Partitioned indexes follow the same principle using ALTER INDEX.</span></span>  
  
-   <span data-ttu-id="ed149-200">Beim Löschen eines gruppierten Indexes behalten die entsprechenden Heappartitionen ihre Einstellung für die Datenkomprimierung bei, sofern nicht das Partitionierungsschema geändert wird.</span><span class="sxs-lookup"><span data-stu-id="ed149-200">When a clustered index is dropped, the corresponding heap partitions retain their data compression setting unless the partitioning scheme is modified.</span></span> <span data-ttu-id="ed149-201">Wenn das Partitionierungsschema geändert wird, werden alle Partitionen neu erstellt und erhalten einen unkomprimierten Status.</span><span class="sxs-lookup"><span data-stu-id="ed149-201">If the partitioning scheme is changed, all partitions are rebuilt to an uncompressed state.</span></span> <span data-ttu-id="ed149-202">Um einen gruppierten Index zu löschen und das Partitionierungsschema zu ändern, sind folgende Schritte erforderlich:</span><span class="sxs-lookup"><span data-stu-id="ed149-202">To drop a clustered index and change the partitioning scheme requires the following steps:</span></span>  
  
     1. <span data-ttu-id="ed149-203">Löschen Sie den gruppierten Index.</span><span class="sxs-lookup"><span data-stu-id="ed149-203">Drop the clustered index.</span></span>  
  
     2. <span data-ttu-id="ed149-204">Ändern Sie die Tabelle mit der Option ALTER TABLE ... REBUILD ... zur Angabe der Komprimierungsoption.</span><span class="sxs-lookup"><span data-stu-id="ed149-204">Modify the table by using the ALTER TABLE ... REBUILD ... option that specifies the compression option.</span></span>  
  
     <span data-ttu-id="ed149-205">OFFLINE können Sie einen gruppierten Index sehr schnell löschen, da lediglich die oberen Ebenen des gruppierten Indexes entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-205">To drop a clustered index OFFLINE is a very fast operation, because only the upper levels of clustered indexes are removed.</span></span> <span data-ttu-id="ed149-206">Wenn ein gruppierter Index ONLINE gelöscht wird, muss [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] den Heap zwei Mal neu erstellen, ein Mal für Schritt 1 und ein Mal für Schritt 2.</span><span class="sxs-lookup"><span data-stu-id="ed149-206">When a clustered index is dropped ONLINE, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must rebuild the heap two times, once for step 1 and once for step 2.</span></span>  
  
## <a name="how-compression-affects-replication"></a><span data-ttu-id="ed149-207">Auswirkungen der Komprimierung auf die Replikation</span><span class="sxs-lookup"><span data-stu-id="ed149-207">How Compression Affects Replication</span></span>  
 <span data-ttu-id="ed149-208">Beachten Sie die folgenden Überlegungen, wenn Sie die Datenkomprimierung mit der Replikation verwenden:</span><span class="sxs-lookup"><span data-stu-id="ed149-208">When you are using data compression with replication, be aware of the following considerations:</span></span>  
  
-   <span data-ttu-id="ed149-209">Wenn der Momentaufnahme-Agent das Anfangsschemaskript generiert, gilt für die Tabelle und die Indizes des neuen Schemas dieselbe Komprimierungseinstellung.</span><span class="sxs-lookup"><span data-stu-id="ed149-209">When the Snapshot Agent generates the initial schema script, the new schema will use the same compression settings for both the table and its indexes.</span></span> <span data-ttu-id="ed149-210">Die Komprimierung kann nicht nur für die Tabelle aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-210">Compression cannot be enabled on just the table and not the index.</span></span>  
  
-   <span data-ttu-id="ed149-211">Bei Transaktionsreplikationen wird durch die Artikelschemaoption festgelegt, für welche abhängigen Objekte und Eigenschaften ein Skript erstellt werden muss.</span><span class="sxs-lookup"><span data-stu-id="ed149-211">For transactional replication the article schema option determines what dependent objects and properties have to be scripted.</span></span> <span data-ttu-id="ed149-212">Weitere Informationen finden Sie unter [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ed149-212">For more information, see [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span></span>  
  
     <span data-ttu-id="ed149-213">Der Verteilungs-Agent überprüft bei der Anwendung von Skripts Abonnenten mit früheren Versionen nicht.</span><span class="sxs-lookup"><span data-stu-id="ed149-213">The Distribution Agent does not check for down-level Subscribers when it applies scripts.</span></span> <span data-ttu-id="ed149-214">Wenn die Replikation der Komprimierung ausgewählt wird, kann die Tabelle auf Abonnenten mit früheren Versionen nicht erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-214">If the replication of compression is selected, creating the table on down-level Subscribers will fail.</span></span> <span data-ttu-id="ed149-215">Aktivieren Sie die Replikation der Komprimierung für heterogene Topologien nicht.</span><span class="sxs-lookup"><span data-stu-id="ed149-215">In the case of a mixed topology, do not enable the replication of compression.</span></span>  
  
-   <span data-ttu-id="ed149-216">Bei Mergereplikationen überschreibt der Veröffentlichungskompatibilitätsgrad die Schemaoptionen und legt fest, für welche Schemaobjekte Skripts erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-216">For merge replication, publication compatibility level overrides the schema options and determines the schema objects that will be scripted.</span></span>  
  
     <span data-ttu-id="ed149-217">Bei heterogenen Topologien empfiehlt es sich, den Veröffentlichungskompatibilitätsgrad auf die frühere Abonnentenversion festzulegen, falls die neuen Komprimierungsoptionen nicht unterstützt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="ed149-217">In the case of a mixed topology, if it is not required to support the new compression options, the publication compatibility level should be set to the down-level Subscriber version.</span></span> <span data-ttu-id="ed149-218">Erforderlichenfalls können Sie Tabellen auf dem Abonnenten komprimieren, nachdem sie erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="ed149-218">If it is required, compress tables on the Subscriber after they have been created.</span></span>  
  
 <span data-ttu-id="ed149-219">Die folgende Tabelle enthält Replikationseinstellungen, mit denen die Komprimierung während der Replikation gesteuert wird.</span><span class="sxs-lookup"><span data-stu-id="ed149-219">The following table shows replication settings that control compression during replication.</span></span>  
  
|<span data-ttu-id="ed149-220">Benutzerabsicht</span><span class="sxs-lookup"><span data-stu-id="ed149-220">User intent</span></span>|<span data-ttu-id="ed149-221">Replizieren des Partitionsschemas für eine Tabelle bzw. einen Index</span><span class="sxs-lookup"><span data-stu-id="ed149-221">Replicate partition scheme for a table or index</span></span>|<span data-ttu-id="ed149-222">Replizieren der Komprimierungseinstellungen</span><span class="sxs-lookup"><span data-stu-id="ed149-222">Replicate compression settings</span></span>|<span data-ttu-id="ed149-223">Skriptverhalten</span><span class="sxs-lookup"><span data-stu-id="ed149-223">Scripting behavior</span></span>|  
|-----------------|-----------------------------------------------------|------------------------------------|------------------------|  
|<span data-ttu-id="ed149-224">Zur Replikation des Partitionsschemas und zur Aktivierung der Komprimierung auf dem Abonnenten für die Partition.</span><span class="sxs-lookup"><span data-stu-id="ed149-224">To replicate the partition scheme and enable compression on the Subscriber on the partition.</span></span>|<span data-ttu-id="ed149-225">True</span><span class="sxs-lookup"><span data-stu-id="ed149-225">True</span></span>|<span data-ttu-id="ed149-226">True</span><span class="sxs-lookup"><span data-stu-id="ed149-226">True</span></span>|<span data-ttu-id="ed149-227">Sowohl für das Partitionsschema als auch für die Komprimierungseinstellungen wird ein Skript erstellt.</span><span class="sxs-lookup"><span data-stu-id="ed149-227">Scripts both the partition scheme and the compression settings.</span></span>|  
|<span data-ttu-id="ed149-228">Zur Replikation des Partitionsschemas ohne Komprimierung der Daten auf dem Abonnenten.</span><span class="sxs-lookup"><span data-stu-id="ed149-228">To replicate the partition scheme but not compress the data on the Subscriber.</span></span>|<span data-ttu-id="ed149-229">Richtig</span><span class="sxs-lookup"><span data-stu-id="ed149-229">True</span></span>|<span data-ttu-id="ed149-230">Falsch</span><span class="sxs-lookup"><span data-stu-id="ed149-230">False</span></span>|<span data-ttu-id="ed149-231">Für das Partitionsschema wird ein Skript erstellt, für die Komprimierungseinstellungen der Partition jedoch nicht.</span><span class="sxs-lookup"><span data-stu-id="ed149-231">Scripts out the partition scheme but not the compression settings for the partition.</span></span>|  
|<span data-ttu-id="ed149-232">Keine Replikation des Partitionsschemas und keine Komprimierung der Daten auf dem Abonnenten.</span><span class="sxs-lookup"><span data-stu-id="ed149-232">To not replicate the partition scheme and not compress the data on the Subscriber.</span></span>|<span data-ttu-id="ed149-233">False</span><span class="sxs-lookup"><span data-stu-id="ed149-233">False</span></span>|<span data-ttu-id="ed149-234">False</span><span class="sxs-lookup"><span data-stu-id="ed149-234">False</span></span>|<span data-ttu-id="ed149-235">Weder für die Partition noch für die Komprimierungseinstellungen wird ein Skript erstellt.</span><span class="sxs-lookup"><span data-stu-id="ed149-235">Does not script partition or compression settings.</span></span>|  
|<span data-ttu-id="ed149-236">Zur Komprimierung der Tabelle auf dem Abonnenten, wenn alle Partitionen auf dem Verleger komprimiert sind, ohne Replikation des Partitionsschemas.</span><span class="sxs-lookup"><span data-stu-id="ed149-236">To compress the table on the Subscriber if all the partitions are compressed on the Publisher, but not replicate the partition scheme.</span></span>|<span data-ttu-id="ed149-237">Falsch</span><span class="sxs-lookup"><span data-stu-id="ed149-237">False</span></span>|<span data-ttu-id="ed149-238">True</span><span class="sxs-lookup"><span data-stu-id="ed149-238">True</span></span>|<span data-ttu-id="ed149-239">Überprüft, ob alle Partitionen für die Komprimierung aktiviert wurden.</span><span class="sxs-lookup"><span data-stu-id="ed149-239">Checks if all the partitions are enabled for compression.</span></span><br /><br /> <span data-ttu-id="ed149-240">Skriptausgabe der Komprimierung auf Tabellenebene.</span><span class="sxs-lookup"><span data-stu-id="ed149-240">Scripts out compression at the table level.</span></span>|  
  
## <a name="how-compression-affects-other-sql-server-components"></a><span data-ttu-id="ed149-241">Auswirkungen der Komprimierung auf andere SQL Server-Komponenten</span><span class="sxs-lookup"><span data-stu-id="ed149-241">How Compression Affects Other SQL Server Components</span></span>  
 <span data-ttu-id="ed149-242">Die Komprimierung erfolgt im der Speicher-Engine, und die Daten werden in den meisten anderen Komponenten von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] im unkomprimierten Zustand dargestellt.</span><span class="sxs-lookup"><span data-stu-id="ed149-242">Compression occurs in the storage engine and the data is presented to most of the other components of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in an uncompressed state.</span></span> <span data-ttu-id="ed149-243">Hierdurch werden die Auswirkungen der Komprimierung auf die anderen Komponenten auf folgende Punkte beschränkt:</span><span class="sxs-lookup"><span data-stu-id="ed149-243">This limits the effects of compression on the other components to the following:</span></span>  
  
-   <span data-ttu-id="ed149-244">Massenimport- und -exportvorgänge</span><span class="sxs-lookup"><span data-stu-id="ed149-244">Bulk import and export operations</span></span>  
  
     <span data-ttu-id="ed149-245">Exportierte Daten werden im unkomprimierten Zeilenformat ausgegeben. Dies gilt auch für systemeigene Datenformate.</span><span class="sxs-lookup"><span data-stu-id="ed149-245">When data is exported, even in native format, the data is output in the uncompressed row format.</span></span> <span data-ttu-id="ed149-246">Aus diesem Grund kann die exportierte Datendatei erheblich größer sein als die Quelldaten.</span><span class="sxs-lookup"><span data-stu-id="ed149-246">This can cause the size of exported data file to be significantly larger than the source data.</span></span>  
  
     <span data-ttu-id="ed149-247">Beim Importieren von Daten werden die Daten in der Speicher-Engine in das komprimierte Zeilenformat konvertiert, falls die Komprimierung in der Zieltabelle aktiviert wurde.</span><span class="sxs-lookup"><span data-stu-id="ed149-247">When data is imported, if the target table has been enabled for compression, the data is converted by the storage engine into compressed row format.</span></span> <span data-ttu-id="ed149-248">Hierbei ist die CPU-Nutzung höher als beim Import von Daten in eine unkomprimierte Tabelle.</span><span class="sxs-lookup"><span data-stu-id="ed149-248">This can cause increased CPU usage compared to when data is imported into an uncompressed table.</span></span>  
  
     <span data-ttu-id="ed149-249">Beim Massenimport von Daten in einen Heap mit Seitenkomprimierung wird versucht, die Daten beim Einfügen mit der Seitenkomprimierung zu komprimieren.</span><span class="sxs-lookup"><span data-stu-id="ed149-249">When data is bulk imported into a heap with page compression, the bulk import operation will try to compress the data with page compression when the data is inserted.</span></span>  
  
-   <span data-ttu-id="ed149-250">Die Komprimierung hat keine Auswirkungen auf Sicherungs- und Wiederherstellungsvorgänge.</span><span class="sxs-lookup"><span data-stu-id="ed149-250">Compression does not affect backup and restore.</span></span>  
  
-   <span data-ttu-id="ed149-251">Die Komprimierung hat keine Auswirkungen auf den Protokollversand.</span><span class="sxs-lookup"><span data-stu-id="ed149-251">Compression does not affect log shipping.</span></span>  
  
-   <span data-ttu-id="ed149-252">Die Datenkomprimierung ist nicht kompatibel mit Sparsespalten.</span><span class="sxs-lookup"><span data-stu-id="ed149-252">Data compression is incompatible with sparse columns.</span></span> <span data-ttu-id="ed149-253">Daher können Tabellen mit Sparsespalten weder komprimiert werden, noch können Sparsespalten einer komprimierten Tabelle hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-253">Therefore, tables containing sparse columns cannot be compressed nor can sparse columns be added to a compressed table.</span></span>  
  
-   <span data-ttu-id="ed149-254">Die Aktivierung der Komprimierung kann bewirken, dass sich Abfragepläne ändern, da die Daten mit einer anderen Anzahl von Seiten und Zeilen pro Seite gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="ed149-254">Enabling compression can cause query plans to change because the data is stored using a different number of pages and number of rows per page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ed149-255">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="ed149-255">See Also</span></span>  
 <span data-ttu-id="ed149-256">[Implementierung von Zeilenkomprimierung](row-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="ed149-256">[Row Compression Implementation](row-compression-implementation.md) </span></span>  
 <span data-ttu-id="ed149-257">[Implementierung von Seitenkomprimierung](page-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="ed149-257">[Page Compression Implementation](page-compression-implementation.md) </span></span>  
 <span data-ttu-id="ed149-258">[Implementierung von Unicode-Komprimierung](unicode-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="ed149-258">[Unicode Compression Implementation](unicode-compression-implementation.md) </span></span>  
 <span data-ttu-id="ed149-259">[CREATE PARTITION SCHEME &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-scheme-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="ed149-259">[CREATE PARTITION SCHEME &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-scheme-transact-sql) </span></span>  
 <span data-ttu-id="ed149-260">[CREATE PARTITION FUNCTION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-function-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="ed149-260">[CREATE PARTITION FUNCTION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-function-transact-sql) </span></span>  
 <span data-ttu-id="ed149-261">[CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="ed149-261">[CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql) </span></span>  
 <span data-ttu-id="ed149-262">[ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="ed149-262">[ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) </span></span>  
 <span data-ttu-id="ed149-263">[CREATE INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-index-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="ed149-263">[CREATE INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-index-transact-sql) </span></span>  
 [<span data-ttu-id="ed149-264">ALTER INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed149-264">ALTER INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-index-transact-sql)  
  
  
