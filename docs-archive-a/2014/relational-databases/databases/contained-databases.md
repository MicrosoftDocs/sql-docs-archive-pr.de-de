---
title: Eigenständige Datenbanken | Microsoft-Dokumentation
ms.custom: ''
ms.date: 07/17/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- contained database
- database_uncontained_usage event
- partially contained database
- contained database, understanding
ms.assetid: 36af59d7-ce96-4a02-8598-ffdd78cdc948
author: stevestein
ms.author: sstein
ms.openlocfilehash: 3efd231a1aa4d2b348bcfe887bd05825fcd40c90
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87718247"
---
# <a name="contained-databases"></a><span data-ttu-id="83515-102">Eigenständige Datenbanken</span><span class="sxs-lookup"><span data-stu-id="83515-102">Contained Databases</span></span>
  <span data-ttu-id="83515-103">Eine*eigenständige Datenbank* ist eine Datenbank, die von anderen Datenbanken und der Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , der die Datenbank hostet, isoliert ist.</span><span class="sxs-lookup"><span data-stu-id="83515-103">A*contained database* is a database that is isolated from other databases and from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that hosts the database.</span></span>  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="83515-104">hilft Benutzern dabei, ihre Datenbank von der Instanz auf vier Arten zu isolieren.</span><span class="sxs-lookup"><span data-stu-id="83515-104">helps user to isolate their database from the instance in 4 ways.</span></span>  
  
-   <span data-ttu-id="83515-105">Eine Menge der Metadaten, die eine Datenbank beschreiben, wird in der Datenbank verwaltet.</span><span class="sxs-lookup"><span data-stu-id="83515-105">Much of the metadata that describes a database is maintained in the database.</span></span> <span data-ttu-id="83515-106">(Zusätzlich zur oder anstelle der Verwaltung von Metadaten in der master-Datenbank.)</span><span class="sxs-lookup"><span data-stu-id="83515-106">(In addition to, or instead of, maintaining metadata in the master database.)</span></span>  
  
-   <span data-ttu-id="83515-107">Alle Metadaten werden definiert über die gleiche Sortierung.</span><span class="sxs-lookup"><span data-stu-id="83515-107">All metadata are defined using the same collation.</span></span>  
  
-   <span data-ttu-id="83515-108">Die Benutzerauthentifizierung kann von der Datenbank ausgeführt werden, wodurch die Abhängigkeit der Datenbanken beim Anmelden der Instanz auf [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]reduziert wird.</span><span class="sxs-lookup"><span data-stu-id="83515-108">User authentication can be performed by the database, reducing the databases dependency on the logins of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="83515-109">Die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Umgebung (DMVs, XEvents usw.) berichtet und kann auf Kapselungsinformationen reagieren.</span><span class="sxs-lookup"><span data-stu-id="83515-109">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] environment (DMV's, XEvents, etc.) reports and can act upon containment information.</span></span>  
  
 <span data-ttu-id="83515-110">Einige Funktionen von teilweise eigenständigen Datenbanken, beispielsweise das Speichern von Metadaten in der Datenbank, gelten für alle [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] -Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="83515-110">Some features of partially contained databases, such as storing metadata in the database, apply to all [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] databases.</span></span> <span data-ttu-id="83515-111">Einige Vorteile der teilweise eigenständigen Datenbanken, beispielsweise Authentifizierung auf Datenbankebene und Katalogsortierung, müssen erst aktiviert werden, damit sie verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="83515-111">Some benefits of partially contained databases, such as database level authentication and catalog collation, must be enabled before they are available.</span></span> <span data-ttu-id="83515-112">Die Teilkapselung wird mithilfe der `CREATE DATABASE`- und `ALTER DATABASE`-Anweisungen oder mithilfe von [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] aktiviert.</span><span class="sxs-lookup"><span data-stu-id="83515-112">Partial containment is enabled using the `CREATE DATABASE` and `ALTER DATABASE` statements or by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="83515-113">Weitere Informationen zum Aktivieren der Sortierung teilweiser Datenbanken finden Sie unter [Migrate to a Partially Contained Database](migrate-to-a-partially-contained-database.md).</span><span class="sxs-lookup"><span data-stu-id="83515-113">For more information about how to enable partial database containment, see [Migrate to a Partially Contained Database](migrate-to-a-partially-contained-database.md).</span></span>  
  
 <span data-ttu-id="83515-114">Dieses Thema enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="83515-114">This topic contains the following sections.</span></span>  
  
-   [<span data-ttu-id="83515-115">Konzepte von teilweise eigenständigen Datenbanken</span><span class="sxs-lookup"><span data-stu-id="83515-115">Partially Contained Database Concepts</span></span>](#Concepts)  
  
-   [<span data-ttu-id="83515-116">Begrenzung</span><span class="sxs-lookup"><span data-stu-id="83515-116">Containment</span></span>](#containment)  
  
-   [<span data-ttu-id="83515-117">Vorteile der Verwendung teilweise eigenständiger Datenbanken</span><span class="sxs-lookup"><span data-stu-id="83515-117">Benefits of using Partially Contained Databases</span></span>](#benefits)  
  
-   [<span data-ttu-id="83515-118">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="83515-118">Limitations</span></span>](#Limitations)  
  
-   [<span data-ttu-id="83515-119">Identifizieren der Daten Bank Kap</span><span class="sxs-lookup"><span data-stu-id="83515-119">Identifying Database Containment</span></span>](#Identifying)  
  
##  <a name="partially-contained-database-concepts"></a><a name="Concepts"></a> <span data-ttu-id="83515-120">Konzepte zur teilweise eigenständigen Datenbank</span><span class="sxs-lookup"><span data-stu-id="83515-120">Partially Contained Database Concepts</span></span>  
 <span data-ttu-id="83515-121">Eine vollständig eigenständige Datenbank schließt alle erforderlichen Datenbankeinstellungen und Metadaten zum Definieren der Datenbank ein, und ihre Konfiguration ist nicht von der [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] -Instanz abhängig, in der die Datenbank installiert ist.</span><span class="sxs-lookup"><span data-stu-id="83515-121">A fully contained database includes all the settings and metadata required to define the database and has no configuration dependencies on the instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] where the database is installed.</span></span> <span data-ttu-id="83515-122">In früheren Versionen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]konnte das Trennen einer Datenbank von der Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] eine zeitraubende Angelegenheit sein, und es erforderte ein fundiertes Wissen der Beziehung zwischen den Datenbanken und der Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83515-122">In previous versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], separating a database from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] could be time consuming and required detailed knowledge of the relationship between the database and the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="83515-123">Die teilweise eigenständigen Datenbanken erleichtern das Trennen einer Datenbank von der Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] und anderen Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="83515-123">Partially contained databases make it easier to separate a database from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and other databases.</span></span>  
  
 <span data-ttu-id="83515-124">In der eigenständigen Datenbank werden Funktionen entsprechend der Kapselung erkannt.</span><span class="sxs-lookup"><span data-stu-id="83515-124">The contained database considers features with regard to containment.</span></span> <span data-ttu-id="83515-125">Jede benutzerdefinierte Entität, die sich ausschließlich auf Funktionen stützt, die in der Datenbank enthalten sind, wird als vollständig enthalten angesehen.</span><span class="sxs-lookup"><span data-stu-id="83515-125">Any user-defined entity that relies only on functions that reside in the database is considered fully contained.</span></span> <span data-ttu-id="83515-126">Jede benutzerdefinierte Entität, die sich ausschließlich auf Funktionen stützt, die sich außerhalb der Datenbank befinden, wird als nicht enthalten angesehen.</span><span class="sxs-lookup"><span data-stu-id="83515-126">Any user-defined entity that relies on functions that reside outside the database is considered uncontained.</span></span> <span data-ttu-id="83515-127">(Weitere Informationen finden Sie im Abschnitt [Eigenständigkeit](#containment) in diesem Thema.)</span><span class="sxs-lookup"><span data-stu-id="83515-127">(For more information, see the [Containment](#containment) section later in this topic.)</span></span>  
  
 <span data-ttu-id="83515-128">Die folgenden Begriffe beziehen sich auf das enthaltene Datenbankmodell.</span><span class="sxs-lookup"><span data-stu-id="83515-128">The following terms apply to the contained database model.</span></span>  
  
 <span data-ttu-id="83515-129">Datenbankbegrenzung</span><span class="sxs-lookup"><span data-stu-id="83515-129">Database boundary</span></span>  
 <span data-ttu-id="83515-130">Die Grenze zwischen einer Datenbank und der Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83515-130">The boundary between a database and the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="83515-131">Die Grenze zwischen einer Datenbank und anderen Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="83515-131">The boundary between a database and other databases.</span></span>  
  
 <span data-ttu-id="83515-132">Enthalten</span><span class="sxs-lookup"><span data-stu-id="83515-132">Contained</span></span>  
 <span data-ttu-id="83515-133">Ein Element, das vollständig innerhalb der Datenbankbegrenzung vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="83515-133">An element that exists entirely in the database boundary.</span></span>  
  
 <span data-ttu-id="83515-134">Nicht enthalten</span><span class="sxs-lookup"><span data-stu-id="83515-134">Uncontained</span></span>  
 <span data-ttu-id="83515-135">Ein Element, das die Datenbankbegrenzung überschreitet.</span><span class="sxs-lookup"><span data-stu-id="83515-135">An element that crosses the database boundary.</span></span>  
  
 <span data-ttu-id="83515-136">Nicht enthaltene Datenbank</span><span class="sxs-lookup"><span data-stu-id="83515-136">Non-contained database</span></span>  
 <span data-ttu-id="83515-137">Eine Datenbank, deren Eigenständigkeit auf **NONE** festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="83515-137">A database that has containment set to **NONE**.</span></span> <span data-ttu-id="83515-138">Alle Datenbanken in Versionen vor [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] sind nicht enthalten.</span><span class="sxs-lookup"><span data-stu-id="83515-138">All databases in versions earlier than [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] are non-contained.</span></span> <span data-ttu-id="83515-139">Die Kapselung aller Datenbanken von [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] und höher ist standardmäßig auf **NONE** festgelegt.</span><span class="sxs-lookup"><span data-stu-id="83515-139">By default, all [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] and later databases have a containment set to **NONE**.</span></span>  
  
 <span data-ttu-id="83515-140">Teilweise enthaltene Datenbank</span><span class="sxs-lookup"><span data-stu-id="83515-140">Partially contained database</span></span>  
 <span data-ttu-id="83515-141">Eine teilweise eigenständige Datenbank ist eine eigenständige Datenbank, die einige Funktionen zulassen kann, die die Datenbankbegrenzung überschreiten.</span><span class="sxs-lookup"><span data-stu-id="83515-141">A partially contained database is a contained database that can allow some features that cross the database boundary.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="83515-142">enthält die Fähigkeit ein zu bestimmen, wann die Kapselungsbegrenzung überschritten wird.</span><span class="sxs-lookup"><span data-stu-id="83515-142">includes the ability to determine when the containment boundary is crossed.</span></span>  
  
 <span data-ttu-id="83515-143">Enthaltener Benutzer</span><span class="sxs-lookup"><span data-stu-id="83515-143">Contained user</span></span>  
 <span data-ttu-id="83515-144">Es gibt zwei Typen von Benutzern für enthaltene Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="83515-144">There are two types of users for contained databases.</span></span>  
  
-   <span data-ttu-id="83515-145">**Benutzer einer enthaltenen Datenbank mit Kennwort**</span><span class="sxs-lookup"><span data-stu-id="83515-145">**Contained database user with password**</span></span>  
  
     <span data-ttu-id="83515-146">Benutzer von enthaltenen Datenbanken mit Kennwort werden von der Datenbank authentifiziert.</span><span class="sxs-lookup"><span data-stu-id="83515-146">Contained database users with passwords are authenticated by the database.</span></span>  
  
-   <span data-ttu-id="83515-147">**Windows-Prinzipale**</span><span class="sxs-lookup"><span data-stu-id="83515-147">**Windows principals**</span></span>  
  
     <span data-ttu-id="83515-148">Autorisierte Windows-Benutzer und Mitglieder autorisierter Windows-Gruppen können direkt eine Verbindung mit der Datenbank herstellen, wobei keine Anmeldung in der **master** -Datenbank benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="83515-148">Authorized Windows users and members of authorized Windows groups can connect directly to the database and do not need logins in the **master** database.</span></span> <span data-ttu-id="83515-149">Die Datenbank vertraut der Authentifizierung von Windows.</span><span class="sxs-lookup"><span data-stu-id="83515-149">The database trusts the authentication by Windows.</span></span>  
  
 <span data-ttu-id="83515-150">Benutzern kann auf Basis der Anmeldungen in der **master** -Datenbank Zugriff auf eine eigenständige Datenbank gewährt werden. Dies würde jedoch eine Abhängigkeit auf der [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Instanz zur Folge haben.</span><span class="sxs-lookup"><span data-stu-id="83515-150">Users based on logins in the **master** database can be granted access to a contained database, but that would create a dependency on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="83515-151">Daher sollten Sie beim Erstellen von Benutzern auf Basis von Anmeldungen den Kommentar für teilweise eigenständige Datenbanken durchlesen.</span><span class="sxs-lookup"><span data-stu-id="83515-151">Therefore, creating users based on logins see comment for partially contained databases.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="83515-152">Das Aktivieren von teilweise eigenständigen Datenbanken delegiert die Steuerung über den Zugriff auf die Instanz der [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] an die Besitzer der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="83515-152">Enabling partially contained databases delegates control over access to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to the owners of the database.</span></span> <span data-ttu-id="83515-153">Weitere Informationen finden Sie unter [Security Best Practices with Contained Databases](security-best-practices-with-contained-databases.md).</span><span class="sxs-lookup"><span data-stu-id="83515-153">For more information, see [Security Best Practices with Contained Databases](security-best-practices-with-contained-databases.md).</span></span>  
  
 <span data-ttu-id="83515-154">Datenbankbegrenzung</span><span class="sxs-lookup"><span data-stu-id="83515-154">Database Boundary</span></span>  
 <span data-ttu-id="83515-155">Da teilweise eigenständige Datenbanken Datenbankfunktionen von den Funktionen der Instanz trennen, besteht eine eindeutig definierte Trennlinie zwischen diesen beiden Elementen. Diese wird als *Datenbankbegrenzung*bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="83515-155">Because partially contained databases separate the database functionality from those of the instance, there is a clearly defined line between these two elements called the *database boundary*.</span></span>  
  
 <span data-ttu-id="83515-156">Innerhalb der Datenbankbegrenzung befindet sich das *Datenbankmodell*, in dem die Datenbanken entwickelt und verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="83515-156">Inside of the database boundary is the *database model*, where the databases are developed and managed.</span></span> <span data-ttu-id="83515-157">Beispiele für Entitäten, die sich innerhalb der Datenbank befinden, sind Systemtabellen (z.B. **sys.tables**), eigenständige Datenbankbenutzer mit Kennwörtern sowie Benutzertabellen in der aktuellen Datenbank, auf die mit einem zweiteiligen Namen verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="83515-157">Examples of entities located inside of the database include, system tables like **sys.tables**, contained database users with passwords, and user tables in the current database referenced by a two-part name.</span></span>  
  
 <span data-ttu-id="83515-158">Außerhalb der Datenbankbegrenzung befindet sich das *Verwaltungsmodell*, das sich auf Funktionen auf Instanzebene und auf die Verwaltung bezieht.</span><span class="sxs-lookup"><span data-stu-id="83515-158">Outside of the database boundary is the *management model*, which pertains to instance-level functions and management.</span></span> <span data-ttu-id="83515-159">Beispiele für Entitäten, die sich außerhalb der Datenbankbegrenzung befinden, sind Systemtabellen wie **sys.endpoints**, zu Anmeldungen zugeordnete Benutzer und Benutzertabellen in einer anderen Datenbank, auf die mit einem dreiteiligen Namen verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="83515-159">Examples of entities located outside of the database boundary include, system tables like **sys.endpoints**, users mapped to logins, and user tables in another database referenced by a three-part-name.</span></span>  
  
##  <a name="containment"></a><a name="containment"></a> <span data-ttu-id="83515-160">Eigenständigkeit</span><span class="sxs-lookup"><span data-stu-id="83515-160">Containment</span></span>  
 <span data-ttu-id="83515-161">Benutzerentitäten, die sich vollständig innerhalb der Datenbank befinden, werden als *enthalten* angesehen.</span><span class="sxs-lookup"><span data-stu-id="83515-161">User entities that reside entirely within the database are considered *contained*.</span></span> <span data-ttu-id="83515-162">Alle Benutzerentitäten, die sich außerhalb der Datenbank befinden oder sich auf die Interaktion mit Funktionen außerhalb der Datenbank stützen, werden als *nicht enthalten* angesehen.</span><span class="sxs-lookup"><span data-stu-id="83515-162">Any entities that reside outside of the database, or rely on interaction with functions outside of the database, are considered *uncontained*.</span></span>  
  
 <span data-ttu-id="83515-163">Im Allgemeinen sind Benutzerentitäten folgenden Kapselungskategorien zuzuordnen:</span><span class="sxs-lookup"><span data-stu-id="83515-163">In general, user entities fall into the following categories of containment:</span></span>  
  
-   <span data-ttu-id="83515-164">Vollständig eigenständige Benutzerentitäten (Entitäten, die nie die Datenbankbegrenzung überschreiten), z.B. „sys.indexes“.</span><span class="sxs-lookup"><span data-stu-id="83515-164">Fully contained user entities (those that never cross the database boundary), for example sys.indexes.</span></span> <span data-ttu-id="83515-165">Jeglicher Code, in dem diese Funktionen oder Objekte verwendet werden, die nur auf diese Entitäten verweisen, ist ebenfalls vollständig enthalten.</span><span class="sxs-lookup"><span data-stu-id="83515-165">Any code that uses these features or any object that references only these entities is also fully contained.</span></span>  
  
-   <span data-ttu-id="83515-166">Nicht eigenständige Benutzerentitäten (Entitäten, die die Datenbankbegrenzung überschreiten), z.B. „sys.server_principals“ oder ein Serverprinzipal (eine Anmeldung) selbst.</span><span class="sxs-lookup"><span data-stu-id="83515-166">Uncontained user entities (those that cross the database boundary), for example sys.server_principals or a server principal (login) itself.</span></span> <span data-ttu-id="83515-167">Jeglicher Code, in dem diese Entitäten oder Funktionen verwendet werden, die auf diese Entitäten verweisen, ist nicht enthalten.</span><span class="sxs-lookup"><span data-stu-id="83515-167">Any code that uses these entities or any functions that references these entities are uncontained.</span></span>  
  
###  <a name="partially-contained-database"></a><a name="partial"></a> <span data-ttu-id="83515-168">Partially Contained Database</span><span class="sxs-lookup"><span data-stu-id="83515-168">Partially Contained Database</span></span>  
 <span data-ttu-id="83515-169">Die Funktion der enthaltenen Datenbank ist derzeit nur in einem teilweise enthaltenen Status verfügbar.</span><span class="sxs-lookup"><span data-stu-id="83515-169">The contained database feature is currently available only in a partially contained state.</span></span> <span data-ttu-id="83515-170">Eine teilweise enthaltene Datenbank ist eine enthaltene Datenbank, die die Verwendung nicht enthaltener Funktionen zulässt.</span><span class="sxs-lookup"><span data-stu-id="83515-170">A partially contained database is a contained database that allows the use of uncontained features.</span></span>  
  
 <span data-ttu-id="83515-171">Geben Sie Informationen zu nicht eigenständigen Objekten und Funktionen mithilfe von [sys.dm_db_uncontained_entities](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql) und [sys.sql_modules &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-sql-modules-transact-sql) zurück.</span><span class="sxs-lookup"><span data-stu-id="83515-171">Use the [sys.dm_db_uncontained_entities](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql) and [sys.sql_modules &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-sql-modules-transact-sql) view to return information about uncontained objects or features.</span></span> <span data-ttu-id="83515-172">Durch Bestimmen des Kapselungsstatus der Elemente von Datenbanken können Sie ermitteln, welche Objekte und Funktionen ersetzt oder geändert werden müssen, um eine Kapselung zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="83515-172">By determining the containment status of the elements of your database, you can discover what objects or features must be replaced or altered to promote containment.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="83515-173">Da bestimmte Objekte bei der Eigenständigkeit die Standardeinstellung **NONE** aufweisen, werden von dieser Sicht möglicherweise falsch positive Ergebnisse zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="83515-173">Because certain objects have a default containment setting of **NONE**, this view can return false positives.</span></span>  
  
 <span data-ttu-id="83515-174">Das Verhalten teilweise eigenständiger Datenbanken unterscheidet sich von dem abhängiger Datenbanken am deutlichsten hinsichtlich der Sortierung.</span><span class="sxs-lookup"><span data-stu-id="83515-174">The behavior of partially contained databases differs most distinctly from that of non-contained databases with regard to collation.</span></span> <span data-ttu-id="83515-175">Weitere Informationen zu Sortierungsaspekten finden Sie unter [Contained Database Collations](contained-database-collations.md).</span><span class="sxs-lookup"><span data-stu-id="83515-175">For more information about collation issues, see [Contained Database Collations](contained-database-collations.md).</span></span>  
  
##  <a name="benefits-of-using-partially-contained-databases"></a><a name="benefits"></a> <span data-ttu-id="83515-176">Vorteile des Verwendens von teilweise enthaltenen Datenbanken</span><span class="sxs-lookup"><span data-stu-id="83515-176">Benefits of using Partially Contained Databases</span></span>  
 <span data-ttu-id="83515-177">Im Zusammenhang mit abhängigen Datenbanken treten Probleme und Schwierigkeiten auf, die mithilfe einer teilweise eigenständigen Datenbank behoben werden können.</span><span class="sxs-lookup"><span data-stu-id="83515-177">There are issues and complications associated with the non-contained databases that can be resolved by using a partially contained database.</span></span>  
  
### <a name="database-movement"></a><span data-ttu-id="83515-178">Verschiebung von Datenbanken</span><span class="sxs-lookup"><span data-stu-id="83515-178">Database Movement</span></span>  
 <span data-ttu-id="83515-179">Eines der Probleme, das beim Verschieben von Datenbanken auftritt, besteht darin, dass einige wichtige Informationen beim Verschieben der Datenbank von einer Instanz zu einer anderen möglicherweise nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="83515-179">One of the problems that occurs when moving databases, is that some important information can be unavailable when a database is moved from one instance to another.</span></span> <span data-ttu-id="83515-180">Beispielsweise werden Anmeldeinformationen innerhalb der Instanz gespeichert und nicht in der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="83515-180">For example, login information is stored within the instance instead of in the database.</span></span> <span data-ttu-id="83515-181">Wenn Sie eine abhängige Datenbank von einer Instanz in eine andere [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Instanz verschieben, bleiben diese Daten zurück.</span><span class="sxs-lookup"><span data-stu-id="83515-181">When you move a non-contained database from one instance to another instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], this information is left behind.</span></span> <span data-ttu-id="83515-182">Sie müssen die fehlenden Daten bestimmen und zusammen mit der Datenbank in die neue [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Instanz verschieben.</span><span class="sxs-lookup"><span data-stu-id="83515-182">You must identify the missing information and move it with your database to the new instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="83515-183">Dieser Vorgang kann schwierig und zeitaufwendig sein.</span><span class="sxs-lookup"><span data-stu-id="83515-183">This process can be difficult and time-consuming.</span></span>  
  
 <span data-ttu-id="83515-184">Die teilweise eigenständige Datenbank kann wichtige Daten in der Datenbank speichern. Demnach verfügt die Datenbank auch nach dem Verschieben weiterhin über die Daten.</span><span class="sxs-lookup"><span data-stu-id="83515-184">The partially contained database can store important information in the database so the database still has the information after it is moved.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="83515-185">Eine teilweise eigenständige Datenbank ermöglicht die Dokumentation, womit jene Funktionen beschrieben werden, die von der Datenbank verwendet und nicht von der Instanz getrennt werden können.</span><span class="sxs-lookup"><span data-stu-id="83515-185">A partially contained database can provide documentation describing those features that are used by a database that cannot be separated from the instance.</span></span> <span data-ttu-id="83515-186">Hierzu zählen eine Liste anderer Datenbanken, von denen die Datenbank abhängt, Systemeinstellungen, die für die Datenbank erforderlich sind, jedoch nicht enthalten sein können usw.</span><span class="sxs-lookup"><span data-stu-id="83515-186">This includes a list of other interrelated databases, system settings that the database requires but cannot be contained, and so on.</span></span>  
  
### <a name="benefit-of-contained-database-users-with-alwayson"></a><span data-ttu-id="83515-187">Vorteil von enthaltenen Datenbankbenutzern mit AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="83515-187">Benefit of Contained Database Users with AlwaysOn</span></span>  
 <span data-ttu-id="83515-188">Durch die Reduzierung der Verknüpfungen in Bezug auf die Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]können teilweise eigenständige Datenbanken bei einem Failover nützlich sein, wenn Sie [!INCLUDE[ssHADR](../../includes/sshadr-md.md)]verwenden.</span><span class="sxs-lookup"><span data-stu-id="83515-188">By reducing the ties to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], partially contained databases can be useful during failover when you use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span></span>  
  
 <span data-ttu-id="83515-189">Durch die Erstellung von enthaltenen Benutzern kann der Benutzer direkt eine Verbindung mit der enthaltenen Datenbank herstellen.</span><span class="sxs-lookup"><span data-stu-id="83515-189">Creating contained users enables the user to connect directly to the contained database.</span></span> <span data-ttu-id="83515-190">Dies ist eine sehr bedeutende Funktion in Szenarien mit Hochverfügbarkeit und Wiederherstellung im Notfall, z. B. in einer AlwaysOn-Lösung.</span><span class="sxs-lookup"><span data-stu-id="83515-190">This is a very significant feature in high availability and disaster recovery scenarios such as in an AlwaysOn solution.</span></span> <span data-ttu-id="83515-191">Wenn die Benutzer enthaltene Benutzer sind, können bei einem Failover Verbindungen zur sekundären Komponente hergestellt werden, ohne dass Anmeldungen bei der Instanz erforderlich sind, die die sekundäre Komponente hostet.</span><span class="sxs-lookup"><span data-stu-id="83515-191">If the users are contained users, in case of failover, people would be able to connect to the secondary without creating logins on the instance hosting the secondary.</span></span> <span data-ttu-id="83515-192">Dies bietet einen unmittelbaren Vorteil.</span><span class="sxs-lookup"><span data-stu-id="83515-192">This provides an immediate benefit.</span></span> <span data-ttu-id="83515-193">Weitere Informationen finden Sie unter [Übersicht über Always On-Verfügbarkeitsgruppen &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) und [Voraussetzungen, Einschränkungen und Empfehlungen für Always On-Verfügbarkeitsgruppen &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md).</span><span class="sxs-lookup"><span data-stu-id="83515-193">For more information, see [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) and [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md).</span></span>  
  
### <a name="initial-database-development"></a><span data-ttu-id="83515-194">Anfängliche Datenbankentwicklung</span><span class="sxs-lookup"><span data-stu-id="83515-194">Initial Database Development</span></span>  
 <span data-ttu-id="83515-195">Da einem Entwickler möglicherweise nicht bekannt ist, wo eine neue Datenbank bereitgestellt wird, verringern sich durch das Beschränken der Auswirkungen der Bereitstellungsumgebung der Arbeitsaufwand und die Probleme für den Entwickler.</span><span class="sxs-lookup"><span data-stu-id="83515-195">Because a developer may not know where a new database will be deployed, limiting the deployed environmental impacts on the database lessens the work and concern for the developer.</span></span> <span data-ttu-id="83515-196">Im nicht enthaltenen Modell muss der Entwickler beim Programmieren mögliche Umgebungsauswirkungen auf die neue Datenbank berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="83515-196">In the non-contained model, the developer must consider possible environmental impacts on the new database and program accordingly.</span></span> <span data-ttu-id="83515-197">Mit teilweise eigenständigen Datenbanken können Entwickler jedoch Auswirkungen auf Instanzebene auf die Datenbank und Aspekte auf Instanzebene für den Entwickler erkennen.</span><span class="sxs-lookup"><span data-stu-id="83515-197">However, by using partially contained databases, developers can detect instance-level impacts on the database and instance-level concerns for the developer.</span></span>  
  
### <a name="database-administration"></a><span data-ttu-id="83515-198">Datenbankverwaltung</span><span class="sxs-lookup"><span data-stu-id="83515-198">Database Administration</span></span>  
 <span data-ttu-id="83515-199">Durch das Beibehalten der Datenbankeinstellungen in der Datenbank (im Gegensatz zur master-Datenbank) erhält jeder Datenbankbesitzer mehr Kontrolle über seine Datenbank, und zwar ohne die Datenbankbesitzer-Berechtigung **sysadmin** zu erteilen.</span><span class="sxs-lookup"><span data-stu-id="83515-199">Maintaining database settings in the database, instead of in the master database, lets each database owner have more control over their database, without giving the database owner **sysadmin** permission.</span></span>  
  
##  <a name="limitations"></a><a name="Limitations"></a> <span data-ttu-id="83515-200">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="83515-200">Limitations</span></span>  
 <span data-ttu-id="83515-201">Für teilweise eigenständige Datenbanken sind die folgenden Funktionen nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="83515-201">Partially contained databases do not allow the following features.</span></span>  
  
-   <span data-ttu-id="83515-202">Teilweise Enthaltene Datenbanken unterstützen weder die Replikation, noch das Aufzeichnen oder das Nachverfolgen von Änderungsdaten.</span><span class="sxs-lookup"><span data-stu-id="83515-202">Partially contained databases cannot use replication, change data capture, or change tracking.</span></span>  
  
-   <span data-ttu-id="83515-203">Nummerierte Prozeduren</span><span class="sxs-lookup"><span data-stu-id="83515-203">Numbered procedures</span></span>  
  
-   <span data-ttu-id="83515-204">Schemagebundene Objekte, die von integrierten Funktionen mit Sortierungsänderungen abhängen.</span><span class="sxs-lookup"><span data-stu-id="83515-204">Schema-bound objects that depend on built-in functions with collation changes</span></span>  
  
-   <span data-ttu-id="83515-205">Bindungsänderungen, die sich aus Sortierungsänderungen ergeben, einschließlich von Verweisen auf Objekte, Spalten, Symbole oder Typen.</span><span class="sxs-lookup"><span data-stu-id="83515-205">Binding change resulting from collation changes, including references to objects, columns, symbols, or types.</span></span>  
  
-   <span data-ttu-id="83515-206">Replikation, Change Data Capture und Änderungsnachverfolgung</span><span class="sxs-lookup"><span data-stu-id="83515-206">Replication, change data capture, and change tracking.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="83515-207">Temporär gespeicherte Prozeduren sind derzeit zulässig.</span><span class="sxs-lookup"><span data-stu-id="83515-207">Temporary stored procedures are currently permitted.</span></span> <span data-ttu-id="83515-208">Da temporär gespeicherte Prozeduren die Kapselung verletzen, ist nicht davon auszugehen, dass sie in künftigen Versionen der eigenständigen Datenbank unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="83515-208">Because temporary stored procedures breach containment, they are not expected to be supported in future versions of contained database.</span></span>  
  
##  <a name="identifying-database-containment"></a><a name="Identifying"></a> <span data-ttu-id="83515-209">Identifizieren der Datenbankkapselung</span><span class="sxs-lookup"><span data-stu-id="83515-209">Identifying Database Containment</span></span>  
 <span data-ttu-id="83515-210">Es sind zwei Tools verfügbar, mit denen der Einschlussstatus der Datenbank bestimmt werden kann.</span><span class="sxs-lookup"><span data-stu-id="83515-210">There are two tools to help identify the containment status of the database.</span></span> <span data-ttu-id="83515-211">[sys.dm_db_uncontained_entities &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql) ist eine Sicht, in der alle möglicherweise nicht eigenständigen Entitäten in der Datenbank angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="83515-211">The [sys.dm_db_uncontained_entities &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql) is a view that shows all the potentially uncontained entities in the database.</span></span> <span data-ttu-id="83515-212">Das database_uncontained_usage-Ereignis wird ausgelöst, wenn eine tatsächliche nicht enthaltene Entität zur Laufzeit bestimmt wird.</span><span class="sxs-lookup"><span data-stu-id="83515-212">The database_uncontained_usage event occurs when any actual uncontained entity is identified at run time.</span></span>  
  
### <a name="sysdm_db_uncontained_entities"></a><span data-ttu-id="83515-213">sys.dm_db_uncontained_entities</span><span class="sxs-lookup"><span data-stu-id="83515-213">sys.dm_db_uncontained_entities</span></span>  
 <span data-ttu-id="83515-214">In dieser Sicht werden alle Entitäten in der Datenbank angezeigt, bei denen es sich um nicht enthaltene Entitäten handeln könnte, weil sie beispielsweise die Datenbankbegrenzung überschreiten.</span><span class="sxs-lookup"><span data-stu-id="83515-214">This view shows any entities in the database that have the potential to be uncontained, such as those that cross-the database boundary.</span></span> <span data-ttu-id="83515-215">Hierzu zählen die Benutzerentitäten, die Objekte außerhalb des Datenbankmodells verwenden können.</span><span class="sxs-lookup"><span data-stu-id="83515-215">This includes those user entities that may use objects outside the database model.</span></span> <span data-ttu-id="83515-216">Da die Kapselung einiger Entitäten (z. B. der Entitäten mit dynamischem SQL) jedoch erst zur Laufzeit bestimmt werden kann, werden in der Sicht möglicherweise einige Entitäten angezeigt, die eigentlich keine nicht enthaltenen Entitäten sind.</span><span class="sxs-lookup"><span data-stu-id="83515-216">However, because the containment of some entities (for example, those using dynamic SQL) cannot be determined until run time, the view may show some entities that are not actually uncontained.</span></span> <span data-ttu-id="83515-217">Weitere Informationen finden Sie unter [sys.dm_db_uncontained_entities &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="83515-217">For more information, see [sys.dm_db_uncontained_entities &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql).</span></span>  
  
### <a name="database_uncontained_usage-event"></a><span data-ttu-id="83515-218">database_uncontained_usage-Ereignis</span><span class="sxs-lookup"><span data-stu-id="83515-218">database_uncontained_usage event</span></span>  
 <span data-ttu-id="83515-219">Dieses XEvent wird ausgelöst, wenn nicht enthaltene Entität zur Laufzeit bestimmt wird.</span><span class="sxs-lookup"><span data-stu-id="83515-219">This XEvent occurs whenever an uncontained entity is identified at run time.</span></span> <span data-ttu-id="83515-220">Dies schließt in Clientcode ausgelöste Entitäten ein.</span><span class="sxs-lookup"><span data-stu-id="83515-220">This includes entities originated in client code.</span></span> <span data-ttu-id="83515-221">Dieses Xevent wird nur für tatsächliche nicht enthaltene Entitäten ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="83515-221">This XEvent will occur only for actual uncontained entities.</span></span> <span data-ttu-id="83515-222">Das Ereignis wird jedoch nur zur Laufzeit ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="83515-222">However, the event only occurs at run time.</span></span> <span data-ttu-id="83515-223">Daher werden alle nicht enthaltenen Benutzerentitäten, die nicht ausgeführt wurden, von diesem XEvent nicht identifiziert.</span><span class="sxs-lookup"><span data-stu-id="83515-223">Therefore, any uncontained user entities you have not run will not be identified by this XEvent</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="83515-224">Verwandte Inhalte</span><span class="sxs-lookup"><span data-stu-id="83515-224">Related Content</span></span>  
 [<span data-ttu-id="83515-225">Geänderte Funktionen &#40;Enthaltene Datenbank&#41;</span><span class="sxs-lookup"><span data-stu-id="83515-225">Modified Features &#40;Contained Database&#41;</span></span>](modified-features-contained-database.md)  
  
 [<span data-ttu-id="83515-226">Enthaltene Datenbanksortierungen</span><span class="sxs-lookup"><span data-stu-id="83515-226">Contained Database Collations</span></span>](contained-database-collations.md)  
  
 [<span data-ttu-id="83515-227">Bewährte Methoden für die Sicherheit eigenständiger Datenbanken</span><span class="sxs-lookup"><span data-stu-id="83515-227">Security Best Practices with Contained Databases</span></span>](security-best-practices-with-contained-databases.md)  
  
 [<span data-ttu-id="83515-228">Migrieren zu einer partiell eigenständigen Datenbank</span><span class="sxs-lookup"><span data-stu-id="83515-228">Migrate to a Partially Contained Database</span></span>](migrate-to-a-partially-contained-database.md)  
  
  
