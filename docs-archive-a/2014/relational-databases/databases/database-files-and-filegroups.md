---
title: Datenbankdateien und Dateigruppen | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- databases [SQL Server], files
- filegroups [SQL Server]
- transaction logs [SQL Server], about
- transaction logs [SQL Server], files
- .mdf files
- data files [SQL Server]
- default filegroups
- files [SQL Server], about files and filegroups
- secondary files [SQL Server]
- log files [SQL Server]
- .ndf files
- files [SQL Server]
- .ldf files
- database files [SQL Server]
- databases [SQL Server], filegroups
- filegroups [SQL Server], types
- primary filegroups [SQL Server]
- user-defined filegroups [SQL Server]
- filegroups [SQL Server], about filegroups
- primary files [SQL Server]
- file types [SQL Server]
ms.assetid: 9ca11918-480d-4838-9198-cec221ef6ad0
author: stevestein
ms.author: sstein
ms.openlocfilehash: 91e22e536a91878609feedf2977ffa7d78a54d61
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87617115"
---
# <a name="database-files-and-filegroups"></a><span data-ttu-id="14e98-102">Datenbankdateien und Dateigruppen</span><span class="sxs-lookup"><span data-stu-id="14e98-102">Database Files and Filegroups</span></span>
  <span data-ttu-id="14e98-103">Jede [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Datenbank verfügt über mindestens zwei Betriebssystemdateien: eine Datendatei und eine Protokolldatei.</span><span class="sxs-lookup"><span data-stu-id="14e98-103">At a minimum, every [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database has two operating system files: a data file and a log file.</span></span> <span data-ttu-id="14e98-104">Datendateien enthalten Daten und Objekte wie z. B. Tabellen, Indizes, gespeicherte Prozeduren und Sichten.</span><span class="sxs-lookup"><span data-stu-id="14e98-104">Data files contain data and objects such as tables, indexes, stored procedures, and views.</span></span> <span data-ttu-id="14e98-105">Protokolldateien enthalten die Informationen, die zum Wiederherstellen aller Transaktionen in der Datenbank erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="14e98-105">Log files contain the information that is required to recover all transactions in the database.</span></span> <span data-ttu-id="14e98-106">Datendateien können für die Zuordnung und Verwaltung in Dateigruppen zusammengefasst werden.</span><span class="sxs-lookup"><span data-stu-id="14e98-106">Data files can be grouped together in filegroups for allocation and administration purposes.</span></span>  
  
## <a name="database-files"></a><span data-ttu-id="14e98-107">Datenbankdateien</span><span class="sxs-lookup"><span data-stu-id="14e98-107">Database Files</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="14e98-108">-Datenbanken verwenden drei Arten von Dateien, wie in der folgenden Tabelle gezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="14e98-108">databases have three types of files, as shown in the following table.</span></span>  
  
|<span data-ttu-id="14e98-109">Datei</span><span class="sxs-lookup"><span data-stu-id="14e98-109">File</span></span>|<span data-ttu-id="14e98-110">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="14e98-110">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="14e98-111">Primär</span><span class="sxs-lookup"><span data-stu-id="14e98-111">Primary</span></span>|<span data-ttu-id="14e98-112">Die primäre Datendatei enthält die Startinformationen für die Datenbank und verweist auf die anderen Dateien in der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="14e98-112">The primary data file contains the startup information for the database and points to the other files in the database.</span></span> <span data-ttu-id="14e98-113">Benutzerdaten und -objekte können in dieser Datei oder in sekundären Datendateien gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="14e98-113">User data and objects can be stored in this file or in secondary data files.</span></span> <span data-ttu-id="14e98-114">Jede Datenbank verfügt über eine primäre Datendatei.</span><span class="sxs-lookup"><span data-stu-id="14e98-114">Every database has one primary data file.</span></span> <span data-ttu-id="14e98-115">Die empfohlene Dateinamenerweiterung für primäre Datendateien ist MDF.</span><span class="sxs-lookup"><span data-stu-id="14e98-115">The recommended file name extension for primary data files is .mdf.</span></span>|  
|<span data-ttu-id="14e98-116">Secondary</span><span class="sxs-lookup"><span data-stu-id="14e98-116">Secondary</span></span>|<span data-ttu-id="14e98-117">Sekundäre Datendateien sind optional, benutzerdefiniert und speichern Benutzerdaten.</span><span class="sxs-lookup"><span data-stu-id="14e98-117">Secondary data files are optional, are user-defined, and store user data.</span></span> <span data-ttu-id="14e98-118">Sekundäre Dateien können verwendet werden, um Daten auf mehrere Datenträger zu verteilen, indem jede Datei auf einem anderen Datenträger gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="14e98-118">Secondary files can be used to spread data across multiple disks by putting each file on a different disk drive.</span></span> <span data-ttu-id="14e98-119">Wenn eine Datenbank die maximal zulässige Größe für eine einzige Datei überschreitet, haben Sie zudem die Möglichkeit, sekundäre Datendateien zu verwenden, sodass die Datenbank weiter vergrößert werden kann.</span><span class="sxs-lookup"><span data-stu-id="14e98-119">Additionally, if a database exceeds the maximum size for a single Windows file, you can use secondary data files so the database can continue to grow.</span></span><br /><br /> <span data-ttu-id="14e98-120">Die empfohlene Dateinamenerweiterung für sekundäre Datendateien ist NDF.</span><span class="sxs-lookup"><span data-stu-id="14e98-120">The recommended file name extension for secondary data files is .ndf.</span></span>|  
|<span data-ttu-id="14e98-121">Transaktionsprotokoll</span><span class="sxs-lookup"><span data-stu-id="14e98-121">Transaction Log</span></span>|<span data-ttu-id="14e98-122">Die Transaktionsprotokolldateien speichern die Protokollinformationen, die zum Wiederherstellen der Datenbank verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="14e98-122">The transaction log files hold the log information that is used to recover the database.</span></span> <span data-ttu-id="14e98-123">Für jede Datenbank muss mindestens eine Protokolldatei vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="14e98-123">There must be at least one log file for each database.</span></span> <span data-ttu-id="14e98-124">Die empfohlene Dateinamenerweiterung für Transaktionsprotokolle ist LDF.</span><span class="sxs-lookup"><span data-stu-id="14e98-124">The recommended file name extension for transaction logs is .ldf.</span></span>|  
  
 <span data-ttu-id="14e98-125">Sie können z. B. eine einfache Datenbank ( **Sales** ), die eine primäre Datei umfasst, die alle Daten und Objekte enthält, und eine Protokolldatei erstellen, die die Transaktionsprotokollinformationen enthält.</span><span class="sxs-lookup"><span data-stu-id="14e98-125">For example, a simple database named **Sales** can be created that includes one primary file that contains all data and objects and a log file that contains the transaction log information.</span></span> <span data-ttu-id="14e98-126">Es kann auch eine komplexere Datenbank namens **Orders** erstellt werden, die eine primäre Datei und fünf sekundäre Dateien enthält.</span><span class="sxs-lookup"><span data-stu-id="14e98-126">Alternatively, a more complex database named **Orders** can be created that includes one primary file and five secondary files.</span></span> <span data-ttu-id="14e98-127">Die Daten und Objekte in der Datenbank verteilen sich auf alle sechs Dateien, und die vier Protokolldateien enthalten die Transaktionsprotokollinformationen.</span><span class="sxs-lookup"><span data-stu-id="14e98-127">The data and objects within the database spread across all six files, and the four log files contain the transaction log information.</span></span>  
  
 <span data-ttu-id="14e98-128">Standardmäßig werden die Daten und Transaktionsprotokolle auf dem gleichen Laufwerk und im gleichen Pfad gespeichert.</span><span class="sxs-lookup"><span data-stu-id="14e98-128">By default, the data and transaction logs are put on the same drive and path.</span></span> <span data-ttu-id="14e98-129">Dadurch werden auch Systeme mit nur einem Datenträger berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="14e98-129">This is done to handle single-disk systems.</span></span> <span data-ttu-id="14e98-130">Diese Vorgehensweise ist für Produktionsumgebungen jedoch  möglicherweise nicht optimal.</span><span class="sxs-lookup"><span data-stu-id="14e98-130">However, this may not be optimal for production environments.</span></span> <span data-ttu-id="14e98-131">Es wird empfohlen, Daten und Protokolldateien auf verschiedenen Datenträgern zu speichern.</span><span class="sxs-lookup"><span data-stu-id="14e98-131">We recommend that you put data and log files on separate disks.</span></span>  
  
## <a name="filegroups"></a><span data-ttu-id="14e98-132">Dateigruppen</span><span class="sxs-lookup"><span data-stu-id="14e98-132">Filegroups</span></span>  
 <span data-ttu-id="14e98-133">Jede Datenbank besitzt eine primäre Dateigruppe.</span><span class="sxs-lookup"><span data-stu-id="14e98-133">Every database has a primary filegroup.</span></span> <span data-ttu-id="14e98-134">Diese Dateigruppe enthält die primäre Datendatei sowie ggf. alle sekundären Dateien, die nicht in anderen Dateigruppen gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="14e98-134">This filegroup contains the primary data file and any secondary files that are not put into other filegroups.</span></span> <span data-ttu-id="14e98-135">Benutzerdefinierte Dateigruppen können erstellt werden, um Datendateien zum Zweck der Verwaltung, Datenzuordnung und -verteilung zu Gruppen zusammenzufassen.</span><span class="sxs-lookup"><span data-stu-id="14e98-135">User-defined filegroups can be created to group data files together for administrative, data allocation, and placement purposes.</span></span>  
  
 <span data-ttu-id="14e98-136">Es können z. B. drei Dateien (Data1.ndf, Data2.ndf und Data3.ndf) auf drei unterschiedlichen Datenträgern erstellt und der **fgroup1**-Dateigruppe zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="14e98-136">For example, three files, Data1.ndf, Data2.ndf, and Data3.ndf, can be created on three disk drives, respectively, and assigned to the filegroup **fgroup1**.</span></span> <span data-ttu-id="14e98-137">Anschließend kann eine Tabelle speziell für die **fgroup1**-Dateigruppe erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="14e98-137">A table can then be created specifically on the filegroup **fgroup1**.</span></span> <span data-ttu-id="14e98-138">Abfragen nach Daten in der Tabelle werden über alle drei Datenträger verteilt, wodurch die Leistung gesteigert wird.</span><span class="sxs-lookup"><span data-stu-id="14e98-138">Queries for data from the table will be spread across the three disks; this will improve performance.</span></span> <span data-ttu-id="14e98-139">Dieselbe Leistungssteigerung kann auch durch die Verwendung einer einzigen Datei erzielt werden, wenn diese auf einem RAID-Stripeset (Redundant Array of Independent Disks; redundantes Datenträgerarray) erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="14e98-139">The same performance improvement can be accomplished by using a single file created on a RAID (redundant array of independent disks) stripe set.</span></span> <span data-ttu-id="14e98-140">Dateien und Dateigruppen ermöglichen Ihnen jedoch das problemlose Hinzufügen neuer Dateien zu neuen Datenträgern.</span><span class="sxs-lookup"><span data-stu-id="14e98-140">However, files and filegroups let you easily add new files to new disks.</span></span>  
  
 <span data-ttu-id="14e98-141">Alle Datendateien werden in den Dateigruppen gespeichert, die in der folgenden Tabelle aufgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="14e98-141">All data files are stored in the filegroups listed in the following table.</span></span>  
  
|<span data-ttu-id="14e98-142">Dateigruppe</span><span class="sxs-lookup"><span data-stu-id="14e98-142">Filegroup</span></span>|<span data-ttu-id="14e98-143">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="14e98-143">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="14e98-144">Primär</span><span class="sxs-lookup"><span data-stu-id="14e98-144">Primary</span></span>|<span data-ttu-id="14e98-145">Die Dateigruppe, die die primäre Datei enthält.</span><span class="sxs-lookup"><span data-stu-id="14e98-145">The filegroup that contains the primary file.</span></span> <span data-ttu-id="14e98-146">Alle Systemtabellen werden der primären Dateigruppe zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="14e98-146">All system tables are allocated to the primary filegroup.</span></span>|  
|<span data-ttu-id="14e98-147">Benutzerdefiniert</span><span class="sxs-lookup"><span data-stu-id="14e98-147">User-defined</span></span>|<span data-ttu-id="14e98-148">Jede Dateigruppe, die eigens durch den Benutzer erstellt wird, wenn dieser die Datenbank erstmals erstellt oder zu einem späteren Zeitpunkt ändert.</span><span class="sxs-lookup"><span data-stu-id="14e98-148">Any filegroup that is specifically created by the user when the user first creates or later modifies the database.</span></span>|  
  
### <a name="default-filegroup"></a><span data-ttu-id="14e98-149">Standarddateigruppe</span><span class="sxs-lookup"><span data-stu-id="14e98-149">Default Filegroup</span></span>  
 <span data-ttu-id="14e98-150">Wenn Objekte in der Datenbank ohne Angabe einer Dateigruppe erstellt werden, werden sie der Standarddateigruppe zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="14e98-150">When objects are created in the database without specifying which filegroup they belong to, they are assigned to the default filegroup.</span></span> <span data-ttu-id="14e98-151">Zu jedem Zeitpunkt wird genau eine Dateigruppe zur Standarddateigruppe erklärt.</span><span class="sxs-lookup"><span data-stu-id="14e98-151">At any time, exactly one filegroup is designated as the default filegroup.</span></span> <span data-ttu-id="14e98-152">Die Dateien in der Standarddateigruppe müssen groß genug sein, um alle neuen Objekte aufnehmen zu können, die nicht anderen Dateigruppen zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="14e98-152">The files in the default filegroup must be large enough to hold any new objects not allocated to other filegroups.</span></span>  
  
 <span data-ttu-id="14e98-153">Die PRIMARY-Dateigruppe stellt die Standarddateigruppe dar, sofern diese nicht mithilfe der ALTER DATABASE-Anweisung geändert wird.</span><span class="sxs-lookup"><span data-stu-id="14e98-153">The PRIMARY filegroup is the default filegroup unless it is changed by using the ALTER DATABASE statement.</span></span> <span data-ttu-id="14e98-154">Systemobjekte und -tabellen sind weiterhin der Dateigruppe PRIMARY (primäre Dateigruppe) und nicht der neuen Standarddateigruppe zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="14e98-154">Allocation for the system objects and tables remains within the PRIMARY filegroup, not the new default filegroup.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="14e98-155">Verwandte Inhalte</span><span class="sxs-lookup"><span data-stu-id="14e98-155">Related Content</span></span>  
 [<span data-ttu-id="14e98-156">CREATE DATABASE &#40;SQL Server Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="14e98-156">CREATE DATABASE &#40;SQL Server Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-database-sql-server-transact-sql)  
  
 [<span data-ttu-id="14e98-157">ALTER DATABASE-Optionen Datei und Dateigruppe &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="14e98-157">ALTER DATABASE File and Filegroup Options &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-database-transact-sql-file-and-filegroup-options)  
  
 [<span data-ttu-id="14e98-158">Anfügen und Trennen von Datenbanken &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="14e98-158">Database Detach and Attach &#40;SQL Server&#41;</span></span>](database-detach-and-attach-sql-server.md)  
  
  
