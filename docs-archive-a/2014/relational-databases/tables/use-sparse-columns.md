---
title: Verwenden von Spalten mit geringer Dichte | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: table-view-index
ms.topic: conceptual
helpviewer_keywords:
- sparse columns, described
- null columns
- sparse columns
ms.assetid: ea7ddb87-f50b-46b6-9f5a-acab222a2ede
author: stevestein
ms.author: sstein
ms.openlocfilehash: b3068ac7a3094605bb809ac84c63766b64fda486
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87617863"
---
# <a name="use-sparse-columns"></a><span data-ttu-id="33b05-102">Verwenden von Spalten mit geringer Dichte</span><span class="sxs-lookup"><span data-stu-id="33b05-102">Use Sparse Columns</span></span>
  <span data-ttu-id="33b05-103">Spalten mit geringer Dichte sind gewöhnliche Spalten, die einen optimierten Speicher für NULL-Werte haben.</span><span class="sxs-lookup"><span data-stu-id="33b05-103">Sparse columns are ordinary columns that have an optimized storage for null values.</span></span> <span data-ttu-id="33b05-104">Spalten mit geringer Dichte reduzieren die Speicherplatzanforderungen von NULL-Werten auf Kosten eines erhöhten Aufwands, um Werte ungleich NULL abzurufen.</span><span class="sxs-lookup"><span data-stu-id="33b05-104">Sparse columns reduce the space requirements for null values at the cost of more overhead to retrieve nonnull values.</span></span> <span data-ttu-id="33b05-105">Verwenden Sie Sparsespalten, wenn dadurch mindestens 20 Prozent bis 40 Prozent Speicherplatz eingespart werden.</span><span class="sxs-lookup"><span data-stu-id="33b05-105">Consider using sparse columns when the space saved is at least 20 percent to 40 percent.</span></span> <span data-ttu-id="33b05-106">Spalten mit geringer Dichte und Spaltensätze werden mit der [CREATE TABLE](/sql/t-sql/statements/create-table-transact-sql) -Anweisung oder der [ALTER TABLE](/sql/t-sql/statements/alter-table-transact-sql) -Anweisung definiert.</span><span class="sxs-lookup"><span data-stu-id="33b05-106">Sparse columns and column sets are defined by using the [CREATE TABLE](/sql/t-sql/statements/create-table-transact-sql) or [ALTER TABLE](/sql/t-sql/statements/alter-table-transact-sql) statements.</span></span>  
  
 <span data-ttu-id="33b05-107">Spalten mit geringer Dichte können mit Spaltensätzen und gefilterten Indizes verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="33b05-107">Sparse columns can be used with column sets and filtered indexes:</span></span>  
  
-   <span data-ttu-id="33b05-108">Spaltensätze</span><span class="sxs-lookup"><span data-stu-id="33b05-108">Column sets</span></span>  
  
     <span data-ttu-id="33b05-109">Die Anweisungen INSERT, UPDATE und DELETE können anhand des Namens auf die Sparsespalten verweisen.</span><span class="sxs-lookup"><span data-stu-id="33b05-109">INSERT, UPDATE, and DELETE statements can reference the sparse columns by name.</span></span> <span data-ttu-id="33b05-110">Sie können jedoch auch alle Sparsespalten in einer Tabelle anzeigen und mit ihnen arbeiten, wenn sie zu einer einzelnen XML-Spalte zusammengeschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="33b05-110">However, you can also view and work with all the sparse columns of a table that are combined into a single XML column.</span></span> <span data-ttu-id="33b05-111">Diese Spalte wird als Spaltensatz bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="33b05-111">This column is called a column set.</span></span> <span data-ttu-id="33b05-112">Weitere Informationen zu Spaltensätzen finden Sie unter [Verwenden von Spaltensätzen](../tables/use-column-sets.md).</span><span class="sxs-lookup"><span data-stu-id="33b05-112">For more information about column sets, see [Use Column Sets](../tables/use-column-sets.md).</span></span>  
  
-   <span data-ttu-id="33b05-113">Gefilterte Indizes</span><span class="sxs-lookup"><span data-stu-id="33b05-113">Filtered indexes</span></span>  
  
     <span data-ttu-id="33b05-114">Da Sparsespalten viele Zeilen mit NULL-Werten haben, sind sie besonders für gefilterte Indizes geeignet.</span><span class="sxs-lookup"><span data-stu-id="33b05-114">Because sparse columns have many null-valued rows, they are especially appropriate for filtered indexes.</span></span> <span data-ttu-id="33b05-115">Ein gefilterter Index für eine Sparsespalte kann nur die Zeilen indizieren, die Werte enthalten.</span><span class="sxs-lookup"><span data-stu-id="33b05-115">A filtered index on a sparse column can index only the rows that have populated values.</span></span> <span data-ttu-id="33b05-116">Dadurch wird ein kleinerer und effizienterer Index erstellt.</span><span class="sxs-lookup"><span data-stu-id="33b05-116">This creates a smaller and more efficient index.</span></span> <span data-ttu-id="33b05-117">Weitere Informationen finden Sie unter [erstellen gefilterter Indizes](../indexes/indexes.md).</span><span class="sxs-lookup"><span data-stu-id="33b05-117">For more information, see [Create Filtered Indexes](../indexes/indexes.md).</span></span>  
  
 <span data-ttu-id="33b05-118">Mithilfe von Spalten mit geringer Dichte und von gefilterten Indizes können Anwendungen wie [!INCLUDE[winSPServ](../../includes/winspserv-md.md)]große Mengen an benutzerdefinierten Eigenschaften mit [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]speichern und darauf zugreifen.</span><span class="sxs-lookup"><span data-stu-id="33b05-118">Sparse columns and filtered indexes enable applications, such as [!INCLUDE[winSPServ](../../includes/winspserv-md.md)], to efficiently store and access a large number of user-defined properties by using [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
## <a name="properties-of-sparse-columns"></a><span data-ttu-id="33b05-119">Eigenschaften von Spalten mit geringer Dichte</span><span class="sxs-lookup"><span data-stu-id="33b05-119">Properties of Sparse Columns</span></span>  
 <span data-ttu-id="33b05-120">Spalten mit geringer Dichte haben die folgenden Eigenschaften:</span><span class="sxs-lookup"><span data-stu-id="33b05-120">Sparse columns have the following characteristics:</span></span>  
  
-   <span data-ttu-id="33b05-121">[!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] verwendet das Schlüsselwort SPARSE in einer Spaltendefinition, um die Speicherung von Werten in dieser Spalte zu optimieren.</span><span class="sxs-lookup"><span data-stu-id="33b05-121">The [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] uses the SPARSE keyword in a column definition to optimize the storage of values in that column.</span></span> <span data-ttu-id="33b05-122">Wenn der Spaltenwert in einer Zeile der Tabelle NULL ist, belegen die Werte keinen Speicherplatz.</span><span class="sxs-lookup"><span data-stu-id="33b05-122">Therefore, when the column value is NULL for any row in the table, the values require no storage.</span></span>  
  
-   <span data-ttu-id="33b05-123">Katalogsichten für eine Tabelle, die Sparsespalten aufweist, entsprechen denen einer typischen Tabelle.</span><span class="sxs-lookup"><span data-stu-id="33b05-123">Catalog views for a table that has sparse columns are the same as for a typical table.</span></span> <span data-ttu-id="33b05-124">Diese sys.columns-Katalogsicht enthält eine Zeile für jede Spalte in der Tabelle und einen Spaltensatz, wenn einer definiert wurde.</span><span class="sxs-lookup"><span data-stu-id="33b05-124">The sys.columns catalog view contains a row for each column in the table and includes a column set if one is defined.</span></span>  
  
-   <span data-ttu-id="33b05-125">Spalten mit geringer Dichte sind eine Eigenschaft der Speicherebene und keine Eigenschaft der logischen Tabelle.</span><span class="sxs-lookup"><span data-stu-id="33b05-125">Sparse columns are a property of the storage layer, rather than the logical table.</span></span> <span data-ttu-id="33b05-126">Daher wird eine SELECT...INTO-Anweisung nicht über die Eigenschaft der Sparsespalte in eine neue Tabelle kopiert.</span><span class="sxs-lookup"><span data-stu-id="33b05-126">Therefore a SELECT...INTO statement does not copy over the sparse column property into a new table.</span></span>  
  
-   <span data-ttu-id="33b05-127">Die COLUMNS_UPDATED-Funktion gibt einen `varbinary`-Wert zurück, mit dem alle Spalten, die während einer DML-Aktion aktualisiert wurden, gekennzeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="33b05-127">The COLUMNS_UPDATED function returns a `varbinary` value to indicate all the columns that were updated during a DML action.</span></span> <span data-ttu-id="33b05-128">Die Bits, die von der COLUMNS_UPDATED-Funktion zurückgegeben werden, lauten folgendermaßen:</span><span class="sxs-lookup"><span data-stu-id="33b05-128">The bits that are returned by the COLUMNS_UPDATED function are as follows:</span></span>  
  
    -   <span data-ttu-id="33b05-129">Wenn eine Sparsespalte explizit aktualisiert wird, wird das entsprechende Bit für diese Sparsespalte auf 1 festgelegt, und das Bit für den Spaltensatz wird auf 1 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="33b05-129">When a sparse column is explicitly updated, the corresponding bit for that sparse column is set to 1, and the bit for the column set is set to 1.</span></span>  
  
    -   <span data-ttu-id="33b05-130">Wenn ein Spaltensatz explizit aktualisiert wird, wird das Bit für den Spaltensatz auf 1 festgelegt, und die Bits für alle Sparsespalten in dieser Tabelle werden auf 1 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="33b05-130">When a column set is explicitly updated, the bit for the column set is set to 1, and the bits for all the sparse columns in that table are set to 1.</span></span>  
  
    -   <span data-ttu-id="33b05-131">Für Einfügevorgänge werden alle Bits auf 1 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="33b05-131">For insert operations, all bits are set to 1.</span></span>  
  
     <span data-ttu-id="33b05-132">Weitere Informationen zu Spaltensätzen finden Sie unter [Verwenden von Spaltensätzen](../tables/use-column-sets.md).</span><span class="sxs-lookup"><span data-stu-id="33b05-132">For more information about columns sets, see [Use Column Sets](../tables/use-column-sets.md).</span></span>  
  
 <span data-ttu-id="33b05-133">Die folgenden Datentypen können nicht als SPARSE festgelegt werden:</span><span class="sxs-lookup"><span data-stu-id="33b05-133">The following data types cannot be specified as SPARSE:</span></span>  
  
|||  
|-|-|  
|`geography`|`text`|  
|`geometry`|`timestamp`|  
|`image`|`user-defined data types`|  
|`ntext`||  
  
## <a name="estimated-space-savings-by-data-type"></a><span data-ttu-id="33b05-134">Geschätzte Speicherplatzeinsparungen nach Datentyp</span><span class="sxs-lookup"><span data-stu-id="33b05-134">Estimated Space Savings by Data Type</span></span>  
 <span data-ttu-id="33b05-135">Spalten mit geringer Dichte benötigen mehr Speicherplatz für Werte, die ungleich NULL sind, als für identische Daten benötigt wird, die nicht als SPARSE gekennzeichnet wurden.</span><span class="sxs-lookup"><span data-stu-id="33b05-135">Sparse columns require more storage space for nonnull values than the space required for identical data that is not marked SPARSE.</span></span> <span data-ttu-id="33b05-136">Die folgenden Tabellen geben die Speicherplatznutzung für jeden Datentyp an.</span><span class="sxs-lookup"><span data-stu-id="33b05-136">The following tables show the space usage for each data type.</span></span> <span data-ttu-id="33b05-137">Die Spalte **NULL-Prozentwert** gibt an, wie viel Prozent der Daten NULL sein müssen, um Speicherplatzeinsparungen von 40 Prozent zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="33b05-137">The **NULL Percentage** column indicates what percent of the data must be NULL for a net space savings of 40 percent.</span></span>  
  
 <span data-ttu-id="33b05-138">**Datentypen fester Länge**</span><span class="sxs-lookup"><span data-stu-id="33b05-138">**Fixed-Length Data Types**</span></span>  
  
|<span data-ttu-id="33b05-139">Datentyp</span><span class="sxs-lookup"><span data-stu-id="33b05-139">Data type</span></span>|<span data-ttu-id="33b05-140">Bytes ohne geringe Dichte</span><span class="sxs-lookup"><span data-stu-id="33b05-140">Nonsparse bytes</span></span>|<span data-ttu-id="33b05-141">Bytes mit geringer Dichte</span><span class="sxs-lookup"><span data-stu-id="33b05-141">Sparse bytes</span></span>|<span data-ttu-id="33b05-142">NULL-Prozentwert</span><span class="sxs-lookup"><span data-stu-id="33b05-142">NULL percentage</span></span>|  
|---------------|---------------------|------------------|---------------------|  
|`bit`|<span data-ttu-id="33b05-143">0,125</span><span class="sxs-lookup"><span data-stu-id="33b05-143">0.125</span></span>|<span data-ttu-id="33b05-144">5</span><span class="sxs-lookup"><span data-stu-id="33b05-144">5</span></span>|<span data-ttu-id="33b05-145">98%</span><span class="sxs-lookup"><span data-stu-id="33b05-145">98%</span></span>|  
|`tinyint`|<span data-ttu-id="33b05-146">1</span><span class="sxs-lookup"><span data-stu-id="33b05-146">1</span></span>|<span data-ttu-id="33b05-147">5</span><span class="sxs-lookup"><span data-stu-id="33b05-147">5</span></span>|<span data-ttu-id="33b05-148">86%</span><span class="sxs-lookup"><span data-stu-id="33b05-148">86%</span></span>|  
|`smallint`|<span data-ttu-id="33b05-149">2</span><span class="sxs-lookup"><span data-stu-id="33b05-149">2</span></span>|<span data-ttu-id="33b05-150">6</span><span class="sxs-lookup"><span data-stu-id="33b05-150">6</span></span>|<span data-ttu-id="33b05-151">76 %</span><span class="sxs-lookup"><span data-stu-id="33b05-151">76%</span></span>|  
|`int`|<span data-ttu-id="33b05-152">4</span><span class="sxs-lookup"><span data-stu-id="33b05-152">4</span></span>|<span data-ttu-id="33b05-153">8</span><span class="sxs-lookup"><span data-stu-id="33b05-153">8</span></span>|<span data-ttu-id="33b05-154">64%</span><span class="sxs-lookup"><span data-stu-id="33b05-154">64%</span></span>|  
|`bigint`|<span data-ttu-id="33b05-155">8</span><span class="sxs-lookup"><span data-stu-id="33b05-155">8</span></span>|<span data-ttu-id="33b05-156">12</span><span class="sxs-lookup"><span data-stu-id="33b05-156">12</span></span>|<span data-ttu-id="33b05-157">52 %</span><span class="sxs-lookup"><span data-stu-id="33b05-157">52%</span></span>|  
|`real`|<span data-ttu-id="33b05-158">4</span><span class="sxs-lookup"><span data-stu-id="33b05-158">4</span></span>|<span data-ttu-id="33b05-159">8</span><span class="sxs-lookup"><span data-stu-id="33b05-159">8</span></span>|<span data-ttu-id="33b05-160">64%</span><span class="sxs-lookup"><span data-stu-id="33b05-160">64%</span></span>|  
|`float`|<span data-ttu-id="33b05-161">8</span><span class="sxs-lookup"><span data-stu-id="33b05-161">8</span></span>|<span data-ttu-id="33b05-162">12</span><span class="sxs-lookup"><span data-stu-id="33b05-162">12</span></span>|<span data-ttu-id="33b05-163">52 %</span><span class="sxs-lookup"><span data-stu-id="33b05-163">52%</span></span>|  
|`smallmoney`|<span data-ttu-id="33b05-164">4</span><span class="sxs-lookup"><span data-stu-id="33b05-164">4</span></span>|<span data-ttu-id="33b05-165">8</span><span class="sxs-lookup"><span data-stu-id="33b05-165">8</span></span>|<span data-ttu-id="33b05-166">64%</span><span class="sxs-lookup"><span data-stu-id="33b05-166">64%</span></span>|  
|`money`|<span data-ttu-id="33b05-167">8</span><span class="sxs-lookup"><span data-stu-id="33b05-167">8</span></span>|<span data-ttu-id="33b05-168">12</span><span class="sxs-lookup"><span data-stu-id="33b05-168">12</span></span>|<span data-ttu-id="33b05-169">52 %</span><span class="sxs-lookup"><span data-stu-id="33b05-169">52%</span></span>|  
|`smalldatetime`|<span data-ttu-id="33b05-170">4</span><span class="sxs-lookup"><span data-stu-id="33b05-170">4</span></span>|<span data-ttu-id="33b05-171">8</span><span class="sxs-lookup"><span data-stu-id="33b05-171">8</span></span>|<span data-ttu-id="33b05-172">64%</span><span class="sxs-lookup"><span data-stu-id="33b05-172">64%</span></span>|  
|`datetime`|<span data-ttu-id="33b05-173">8</span><span class="sxs-lookup"><span data-stu-id="33b05-173">8</span></span>|<span data-ttu-id="33b05-174">12</span><span class="sxs-lookup"><span data-stu-id="33b05-174">12</span></span>|<span data-ttu-id="33b05-175">52 %</span><span class="sxs-lookup"><span data-stu-id="33b05-175">52%</span></span>|  
|`uniqueidentifier`|<span data-ttu-id="33b05-176">16</span><span class="sxs-lookup"><span data-stu-id="33b05-176">16</span></span>|<span data-ttu-id="33b05-177">20</span><span class="sxs-lookup"><span data-stu-id="33b05-177">20</span></span>|<span data-ttu-id="33b05-178">43%</span><span class="sxs-lookup"><span data-stu-id="33b05-178">43%</span></span>|  
|`date`|<span data-ttu-id="33b05-179">3</span><span class="sxs-lookup"><span data-stu-id="33b05-179">3</span></span>|<span data-ttu-id="33b05-180">7</span><span class="sxs-lookup"><span data-stu-id="33b05-180">7</span></span>|<span data-ttu-id="33b05-181">69%</span><span class="sxs-lookup"><span data-stu-id="33b05-181">69%</span></span>|  
  
 <span data-ttu-id="33b05-182">**Datentypen mit Genauigkeits abhängiger Länge**</span><span class="sxs-lookup"><span data-stu-id="33b05-182">**Precision-Dependent-Length Data Types**</span></span>  
  
|<span data-ttu-id="33b05-183">Datentyp</span><span class="sxs-lookup"><span data-stu-id="33b05-183">Data type</span></span>|<span data-ttu-id="33b05-184">Bytes ohne geringe Dichte</span><span class="sxs-lookup"><span data-stu-id="33b05-184">Nonsparse bytes</span></span>|<span data-ttu-id="33b05-185">Bytes mit geringer Dichte</span><span class="sxs-lookup"><span data-stu-id="33b05-185">Sparse bytes</span></span>|<span data-ttu-id="33b05-186">NULL-Prozentwert</span><span class="sxs-lookup"><span data-stu-id="33b05-186">NULL percentage</span></span>|  
|---------------|---------------------|------------------|---------------------|  
|`datetime2(0)`|<span data-ttu-id="33b05-187">6</span><span class="sxs-lookup"><span data-stu-id="33b05-187">6</span></span>|<span data-ttu-id="33b05-188">10</span><span class="sxs-lookup"><span data-stu-id="33b05-188">10</span></span>|<span data-ttu-id="33b05-189">57%</span><span class="sxs-lookup"><span data-stu-id="33b05-189">57%</span></span>|  
|`datetime2(7)`|<span data-ttu-id="33b05-190">8</span><span class="sxs-lookup"><span data-stu-id="33b05-190">8</span></span>|<span data-ttu-id="33b05-191">12</span><span class="sxs-lookup"><span data-stu-id="33b05-191">12</span></span>|<span data-ttu-id="33b05-192">52 %</span><span class="sxs-lookup"><span data-stu-id="33b05-192">52%</span></span>|  
|`time(0)`|<span data-ttu-id="33b05-193">3</span><span class="sxs-lookup"><span data-stu-id="33b05-193">3</span></span>|<span data-ttu-id="33b05-194">7</span><span class="sxs-lookup"><span data-stu-id="33b05-194">7</span></span>|<span data-ttu-id="33b05-195">69%</span><span class="sxs-lookup"><span data-stu-id="33b05-195">69%</span></span>|  
|`time(7)`|<span data-ttu-id="33b05-196">5</span><span class="sxs-lookup"><span data-stu-id="33b05-196">5</span></span>|<span data-ttu-id="33b05-197">9</span><span class="sxs-lookup"><span data-stu-id="33b05-197">9</span></span>|<span data-ttu-id="33b05-198">60 %</span><span class="sxs-lookup"><span data-stu-id="33b05-198">60%</span></span>|  
|`datetimetoffset(0)`|<span data-ttu-id="33b05-199">8</span><span class="sxs-lookup"><span data-stu-id="33b05-199">8</span></span>|<span data-ttu-id="33b05-200">12</span><span class="sxs-lookup"><span data-stu-id="33b05-200">12</span></span>|<span data-ttu-id="33b05-201">52 %</span><span class="sxs-lookup"><span data-stu-id="33b05-201">52%</span></span>|  
|`datetimetoffset (7)`|<span data-ttu-id="33b05-202">10</span><span class="sxs-lookup"><span data-stu-id="33b05-202">10</span></span>|<span data-ttu-id="33b05-203">14</span><span class="sxs-lookup"><span data-stu-id="33b05-203">14</span></span>|<span data-ttu-id="33b05-204">49%</span><span class="sxs-lookup"><span data-stu-id="33b05-204">49%</span></span>|  
|`decimal/numeric(1,s)`|<span data-ttu-id="33b05-205">5</span><span class="sxs-lookup"><span data-stu-id="33b05-205">5</span></span>|<span data-ttu-id="33b05-206">9</span><span class="sxs-lookup"><span data-stu-id="33b05-206">9</span></span>|<span data-ttu-id="33b05-207">60 %</span><span class="sxs-lookup"><span data-stu-id="33b05-207">60%</span></span>|  
|`decimal/numeric(38,s)`|<span data-ttu-id="33b05-208">17</span><span class="sxs-lookup"><span data-stu-id="33b05-208">17</span></span>|<span data-ttu-id="33b05-209">21</span><span class="sxs-lookup"><span data-stu-id="33b05-209">21</span></span>|<span data-ttu-id="33b05-210">42%</span><span class="sxs-lookup"><span data-stu-id="33b05-210">42%</span></span>|  
|`vardecimal(p,s)`|<span data-ttu-id="33b05-211">Verwenden Sie den `decimal`-Typ als konservative Schätzung.</span><span class="sxs-lookup"><span data-stu-id="33b05-211">Use the `decimal` type as a conservative estimate.</span></span>|||  
  
 <span data-ttu-id="33b05-212">**Datentypen mit Daten abhängiger Länge**</span><span class="sxs-lookup"><span data-stu-id="33b05-212">**Data-Dependent-Length Data Types**</span></span>  
  
|<span data-ttu-id="33b05-213">Datentyp</span><span class="sxs-lookup"><span data-stu-id="33b05-213">Data type</span></span>|<span data-ttu-id="33b05-214">Bytes ohne geringe Dichte</span><span class="sxs-lookup"><span data-stu-id="33b05-214">Nonsparse bytes</span></span>|<span data-ttu-id="33b05-215">Bytes mit geringer Dichte</span><span class="sxs-lookup"><span data-stu-id="33b05-215">Sparse bytes</span></span>|<span data-ttu-id="33b05-216">NULL-Prozentwert</span><span class="sxs-lookup"><span data-stu-id="33b05-216">NULL percentage</span></span>|  
|---------------|---------------------|------------------|---------------------|  
|`sql_variant`|<span data-ttu-id="33b05-217">Ändert sich mit dem zugrunde liegenden Datentyp</span><span class="sxs-lookup"><span data-stu-id="33b05-217">Varies with the underlying data type</span></span>|||  
|<span data-ttu-id="33b05-218">`varchar` oder `char`</span><span class="sxs-lookup"><span data-stu-id="33b05-218">`varchar` or `char`</span></span>|<span data-ttu-id="33b05-219">2\*</span><span class="sxs-lookup"><span data-stu-id="33b05-219">2\*</span></span>|<span data-ttu-id="33b05-220">4\*</span><span class="sxs-lookup"><span data-stu-id="33b05-220">4\*</span></span>|<span data-ttu-id="33b05-221">60 %</span><span class="sxs-lookup"><span data-stu-id="33b05-221">60%</span></span>|  
|<span data-ttu-id="33b05-222">`nvarchar` oder `nchar`</span><span class="sxs-lookup"><span data-stu-id="33b05-222">`nvarchar` or `nchar`</span></span>|<span data-ttu-id="33b05-223">2\*</span><span class="sxs-lookup"><span data-stu-id="33b05-223">2\*</span></span>|<span data-ttu-id="33b05-224">4\*+</span><span class="sxs-lookup"><span data-stu-id="33b05-224">4\*+</span></span>|<span data-ttu-id="33b05-225">60 %</span><span class="sxs-lookup"><span data-stu-id="33b05-225">60%</span></span>|  
|<span data-ttu-id="33b05-226">`varbinary` oder `binary`</span><span class="sxs-lookup"><span data-stu-id="33b05-226">`varbinary` or `binary`</span></span>|<span data-ttu-id="33b05-227">2\*</span><span class="sxs-lookup"><span data-stu-id="33b05-227">2\*</span></span>|<span data-ttu-id="33b05-228">4\*</span><span class="sxs-lookup"><span data-stu-id="33b05-228">4\*</span></span>|<span data-ttu-id="33b05-229">60 %</span><span class="sxs-lookup"><span data-stu-id="33b05-229">60%</span></span>|  
|`xml`|<span data-ttu-id="33b05-230">2\*</span><span class="sxs-lookup"><span data-stu-id="33b05-230">2\*</span></span>|<span data-ttu-id="33b05-231">4\*</span><span class="sxs-lookup"><span data-stu-id="33b05-231">4\*</span></span>|<span data-ttu-id="33b05-232">60 %</span><span class="sxs-lookup"><span data-stu-id="33b05-232">60%</span></span>|  
|`hierarchyid`|<span data-ttu-id="33b05-233">2\*</span><span class="sxs-lookup"><span data-stu-id="33b05-233">2\*</span></span>|<span data-ttu-id="33b05-234">4\*</span><span class="sxs-lookup"><span data-stu-id="33b05-234">4\*</span></span>|<span data-ttu-id="33b05-235">60 %</span><span class="sxs-lookup"><span data-stu-id="33b05-235">60%</span></span>|  
  
 <span data-ttu-id="33b05-236">\*Die Länge ist gleich dem Mittelwert der im Typ enthaltenen Daten, plus 2 oder 4 Bytes.</span><span class="sxs-lookup"><span data-stu-id="33b05-236">\*The length is equal to the average of the data that is contained in the type, plus 2 or 4 bytes.</span></span>  
  
## <a name="in-memory-overhead-required-for-updates-to-sparse-columns"></a><span data-ttu-id="33b05-237">Mehr Verarbeitungsaufwand im Arbeitsspeicher bei Aktualisierung von Spalten mit geringer Dichte</span><span class="sxs-lookup"><span data-stu-id="33b05-237">In-Memory Overhead Required for Updates to Sparse Columns</span></span>  
 <span data-ttu-id="33b05-238">Beachten Sie beim Entwerfen von Tabellen mit Sparsespalten, dass beim Aktualisieren von Zeilen für jede Sparsespalte in der Tabelle, die nicht NULL ist, 2 zusätzliche Bytes Verarbeitungsaufwand entstehen.</span><span class="sxs-lookup"><span data-stu-id="33b05-238">When designing tables with sparse columns, keep in mind that an additional 2 bytes of overhead are required for each non-null sparse column in the table when a row is being updated.</span></span> <span data-ttu-id="33b05-239">Aufgrund dieses zusätzlichen Speicherbedarfs kann bei Aktualisierungen Fehler 576 auftreten, wenn die Gesamtzeilengröße, einschließlich dieser Vergrößerung im Arbeitsspeicher, 8019 überschreitet und keine Spalten aus der Zeile geschoben werden können.</span><span class="sxs-lookup"><span data-stu-id="33b05-239">As a result of this additional memory requirement, updates can fail unexpectedly with error 576 when the total row size, including this memory overhead, exceeds 8019, and no columns can be pushed off the row.</span></span>  
  
 <span data-ttu-id="33b05-240">Angenommen, eine Tabelle enthält 600 Sparsespalten des Typs bigint.</span><span class="sxs-lookup"><span data-stu-id="33b05-240">Consider the example of a table that has 600 sparse columns of type bigint.</span></span> <span data-ttu-id="33b05-241">Wenn davon 571 Spalten nicht NULL sind, beträgt die Gesamtgröße auf dem Datenträger 571 \* 12 = 6852 Bytes.</span><span class="sxs-lookup"><span data-stu-id="33b05-241">If there are 571 non-null columns, then the total size on disk is 571 \* 12 = 6852 bytes.</span></span> <span data-ttu-id="33b05-242">Nachdem die zusätzliche Zeilengröße und der Header für Sparsespalten hinzugefügt wurden, erhöht sich dies auf etwa 6895 Bytes.</span><span class="sxs-lookup"><span data-stu-id="33b05-242">After including additional row overhead and the sparse column header, this increases to around 6895 bytes.</span></span> <span data-ttu-id="33b05-243">Für die Seite sind immer noch etwa 1124 Bytes auf dem Datenträger verfügbar.</span><span class="sxs-lookup"><span data-stu-id="33b05-243">The page still has around 1124 bytes available on disk.</span></span> <span data-ttu-id="33b05-244">Dadurch kann der Eindruck entstehen, dass zusätzliche Spalten erfolgreich aktualisiert werden können.</span><span class="sxs-lookup"><span data-stu-id="33b05-244">This can give the impression that additional columns can be updated successfully.</span></span> <span data-ttu-id="33b05-245">Während der Aktualisierung entsteht im Arbeitsspeicher ein zusätzlicher Verarbeitungsaufwand von 2\*(Anzahl der Sparsespalten, die nicht NULL sind).</span><span class="sxs-lookup"><span data-stu-id="33b05-245">However, during the update, there is additional overhead in memory which is 2\*(number of non-null sparse columns).</span></span> <span data-ttu-id="33b05-246">In diesem Beispiel erhöht der zusätzliche Verarbeitungsaufwand (2 \* 571 = 1.142 Bytes) die Zeilengröße auf dem Datenträger auf etwa 8.037 Bytes.</span><span class="sxs-lookup"><span data-stu-id="33b05-246">In this example, including the additional overhead - 2 \* 571 = 1142 bytes - increases the row size on disk to around 8037 bytes.</span></span> <span data-ttu-id="33b05-247">Diese Größe überschreitet die maximal zulässige Größe von 8019 Bytes.</span><span class="sxs-lookup"><span data-stu-id="33b05-247">This size exceeds the maximum allowed size of 8019 bytes.</span></span> <span data-ttu-id="33b05-248">Da alle Spalten Datentypen fester Länge aufweisen, können sie nicht von der Zeile geschoben werden.</span><span class="sxs-lookup"><span data-stu-id="33b05-248">Since all the columns are fixed-length data types, they cannot be pushed off the row.</span></span> <span data-ttu-id="33b05-249">Als Ergebnis tritt beim Aktualisieren der Fehler 576 auf.</span><span class="sxs-lookup"><span data-stu-id="33b05-249">As a result, the update fails with the 576 error.</span></span>  
  
## <a name="restrictions-for-using-sparse-columns"></a><span data-ttu-id="33b05-250">Einschränkungen für die Verwendung von Spalten mit geringer Dichte</span><span class="sxs-lookup"><span data-stu-id="33b05-250">Restrictions for Using Sparse Columns</span></span>  
 <span data-ttu-id="33b05-251">Spalten mit geringer Dichte können jeden [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Datentyp annehmen und verhalten sich mit den folgenden Einschränkungen wie andere Spalten:</span><span class="sxs-lookup"><span data-stu-id="33b05-251">Sparse columns can be of any [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data type and behave like any other column with the following restrictions:</span></span>  
  
-   <span data-ttu-id="33b05-252">Eine Sparsespalte muss auf NULL festlegbar sein und darf nicht über die ROWGUIDCOL-Eigenschaft oder die IDENTITY-Eigenschaft verfügen.</span><span class="sxs-lookup"><span data-stu-id="33b05-252">A sparse column must be nullable and cannot have the ROWGUIDCOL or IDENTITY properties.</span></span> <span data-ttu-id="33b05-253">Eine Sparsespalte darf nicht die folgenden Datentypen annehmen: `text`, `ntext`, `image`, `timestamp`, benutzerdefinierter Datentyp, `geometry` oder `geography`; sie darf auch nicht über das FILESTREAM-Attribut verfügen.</span><span class="sxs-lookup"><span data-stu-id="33b05-253">A sparse column cannot be of the following data types: `text`, `ntext`, `image`, `timestamp`, user-defined data type, `geometry`, or `geography`; or have the FILESTREAM attribute.</span></span>  
  
-   <span data-ttu-id="33b05-254">Eine Sparsespalte kann keinen Standardwert haben.</span><span class="sxs-lookup"><span data-stu-id="33b05-254">A sparse column cannot have a default value.</span></span>  
  
-   <span data-ttu-id="33b05-255">Eine Sparsespalte kann nicht an eine Regel gebunden sein.</span><span class="sxs-lookup"><span data-stu-id="33b05-255">A sparse column cannot be bound to a rule.</span></span>  
  
-   <span data-ttu-id="33b05-256">Obwohl eine berechnete Spalte eine Sparsespalte enthalten kann, kann eine berechnete Spalte nicht als SPARSE markiert werden.</span><span class="sxs-lookup"><span data-stu-id="33b05-256">Although a computed column can contain a sparse column, a computed column cannot be marked as SPARSE.</span></span>  
  
-   <span data-ttu-id="33b05-257">Eine Sparsespalte kann nicht Teil eines gruppierten Indexes oder eines eindeutigen Primärschlüsselindexes sein.</span><span class="sxs-lookup"><span data-stu-id="33b05-257">A sparse column cannot be part of a clustered index or a unique primary key index.</span></span> <span data-ttu-id="33b05-258">Sowohl persistente als auch nicht persistente berechnete Spalten, die für Sparsespalten definiert wurden, können Teil eines gruppierten Schlüssels sein.</span><span class="sxs-lookup"><span data-stu-id="33b05-258">However, both persisted and nonpersisted computed columns that are defined on sparse columns can be part of a clustered key.</span></span>  
  
-   <span data-ttu-id="33b05-259">Eine Sparsespalte kann nicht als Partitionsschlüssel eines gruppierten Indexes oder eines Heaps verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="33b05-259">A sparse column cannot be used as a partition key of a clustered index or heap.</span></span> <span data-ttu-id="33b05-260">Eine Sparsespalte kann jedoch als Partitionsschlüssel eines nicht gruppierten Indexes verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="33b05-260">However, a sparse column can be used as the partition key of a nonclustered index.</span></span>  
  
-   <span data-ttu-id="33b05-261">Eine Sparsespalte kann nicht Teil eines benutzerdefinierten Tabellentyps sein, der in Tabellenvariablen und Tabellenwertparametern verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="33b05-261">A sparse column cannot be part of a user-defined table type, which are used in table variables and table-valued parameters.</span></span>  
  
-   <span data-ttu-id="33b05-262">Spalten mit geringer Dichte sind inkompatibel mit der Datenkomprimierung.</span><span class="sxs-lookup"><span data-stu-id="33b05-262">Sparse columns are incompatible with data compression.</span></span> <span data-ttu-id="33b05-263">Daher ist es nicht möglich, Sparsespalten komprimierten Tabellen hinzuzufügen, und Tabellen mit Sparsespalten können nicht komprimiert werden.</span><span class="sxs-lookup"><span data-stu-id="33b05-263">Therefore sparse columns cannot be added to compressed tables, nor can any tables containing sparse columns be compressed.</span></span>  
  
-   <span data-ttu-id="33b05-264">Um eine Spalte mit geringer Dichte in eine ohne geringe Dichte zu ändern oder um eine Spalte ohne geringe Dichte in eine mit geringer Dichte zu ändern, muss das Speicherformat der Spalte geändert werden.</span><span class="sxs-lookup"><span data-stu-id="33b05-264">Changing a column from sparse to nonsparse or nonsparse to sparse requires changing the storage format of the column.</span></span> <span data-ttu-id="33b05-265">Die SQL Server-Datenbank-Engine verwendet die folgende Prozedur, um diese Änderung auszuführen:</span><span class="sxs-lookup"><span data-stu-id="33b05-265">The SQL Server Database Engine uses the following procedure to accomplish this change:</span></span>  
  
    1.  <span data-ttu-id="33b05-266">Fügt der Tabelle eine neue Spalte in der neuen Speichergröße und dem neuen Format hinzu.</span><span class="sxs-lookup"><span data-stu-id="33b05-266">Adds a new column to the table in the new storage size and format.</span></span>  
  
    2.  <span data-ttu-id="33b05-267">Der in der alten Spalte gespeicherte Wert wird für jede Zeile in der Tabelle in die neue Spalte aktualisiert und kopiert.</span><span class="sxs-lookup"><span data-stu-id="33b05-267">For each row in the table, updates and copies the value stored in the old column to the new column.</span></span>  
  
    3.  <span data-ttu-id="33b05-268">Entfernt die alte Spalte aus dem Tabellenschema.</span><span class="sxs-lookup"><span data-stu-id="33b05-268">Removes the old column from the table schema.</span></span>  
  
    4.  <span data-ttu-id="33b05-269">Erstellt die Tabelle neu (wenn es keinen gruppierten Index gibt) oder erstellt den gruppierten Index neu, um den von der alten Spalte verwendeten Speicherplatz freizugeben.</span><span class="sxs-lookup"><span data-stu-id="33b05-269">Rebuilds the table (if there is no clustered index) or rebuilds the clustered index to reclaim space used by the old column.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="33b05-270">Schritt 2 kann fehlschlagen, wenn die Größe der Daten in der Zeile die maximal zulässige Zeilengröße überschreitet.</span><span class="sxs-lookup"><span data-stu-id="33b05-270">Step 2 can fail when the size of the data in the row exceeds the maximum allowable row size.</span></span> <span data-ttu-id="33b05-271">Diese Größe enthält die Größe der in der alten Spalte gespeicherten Daten und der in der neuen Spalte gespeicherten aktualisierten Daten.</span><span class="sxs-lookup"><span data-stu-id="33b05-271">This size includes the size of the data stored in the old column and the updated data stored in the new column.</span></span> <span data-ttu-id="33b05-272">Diese Grenze beträgt 8060 Bytes für Tabellen, die keine Sparsespalten enthalten, oder 8018 Bytes für Tabellen, die Sparsespalten enthalten.</span><span class="sxs-lookup"><span data-stu-id="33b05-272">This limit is 8060 bytes for tables that do not contain any sparse columns or 8018 bytes for tables that contain sparse columns.</span></span> <span data-ttu-id="33b05-273">Dieser Fehler kann auftreten, auch wenn alle in Frage kommenden Spalten aus den Zeilen verschoben wurden.</span><span class="sxs-lookup"><span data-stu-id="33b05-273">This error can occur even if all eligible columns have been pushed off-row.</span></span>  
  
-   <span data-ttu-id="33b05-274">Wenn Sie eine Nicht-Sparsespalte in eine Sparsespalte ändern, belegt die Sparsespalte mehr Speicherplatz für Werte ungleich NULL.</span><span class="sxs-lookup"><span data-stu-id="33b05-274">When you change a non-sparse column to a sparse column, the sparse column will consume more space for non-null values.</span></span> <span data-ttu-id="33b05-275">Wenn eine Zeile die maximale Zeilengrößenbeschränkung fast erreicht hat, kann der Vorgang fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="33b05-275">When a row is close to the maximum row size limit, the operation can fail.</span></span>  
  
## <a name="sql-server-technologies-that-support-sparse-columns"></a><span data-ttu-id="33b05-276">SQL Server-Technologien, die Spalten mit geringer Dichte unterstützen</span><span class="sxs-lookup"><span data-stu-id="33b05-276">SQL Server Technologies That Support Sparse Columns</span></span>  
 <span data-ttu-id="33b05-277">In diesem Abschnitt wird beschrieben, wie Sparsespalten in den folgenden [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Technologien unterstützt werden:</span><span class="sxs-lookup"><span data-stu-id="33b05-277">This section describes how sparse columns are supported in the following [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] technologies:</span></span>  
  
-   <span data-ttu-id="33b05-278">Transaktionsreplikation</span><span class="sxs-lookup"><span data-stu-id="33b05-278">Transactional replication</span></span>  
  
     <span data-ttu-id="33b05-279">Transaktionsreplikation unterstützt die Sparsespalten. Spaltensätze, die zusammen mit Sparsespalten verwendet werden können, werden jedoch nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="33b05-279">Transactional replication supports sparse columns, but it does not support column sets, which can be used with sparse columns.</span></span> <span data-ttu-id="33b05-280">Weitere Informationen zu Spaltensätzen finden Sie unter [Verwenden von Spaltensätzen](../tables/use-column-sets.md).</span><span class="sxs-lookup"><span data-stu-id="33b05-280">For more information about column sets, see [Use Column Sets](../tables/use-column-sets.md).</span></span>  
  
     <span data-ttu-id="33b05-281">Die Replikation des SPARSE-Attributs wird durch eine Schemaoption bestimmt, die mit [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql) oder über das Dialogfeld **Artikeleigenschaften** in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="33b05-281">The replication of the SPARSE attribute is determined by a schema option that is specified by using [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql) or by using the **Article Properties** dialog box in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="33b05-282">Frühere Versionen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] unterstützen keine Sparsespalten.</span><span class="sxs-lookup"><span data-stu-id="33b05-282">Earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] do not support sparse columns.</span></span> <span data-ttu-id="33b05-283">Wenn Sie Daten für eine frühere Version replizieren müssen, legen Sie fest, dass das SPARSE-Attribut nicht repliziert werden sollte.</span><span class="sxs-lookup"><span data-stu-id="33b05-283">If you must replicate data to an earlier version, specify that the SPARSE attribute should not be replicated.</span></span>  
  
     <span data-ttu-id="33b05-284">Veröffentlichten Tabellen können Sie keine neuen Sparsespalten hinzufügen; Sie können auch nicht die SPARSE-Eigenschaft einer vorhandenen Spalte ändern.</span><span class="sxs-lookup"><span data-stu-id="33b05-284">For tables that are published, you cannot add any new sparse columns to a table or change the sparse property of an existing column.</span></span> <span data-ttu-id="33b05-285">Wenn ein solcher Vorgang erforderlich ist, löschen Sie die Veröffentlichung, und erstellen Sie sie erneut.</span><span class="sxs-lookup"><span data-stu-id="33b05-285">If such an operation is required, drop and re-create the publication.</span></span>  
  
-   <span data-ttu-id="33b05-286">Mergereplikation</span><span class="sxs-lookup"><span data-stu-id="33b05-286">Merge replication</span></span>  
  
     <span data-ttu-id="33b05-287">Mergereplikation unterstützt keine Sparsespalten und keine Spaltensätze.</span><span class="sxs-lookup"><span data-stu-id="33b05-287">Merge replication does not support sparse columns or column sets.</span></span>  
  
-   <span data-ttu-id="33b05-288">Änderungsnachverfolgung</span><span class="sxs-lookup"><span data-stu-id="33b05-288">Change tracking</span></span>  
  
     <span data-ttu-id="33b05-289">Änderungsnachverfolgung unterstützt Sparsespalten und Spaltensätze.</span><span class="sxs-lookup"><span data-stu-id="33b05-289">Change tracking supports sparse columns and column sets.</span></span> <span data-ttu-id="33b05-290">Wenn ein Spaltensatz in einer Tabelle aktualisiert wird, behandelt die Änderungsnachverfolgung diese als Update für die gesamte Zeile.</span><span class="sxs-lookup"><span data-stu-id="33b05-290">When a column set is updated in a table, change tracking treats this as an update to the whole row.</span></span> <span data-ttu-id="33b05-291">Es steht keine detaillierte Änderungsnachverfolgung zur Verfügung, um den exakten Satz an Sparsespalten abzurufen, die über den Spaltensatz-Updatevorgang aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="33b05-291">No detailed change tracking is provided to obtain the exact set of sparse columns that are updated through the column set update operation.</span></span> <span data-ttu-id="33b05-292">Wenn die Sparsespalten explizit über eine DML-Anweisung aktualisiert werden, arbeitet die Änderungsnachverfolgung wie gewohnt und identifiziert den exakten Satz an geänderten Spalten.</span><span class="sxs-lookup"><span data-stu-id="33b05-292">If the sparse columns are updated explicitly through a DML statement, change tracking on them will work ordinarily and can identify the exact set of changed columns.</span></span>  
  
-   <span data-ttu-id="33b05-293">Change Data Capture</span><span class="sxs-lookup"><span data-stu-id="33b05-293">Change data capture</span></span>  
  
     <span data-ttu-id="33b05-294">Change Data Capture unterstützt Sparsespalten, aber keine Spaltensätze.</span><span class="sxs-lookup"><span data-stu-id="33b05-294">Change data capture supports sparse columns, but it does not support column sets.</span></span>  
  
-   <span data-ttu-id="33b05-295">Die SPARSE-Eigenschaft einer Spalte wird beim Kopieren der Tabelle nicht beibehalten.</span><span class="sxs-lookup"><span data-stu-id="33b05-295">The sparse property of a column is not preserved when the table is copied.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="33b05-296">Beispiele</span><span class="sxs-lookup"><span data-stu-id="33b05-296">Examples</span></span>  
 <span data-ttu-id="33b05-297">In diesem Beispiel enthält eine Dokumenttabelle einen allgemeinen Satz mit der `DocID` -Spalte und der `Title`-Spalte.</span><span class="sxs-lookup"><span data-stu-id="33b05-297">In this example, a document table contains a common set that has the columns `DocID` and `Title`.</span></span> <span data-ttu-id="33b05-298">Die Produktionsgruppe möchte eine `ProductionSpecification` -Spalte und eine `ProductionLocation` -Spalte für alle Produktionsdokumente.</span><span class="sxs-lookup"><span data-stu-id="33b05-298">The Production group wants a `ProductionSpecification` and `ProductionLocation` column for all production documents.</span></span> <span data-ttu-id="33b05-299">Die Marketinggruppe möchte eine `MarketingSurveyGroup` -Spalte für Marketingdokumente.</span><span class="sxs-lookup"><span data-stu-id="33b05-299">The Marketing group wants a `MarketingSurveyGroup` column for marketing documents.</span></span> <span data-ttu-id="33b05-300">Mit dem Code in diesem Beispiel wird eine Tabelle ausgegeben, in der Sparsespalten verwendet werden. Es werden Zeilen in die Tabelle eingefügt und Daten aus der Tabelle ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="33b05-300">The code in this example creates a table that uses sparse columns, inserts two rows into the table, and then selects data from the table.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="33b05-301">Diese Tabelle hat nur fünf Spalten, um die Anzeige und das Lesen zu erleichtern.</span><span class="sxs-lookup"><span data-stu-id="33b05-301">This table has only five columns to make it easier to display and read.</span></span> <span data-ttu-id="33b05-302">Sie können optional die Sparsespalten so deklarieren, dass NULL-Werte zulässig sind, wenn die ANSI_NULL_DFLT_ON-Option festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="33b05-302">Declaring the sparse columns to be nullable is optional if the ANSI_NULL_DFLT_ON option is set.</span></span>  
  
```  
USE AdventureWorks2012;  
GO  
  
CREATE TABLE DocumentStore  
    (DocID int PRIMARY KEY,  
     Title varchar(200) NOT NULL,  
     ProductionSpecification varchar(20) SPARSE NULL,  
     ProductionLocation smallint SPARSE NULL,  
     MarketingSurveyGroup varchar(20) SPARSE NULL ) ;  
GO  
  
INSERT DocumentStore(DocID, Title, ProductionSpecification, ProductionLocation)  
VALUES (1, 'Tire Spec 1', 'AXZZ217', 27);  
GO  
  
INSERT DocumentStore(DocID, Title, MarketingSurveyGroup)  
VALUES (2, 'Survey 2142', 'Men 25 - 35');  
GO  
```  
  
 <span data-ttu-id="33b05-303">Wenn Sie alle Spalten in der Tabelle auswählen, wird ein herkömmlicher Ergebnissatz zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="33b05-303">To select all the columns from the table returns an ordinary result set.</span></span>  
  
```  
SELECT * FROM DocumentStore ;  
```  
  
 [!INCLUDE[ssResult](../../includes/ssresult-md.md)]  
  
 `DocID  Title        ProductionSpecification  ProductionLocation  MarketingSurveyGroup`  
  
 `1      Tire Spec 1  AXZZ217                  27                  NULL`  
  
 `2      Survey 2142  NULL                     NULL                Men 25-35`  
  
 <span data-ttu-id="33b05-304">Da die Produktionsabteilung nicht an den Marketingdaten interessiert ist, möchte sie eine Spaltenliste verwenden, die nur die für sie wichtigen Spalten zurückgibt, wie in der folgenden Abfrage gezeigt.</span><span class="sxs-lookup"><span data-stu-id="33b05-304">Because the Production department is not interested in the marketing data, they want to use a column list that returns only columns of interest, as shown in the following query.</span></span>  
  
```  
SELECT DocID, Title, ProductionSpecification, ProductionLocation   
FROM DocumentStore   
WHERE ProductionSpecification IS NOT NULL ;  
```  
  
 [!INCLUDE[ssResult](../../includes/ssresult-md.md)]  
  
 `DocID  Title        ProductionSpecification  ProductionLocation`  
  
 `1      Tire Spec 1  AXZZ217                  27`  
  
## <a name="see-also"></a><span data-ttu-id="33b05-305">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="33b05-305">See Also</span></span>  
 <span data-ttu-id="33b05-306">[Verwenden von Spalten Sätzen](../tables/use-column-sets.md) </span><span class="sxs-lookup"><span data-stu-id="33b05-306">[Use Column Sets](../tables/use-column-sets.md) </span></span>  
 <span data-ttu-id="33b05-307">[CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="33b05-307">[CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql) </span></span>  
 <span data-ttu-id="33b05-308">[ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="33b05-308">[ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) </span></span>  
 [<span data-ttu-id="33b05-309">sys.columns &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="33b05-309">sys.columns &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-columns-transact-sql)  
  
  
