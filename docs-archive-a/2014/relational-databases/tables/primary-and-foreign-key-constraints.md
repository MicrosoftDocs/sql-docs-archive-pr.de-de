---
title: Primärschlüssel- und Fremdschlüsseleinschränkungen | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: table-view-index
ms.topic: conceptual
helpviewer_keywords:
- foreign keys [SQL Server], cascading referential integrity
- FOREIGN KEY constraints
- foreign keys [SQL Server]
- foreign keys [SQL Server], about foreign key constraints
ms.assetid: 31fbcc9f-2dc5-4bf9-aa50-ed70ec7b5bcd
author: stevestein
ms.author: sstein
ms.openlocfilehash: b6e7b88de880348fabb00cb46d3028716441bc2b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87620761"
---
# <a name="primary-and-foreign-key-constraints"></a><span data-ttu-id="91787-102">Primärschlüssel- und Fremdschlüsseleinschränkungen</span><span class="sxs-lookup"><span data-stu-id="91787-102">Primary and Foreign Key Constraints</span></span>
  <span data-ttu-id="91787-103">Primärschlüssel und Fremdschlüssel sind zwei Typen von Einschränkungen, die zum Erzwingen der Datenintegrität in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Tabellen verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="91787-103">Primary keys and foreign keys are two types of constraints that can be used to enforce data integrity in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tables.</span></span> <span data-ttu-id="91787-104">Diese sind wichtige Datenbankobjekte.</span><span class="sxs-lookup"><span data-stu-id="91787-104">These are important database objects.</span></span>

 <span data-ttu-id="91787-105">Dieses Thema enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="91787-105">This topic contains the following sections.</span></span>

 [<span data-ttu-id="91787-106">PRIMARY KEY-Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="91787-106">Primary Key Constraints</span></span>](../tables/primary-and-foreign-key-constraints.md#PKeys)

 [<span data-ttu-id="91787-107">Foreign Key Constraints</span><span class="sxs-lookup"><span data-stu-id="91787-107">Foreign Key Constraints</span></span>](../tables/primary-and-foreign-key-constraints.md#FKeys)

 [<span data-ttu-id="91787-108">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="91787-108">Related Tasks</span></span>](../tables/primary-and-foreign-key-constraints.md#Tasks)

##  <a name="primary-key-constraints"></a><a name="PKeys"></a> <span data-ttu-id="91787-109">PRIMARY KEY-Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="91787-109">Primary Key Constraints</span></span>
 <span data-ttu-id="91787-110">Eine Tabelle verfügt normalerweise über eine Spalte oder eine Kombination aus Spalten, die Werte enthalten, die jede Zeile in der Tabelle eindeutig identifizieren.</span><span class="sxs-lookup"><span data-stu-id="91787-110">A table typically has a column or combination of columns that contain values that uniquely identify each row in the table.</span></span> <span data-ttu-id="91787-111">Diese Spalte oder Kombination aus Spalten wird als Primärschlüssel (PK, Primary Key) der Tabelle bezeichnet und erzwingt die Entitätsintegrität der Tabelle.</span><span class="sxs-lookup"><span data-stu-id="91787-111">This column, or columns, is called the primary key (PK) of the table and enforces the entity integrity of the table.</span></span> <span data-ttu-id="91787-112">Da PRIMARY KEY-Einschränkungen eindeutige Daten garantieren, werden sie häufig für eine Identitätsspalte definiert.</span><span class="sxs-lookup"><span data-stu-id="91787-112">Because primary key constraints guarantee unique data, they are frequently defined on an identity column.</span></span>

 <span data-ttu-id="91787-113">Wenn Sie eine PRIMARY KEY-Einschränkung für eine Tabelle angeben, erzwingt [!INCLUDE[ssDE](../../includes/ssde-md.md)] die Eindeutigkeit der Daten, indem automatisch ein eindeutiger Index für die Primärschlüsselspalten erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="91787-113">When you specify a primary key constraint for a table, the [!INCLUDE[ssDE](../../includes/ssde-md.md)] enforces data uniqueness by automatically creating a unique index for the primary key columns.</span></span> <span data-ttu-id="91787-114">Der Index ermöglicht darüber hinaus den schnellen Zugriff auf Daten, wenn der Primärschlüssel in Abfragen verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="91787-114">This index also permits fast access to data when the primary key is used in queries.</span></span> <span data-ttu-id="91787-115">Wenn eine PRIMARY KEY-Einschränkung für mehrere Spalten definiert wird, können Werte innerhalb einer Spalte dupliziert werden; jede Kombination aus den Werten aller Spalten, die in der Definition der PRIMARY KEY-Einschränkung enthalten sind, muss jedoch eindeutig sein.</span><span class="sxs-lookup"><span data-stu-id="91787-115">If a primary key constraint is defined on more than one column, values may be duplicated within one column, but each combination of values from all the columns in the primary key constraint definition must be unique.</span></span>

 <span data-ttu-id="91787-116">Wie in der nachfolgenden Abbildung dargestellt, müssen die Spalten **ProductID** und **VendorID** in der **Purchasing.ProductVendor** -Tabelle eine zusammengesetzte PRIMARY KEY-Einschränkung für diese Tabelle bilden.</span><span class="sxs-lookup"><span data-stu-id="91787-116">As shown in the following illustration, the **ProductID** and **VendorID** columns in the **Purchasing.ProductVendor** table form a composite primary key constraint for this table.</span></span> <span data-ttu-id="91787-117">Dadurch wird sichergestellt, dass jede Zeile in der **ProductVendor**-Tabelle eine eindeutige Kombination aus **ProductID** und **VendorID** aufweist.</span><span class="sxs-lookup"><span data-stu-id="91787-117">This makes sure that every row in the **ProductVendor** table has a unique combination of **ProductID** and **VendorID**.</span></span> <span data-ttu-id="91787-118">Dies verhindert die Einfügung doppelter Zeilen.</span><span class="sxs-lookup"><span data-stu-id="91787-118">This prevents the insertion of duplicate rows.</span></span>

 <span data-ttu-id="91787-119">![Zusammengesetzte Primärschlüsseleinschränkung](../../database-engine/media/fund04.gif "Zusammengesetzte Primärschlüsseleinschränkung")</span><span class="sxs-lookup"><span data-stu-id="91787-119">![Composite PRIMARY KEY constraint](../../database-engine/media/fund04.gif "Composite PRIMARY KEY constraint")</span></span>

-   <span data-ttu-id="91787-120">Eine Tabelle kann nur eine PRIMARY KEY-Einschränkung enthalten.</span><span class="sxs-lookup"><span data-stu-id="91787-120">A table can contain only one primary key constraint.</span></span>

-   <span data-ttu-id="91787-121">Ein Primärschlüssel darf 16 Spalten und eine gesamte Schlüssellänge von 900 Bytes nicht überschreiten.</span><span class="sxs-lookup"><span data-stu-id="91787-121">A primary key cannot exceed 16 columns and a total key length of 900 bytes.</span></span>

-   <span data-ttu-id="91787-122">Der durch eine PRIMARY KEY-Einschränkung generierte Index darf nicht dazu führen, dass die Anzahl der Indizes der Tabelle 999 nicht gruppierte Indizes und einen gruppierten Index übersteigt.</span><span class="sxs-lookup"><span data-stu-id="91787-122">The index generated by a primary key constraint cannot cause the number of indexes on the table to exceed 999 nonclustered indexes and 1 clustered index.</span></span>

-   <span data-ttu-id="91787-123">Wenn CLUSTERED oder NONCLUSTERED für eine PRIMARY KEY-Einschränkung nicht angegeben ist, wird CLUSTERED verwendet, sofern keine gruppierten Indizes für die Tabelle vorliegen.</span><span class="sxs-lookup"><span data-stu-id="91787-123">If clustered or nonclustered is not specified for a primary key constraint, clustered is used if there no clustered index on the table.</span></span>

-   <span data-ttu-id="91787-124">Alle Spalten, für die eine PRIMARY KEY-Einschränkung definiert wurde, müssen ungleich NULL definiert sein.</span><span class="sxs-lookup"><span data-stu-id="91787-124">All columns defined within a primary key constraint must be defined as not null.</span></span> <span data-ttu-id="91787-125">Falls keine NULL-Zulässigkeit angegeben ist, wird für alle Spalten, auf die eine PRIMARY KEY-Einschränkung angewendet wird, die NULL-Zulässigkeit auf NOT NULL festgelegt.</span><span class="sxs-lookup"><span data-stu-id="91787-125">If nullability is not specified, all columns participating in a primary key constraint have their nullability set to not null.</span></span>

-   <span data-ttu-id="91787-126">Wenn ein Primärschlüssel für eine Spalte eines CLR-benutzerdefinierten Typs definiert wird, muss die Implementierung des Typs eine binäre Sortierreihenfolge unterstützen.</span><span class="sxs-lookup"><span data-stu-id="91787-126">If a primary key is defined on a CLR user-defined type column, the implementation of the type must support binary ordering.</span></span>

##  <a name="foreign-key-constraints"></a><a name="FKeys"></a> <span data-ttu-id="91787-127">Foreign Key Constraints</span><span class="sxs-lookup"><span data-stu-id="91787-127">Foreign Key Constraints</span></span>
 <span data-ttu-id="91787-128">Ein Fremdschlüssel (FS) ist eine Spalte oder eine Kombination von Spalten, mit deren Hilfe eine Verknüpfung zwischen den Daten in zwei Tabellen eingerichtet und erzwungen wird, um die Daten zu steuern, die in der Fremdschlüsseltabelle gespeichert werden können.</span><span class="sxs-lookup"><span data-stu-id="91787-128">A foreign key (FK) is a column or combination of columns that is used to establish and enforce a link between the data in two tables to control the data that can be stored in the foreign key table.</span></span> <span data-ttu-id="91787-129">In einem Fremdschlüsselverweis wird zwischen zwei Tabellen ein Link erstellt, wenn eine Spalte bzw. mehrere Spalten einer Tabelle auf die Spalte bzw. Spalten mit dem Primärschlüsselwert einer anderen Tabelle verweisen.</span><span class="sxs-lookup"><span data-stu-id="91787-129">In a foreign key reference, a link is created between two tables when the column or columns that hold the primary key value for one table are referenced by the column or columns in another table.</span></span> <span data-ttu-id="91787-130">Diese Spalte wird zu einem Fremdschlüssel in der zweiten Tabelle.</span><span class="sxs-lookup"><span data-stu-id="91787-130">This column becomes a foreign key in the second table.</span></span>

 <span data-ttu-id="91787-131">Nehmen Sie beispielsweise an, die **Sales.SalesOrderHeader** -Tabelle weist eine Fremdschlüsselverknüpfung zur **Sales.SalesPerson** -Tabelle auf, da eine logische Beziehung zwischen „Sales Orders“ (Kaufaufträgen) und „Sales People“ (Vertriebsmitarbeiter) besteht.</span><span class="sxs-lookup"><span data-stu-id="91787-131">For example, the **Sales.SalesOrderHeader** table has a foreign key link to the **Sales.SalesPerson** table because there is a logical relationship between sales orders and salespeople.</span></span> <span data-ttu-id="91787-132">Die **SalesPersonID** -Spalte der **SalesOrderHeader** -Tabelle stimmt mit der Primärschlüsselspalte der **SalesPerson** -Tabelle überein.</span><span class="sxs-lookup"><span data-stu-id="91787-132">The **SalesPersonID** column in the **SalesOrderHeader** table matches the primary key column of the **SalesPerson** table.</span></span> <span data-ttu-id="91787-133">Die **SalesPersonID** -Spalte der **SalesOrderHeader** -Tabelle ist der Fremdschlüssel für die **SalesPerson** -Tabelle.</span><span class="sxs-lookup"><span data-stu-id="91787-133">The **SalesPersonID** column in the **SalesOrderHeader** table is the foreign key to the **SalesPerson** table.</span></span> <span data-ttu-id="91787-134">Wenn Sie diese Fremdschlüsselbeziehung erstellen, kann ein Wert für **SalesPersonID** nicht in die **SalesOrderHeader** -Tabelle eingefügt werden, wenn er nicht bereits in der **SalesPerson** -Tabelle vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="91787-134">By creating this foreign key relationship, a value for **SalesPersonID** cannot be inserted into the **SalesOrderHeader** table if it does not already exist in the **SalesPerson** table.</span></span>

### <a name="indexes-on-foreign-key-constraints"></a><span data-ttu-id="91787-135">Indizes für Fremdschlüsseleinschränkungen</span><span class="sxs-lookup"><span data-stu-id="91787-135">Indexes on Foreign Key Constraints</span></span>
 <span data-ttu-id="91787-136">Im Gegensatz zu PRIMARY KEY-Einschränkungen wird bei der Erstellung einer FOREIGN KEY-Einschränkung nicht automatisch ein entsprechender Index generiert.</span><span class="sxs-lookup"><span data-stu-id="91787-136">Unlike primary key constraints, creating a foreign key constraint does not automatically create a corresponding index.</span></span> <span data-ttu-id="91787-137">Das manuelle Erstellen eines Indexes für einen Fremdschlüssel empfiehlt sich jedoch aus folgenden Gründen:</span><span class="sxs-lookup"><span data-stu-id="91787-137">However, manually creating an index on a foreign key is often useful for the following reasons:</span></span>

-   <span data-ttu-id="91787-138">Fremdschlüsselspalten werden häufig in Joinkriterien verwendet, wenn Daten aus verbundenen Tabellen in Abfragen kombiniert werden, indem die Übereinstimmungen zwischen der oder den Spalten in der FOREIGN KEY-Einschränkung einer Tabelle und der oder den Spalten eines Primärschlüssels oder eines eindeutigen Schlüssels in der anderen Tabelle ermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="91787-138">Foreign key columns are frequently used in join criteria when the data from related tables is combined in queries by matching the column or columns in the foreign key constraint of one table with the primary or unique key column or columns in the other table.</span></span> <span data-ttu-id="91787-139">Ein Index ermöglicht [!INCLUDE[ssDE](../../includes/ssde-md.md)] , die verbundenen Daten in der Fremdschlüsseltabelle schnell zu finden.</span><span class="sxs-lookup"><span data-stu-id="91787-139">An index enables the [!INCLUDE[ssDE](../../includes/ssde-md.md)] to quickly find related data in the foreign key table.</span></span> <span data-ttu-id="91787-140">Es ist jedoch nicht zwingend erforderlich, einen Index zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="91787-140">However, creating this index is not required.</span></span> <span data-ttu-id="91787-141">Daten aus zwei verbundenen Tabellen können auch dann kombiniert werden, wenn zwischen diesen Tabellen keine PRIMARY KEY-Einschränkung oder FOREIGN KEY-Einschränkung definiert ist. Eine Fremdschlüsselbeziehung zwischen zwei Tabellen weist jedoch darauf hin, dass die beiden Tabellen dahingehend optimiert wurden, um in einer Abfrage kombiniert zu werden, die die Schlüssel als Kriterium verwendet.</span><span class="sxs-lookup"><span data-stu-id="91787-141">Data from two related tables can be combined even if no primary key or foreign key constraints are defined between the tables, but a foreign key relationship between two tables indicates that the two tables have been optimized to be combined in a query that uses the keys as its criteria.</span></span>

-   <span data-ttu-id="91787-142">Änderungen an PRIMARY KEY-Einschränkungen werden mithilfe von FOREIGN KEY-Einschränkungen in verbundenen Tabellen überprüft.</span><span class="sxs-lookup"><span data-stu-id="91787-142">Changes to primary key constraints are checked with foreign key constraints in related tables.</span></span>

### <a name="referential-integrity"></a><span data-ttu-id="91787-143">Referenzielle Integrität</span><span class="sxs-lookup"><span data-stu-id="91787-143">Referential Integrity</span></span>
 <span data-ttu-id="91787-144">Eine FOREIGN KEY-Einschränkung dient zwar in erster Linie zur Kontrolle der Daten, die in der Fremdschlüsseltabelle gespeichert werden können; sie kontrolliert jedoch auch die Änderungen, die an Daten in der Primärschlüsseltabelle vorgenommen werden.</span><span class="sxs-lookup"><span data-stu-id="91787-144">Although the main purpose of a foreign key constraint is to control the data that can be stored in the foreign key table, it also controls changes to data in the primary key table.</span></span> <span data-ttu-id="91787-145">Wenn z.B. die Zeile für einen Vertriebsmitarbeiter aus der **Sales.SalesPerson** -Tabelle gelöscht, die ID des Vertriebsmitarbeiters jedoch weiterhin für Kaufaufträge in der **Sales.SalesOrderHeader** -Tabelle verwendet wird, ist die relationale Integrität zwischen den beiden Tabellen zerstört. Die Kaufaufträge des gelöschten Verkäufers sind in der **SalesOrderHeader** -Tabelle verwaist, da kein Link mehr zu Daten in der **SalesPerson** -Tabelle besteht.</span><span class="sxs-lookup"><span data-stu-id="91787-145">For example, if the row for a salesperson is deleted from the **Sales.SalesPerson** table, and the salesperson's ID is used for sales orders in the **Sales.SalesOrderHeader** table, the relational integrity between the two tables is broken; the deleted salesperson's sales orders are orphaned in the **SalesOrderHeader** table without a link to the data in the **SalesPerson** table.</span></span>

 <span data-ttu-id="91787-146">Durch eine FOREIGN KEY-Einschränkung wird eine derartige Situation verhindert.</span><span class="sxs-lookup"><span data-stu-id="91787-146">A foreign key constraint prevents this situation.</span></span> <span data-ttu-id="91787-147">Die Einschränkung erzwingt die referenzielle Integrität, indem sichergestellt wird, dass Änderungen an Daten in der Primärschlüsseltabelle nicht möglich sind, wenn diese Änderungen dazu führen, dass der Link zu Daten in der Fremdschlüsseltabelle ungültig wird.</span><span class="sxs-lookup"><span data-stu-id="91787-147">The constraint enforces referential integrity by guaranteeing that changes cannot be made to data in the primary key table if those changes invalidate the link to data in the foreign key table.</span></span> <span data-ttu-id="91787-148">Wird ein Versuch unternommen, eine Zeile in einer Primärschlüsseltabelle zu löschen oder einen Primärschlüsselwert zu ändern, erzeugt diese Aktion einen Fehler, wenn der gelöschte oder geänderte Primärschlüsselwert einem Wert in der FOREIGN KEY-Einschränkung einer anderen Tabelle entspricht.</span><span class="sxs-lookup"><span data-stu-id="91787-148">If an attempt is made to delete the row in a primary key table or to change a primary key value, the action will fail when the deleted or changed primary key value corresponds to a value in the foreign key constraint of another table.</span></span> <span data-ttu-id="91787-149">Um eine Zeile in einer FOREIGN KEY-Einschränkung erfolgreich ändern oder löschen zu können, müssen Sie zuerst die Fremdschlüsseldaten in der Fremdschlüsseltabelle entweder löschen oder so ändern, dass der Fremdschlüssel mit anderen Primärschlüsseldaten verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="91787-149">To successfully change or delete a row in a foreign key constraint, you must first either delete the foreign key data in the foreign key table or change the foreign key data in the foreign key table, which links the foreign key to different primary key data.</span></span>

#### <a name="cascading-referential-integrity"></a><span data-ttu-id="91787-150">Kaskadierende referenzielle Integrität</span><span class="sxs-lookup"><span data-stu-id="91787-150">Cascading Referential Integrity</span></span>
 <span data-ttu-id="91787-151">Durch Verwendung von Einschränkungen der referenziellen Integrität können Sie die Aktionen definieren, die [!INCLUDE[ssDE](../../includes/ssde-md.md)] durchführt, wenn ein Benutzer versucht, einen Schlüssel zu löschen oder zu aktualisieren, auf den Fremdschlüssel zeigen.</span><span class="sxs-lookup"><span data-stu-id="91787-151">By using cascading referential integrity constraints, you can define the actions that the [!INCLUDE[ssDE](../../includes/ssde-md.md)] takes when a user tries to delete or update a key to which existing foreign keys point.</span></span> <span data-ttu-id="91787-152">Die folgenden kaskadierenden Aktionen können definiert werden.</span><span class="sxs-lookup"><span data-stu-id="91787-152">The following cascading actions can be defined.</span></span>

 <span data-ttu-id="91787-153">Keine Aktion, die [!INCLUDE[ssDE](../../includes/ssde-md.md)] einen Fehler auslöst, und für die DELETE-oder Update-Aktion in der Zeile in der übergeordneten Tabelle wird ein Rollback ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="91787-153">NO ACTION The [!INCLUDE[ssDE](../../includes/ssde-md.md)] raises an error and the delete or update action on the row in the parent table is rolled back.</span></span>

 <span data-ttu-id="91787-154">Kaskadierende Zeilen werden in der verweisenden Tabelle aktualisiert oder gelöscht, wenn diese Zeile in der übergeordneten Tabelle aktualisiert oder gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="91787-154">CASCADE Corresponding rows are updated or deleted in the referencing table when that row is updated or deleted in the parent table.</span></span> <span data-ttu-id="91787-155">CASCADE kann nicht angegeben werden, wenn eine `timestamp`-Spalte Teil eines Fremdschlüssels oder des Schlüssels ist, auf den verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="91787-155">CASCADE cannot be specified if a `timestamp` column is part of either the foreign key or the referenced key.</span></span> <span data-ttu-id="91787-156">ON DELETE CASCADE kann nicht für eine Tabelle angegeben werden, die einen INSTEAD OF-Trigger aufweist.</span><span class="sxs-lookup"><span data-stu-id="91787-156">ON DELETE CASCADE cannot be specified for a table that has an INSTEAD OF DELETE trigger.</span></span> <span data-ttu-id="91787-157">ON UPDATE CASCADE kann nicht für Tabellen angegeben werden, die INSTEAD OF UPDATE-Trigger aufweisen.</span><span class="sxs-lookup"><span data-stu-id="91787-157">ON UPDATE CASCADE cannot be specified for tables that have INSTEAD OF UPDATE triggers.</span></span>

 <span data-ttu-id="91787-158">Legen Sie NULL fest. alle Werte, die den Fremdschlüssel bilden, werden auf NULL festgelegt, wenn die entsprechende Zeile in der übergeordneten Tabelle aktualisiert oder gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="91787-158">SET NULL All the values that make up the foreign key are set to NULL when the corresponding row in the parent table is updated or deleted.</span></span> <span data-ttu-id="91787-159">Die Fremdschlüsselspalten müssen NULL-Werte zulassen, um diese Einschränkung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="91787-159">For this constraint to execute, the foreign key columns must be nullable.</span></span> <span data-ttu-id="91787-160">Diese Option kann nicht für Tabellen angegeben werden, die INSTEAD OF UPDATE-Trigger aufweisen.</span><span class="sxs-lookup"><span data-stu-id="91787-160">Cannot be specified for tables that have INSTEAD OF UPDATE triggers.</span></span>

 <span data-ttu-id="91787-161">Standard festlegen alle Werte, aus denen sich der Fremdschlüssel besteht, werden auf ihre Standardwerte festgelegt, wenn die entsprechende Zeile in der übergeordneten Tabelle aktualisiert oder gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="91787-161">SET DEFAULT All the values that make up the foreign key are set to their default values if the corresponding row in the parent table is updated or deleted.</span></span> <span data-ttu-id="91787-162">Alle Fremdschlüsselspalten müssen Standarddefinitionen aufweisen, damit diese Einschränkung ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="91787-162">For this constraint to execute, all foreign key columns must have default definitions.</span></span> <span data-ttu-id="91787-163">Wenn eine Spalte NULL-Werte zulässt, und es ist kein expliziter Standardwert festgelegt, wird NULL als der implizite Standardwert für die Spalte verwendet.</span><span class="sxs-lookup"><span data-stu-id="91787-163">If a column is nullable, and there is no explicit default value set, NULL becomes the implicit default value of the column.</span></span> <span data-ttu-id="91787-164">Diese Option kann nicht für Tabellen angegeben werden, die INSTEAD OF UPDATE-Trigger aufweisen.</span><span class="sxs-lookup"><span data-stu-id="91787-164">Cannot be specified for tables that have INSTEAD OF UPDATE triggers.</span></span>

 <span data-ttu-id="91787-165">CASCADE, SET NULL, SET DEFAULT und NO ACTION können für Tabellen kombiniert werden, die referenzielle Beziehungen untereinander aufweisen.</span><span class="sxs-lookup"><span data-stu-id="91787-165">CASCADE, SET NULL, SET DEFAULT and NO ACTION can be combined on tables that have referential relationships with each other.</span></span> <span data-ttu-id="91787-166">Wenn das [!INCLUDE[ssDE](../../includes/ssde-md.md)] die Einstellung NO ACTION feststellt, wird die Verarbeitung beendet und ein Rollback für verbundene CASCADE-, SET NULL- und SET DEFAULT-Aktionen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="91787-166">If the [!INCLUDE[ssDE](../../includes/ssde-md.md)] encounters NO ACTION, it stops and rolls back related CASCADE, SET NULL and SET DEFAULT actions.</span></span> <span data-ttu-id="91787-167">Wenn eine DELETE-Anweisung eine Kombination aus CASCADE-, SET NULL-, SET DEFAULT- und NO ACTION-Aktionen bewirkt, werden alle CASCADE-, SET NULL- und SET DEFAULT-Aktionen angewendet, bevor das [!INCLUDE[ssDE](../../includes/ssde-md.md)] nach der möglichen Angabe von NO ACTION sucht.</span><span class="sxs-lookup"><span data-stu-id="91787-167">When a DELETE statement causes a combination of CASCADE, SET NULL, SET DEFAULT and NO ACTION actions, all the CASCADE, SET NULL and SET DEFAULT actions are applied before the [!INCLUDE[ssDE](../../includes/ssde-md.md)] checks for any NO ACTION.</span></span>

### <a name="triggers-and-cascading-referential-actions"></a><span data-ttu-id="91787-168">Trigger und kaskadierende referenzielle Aktionen</span><span class="sxs-lookup"><span data-stu-id="91787-168">Triggers and Cascading Referential Actions</span></span>
 <span data-ttu-id="91787-169">Kaskadierende referenzielle Aktionen lösen AFTER UPDATE- oder AFTER DELETE-Trigger in der folgenden Weise aus:</span><span class="sxs-lookup"><span data-stu-id="91787-169">Cascading referential actions fire the AFTER UPDATE or AFTER DELETE triggers in the following manner:</span></span>

-   <span data-ttu-id="91787-170">Alle kaskadierenden referenziellen Aktionen, die direkt von der ursprünglichen DELETE- oder UPDATE-Anweisung ausgelöst werden, werden zuerst ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="91787-170">All the cascading referential actions directly caused by the original DELETE or UPDATE are performed first.</span></span>

-   <span data-ttu-id="91787-171">Wenn für die betroffenen Tabellen AFTER-Trigger definiert wurden, werden diese Trigger ausgelöst, nachdem alle kaskadierenden Aktionen ausgeführt wurden.</span><span class="sxs-lookup"><span data-stu-id="91787-171">If there are any AFTER triggers defined on the affected tables, these triggers fire after all cascading actions are performed.</span></span> <span data-ttu-id="91787-172">Diese Trigger werden in umgekehrter Reihenfolge zur kaskadierenden Aktion ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="91787-172">These triggers fire in opposite order of the cascading action.</span></span> <span data-ttu-id="91787-173">Falls es mehrere Trigger für eine einzelne Tabelle gibt, werden diese in zufälliger Reihenfolge ausgelöst, sofern es für die Tabelle nicht einen dedizierten ersten oder letzten Trigger gibt.</span><span class="sxs-lookup"><span data-stu-id="91787-173">If there are multiple triggers on a single table, they fire in random order, unless there is a dedicated first or last trigger for the table.</span></span> <span data-ttu-id="91787-174">Diese Reihenfolge wird mithilfe von [sp_settriggerorder](/sql/relational-databases/system-stored-procedures/sp-settriggerorder-transact-sql)angegeben.</span><span class="sxs-lookup"><span data-stu-id="91787-174">This order is as specified by using [sp_settriggerorder](/sql/relational-databases/system-stored-procedures/sp-settriggerorder-transact-sql).</span></span>

-   <span data-ttu-id="91787-175">Wenn mehrere kaskadierende Ketten ihren Ursprung in der Tabelle haben, die das direkte Ziel der UPDATE- oder DELETE-Aktion war, wird die Reihenfolge, in der diese Ketten ihre jeweiligen Trigger auslösen, nicht angegeben.</span><span class="sxs-lookup"><span data-stu-id="91787-175">If multiple cascading chains originate from the table that was the direct target of an UPDATE or DELETE action, the order in which these chains fire their respective triggers is unspecified.</span></span> <span data-ttu-id="91787-176">Allerdings löst immer erst eine Kette alle ihre Trigger aus, bevor eine andere Kette die Auslösung startet.</span><span class="sxs-lookup"><span data-stu-id="91787-176">However, one chain always fires all its triggers before another chain starts firing.</span></span>

-   <span data-ttu-id="91787-177">Ein AFTER-Trigger für die Tabelle, die das direkte Ziel einer UPDATE- oder DELETE-Aktion ist, wird unabhängig davon ausgelöst, ob davon irgendwelche Zeilen betroffen sind oder nicht.</span><span class="sxs-lookup"><span data-stu-id="91787-177">An AFTER trigger on the table that is the direct target of an UPDATE or DELETE action fires regardless of whether any rows are affected.</span></span> <span data-ttu-id="91787-178">In diesem Fall sind keine weiteren Tabellen von der Kaskadierung betroffen.</span><span class="sxs-lookup"><span data-stu-id="91787-178">There are no other tables affected by cascading in this case.</span></span>

-   <span data-ttu-id="91787-179">Wenn einer der vorherigen Trigger UPDATE- oder DELETE-Operationen für andere Tabellen ausführt, können diese Aktionen sekundäre kaskadierende Ketten starten.</span><span class="sxs-lookup"><span data-stu-id="91787-179">If any one of the previous triggers perform UPDATE or DELETE operations on other tables, these actions can start secondary cascading chains.</span></span> <span data-ttu-id="91787-180">Die Verarbeitung dieser sekundären Ketten erfolgt für jede UPDATE- oder DELETE-Operation zu einem Zeitpunkt, nachdem alle Trigger für alle primären Ketten ausgelöst wurden.</span><span class="sxs-lookup"><span data-stu-id="91787-180">These secondary chains are processed for each UPDATE or DELETE operation at a time after all triggers on all primary chains fire.</span></span> <span data-ttu-id="91787-181">Dieser Prozess kann für alle nachfolgenden UPDATE- oder DELETE-Operationen rekursiv wiederholt werden.</span><span class="sxs-lookup"><span data-stu-id="91787-181">This process may be recursively repeated for subsequent UPDATE or DELETE operations.</span></span>

-   <span data-ttu-id="91787-182">Die Ausführung von CREATE-, ALTER-, DELETE- oder anderen Operationen in der Datendefinitionssprache (DDL, Data Definition Language) können zur Auslösung von DDL-Triggern führen.</span><span class="sxs-lookup"><span data-stu-id="91787-182">Performing CREATE, ALTER, DELETE, or other data definition language (DDL) operations inside the triggers may cause DDL triggers to fire.</span></span> <span data-ttu-id="91787-183">Das kann schließlich zur Ausführung von DELETE- oder UPDATE-Operationen führen, die zusätzliche kaskadierende Ketten und Trigger starten.</span><span class="sxs-lookup"><span data-stu-id="91787-183">This may subsequently perform DELETE or UPDATE operations that start additional cascading chains and triggers.</span></span>

-   <span data-ttu-id="91787-184">Tritt innerhalb einer bestimmten kaskadierenden referenziellen Aktionskette ein Fehler auf, wird ein Fehler ausgelöst, in dieser Kette werden keine AFTER-Trigger ausgelöst, und für die DELETE- oder UPDATE-Operation, mit der die Kette erzeugt wurde, wird ein Rollback ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="91787-184">If an error is generated inside any particular cascading referential action chain, an error is raised, no AFTER triggers are fired in that chain, and the DELETE or UPDATE operation that created the chain is rolled back.</span></span>

-   <span data-ttu-id="91787-185">Eine Tabelle mit einem INSTEAD OF-Trigger kann nicht gleichzeitig eine REFERENCES-Klausel aufweisen, die eine kaskadierende Aktion angibt.</span><span class="sxs-lookup"><span data-stu-id="91787-185">A table that has an INSTEAD OF trigger cannot also have a REFERENCES clause that specifies a cascading action.</span></span> <span data-ttu-id="91787-186">Ein AFTER-Trigger in einer Tabelle, die das Ziel einer kaskadierenden Aktion ist, kann jedoch eine INSERT-, UPDATE- oder DELETE-Anweisung in einer anderen Tabelle oder Sicht ausführen, die einen für dieses Objekt definierten INSTEAD OF-Trigger auslöst.</span><span class="sxs-lookup"><span data-stu-id="91787-186">However, an AFTER trigger on a table targeted by a cascading action can execute an INSERT, UPDATE, or DELETE statement on another table or view that fires an INSTEAD OF trigger defined on that object.</span></span>

##  <a name="related-tasks"></a><a name="Tasks"></a> <span data-ttu-id="91787-187">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="91787-187">Related Tasks</span></span>
 <span data-ttu-id="91787-188">In der folgenden Tabelle sind die PRIMARY KEY- und FOREIGN KEY-Einschränkungen zugeordneten häufigen Tasks aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="91787-188">The following table lists the common tasks associated with primary key and foreign key constraints.</span></span>

|<span data-ttu-id="91787-189">Aufgabe</span><span class="sxs-lookup"><span data-stu-id="91787-189">Task</span></span>|<span data-ttu-id="91787-190">Thema</span><span class="sxs-lookup"><span data-stu-id="91787-190">Topic</span></span>|
|----------|-----------|
|<span data-ttu-id="91787-191">Beschreibt, wie ein Primärschlüssel erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="91787-191">Describes how to create a primary key.</span></span>|[<span data-ttu-id="91787-192">Erstellen von primär Schlüsseln</span><span class="sxs-lookup"><span data-stu-id="91787-192">Create Primary Keys</span></span>](../tables/create-primary-keys.md)|
|<span data-ttu-id="91787-193">Beschreibt, wie ein Primärschlüssel gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="91787-193">Describes how to delete a primary key.</span></span>|[<span data-ttu-id="91787-194">Löschen von Primärschlüsseln</span><span class="sxs-lookup"><span data-stu-id="91787-194">Delete Primary Keys</span></span>](../tables/delete-primary-keys.md)|
|<span data-ttu-id="91787-195">Beschreibt, wie ein Primärschlüssel geändert wird.</span><span class="sxs-lookup"><span data-stu-id="91787-195">Describes how to modify a primary key.</span></span>|[<span data-ttu-id="91787-196">Ändern von Primärschlüsseln</span><span class="sxs-lookup"><span data-stu-id="91787-196">Modify Primary Keys</span></span>](../tables/modify-primary-keys.md)|
|<span data-ttu-id="91787-197">Beschreibt, wie Fremdschlüsselbeziehungen erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="91787-197">Describes how to create foreign key relationships</span></span>|[<span data-ttu-id="91787-198">Erstellen von Fremdschlüssel-Beziehungen</span><span class="sxs-lookup"><span data-stu-id="91787-198">Create Foreign Key Relationships</span></span>](../tables/create-foreign-key-relationships.md)|
|<span data-ttu-id="91787-199">Beschreibt, wie Fremdschlüsselbeziehungen geändert werden.</span><span class="sxs-lookup"><span data-stu-id="91787-199">Describes how to modify foreign key relationships.</span></span>|[<span data-ttu-id="91787-200">Ändern von Fremdschlüsselbeziehungen</span><span class="sxs-lookup"><span data-stu-id="91787-200">Modify Foreign Key Relationships</span></span>](../tables/modify-foreign-key-relationships.md)|
|<span data-ttu-id="91787-201">Beschreibt, wie Fremdschlüsselbeziehungen gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="91787-201">Describes how to delete foreign key relationships.</span></span>|[<span data-ttu-id="91787-202">Löschen von Primärschlüssel-Fremdschlüssel-Beziehungen</span><span class="sxs-lookup"><span data-stu-id="91787-202">Delete Foreign Key Relationships</span></span>](../tables/delete-foreign-key-relationships.md)|
|<span data-ttu-id="91787-203">Beschreibt, wie Fremdschlüsseleigenschaften angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="91787-203">Describes how to view foreign key properties.</span></span>|[<span data-ttu-id="91787-204">Anzeigen von Fremdschlüsseleigenschaften</span><span class="sxs-lookup"><span data-stu-id="91787-204">View Foreign Key Properties</span></span>](../tables/view-foreign-key-properties.md)|
|<span data-ttu-id="91787-205">Beschreibt, wie FOREIGN KEY-Einschränkungen zur Replikation deaktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="91787-205">Describes how to disable foreign key constraints for replication.</span></span>|[<span data-ttu-id="91787-206">Deaktivieren von Fremdschlüsseleinschränkungen für die Replikation</span><span class="sxs-lookup"><span data-stu-id="91787-206">Disable Foreign Key Constraints for Replication</span></span>](../tables/disable-foreign-key-constraints-for-replication.md)|
|<span data-ttu-id="91787-207">Beschreibt, wie FOREIGN KEY-Einschränkungen während einer INSERT- oder einer UPDATE-Anweisung deaktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="91787-207">Describes how to disable foreign key constraints during an INSERT or UPDATE statement.</span></span>|[<span data-ttu-id="91787-208">Deaktivieren von Fremdschlüsseleinschränkungen mit INSERT- und UPDATE-Anweisungen</span><span class="sxs-lookup"><span data-stu-id="91787-208">Disable Foreign Key Constraints with INSERT and UPDATE Statements</span></span>](../tables/disable-foreign-key-constraints-with-insert-and-update-statements.md)|


