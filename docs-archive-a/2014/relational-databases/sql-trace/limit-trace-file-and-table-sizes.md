---
title: Beschränken der Größe von Ablaufverfolgungsdatei und -tabelle | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- maximum file size for traces
- traces [SQL Server], file size
- size [SQL Server], tables
- file rollover option [SQL Server]
- size [SQL Server], files
ms.assetid: 88c31b02-f44c-4a14-be8b-437f2097de12
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: b7795dfdadb8fb3bbaa1b55dcd5c962d24a7ba29
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87619761"
---
# <a name="limit-trace-file-and-table-sizes"></a><span data-ttu-id="8ac37-102">Beschränken der Größe von Ablaufverfolgungsdatei und -tabelle</span><span class="sxs-lookup"><span data-stu-id="8ac37-102">Limit Trace File and Table Sizes</span></span>
  <span data-ttu-id="8ac37-103">Abhängig von den in der Ablaufverfolgung enthaltenen Ereignisklassen und der Verwendungsweise des [!INCLUDE[ssDE](../../includes/ssde-md.md)] kann der Umfang der Ergebnisse der SQL-Ablaufverfolgung variieren.</span><span class="sxs-lookup"><span data-stu-id="8ac37-103">SQL Trace results vary in size depending on the event classes that are included in the trace and the way in which the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is used.</span></span> <span data-ttu-id="8ac37-104">Wenn Sie eine Ablaufverfolgung für häufig auftretende Ereignisklassen durchführen, können Sie die dabei gesammelten Daten minimieren, indem Sie die maximale Dateigröße und die maximale Anzahl von Zeilen festlegen.</span><span class="sxs-lookup"><span data-stu-id="8ac37-104">If you trace event classes that occur frequently, you can minimize the amount of data that the trace collects by setting the maximum file size or the maximum number of rows.</span></span> <span data-ttu-id="8ac37-105">Durch Angabe der maximalen Dateigröße oder der maximalen Zeilen können Sie sicherstellen, dass die Ablaufverfolgungsdatei oder -tabelle nicht über das angegebene Limit hinaus anwächst.</span><span class="sxs-lookup"><span data-stu-id="8ac37-105">By specifying the maximum file size or rows, you ensure that the trace file or table will not grow beyond the specified limit.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8ac37-106">Beim Speichern von Ablaufverfolgungsdaten in einer bereits vorhandenen Datei können Sie Daten an die Datei anfügen oder die Datei überschreiben.</span><span class="sxs-lookup"><span data-stu-id="8ac37-106">If you save trace data to a file that already exists, you can append data to the file or overwrite the file.</span></span> <span data-ttu-id="8ac37-107">Wenn Sie Daten an die Datei anfügen und die Ablaufverfolgungsdatei die angegebene maximale Dateigröße bereits erreicht oder überschreitet, werden Sie benachrichtigt. Sie haben dann die Möglichkeit, den Wert für die maximale Dateigröße zu erweitern oder eine neue Datei anzugeben.</span><span class="sxs-lookup"><span data-stu-id="8ac37-107">If you choose to append data to the file, and the trace file already meets or exceeds the specified maximum file size, you are notified and given the opportunity either to increase the maximum file size or specify a new file.</span></span> <span data-ttu-id="8ac37-108">Dasselbe gilt für Ablaufverfolgungstabellen.</span><span class="sxs-lookup"><span data-stu-id="8ac37-108">The same is true for trace tables.</span></span>  
  
## <a name="maximum-file-size"></a><span data-ttu-id="8ac37-109">Maximale Dateigröße</span><span class="sxs-lookup"><span data-stu-id="8ac37-109">Maximum File Size</span></span>  
 <span data-ttu-id="8ac37-110">Eine Ablaufverfolgung mit einer maximalen Dateigröße speichert keine weiteren Ablaufverfolgungsinformationen in der Datei, wenn die maximale Dateigröße erreicht wurde.</span><span class="sxs-lookup"><span data-stu-id="8ac37-110">A trace that has a maximum file size stops saving trace information to the file after the maximum file size has been reached.</span></span> <span data-ttu-id="8ac37-111">Mit dieser Option können Sie Ereignisse in kleineren, leichter zu verwaltenden Dateien gruppieren.</span><span class="sxs-lookup"><span data-stu-id="8ac37-111">This option allows you to group events into smaller, more manageable files.</span></span> <span data-ttu-id="8ac37-112">Darüber hinaus erhöht eine Beschränkung der Dateigröße die Sicherheit bei der Ausführung unbeaufsichtigter Ablaufverfolgungen, da die Ablaufverfolgung beendet wird, wenn die maximale Datengröße erreicht wurde.</span><span class="sxs-lookup"><span data-stu-id="8ac37-112">In addition, limiting file size makes it safer to run unattended traces, because the trace stops when the maximum file size is reached.</span></span> <span data-ttu-id="8ac37-113">Sie können die maximale Dateigröße für erstellte Ablaufverfolgungen entweder mit gespeicherten Prozeduren von Transact-SQL oder mithilfe von [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)]festlegen.</span><span class="sxs-lookup"><span data-stu-id="8ac37-113">You can set the maximum file size for traces created by means of Transact-SQL stored procedures or by using [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span></span>  
  
 <span data-ttu-id="8ac37-114">Die höchste Grenze für die maximale Dateigröße ist 1 Gigabyte (GB).</span><span class="sxs-lookup"><span data-stu-id="8ac37-114">There is an upper limit of 1 gigabyte (GB) for the maximum file size option.</span></span> <span data-ttu-id="8ac37-115">Standardmäßig beträgt die maximale Dateigröße 5 Megabyte (MB).</span><span class="sxs-lookup"><span data-stu-id="8ac37-115">The default maximum file size is 5 megabytes (MB).</span></span>  
  
### <a name="enabling-file-rollover"></a><span data-ttu-id="8ac37-116">Aktivieren des Dateirollovers</span><span class="sxs-lookup"><span data-stu-id="8ac37-116">Enabling File Rollover</span></span>  
 <span data-ttu-id="8ac37-117">Die Dateirolloveroption führt dazu, dass [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] die aktuelle Datei schließt und eine neue Datei erstellt, wenn die maximale Dateigröße erreicht ist.</span><span class="sxs-lookup"><span data-stu-id="8ac37-117">The file rollover option causes [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to close the current file and create a new file when the maximum file size is reached.</span></span> <span data-ttu-id="8ac37-118">Der Name der neuen Datei stimmt mit dem der vorigen Datei überein, wird jedoch durch eine angefügte ganze Zahl ergänzt, um die Position der Datei in der Sequenz anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="8ac37-118">The new file has the same name as the previous file, but an integer is appended to the name to indicate its sequence.</span></span> <span data-ttu-id="8ac37-119">Lautet der Name der ursprünglichen Ablaufverfolgungsdatei z. B. filename_1.trc, wird die nächste Datei mit filename_2.trc benannt usw.</span><span class="sxs-lookup"><span data-stu-id="8ac37-119">For example, if the original trace file is named filename_1.trc, the next trace file is filename_2.trc, and so on.</span></span> <span data-ttu-id="8ac37-120">Wird der einer neuen Rolloverdatei zugewiesene Name bereits von einer vorhandenen Datei verwendet, wird die vorhandene Datei überschrieben, es sei denn, die Datei ist schreibgeschützt.</span><span class="sxs-lookup"><span data-stu-id="8ac37-120">If the name assigned to a new rollover file is already used by an existing file, the existing file is overwritten unless it is read only.</span></span> <span data-ttu-id="8ac37-121">Die Dateirolloveroption ist standardmäßig aktiviert, wenn Sie Ablaufverfolgungsdaten in einer Datei speichern.</span><span class="sxs-lookup"><span data-stu-id="8ac37-121">The file rollover option is enabled by default when you are saving trace data to a file.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8ac37-122">Bei aktivierter Dateirolloveroption wird die Ablaufverfolgung fortgesetzt, bis sie auf andere Weise beendet wird.</span><span class="sxs-lookup"><span data-stu-id="8ac37-122">With the file rollover option on, the trace continues until it is stopped by some other means.</span></span> <span data-ttu-id="8ac37-123">Um die Ablaufverfolgung zu beenden, nachdem die Dateigrößenbeschränkung erreicht wurde, deaktivieren Sie die Dateirolloveroption.</span><span class="sxs-lookup"><span data-stu-id="8ac37-123">To stop the trace after you have reached the file size limit, disable the file rollover option.</span></span>  
  
 <span data-ttu-id="8ac37-124">**So legen Sie die maximale Dateigröße für eine Ablaufverfolgungsdatei fest**</span><span class="sxs-lookup"><span data-stu-id="8ac37-124">**To set a maximum file size for a trace file**</span></span>  
  
 [<span data-ttu-id="8ac37-125">Festlegen einer maximalen Dateigröße für eine Ablaufverfolgungsdatei &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="8ac37-125">Set a Maximum File Size for a Trace File &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/set-a-maximum-file-size-for-a-trace-file-sql-server-profiler.md)  
  
## <a name="maximum-number-of-rows"></a><span data-ttu-id="8ac37-126">Maximale Zeilenanzahl</span><span class="sxs-lookup"><span data-stu-id="8ac37-126">Maximum Number of Rows</span></span>  
 <span data-ttu-id="8ac37-127">Eine Ablaufverfolgung mit einer maximalen Zeilenzahl speichert keine weiteren Ablaufverfolgungsinformationen in einer Tabelle, wenn die maximale Zeilenzahl erreicht wurde.</span><span class="sxs-lookup"><span data-stu-id="8ac37-127">A trace with a maximum number of rows stops saving trace information to a table after the maximum number of rows has been reached.</span></span> <span data-ttu-id="8ac37-128">Jedes Ereignis bildet eine Zeile, sodass dieser Parameter eine Beschränkung für die Anzahl der gesammelten Ereignisse festlegt.</span><span class="sxs-lookup"><span data-stu-id="8ac37-128">Each event constitutes one row, so this parameter sets a limit on the number of events that are gathered.</span></span> <span data-ttu-id="8ac37-129">Das Festlegen der maximalen Zeilenzahl erleichtert die Ausführung unbeaufsichtigter Ablaufverfolgungen.</span><span class="sxs-lookup"><span data-stu-id="8ac37-129">Setting the maximum number of rows makes it easier to run unattended traces.</span></span> <span data-ttu-id="8ac37-130">Sie können z. B. eine Ablaufverfolgung starten, bei der die Ablaufverfolgungsdaten in einer Tabelle gespeichert werden, und die Ablaufverfolgung automatisch beenden lassen, wenn die Tabelle zu groß wird.</span><span class="sxs-lookup"><span data-stu-id="8ac37-130">For example, if you need to start a trace that saves trace data to a table, but you want to stop the trace if the table becomes too large, you can do so automatically.</span></span>  
  
 <span data-ttu-id="8ac37-131">Wenn die maximale Zeilenzahl angegeben und diese Zahl erreicht wurde, wird die Ablaufverfolgung fortgesetzt, während [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] ausgeführt wird, aber es werden keine Ablaufverfolgungsinformationen mehr aufgezeichnet.</span><span class="sxs-lookup"><span data-stu-id="8ac37-131">When the maximum number of rows is specified and the maximum number of rows has been reached, the trace continues to run while [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] is running, but the trace information is no longer recorded.</span></span> [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="8ac37-132">weiterhin angezeigt, bis die Ablaufverfolgung angehalten wird.</span><span class="sxs-lookup"><span data-stu-id="8ac37-132">continues to display the trace results until the trace stops.</span></span>  
  
 <span data-ttu-id="8ac37-133">**So legen Sie die maximale Zeilenzahl für eine Ablaufverfolgung fest**</span><span class="sxs-lookup"><span data-stu-id="8ac37-133">**To set a maximum number of rows for a trace**</span></span>  
  
 [<span data-ttu-id="8ac37-134">Festlegen der maximalen Tabellengröße für eine Ablaufverfolgungstabelle &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="8ac37-134">Set a Maximum Table Size for a Trace Table &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/set-a-maximum-table-size-for-a-trace-table-sql-server-profiler.md)  
  
## <a name="see-also"></a><span data-ttu-id="8ac37-135">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="8ac37-135">See Also</span></span>  
 [<span data-ttu-id="8ac37-136">sp_trace_create &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8ac37-136">sp_trace_create &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-trace-create-transact-sql)  
  
  
