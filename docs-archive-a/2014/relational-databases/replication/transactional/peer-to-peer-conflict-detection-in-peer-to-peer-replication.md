---
title: Konflikterkennung bei der Peer-zu-Peer-Replikation |Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- transactional replication, peer-to-peer replication
- peer-to-peer transactional replication, conflict detection
ms.assetid: 754a1070-59bc-438d-998b-97fdd77d45ca
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 301a751bf5b5959ab1fc434ac2a583a6b0378fdd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87618631"
---
# <a name="conflict-detection-in-peer-to-peer-replication"></a><span data-ttu-id="aab5a-102">Konflikterkennung bei der Peer-zu-Peer-Replikation</span><span class="sxs-lookup"><span data-stu-id="aab5a-102">Conflict Detection in Peer-to-Peer Replication</span></span>
  <span data-ttu-id="aab5a-103">Bei der Peer-zu-Peer-Transaktionsreplikation können Sie an einem beliebigen Knoten in der Topologie Daten einfügen, aktualisieren oder löschen, und Datenänderungen können an andere Knoten übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="aab5a-103">Peer-to-peer transactional replication lets you insert, update, or delete data at any node in a topology and have data changes propagated to the other nodes.</span></span> <span data-ttu-id="aab5a-104">Da Sie Daten an einem beliebigen Knoten ändern können, können Datenänderungen an verschiedenen Knoten untereinander in Konflikt stehen.</span><span class="sxs-lookup"><span data-stu-id="aab5a-104">Because you can change data at any node, data changes at different nodes could conflict with each other.</span></span> <span data-ttu-id="aab5a-105">Wird eine Zeile an mehr als einem Knoten geändert, kann es zu einem Konflikt kommen, oder das Update kann sogar verloren gehen, wenn die Zeile an andere Knoten übermittelt wird.</span><span class="sxs-lookup"><span data-stu-id="aab5a-105">If a row is modified at more than one node, it can cause a conflict or even a lost update when the row is propagated to other nodes.</span></span>  
  
 <span data-ttu-id="aab5a-106">Die Peer-zu-Peer-Replikation in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] und neueren Versionen bietet die Option, die Konflikterkennung für eine gesamte Peer-zu-Peer-Topologie zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="aab5a-106">Peer-to-peer replication in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] and later versions provides the option to enable conflict detection across a peer-to-peer topology.</span></span> <span data-ttu-id="aab5a-107">Mithilfe dieser Option kann Problemen vorgebeugt werden, die durch nicht erkannte Konflikte, einschließlich inkonsistentem Verhalten von Anwendungen und verlorenen Updates, entstehen.</span><span class="sxs-lookup"><span data-stu-id="aab5a-107">This option would help prevent the issues that are caused by undetected conflicts, including inconsistent application behavior and lost updates.</span></span> <span data-ttu-id="aab5a-108">Standardmäßig wird, wenn diese Option aktiviert ist, eine konfliktverursachende Änderung als ein schwerwiegender Fehler betrachtet, der zu einem Fehler des Verteilungs-Agents führt.</span><span class="sxs-lookup"><span data-stu-id="aab5a-108">With this option enabled, by default a conflicting change is treated as a critical error that causes the failure of the Distribution Agent.</span></span> <span data-ttu-id="aab5a-109">Bei einem Konflikt verbleibt die Topologie so lange in einem inkonsistenten Zustand, bis der Konflikt gelöst und die Datenkonsistenz in der Topologie wiederhergestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="aab5a-109">In the event of a conflict, the topology remains in an inconsistent state until the conflict is resolved and the data is made consistent across the topology.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="aab5a-110">Stellen Sie, um inkonsistente Daten zu vermeiden, in einer Peer-zu-Peer-Topologie sicher, dass keine Konflikte auftreten, auch wenn die Konflikterkennung aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="aab5a-110">To avoid potential data inconsistency, make sure that you avoid conflicts in a peer-to-peer topology, even with conflict detection enabled.</span></span> <span data-ttu-id="aab5a-111">Damit sichergestellt ist, dass Schreibvorgänge für eine bestimmte Zeile nur an einem Knoten durchgeführt werden, müssen Anwendungen, die auf Daten zugreifen und diese ändern, Einfügungen, Updates und Löschungen partitionieren.</span><span class="sxs-lookup"><span data-stu-id="aab5a-111">To ensure that write operations for a particular row are performed at only one node, applications that access and change data must partition insert, update, and delete operations.</span></span> <span data-ttu-id="aab5a-112">Diese Partitionierung gewährleistet, dass Änderungen an einer bestimmten Zeile, die von einem Knoten stammt, mit allen anderen Knoten in der Topologie synchronisiert werden, bevor die Zeile von einem anderen Knoten geändert wird.</span><span class="sxs-lookup"><span data-stu-id="aab5a-112">This partitioning ensures that modifications to a given row that is originating at one node are synchronized with all other nodes in the topology before the row is modified by a different node.</span></span> <span data-ttu-id="aab5a-113">Wenn eine Anwendung ausgereifte Fähigkeiten zur Konflikterkennung und -lösung erfordert, verwenden Sie die Mergereplikation.</span><span class="sxs-lookup"><span data-stu-id="aab5a-113">If an application requires sophisticated conflict detection and resolution capabilities, use merge replication.</span></span> <span data-ttu-id="aab5a-114">Weitere Informationen finden Sie unter [Mergereplikation](../merge/merge-replication.md) und [Erkennen und Beseitigen von Konflikten bei der Mergereplikation](../merge/advanced-merge-replication-conflict-detection-and-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="aab5a-114">For more information, see [Merge Replication](../merge/merge-replication.md) and [Detect and Resolve Merge Replication Conflicts](../merge/advanced-merge-replication-conflict-detection-and-resolution.md).</span></span>  
  
## <a name="understanding-conflicts-and-conflict-detection"></a><span data-ttu-id="aab5a-115">Grundlegendes zu Konflikten und der Konflikterkennung</span><span class="sxs-lookup"><span data-stu-id="aab5a-115">Understanding Conflicts and Conflict Detection</span></span>  
 <span data-ttu-id="aab5a-116">In einer einzelnen Datenbank verursachen Änderungen, die von verschiedenen Anwendungen an derselben Zeile vorgenommen werden, keinen Konflikt.</span><span class="sxs-lookup"><span data-stu-id="aab5a-116">In a single database, changes that are made to the same row by different applications do not cause a conflict.</span></span> <span data-ttu-id="aab5a-117">Der Grund dafür ist, dass Transaktionen serialisiert und gleichzeitige Änderungen mithilfe von Sperren behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="aab5a-117">This is because transactions are serialized, and locks are used to handle concurrent changes.</span></span> <span data-ttu-id="aab5a-118">In einem asynchronen verteilten System wie der Peer-zu-Peer-Replikation agieren Transaktionen unabhängig voneinander auf jedem Knoten, und es gibt keinen Mechanismus dafür, Transaktionen über mehrere Knoten zu serialisieren.</span><span class="sxs-lookup"><span data-stu-id="aab5a-118">In an asynchronous distributed system such as peer-to-peer replication, transactions act independently on each node; and there is no mechanism to serialize transactions across multiple nodes.</span></span> <span data-ttu-id="aab5a-119">Ein Protokoll wie Zweiphasencommit könnte verwendet werden, aber dies hat deutliche Auswirkungen auf die Leistung.</span><span class="sxs-lookup"><span data-stu-id="aab5a-119">A protocol like two-phase commit could be used, but this affects performance significantly.</span></span>  
  
 <span data-ttu-id="aab5a-120">In Systemen wie der Peer-zu-Peer-Replikation werden Konflikte nicht erkannt, wenn für Änderungen ein Commit auf einzelnen Peers ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="aab5a-120">In systems such as peer-to-peer replication, conflicts are not detected when changes are committed at individual peers.</span></span> <span data-ttu-id="aab5a-121">Sie werden erst erkannt, wenn diese Änderungen repliziert und auf anderen Peers übernommen werden.</span><span class="sxs-lookup"><span data-stu-id="aab5a-121">Instead, they are detected when those changes are replicated and applied at other peers.</span></span> <span data-ttu-id="aab5a-122">Bei der Peer-zu-Peer-Replikation werden Konflikte von den gespeicherten Prozeduren erkannt, die Änderungen an jedem Knoten übernehmen, und zwar basierend auf einer ausgeblendeten Spalte in jeder veröffentlichten Tabelle.</span><span class="sxs-lookup"><span data-stu-id="aab5a-122">In peer-to-peer replication, conflicts are detected by the stored procedures that apply changes to each node, based on a hidden column in each published table.</span></span> <span data-ttu-id="aab5a-123">In dieser ausgeblendeten Spalte ist eine ID gespeichert, die eine *Absender-ID* , die Sie für jeden Knoten angeben, mit der Version der Zeile kombiniert.</span><span class="sxs-lookup"><span data-stu-id="aab5a-123">This hidden column stores an ID that combines an *originator ID* that you specify for each node and the version of the row.</span></span> <span data-ttu-id="aab5a-124">Während der Synchronisierung führt der Verteilungs-Agent Prozeduren für jede Tabelle aus.</span><span class="sxs-lookup"><span data-stu-id="aab5a-124">During synchronization, the Distribution Agent executes procedures for each table.</span></span> <span data-ttu-id="aab5a-125">Diese Prozeduren übernehmen Einfüge-, Update- und Löschvorgänge von anderen Peers.</span><span class="sxs-lookup"><span data-stu-id="aab5a-125">These procedures apply insert, update, and delete operations from other peers.</span></span> <span data-ttu-id="aab5a-126">Wenn eine der Prozeduren beim Lesen des Werts der ausgeblendeten Spalte einen Konflikt erkennt, wird Fehler 22815 mit einem Schweregrad von 16 ausgelöst:</span><span class="sxs-lookup"><span data-stu-id="aab5a-126">If one of the procedures detects a conflict when it reads the hidden column value, it raises error 22815 that has a severity level of 16:</span></span>  
  
 `A conflict of type '%s' was detected at peer %d between peer %d (incoming), transaction id %s  and peer %d (on disk), transaction id %s`  
  
 <span data-ttu-id="aab5a-127">Standardmäßig führt dieser Fehler dazu, dass der Verteilungs-Agent das Übernehmen von Änderungen für diesen Knoten beendet.</span><span class="sxs-lookup"><span data-stu-id="aab5a-127">By default, this error causes the Distribution Agent to stop applying changes to that node.</span></span> <span data-ttu-id="aab5a-128">Informationen zum Behandeln der erkannten Konflikte finden Sie unter "Konfliktbehandlung" weiter unten in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="aab5a-128">For information about how to handle the conflicts that are detected, see "Handling Conflicts" later in this topic.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="aab5a-129">Der Zugriff auf die ausgeblendete Spalte ist nur durch einen Benutzer möglich, der sich über die dedizierte Administratorverbindung (DAC) angemeldet hat.</span><span class="sxs-lookup"><span data-stu-id="aab5a-129">The hidden column can be accessed only by a user that is logged in through the Dedicated Administrator Connection (DAC).</span></span> <span data-ttu-id="aab5a-130">Weitere Informationen zu DAC finden Sie unter [Diagnoseverbindung für Datenbankadministratoren](../../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).</span><span class="sxs-lookup"><span data-stu-id="aab5a-130">For information about DAC, see [Diagnostic Connection for Database Administrators](../../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).</span></span>  
  
 <span data-ttu-id="aab5a-131">Die Peer-zu-Peer-Replikation erkennt die folgenden Typen von Konflikten:</span><span class="sxs-lookup"><span data-stu-id="aab5a-131">Peer-to-peer replication detects the following types of conflicts:</span></span>  
  
-   <span data-ttu-id="aab5a-132">Insert-insert</span><span class="sxs-lookup"><span data-stu-id="aab5a-132">Insert-insert</span></span>  
  
     <span data-ttu-id="aab5a-133">Alle Zeilen in einer Tabelle, die an der Peer-zu-Peer-Replikation beteiligt sind, werden mithilfe von Primärschlüsselwerten eindeutig identifiziert.</span><span class="sxs-lookup"><span data-stu-id="aab5a-133">All rows in each table participating in peer-to-peer replication are uniquely identified by using primary key values.</span></span> <span data-ttu-id="aab5a-134">Ein Konflikt vom Typ "insert-insert" tritt auf, wenn eine Zeile mit demselben Schlüsselwert an mehreren Knoten eingefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="aab5a-134">An insert-insert conflict occurs when a row with the same key value was inserted at more than one node.</span></span>  
  
-   <span data-ttu-id="aab5a-135">Update-update</span><span class="sxs-lookup"><span data-stu-id="aab5a-135">Update-update</span></span>  
  
     <span data-ttu-id="aab5a-136">Tritt auf, wenn eine Zeile an mehreren Knoten aktualisiert wurde.</span><span class="sxs-lookup"><span data-stu-id="aab5a-136">Occurs when the same row was updated at more than one node.</span></span>  
  
-   <span data-ttu-id="aab5a-137">Insert-update</span><span class="sxs-lookup"><span data-stu-id="aab5a-137">Insert-update</span></span>  
  
     <span data-ttu-id="aab5a-138">Tritt auf, wenn eine Zeile an einem Knoten aktualisiert wurde, diese Zeile aber gelöscht und dann an einem anderen Knoten erneut eingefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="aab5a-138">Occurs if a row was updated at one node, but the same row was deleted and then reinserted at another node.</span></span>  
  
-   <span data-ttu-id="aab5a-139">Insert-delete</span><span class="sxs-lookup"><span data-stu-id="aab5a-139">Insert-delete</span></span>  
  
     <span data-ttu-id="aab5a-140">Tritt auf, wenn eine Zeile an einem Knoten gelöscht wurde, diese Zeile aber gelöscht und dann an einem anderen Knoten erneut eingefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="aab5a-140">Occurs if a row was deleted at one node, but the same row was deleted and then reinserted at another node.</span></span>  
  
-   <span data-ttu-id="aab5a-141">Update-delete</span><span class="sxs-lookup"><span data-stu-id="aab5a-141">Update-delete</span></span>  
  
     <span data-ttu-id="aab5a-142">Tritt auf, wenn eine Zeile an einem Knoten aktualisiert wurde, diese Zeile aber an einem anderen Knoten gelöscht wurde.</span><span class="sxs-lookup"><span data-stu-id="aab5a-142">Occurs if a row was updated at one node, but the same row was deleted at another node.</span></span>  
  
-   <span data-ttu-id="aab5a-143">Delete-delete</span><span class="sxs-lookup"><span data-stu-id="aab5a-143">Delete-delete</span></span>  
  
     <span data-ttu-id="aab5a-144">Tritt auf, wenn eine Zeile an mehreren Knoten gelöscht wurde.</span><span class="sxs-lookup"><span data-stu-id="aab5a-144">Occurs when a row was deleted at more than one node.</span></span>  
  
## <a name="enabling-conflict-detection"></a><span data-ttu-id="aab5a-145">Aktivieren der Konflikterkennung</span><span class="sxs-lookup"><span data-stu-id="aab5a-145">Enabling Conflict Detection</span></span>  
 <span data-ttu-id="aab5a-146">Zur Verwendung der Konflikterkennung muss auf allen Knoten [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] oder eine höhere Version ausgeführt werden, und die Erkennung muss für alle Knoten aktiviert sein.</span><span class="sxs-lookup"><span data-stu-id="aab5a-146">To use conflict detection, all nodes must be running [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] or a later version; and detection must be enabled for all nodes.</span></span> <span data-ttu-id="aab5a-147">In [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] und höheren Versionen ist die Konflikterkennung in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="aab5a-147">In [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] and later versions, by default, conflict detection is enabled in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="aab5a-148">Es wird empfohlen, die Konflikterkennung auch in Szenarien zu aktivieren, in denen Sie keine Konflikte erwarten.</span><span class="sxs-lookup"><span data-stu-id="aab5a-148">We recommend that you have detection enabled, even in scenarios in which you do not expect any conflicts.</span></span> <span data-ttu-id="aab5a-149">Die Konflikterkennung kann in [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)] oder mithilfe der gespeicherten Prozeduren in [!INCLUDE[tsql](../../../includes/tsql-md.md)] aktiviert und deaktiviert werden:</span><span class="sxs-lookup"><span data-stu-id="aab5a-149">Conflict detection can be enabled and disabled by using [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)] stored procedures:</span></span>  
  
-   <span data-ttu-id="aab5a-150">Sie können die Konflikterkennung in [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)] entweder auf der Seite **Abonnementoptionen** im Dialogfeld **Veröffentlichungseigenschaften** oder auf der Seite **Topologie konfigurieren** des Assistenten zum Konfigurieren der Peer-zu-Peer-Topologie aktivieren und deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="aab5a-150">You can enable and disable detection in [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)] either by using the **Subscription Options** page of the **Publication Properties** dialog box or the **Configure Topology** page of the Configure Peer-to-Peer Topology Wizard.</span></span>  
  
     <span data-ttu-id="aab5a-151">Wenn Sie die Konflikterkennung mithilfe von [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)]konfigurieren, wird der Verteilungs-Agent so konfiguriert, dass er bei Erkennung eines Konflikts das Übernehmen von Änderungen beendet.</span><span class="sxs-lookup"><span data-stu-id="aab5a-151">If you configure conflict detection by using [!INCLUDE[ssManStudio](../../../includes/ssmanstudio-md.md)], the Distribution Agent is configured to stop applying changes when a conflict is detected.</span></span>  
  
-   <span data-ttu-id="aab5a-152">Sie können die Konflikterkennung auch mithilfe der folgenden gespeicherten Prozeduren aktivieren und deaktivieren: [sp_addpublication](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql) oder [sp_configure_peerconflictdetection](/sql/relational-databases/system-stored-procedures/sp-configure-peerconflictdetection-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="aab5a-152">You can also enable and disable detection by using the following stored procedures: [sp_addpublication](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql) or [sp_configure_peerconflictdetection](/sql/relational-databases/system-stored-procedures/sp-configure-peerconflictdetection-transact-sql).</span></span>  
  
     <span data-ttu-id="aab5a-153">Wenn Sie die Konflikterkennung mithilfe gespeicherter Prozeduren konfigurieren, können Sie angeben, ob der Verteilungs-Agent bei Erkennung eines Konflikts das Übernehmen von Änderungen beenden soll.</span><span class="sxs-lookup"><span data-stu-id="aab5a-153">If you configure conflict detection by using stored procedures, you can specify whether the Distribution Agent should stop applying changes when a conflict is detected.</span></span> <span data-ttu-id="aab5a-154">Standardmäßig beendet der Agent diese Aufgabe.</span><span class="sxs-lookup"><span data-stu-id="aab5a-154">The default is for the agent to stop.</span></span> <span data-ttu-id="aab5a-155">Es wird empfohlen, die Standardeinstellung zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="aab5a-155">We recommend that you use the default setting.</span></span>  
  
## <a name="handling-conflicts"></a><span data-ttu-id="aab5a-156">Konfliktbehandlung</span><span class="sxs-lookup"><span data-stu-id="aab5a-156">Handling Conflicts</span></span>  
 <span data-ttu-id="aab5a-157">Wenn ein Konflikt in der Peer-zu-Peer-Replikation auftritt, wird die Peer-zu-Peer Konflikterkennungswarnung ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="aab5a-157">When a conflict occurs in peer-to-peer replication, the Peer-to-peer conflict detection alert is raised.</span></span> <span data-ttu-id="aab5a-158">Es wird empfohlen, diese Warnung so zu konfigurieren, dass Sie benachrichtigt werden, wenn ein Konflikt auftritt.</span><span class="sxs-lookup"><span data-stu-id="aab5a-158">We recommend that you configure this alert so that you are notified when a conflict occurs.</span></span> <span data-ttu-id="aab5a-159">Weitere Informationen über Warnungen finden Sie unter [Verwenden von Warnungen für Replikations-Agentereignisse](../agents/use-alerts-for-replication-agent-events.md).</span><span class="sxs-lookup"><span data-stu-id="aab5a-159">For more information about alerts, see [Use Alerts for Replication Agent Events](../agents/use-alerts-for-replication-agent-events.md).</span></span>  
  
 <span data-ttu-id="aab5a-160">Verwenden Sie eine der folgenden Vorgehensweisen, um den aufgetretenen Konflikt zu behandeln, nachdem der Verteilungs-Agent beendet und die Warnung ausgelöst wurde:</span><span class="sxs-lookup"><span data-stu-id="aab5a-160">After the Distribution Agent stops and the alert is raised, use one of the following approaches to handle the conflicts that occurred:</span></span>  
  
-   <span data-ttu-id="aab5a-161">Initialisieren Sie den Knoten, an dem der Konflikt erkannt wurde, erneut aus der Sicherung eines Knotens, der die erforderlichen Daten aufweist (empfohlene Vorgehensweise).</span><span class="sxs-lookup"><span data-stu-id="aab5a-161">Reinitialize the node where the conflict was detected from the backup of a node that contains the required data (the recommended approach).</span></span> <span data-ttu-id="aab5a-162">Mithilfe dieser Methode wird sichergestellt, dass sich die Daten in einem konsistenten Status befinden.</span><span class="sxs-lookup"><span data-stu-id="aab5a-162">This method ensures that data is in a consistent state.</span></span>  
  
-   <span data-ttu-id="aab5a-163">Versuchen Sie, den Knoten wieder zu synchronisieren, indem Sie den Verteilungs-Agent aktivieren, damit dieser das Übernehmen von Änderungen fortsetzt:</span><span class="sxs-lookup"><span data-stu-id="aab5a-163">Try to synchronize the node again by enabling the Distribution Agent to continue to apply changes:</span></span>  
  
    1.  <span data-ttu-id="aab5a-164">Execute [sp_changepublication](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql): Geben Sie ' p2p_continue_onconflict ' für den @property -Parameter und `true` den- @value Parameter an.</span><span class="sxs-lookup"><span data-stu-id="aab5a-164">Execute [sp_changepublication](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql): specify 'p2p_continue_onconflict' for the @property parameter and `true` for the @value parameter.</span></span>  
  
    2.  <span data-ttu-id="aab5a-165">Starten Sie den Verteilungs-Agent neu.</span><span class="sxs-lookup"><span data-stu-id="aab5a-165">Restart the Distribution Agent.</span></span>  
  
    3.  <span data-ttu-id="aab5a-166">Überprüfen Sie die erkannten Konflikte im Konflikt-Viewer, und bestimmen Sie die beteiligten Zeilen, den Konflikttyp und den Gewinner.</span><span class="sxs-lookup"><span data-stu-id="aab5a-166">Verify the conflicts that were detected by using the conflict viewer and determine the rows that were involved, the type of conflict, and the winner.</span></span> <span data-ttu-id="aab5a-167">Der Konflikt wird anhand des Werts der Absender-ID aufgelöst, den Sie während der Konfiguration angegeben haben: Die Zeile, die von dem Knoten mit der höchsten ID stammt, gewinnt den Konflikt.</span><span class="sxs-lookup"><span data-stu-id="aab5a-167">The conflict is resolved based on the originator ID value that you specified during configuration: the row that originated at the node with the highest ID wins the conflict.</span></span> <span data-ttu-id="aab5a-168">Weitere Informationen finden Sie unter [Anzeigen von Datenkonflikten für Transaktionsveröffentlichungen &#40;SQL Server Management Studio&#41;](../view-data-conflicts-for-transactional-publications-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="aab5a-168">For more information, see [View Data Conflicts for Transactional Publications &#40;SQL Server Management Studio&#41;](../view-data-conflicts-for-transactional-publications-sql-server-management-studio.md).</span></span>  
  
    4.  <span data-ttu-id="aab5a-169">Führen Sie eine Überprüfung aus, um sicherzustellen, dass die miteinander in Konflikt stehenden Zeilen ordnungsgemäß konvergiert wurden.</span><span class="sxs-lookup"><span data-stu-id="aab5a-169">Run validation to ensure that the conflicting rows converged correctly.</span></span> <span data-ttu-id="aab5a-170">Weitere Informationen finden Sie unter [Überprüfen von replizierten Daten](../validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="aab5a-170">For more information, see [Validate Replicated Data](../validate-data-at-the-subscriber.md).</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="aab5a-171">Wenn die Daten nach Ausführung dieses Schritts inkonsistent sind, müssen Sie die Zeilen auf dem Knoten mit der höchsten Priorität manuell aktualisieren und dann die Änderungen von diesem Knoten übertragen.</span><span class="sxs-lookup"><span data-stu-id="aab5a-171">If data is inconsistent after this step, you must manually update rows on the node that has the highest priority, and then let the changes propagate from this node.</span></span> <span data-ttu-id="aab5a-172">Wenn die Topologie keine weiteren miteinander in Konflikt stehenden Änderungen aufweist, werden alle Knoten in einen konsistenten Status gebracht.</span><span class="sxs-lookup"><span data-stu-id="aab5a-172">If there are no further conflicting changes in the topology, all nodes will be brought to a consistent state.</span></span>  
  
    5.  <span data-ttu-id="aab5a-173">Execute [sp_changepublication](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql): Geben Sie ' p2p_continue_onconflict ' für den @property -Parameter und `false` den- @value Parameter an.</span><span class="sxs-lookup"><span data-stu-id="aab5a-173">Execute [sp_changepublication](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql): specify 'p2p_continue_onconflict' for the @property parameter and `false` for the @value parameter.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="aab5a-174">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="aab5a-174">See Also</span></span>  
 [<span data-ttu-id="aab5a-175">Peer-to-Peer Transactional Replication</span><span class="sxs-lookup"><span data-stu-id="aab5a-175">Peer-to-Peer Transactional Replication</span></span>](peer-to-peer-transactional-replication.md)  
  
  
