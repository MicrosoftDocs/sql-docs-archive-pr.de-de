---
title: Konfigurieren der Websynchronisierung | Microsoft Dokumentation
ms.custom: ''
ms.date: 01/10/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- SQL10.REP.CONFIGWEBSYNCWIZARD.SUBTYPE.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.CLIENTAUTH.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.WEBSERV.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.DIRACCESS.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.VIRDIRINFO.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.AUTHACCESS.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.COMPLETEWIZ.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.ANONACCESS.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.SNAPSHARE.F1
helpviewer_keywords:
- Web synchronization, security best practices
- Web synchronization, configuring
ms.assetid: 21f8e4d4-cd07-4856-98f0-9c9890ebbc82
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 406175533b92d13dce8c14b91b654fbb6099dc22
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87608579"
---
# <a name="configure-web-synchronization"></a><span data-ttu-id="980bc-102">Websynchronisierung konfigurieren</span><span class="sxs-lookup"><span data-stu-id="980bc-102">Configure Web Synchronization</span></span>
  <span data-ttu-id="980bc-103">Die Websynchronisierungsoption für die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Mergereplikation ermöglicht die Datenreplikation mithilfe des HTTPS-Protokolls über das Internet.</span><span class="sxs-lookup"><span data-stu-id="980bc-103">The Web synchronization option for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Merge Replication enables data replication using the HTTPS protocol over the Internet.</span></span> <span data-ttu-id="980bc-104">Um die Websynchronisierung zu verwenden, müssen Sie zuerst die folgenden Konfigurationsaktionen ausführen:</span><span class="sxs-lookup"><span data-stu-id="980bc-104">To use Web synchronization, you first need to perform the following configuration actions:</span></span>  
  
1.  <span data-ttu-id="980bc-105">Erstellen Sie neue Domänenkonten und ordnen Sie [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Anmeldungen zu.</span><span class="sxs-lookup"><span data-stu-id="980bc-105">Create new domain accounts and map [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] logins.</span></span>  
  
2.  <span data-ttu-id="980bc-106">Konfigurieren Sie den Computer, auf dem [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internetinformationsdienste (Internet Information Services, IIS) ausgeführt wird, für die Synchronisierung von Abonnements.</span><span class="sxs-lookup"><span data-stu-id="980bc-106">Configure the computer that is running [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Information Services (IIS) to synchronize subscriptions.</span></span>  
  
3.  <span data-ttu-id="980bc-107">Konfigurieren Sie eine Mergeveröffentlichung für die Websynchronisierung.</span><span class="sxs-lookup"><span data-stu-id="980bc-107">Configure a merge publication to allow Web synchronization.</span></span>  
  
4.  <span data-ttu-id="980bc-108">Konfigurieren Sie ein oder mehrere Abonnements zur Verwendung der Websynchronisierung.</span><span class="sxs-lookup"><span data-stu-id="980bc-108">Configure one or more subscriptions to use Web synchronization.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="980bc-109">Wenn Sie große Datenmengen replizieren oder umfangreiche Datentypen wie `varchar(max)` verwenden möchten, lesen Sie den Abschnitt "Replizieren großer Datenmengen" in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="980bc-109">If you plan to replicate large volumes of data or use large data types such as `varchar(max)`, read the section "Replicating Large Volumes of Data" in this topic.</span></span>  
  
 <span data-ttu-id="980bc-110">Um die Websynchronisierung erfolgreich einzurichten, müssen Sie entscheiden, wie die Sicherheit gemäß bestimmter Anforderungen und Richtlinien konfiguriert werden soll.</span><span class="sxs-lookup"><span data-stu-id="980bc-110">To successfully set up Web synchronization, you must decide how you will configure security to meet your particular requirements and policies.</span></span> <span data-ttu-id="980bc-111">Es wird empfohlen, diese Entscheidungen zu treffen und die notwendigen Konten zu erstellen, bevor Sie IIS, die Veröffentlichung und die Abonnements konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="980bc-111">It is best to make these decisions and create the necessary accounts before you attempt to configure IIS, the publication, and subscriptions.</span></span>  
  
 <span data-ttu-id="980bc-112">In den folgenden Schritten wird aus Platzgründen eine vereinfachte Sicherheitskonfiguration mit lokalen Konten beschrieben.</span><span class="sxs-lookup"><span data-stu-id="980bc-112">In the procedures that follow, a simplified security configuration using local accounts is described, for brevity.</span></span> <span data-ttu-id="980bc-113">Diese vereinfachte Konfiguration ist für Installationen geeignet, bei denen IIS und der [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Verleger und -Verteiler auf dem gleichen Computer ausgeführt werden, obwohl es viel wahrscheinlicher ist (und empfohlen wird), dass eine Multiservertopologie für eine Produktionsinstallation verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="980bc-113">This simplified configuration is suitable for installations where both IIS and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Publisher and Distributor are running on the same computer, even though it is much more likely (and recommended) that you will use a multiple-server topology for a production installation.</span></span> <span data-ttu-id="980bc-114">Sie können in diesen Schritten die lokalen Konten durch Domänenkonten ersetzen.</span><span class="sxs-lookup"><span data-stu-id="980bc-114">You can substitute domain accounts for the local accounts in the procedures.</span></span>  
  
## <a name="creating-new-accounts-and-mapping-sql-server-logins"></a><span data-ttu-id="980bc-115">Erstellen von neuen Konten und Zuordnen von SQL Server-Anmeldungen</span><span class="sxs-lookup"><span data-stu-id="980bc-115">Creating New Accounts and Mapping SQL Server Logins</span></span>  
 <span data-ttu-id="980bc-116">Die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Replikationsüberwachung (replisapi.dll) stellt eine Verbindung mit dem Verleger durch Identitätswechsel des für den Anwendungspool angegebenen Kontos her, der der Replikationswebsite zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="980bc-116">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener (replisapi.dll) connects to the Publisher by impersonating the account specified for the application pool that is associated with the replication web site.</span></span>  
  
 <span data-ttu-id="980bc-117">Das für die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Replikationsüberwachung verwendete Konto muss über die unter [Merge Agent Security](merge-agent-security.md)im Abschnitt "Herstellen einer Verbindung mit dem Verleger oder dem Verteiler" beschriebenen Berechtigungen verfügen.</span><span class="sxs-lookup"><span data-stu-id="980bc-117">The account used for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener must have permissions as described in [Merge Agent Security](merge-agent-security.md), under the section "Connect to the Publisher or Distributor."</span></span> <span data-ttu-id="980bc-118">Zusammengefasst muss das Konto folgende Bedingungen erfüllen:</span><span class="sxs-lookup"><span data-stu-id="980bc-118">In summary, the account must:</span></span>  
  
-   <span data-ttu-id="980bc-119">Es muss Mitglied der Veröffentlichungszugriffsliste (PAL) sein.</span><span class="sxs-lookup"><span data-stu-id="980bc-119">Be a member of the Publication Access List (PAL).</span></span>  
  
-   <span data-ttu-id="980bc-120">Es muss einer mit einem Benutzer in der Veröffentlichungsdatenbank verknüpften Anmeldung zugeordnet sein.</span><span class="sxs-lookup"><span data-stu-id="980bc-120">Be mapped to a login associated with a user in the publication database.</span></span>  
  
-   <span data-ttu-id="980bc-121">Es muss einer mit einem Benutzer in der Verteilungsdatenbank verknüpften Anmeldung zugeordnet sein.</span><span class="sxs-lookup"><span data-stu-id="980bc-121">Be mapped to a login associated with a user in the distribution database.</span></span>  
  
-   <span data-ttu-id="980bc-122">Es muss über Leseberechtigungen für die Momentaufnahmefreigabe verfügen.</span><span class="sxs-lookup"><span data-stu-id="980bc-122">Have Read permissions on the snapshot share.</span></span>  
  
 <span data-ttu-id="980bc-123">Wenn Sie die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Replikation das erste Mal verwenden, müssen Sie auch Konten und Anmeldungen für die Replikations-Agents erstellen.</span><span class="sxs-lookup"><span data-stu-id="980bc-123">If this is the first time you are using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication, you will also need to create accounts and logins for the replication agents.</span></span> <span data-ttu-id="980bc-124">Weitere Informationen finden Sie in diesem Thema in den Abschnitten "Konfigurieren der Veröffentlichung" und "Konfigurieren des Abonnements".</span><span class="sxs-lookup"><span data-stu-id="980bc-124">For more information, see the "Configuring the Publication" and "Configuring the Subscription" sections in this topic.</span></span>  
  
 <span data-ttu-id="980bc-125">Bevor Sie die Websynchronisierung konfigurieren, sollten Sie den Abschnitt "Bewährte Methoden bezüglich der Sicherheit bei der Websynchronisierung" in diesem Thema lesen.</span><span class="sxs-lookup"><span data-stu-id="980bc-125">Before you configure Web synchronization, we recommend that you read the "Security Best Practices for Web Synchronization" section in this topic.</span></span> <span data-ttu-id="980bc-126">Weitere Informationen zur Sicherheit bei der Websynchronisierung finden Sie unter [Security Architecture for Web Synchronization](security/security-architecture-for-web-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="980bc-126">For more information about Web synchronization security, see [Security Architecture for Web Synchronization](security/security-architecture-for-web-synchronization.md).</span></span>  
  
## <a name="configuring-the-computer-that-is-running-iis"></a><span data-ttu-id="980bc-127">Konfigurieren des Computers, auf dem IIS ausgeführt wird</span><span class="sxs-lookup"><span data-stu-id="980bc-127">Configuring the Computer That Is Running IIS</span></span>  
 <span data-ttu-id="980bc-128">Für die Websynchronisierung ist es erforderlich, IIS zu installieren und zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="980bc-128">Web synchronization requires that you install and configure IIS.</span></span> <span data-ttu-id="980bc-129">Sie benötigen die URL zur Replikationswebsite, bevor Sie eine Veröffentlichung zur Verwendung der Websynchronisierung konfigurieren können.</span><span class="sxs-lookup"><span data-stu-id="980bc-129">You will need the URL to the replication Web site before you can configure a publication to use Web synchronization.</span></span>  
  
<span data-ttu-id="980bc-130">Die Websynchronisierung wird auf IIS ab Version 5.0 unterstützt.</span><span class="sxs-lookup"><span data-stu-id="980bc-130">Web synchronization is supported on IIS beginning with version 5.0.</span></span> <span data-ttu-id="980bc-131">Der Assistent zum Konfigurieren der Websynchronisierung wird auf IIS Version 7.0 nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="980bc-131">The Configure Web Synchronization Wizard is not supported on IIS version 7.0.</span></span> <span data-ttu-id="980bc-132">Beginnend mit SQL Server 2012, empfiehlt sich für die Nutzung der Web-Sync-Komponente auf dem IIS-Server die Installation des SQL Servers mit Replikation.</span><span class="sxs-lookup"><span data-stu-id="980bc-132">Beginning with SQL Server 2012, to use the web sync component on IIS server, we recommend users install SQL Server with replication.</span></span> <span data-ttu-id="980bc-133">Dabei kann es sich um die kostenlose SQL Server Express Edition handeln.</span><span class="sxs-lookup"><span data-stu-id="980bc-133">This can be the free SQL Server Express edition.</span></span>  
  
 <span data-ttu-id="980bc-134">SSL ist für die Websynchronisierung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="980bc-134">SSL is required for Web synchronization.</span></span> <span data-ttu-id="980bc-135">Sie benötigen ein von einer Zertifizierungsstelle ausgestelltes Sicherheitszertifikat.</span><span class="sxs-lookup"><span data-stu-id="980bc-135">You will need a security certificate issued by a certification authority.</span></span> <span data-ttu-id="980bc-136">Nur zu Testzwecken können Sie ein selbst ausgestelltes Sicherheitszertifikat verwenden.</span><span class="sxs-lookup"><span data-stu-id="980bc-136">For testing purposes only, you can use a self-issued security certificate.</span></span>  
  
  
 <span data-ttu-id="980bc-137">**So konfigurieren Sie IIS für die Websynchronisierung**</span><span class="sxs-lookup"><span data-stu-id="980bc-137">**To configure IIS for Web synchronization**</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="980bc-138">: [Konfigurieren von IIS für die Websynchronisierung](configure-iis-for-web-synchronization.md)</span><span class="sxs-lookup"><span data-stu-id="980bc-138">: [Configure IIS for Web Synchronization](configure-iis-for-web-synchronization.md)</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="980bc-139">: [Konfigurieren von IIS 7 für die Websynchronisierung](configure-iis-7-for-web-synchronization.md)</span><span class="sxs-lookup"><span data-stu-id="980bc-139">: [Configure IIS 7 for Web Synchronization](configure-iis-7-for-web-synchronization.md)</span></span>  
  
## <a name="creating-a-web-garden"></a><span data-ttu-id="980bc-140">Erstellen eines Webgartens</span><span class="sxs-lookup"><span data-stu-id="980bc-140">Creating a Web Garden</span></span>  
 <span data-ttu-id="980bc-141">Die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Replikationsüberwachung unterstützt zwei gleichzeitige Synchronisierungsvorgänge pro Thread.</span><span class="sxs-lookup"><span data-stu-id="980bc-141">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener supports two concurrent synchronization operations per thread.</span></span> <span data-ttu-id="980bc-142">Das Überschreiten dieser Grenze kann dazu führen, dass die Replikationsüberwachung nicht mehr antwortet.</span><span class="sxs-lookup"><span data-stu-id="980bc-142">Exceeding this limit may cause the Replication Listener to stop responding.</span></span> <span data-ttu-id="980bc-143">Die Anzahl der replisapi.dll zugeordneten Threads wird von der Eigenschaft "Maximale Anzahl von Arbeitsprozessen" des Anwendungspools bestimmt.</span><span class="sxs-lookup"><span data-stu-id="980bc-143">The number of threads allocated to replisapi.dll is determined by the application pool Maximum Worker Processes property.</span></span> <span data-ttu-id="980bc-144">Standardmäßig ist diese Eigenschaft auf 1 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="980bc-144">By default, this property is set at 1.</span></span>  
  
 <span data-ttu-id="980bc-145">Erhöhen Sie den Wert der Eigenschaft "Maximale Anzahl von Arbeitsprozessen", um eine größere Anzahl gleichzeitiger Synchronisierungsvorgänge pro CPU zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="980bc-145">You can support a greater number of concurrent synchronization operations per CPU by increasing the Maximum Worker Process property value.</span></span> <span data-ttu-id="980bc-146">Das horizontale Skalieren durch Erhöhen der Anzahl von Arbeitsprozessen pro CPU wird als Erstellen eines "Webgartens" bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="980bc-146">Scaling out by increasing the number of worker processes per CPU is known as creating a "Web garden."</span></span>  
  
 <span data-ttu-id="980bc-147">Ein Webgarten lässt die gleichzeitige Synchronisierung von mehr als zwei Abonnenten zu.</span><span class="sxs-lookup"><span data-stu-id="980bc-147">Web gardening will allow more than two Subscribers to synchronize at the same time.</span></span> <span data-ttu-id="980bc-148">Er erhöht außerdem die CPU-Auslastung durch replisapi.dll, was sich negativ auf die Gesamtleistung des Servers auswirken kann.</span><span class="sxs-lookup"><span data-stu-id="980bc-148">It will also increase CPU utilization by replisapi.dll, which can negatively impact overall server performance.</span></span> <span data-ttu-id="980bc-149">Diese Überlegungen müssen bei der Auswahl eines Werts für die Eigenschaft "Maximale Anzahl von Arbeitsprozessen" beachtet werden.</span><span class="sxs-lookup"><span data-stu-id="980bc-149">It is important to balance these considerations when you choose a value for Maximum Worker Processes.</span></span>  
  
#### <a name="to-increase-maximum-worker-processes-in-iis-7"></a><span data-ttu-id="980bc-150">So erhöhen Sie die maximale Anzahl von Arbeitsprozessen in IIS 7</span><span class="sxs-lookup"><span data-stu-id="980bc-150">To increase Maximum Worker Processes in IIS 7</span></span>  
  
1.  <span data-ttu-id="980bc-151">Erweitern Sie im **Internetinformationsdienste-Manager**den Knoten für den lokalen Server, und klicken Sie dann auf den Knoten **Anwendungspool** .</span><span class="sxs-lookup"><span data-stu-id="980bc-151">In **Internet Information Services (IIS) Manager**, expand the local server node, and then click on the **Application Pool** node.</span></span>  
  
2.  <span data-ttu-id="980bc-152">Wählen Sie den der Websynchronisierungswebsite zugeordneten Anwendungspool aus, und klicken Sie dann im Bereich **Aktionen** auf **Erweiterte Einstellungen** .</span><span class="sxs-lookup"><span data-stu-id="980bc-152">Select the application pool associated with the Web synchronization site, and then click **Advanced Settings** on the **Actions** pane.</span></span>  
  
3.  <span data-ttu-id="980bc-153">Klicken Sie im Dialogfeld **Erweiterte Einstellungen** unter der Überschrift **Prozessmodell**auf die Zeile mit der Bezeichnung Maximale Anzahl von Arbeitsprozessen.</span><span class="sxs-lookup"><span data-stu-id="980bc-153">On the Advanced Settings dialog, under the **Process Model** heading, click the row labeled **Maximum Worker Processes**.</span></span> <span data-ttu-id="980bc-154">Ändern Sie den Eigenschaftswert, und klicken Sie dann auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="980bc-154">Change the property value, and then click **OK**.</span></span>  
  
## <a name="configuring-the-publication"></a><span data-ttu-id="980bc-155">Konfigurieren der Veröffentlichung</span><span class="sxs-lookup"><span data-stu-id="980bc-155">Configuring the Publication</span></span>  
 <span data-ttu-id="980bc-156">Erstellen Sie eine Veröffentlichung auf dieselbe Weise wie für eine standardmäßige Mergetopologie, um die Websynchronisierung zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="980bc-156">To use Web synchronization, create a publication in the same way that you would for a standard merge topology.</span></span> <span data-ttu-id="980bc-157">Weitere Informationen finden Sie unter [Veröffentlichen von Daten und Datenbankobjekten](publish/publish-data-and-database-objects.md).</span><span class="sxs-lookup"><span data-stu-id="980bc-157">For more information, see [Publish Data and Database Objects](publish/publish-data-and-database-objects.md).</span></span>  
  
 <span data-ttu-id="980bc-158">Nachdem die Veröffentlichung erstellt wurde, aktivieren Sie die Option zur Verwendung der Websynchronisierung mithilfe der Methoden [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)]oder Replikationsverwaltungsobjekte (RMO, Replication Management Objects).</span><span class="sxs-lookup"><span data-stu-id="980bc-158">After the publication is created, enable the option to allow for Web synchronization by using one of the following methods: [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)], or Replication Management Objects (RMO).</span></span> <span data-ttu-id="980bc-159">Um die Websynchronisierung zu aktivieren, müssen Sie die Webserveradresse für Abonnentenverbindungen angeben.</span><span class="sxs-lookup"><span data-stu-id="980bc-159">To enable Web synchronization, you will need to supply the Web server address for Subscriber connections.</span></span>  
  
 <span data-ttu-id="980bc-160">Wenn Sie einen Verleger zum ersten Mal verwenden, müssen Sie auch einen Verteiler und eine Momentaufnahmefreigabe konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="980bc-160">If you are using a Publisher for the first time, you must also configure a Distributor and a snapshot share.</span></span> <span data-ttu-id="980bc-161">Der Merge-Agent bei jedem Abonnenten muss über Leseberechtigungen für die Momentaufnahmefreigabe verfügen.</span><span class="sxs-lookup"><span data-stu-id="980bc-161">The Merge Agent at each Subscriber must have read permissions on the snapshot share.</span></span> <span data-ttu-id="980bc-162">Weitere Informationen finden Sie unter [Verteilung konfigurieren](configure-distribution.md) und [Sichern des Momentaufnahmeordners](security/secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="980bc-162">For more information, see [Configure Distribution](configure-distribution.md) and [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md).</span></span>  
  
 <span data-ttu-id="980bc-163">`gen` ist ein reserviertes Wort in Websync-Dateien (XML).</span><span class="sxs-lookup"><span data-stu-id="980bc-163">`gen` is a reserved word in websync xml files.</span></span> <span data-ttu-id="980bc-164">Versuchen Sie nicht, Tabellen zu veröffentlichen, in denen Spalten mit dem Namen `gen` enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="980bc-164">Do not attempt to publish tables containing columns named `gen`.</span></span>  
  
## <a name="configuring-the-subscription"></a><span data-ttu-id="980bc-165">Konfigurieren des Abonnements</span><span class="sxs-lookup"><span data-stu-id="980bc-165">Configuring the Subscription</span></span>  
 <span data-ttu-id="980bc-166">Nachdem Sie eine Veröffentlichung aktiviert und IIS konfiguriert haben, erstellen Sie ein Pullabonnement und geben an, dass es mithilfe von IIS synchronisiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="980bc-166">After you enable a publication and configure IIS, create a pull subscription and specify that the pull subscription should synchronize by using IIS.</span></span> <span data-ttu-id="980bc-167">(Die Websynchronisierung wird nur für Pullabonnements unterstützt.)</span><span class="sxs-lookup"><span data-stu-id="980bc-167">(Web synchronization is supported only for pull subscriptions.)</span></span>  
  
## <a name="upgrading-from-an-earlier-version-of-sql-server"></a><span data-ttu-id="980bc-168">Aktualisieren von einer früheren Version von SQL Server</span><span class="sxs-lookup"><span data-stu-id="980bc-168">Upgrading from an Earlier Version of SQL Server</span></span>  
 <span data-ttu-id="980bc-169">Wenn eine vorhandene Websynchronisierungstopologie konfiguriert wurde und Sie [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]aktualisieren, müssen Sie sicherstellen, dass die neueste Version von Replisapi.dll in das von der Websynchronisierung verwendete virtuelle Verzeichnis kopiert wird.</span><span class="sxs-lookup"><span data-stu-id="980bc-169">If you have an existing Web synchronization topology configured and you upgrade [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you must ensure that the latest version of Replisapi.dll is copied to the virtual directory used by Web synchronization.</span></span> <span data-ttu-id="980bc-170">Standardmäßig befindet sich die neueste Version von Replisapi.dll in C:\Programme\Microsoft SQL Server\\<nnn\>\COM.</span><span class="sxs-lookup"><span data-stu-id="980bc-170">By default, the latest version of Replisapi.dll is located in C:\Program Files\Microsoft SQL Server\\<nnn\>\COM.</span></span>  
  
## <a name="replicating-large-volumes-of-data"></a><span data-ttu-id="980bc-171">Replizieren großer Datenmengen</span><span class="sxs-lookup"><span data-stu-id="980bc-171">Replicating Large Volumes of Data</span></span>  
 <span data-ttu-id="980bc-172">Um Speicherprobleme auf Abonnentencomputern zu vermeiden, verwendet die Websynchronisierung eine maximale Standardgröße von 100 MB für die XML-Datei zur Übertragung von Änderungen.</span><span class="sxs-lookup"><span data-stu-id="980bc-172">To help avoid potential memory problems on Subscriber computers Web synchronization uses a default maximum size of 100 MB for the XML file used to transfer changes.</span></span> <span data-ttu-id="980bc-173">Die Grenze kann in folgendem Registrierungsschlüssel erweitert werden:</span><span class="sxs-lookup"><span data-stu-id="980bc-173">The limit can be raised by setting the following registry key:</span></span>  
  
 <span data-ttu-id="980bc-174">**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\100\Replication**</span><span class="sxs-lookup"><span data-stu-id="980bc-174">**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\100\Replication**</span></span>  
  
 <span data-ttu-id="980bc-175">**WebSyncMaxXmlSize DWORD 2000000**</span><span class="sxs-lookup"><span data-stu-id="980bc-175">**WebSyncMaxXmlSize DWORD 2000000**</span></span>  
  
 <span data-ttu-id="980bc-176">Der Bereich akzeptabler Werte für diesen Schlüssel ist 100 MB bis 4 GB.</span><span class="sxs-lookup"><span data-stu-id="980bc-176">The range of acceptable values for this key is 100 MB to 4GB.</span></span> <span data-ttu-id="980bc-177">Der Wert wird in KB angegeben.</span><span class="sxs-lookup"><span data-stu-id="980bc-177">The value is specified in KB.</span></span> <span data-ttu-id="980bc-178">Das Setzen diese Parameters auf einen hohen Wert bietet keine Garantie, dass Sie diese Datenmenge synchronisieren können.</span><span class="sxs-lookup"><span data-stu-id="980bc-178">Setting this parameter to a high value does not guarantee that you can synchronize that amount of data.</span></span> <span data-ttu-id="980bc-179">Die effektive Grenze ist davon abhängig, wie viel zusammenhängender Arbeitsspeicher auf dem Abonnentencomputer verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="980bc-179">The effective limit is constrained by how much contiguous memory is available on the Subscriber computer.</span></span> <span data-ttu-id="980bc-180">Falls Sie mehr als 100 MB benötigen, sollten Sie den Wert schrittweise erhöhen und den Speicherbedarf bei einer typischen Arbeitsauslastung auf dem Abonnentencomputer testen.</span><span class="sxs-lookup"><span data-stu-id="980bc-180">If you must have a value larger than 100 MB, we recommend that you increase the value incrementally and test memory consumption with a typical workload on the Subscriber.</span></span>  
  
 <span data-ttu-id="980bc-181">Die maximale Größe für die XML-Datei beträgt 4 GB, aber die Replikation synchronisiert die Änderungen aus dieser Datei batchweise.</span><span class="sxs-lookup"><span data-stu-id="980bc-181">The maximum size for the XML file is 4 GB, but replication synchronizes the changes from that file in batches.</span></span> <span data-ttu-id="980bc-182">Die Batchgröße von Daten und Metadaten beträgt maximal 25 MB.</span><span class="sxs-lookup"><span data-stu-id="980bc-182">The maximum batch size of data and metadata is 25 MB.</span></span> <span data-ttu-id="980bc-183">Achten Sie daher darauf, dass die Daten in jedem Batch höchstens 20 MB ausmachen, damit ausreichend Platz für Metadaten und andere Komponenten vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="980bc-183">You must ensure that the data in each batch does not exceed approximately 20 MB, which allows for metadata and any other overhead.</span></span> <span data-ttu-id="980bc-184">Diese Grenze bringt die folgenden Auswirkungen mit sich:</span><span class="sxs-lookup"><span data-stu-id="980bc-184">This limit has the following implications:</span></span>  
  
-   <span data-ttu-id="980bc-185">Es können keine Spalten repliziert werden, die bewirken, dass Daten und Metadaten 25 MB überschreiten.</span><span class="sxs-lookup"><span data-stu-id="980bc-185">You cannot replicate any column that causes the data and metadata to exceed 25 MB.</span></span> <span data-ttu-id="980bc-186">Dies stellt möglicherweise ein Problem dar, wenn Sie Zeilen mit umfangreichen Datentypen wie `varchar(max)` replizieren.</span><span class="sxs-lookup"><span data-stu-id="980bc-186">This might be an issue when you are replicating rows that contain large data types, such as `varchar(max)`.</span></span>  
  
-   <span data-ttu-id="980bc-187">Wenn Sie große Datenmengen replizieren, müssen Sie ggf. die Batchgröße des Merge-Agents anpassen.</span><span class="sxs-lookup"><span data-stu-id="980bc-187">If you replicate large volumes of data, you might have to adjust the Merge Agent batch size.</span></span>  
  
 <span data-ttu-id="980bc-188">Die Batchgröße für die Mergereplikation wird in *Generierungen*gemessen, bei denen es sich um Auflistungen von Änderungen pro Artikel handelt.</span><span class="sxs-lookup"><span data-stu-id="980bc-188">Batch size for merge replication is measured in *generations*, which are collections of changes per article.</span></span> <span data-ttu-id="980bc-189">Die Anzahl von Generierungen in einem Batch wird mithilfe der Parameter- `DownloadGenerationsPerBatch` und- `UploadGenerationsPerBatch` Parameter des Merge-Agent angegeben.</span><span class="sxs-lookup"><span data-stu-id="980bc-189">The number of generations in a batch is specified by using the-`DownloadGenerationsPerBatch` and -`UploadGenerationsPerBatch` parameters of the Merge Agent.</span></span> <span data-ttu-id="980bc-190">Weitere Informationen finden Sie unter [Replication Merge Agent](agents/replication-merge-agent.md).</span><span class="sxs-lookup"><span data-stu-id="980bc-190">For more information, see [Replication Merge Agent](agents/replication-merge-agent.md).</span></span>  
  
 <span data-ttu-id="980bc-191">Geben Sie für große Datenmengen eine kleine Zahl für die einzelnen Batchverarbeitungsparameter an.</span><span class="sxs-lookup"><span data-stu-id="980bc-191">For large volumes of data, specify a small number for each of the batching parameters.</span></span> <span data-ttu-id="980bc-192">Es wird empfohlen, mit dem Wert 10 zu beginnen und dann je nach Anwendungsanforderungen und -leistung diesen Wert zu optimieren.</span><span class="sxs-lookup"><span data-stu-id="980bc-192">We recommend that you start with a value of 10, and then tune based on application needs and performance.</span></span> <span data-ttu-id="980bc-193">Normalerweise werden diese Parameter in einem Agentprofil angegeben.</span><span class="sxs-lookup"><span data-stu-id="980bc-193">Typically, these parameters are specified in an agent profile.</span></span> <span data-ttu-id="980bc-194">Weitere Informationen zu Profilen finden Sie unter [Replication Agent Profiles](agents/replication-agent-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="980bc-194">For more information about profiles, see [Replication Agent Profiles](agents/replication-agent-profiles.md).</span></span>  
  
## <a name="security-best-practices-for-web-synchronization"></a><span data-ttu-id="980bc-195">Bewährte Methoden bezüglich der Sicherheit bei der Websynchronisierung</span><span class="sxs-lookup"><span data-stu-id="980bc-195">Security Best Practices for Web Synchronization</span></span>  
 <span data-ttu-id="980bc-196">Es gibt verschiedene Auswahlmöglichkeiten für die sicherheitsbezogenen Einstellungen bei der Websynchronisierung.</span><span class="sxs-lookup"><span data-stu-id="980bc-196">There are many choices for security-related settings in Web synchronization.</span></span> <span data-ttu-id="980bc-197">Der folgende Ansatz ist empfehlenswert:</span><span class="sxs-lookup"><span data-stu-id="980bc-197">We recommend the following approach:</span></span>  
  
-   <span data-ttu-id="980bc-198">Der [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Verteiler und -Verleger können sich auf demselben Computer befinden (eine typische Konfiguration für die Mergereplikation).</span><span class="sxs-lookup"><span data-stu-id="980bc-198">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributor and Publisher can be on the same computer (a typical setup for merge replication).</span></span> <span data-ttu-id="980bc-199">IIS sollte jedoch auf einem separaten Computer installiert werden.</span><span class="sxs-lookup"><span data-stu-id="980bc-199">However, IIS should be installedon a separate computer.</span></span>  
  
-   <span data-ttu-id="980bc-200">Verwenden Sie SSL (Secure Sockets Layer), um die Verbindung zwischen dem Abonnenten und dem Computer mit IIS zu verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="980bc-200">Use Secure Sockets Layer (SSL) to encrypt the connection between the Subscriber and the computer running IIS.</span></span> <span data-ttu-id="980bc-201">Dies ist für die Websynchronisierung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="980bc-201">This is required for Web synchronization.</span></span>  
  
-   <span data-ttu-id="980bc-202">Verwenden Sie die Standardauthentifizierung für Verbindungen zwischen dem Abonnenten und IIS.</span><span class="sxs-lookup"><span data-stu-id="980bc-202">Use Basic Authentication for connections from the Subscriber to IIS.</span></span> <span data-ttu-id="980bc-203">Mithilfe der Standardauthentifizierung kann IIS Verbindungen zum Verleger/Verteiler im Namen des Abonnenten herstellen, ohne dass eine Delegierung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="980bc-203">Using Basic Authentication, IIS can make connections to the Publisher/Distributor on behalf of the Subscriber without requiring delegation.</span></span> <span data-ttu-id="980bc-204">Die Delegierung ist erforderlich, wenn Sie die integrierte Authentifizierung verwenden.</span><span class="sxs-lookup"><span data-stu-id="980bc-204">Delegation is required if you use Integrated Authentication.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="980bc-205">Die Standardauthentifizierung ist die Methode, mit der Anmeldeinformationen an IIS weitergegeben werden.</span><span class="sxs-lookup"><span data-stu-id="980bc-205">Basic Authentication is the method by which credentials are passed to IIS.</span></span> <span data-ttu-id="980bc-206">Die Standardauthentifizierung verhindert nicht die Angabe von Windows-Domänenkonten für zu IIS hergestellte Verbindungen.</span><span class="sxs-lookup"><span data-stu-id="980bc-206">Basic Authentication does not prevent specifying Windows domain accounts for connections that are made to IIS.</span></span>  
  
-   <span data-ttu-id="980bc-207">Geben Sie an, dass der Momentaufnahme-Agent unter einem Windows-Domänenkonto ausgeführt werden soll und dass der Agent als dieses Konto Verbindungen herstellen soll.</span><span class="sxs-lookup"><span data-stu-id="980bc-207">Specify that the Snapshot Agent should run under a Windows domain account, and specify that the agent should make connections as that account.</span></span> <span data-ttu-id="980bc-208">(Dies ist die Standardkonfiguration.) Geben Sie an, dass jeder Merge-Agent unter dem Domänenkonto des Benutzers ausgeführt werden soll, der den Abonnentencomputer verwendet. Geben Sie zudem an, dass der Agent Verbindungen als dieses Konto herstellen soll.</span><span class="sxs-lookup"><span data-stu-id="980bc-208">(This is the default configuration.) Specify that each Merge Agent should run under the domain account of the user that uses the Subscriber computer, and specify that the agent should make connections as that account.</span></span>  
  
     <span data-ttu-id="980bc-209">Weitere Informationen zu den erforderlichen Berechtigungen für die Agents finden Sie unter [Replication Agent Security Model](security/replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="980bc-209">For more information about the permissions that are required by agents, see [Replication Agent Security Model](security/replication-agent-security-model.md).</span></span>  
  
-   <span data-ttu-id="980bc-210">Geben Sie das Domänen Konto an, das das Merge-Agent verwendet, wenn Sie auf der Seite **Webserver Informationen** des Assistenten für neue Abonnements ein Konto und ein Kennwort angeben oder wenn Sie Werte für die **@internet_url** **@internet_login** Parameter und [sp_addpullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-agent-transact-sql)angeben.</span><span class="sxs-lookup"><span data-stu-id="980bc-210">Specify the same domain account as the one the Merge Agent uses when you specify an account and password on the **Web Server Information** page of the New Subscription Wizard or when you specify values for the **@internet_url** and **@internet_login** parameters of [sp_addpullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-agent-transact-sql).</span></span> <span data-ttu-id="980bc-211">Dieses Konto muss über Leseberechtigungen für die Momentaufnahmefreigabe verfügen.</span><span class="sxs-lookup"><span data-stu-id="980bc-211">This account must have read permissions for the snapshot share.</span></span>  
  
-   <span data-ttu-id="980bc-212">Jede Veröffentlichung sollte ein separates virtuelles Verzeichnis für IIS verwenden.</span><span class="sxs-lookup"><span data-stu-id="980bc-212">Each publication should use a separate virtual directory for IIS.</span></span>  
  
-   <span data-ttu-id="980bc-213">Das Konto, unter dem die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Replikationsüberwachung (Replisapi.dll) ausgeführt wird, ist auch das Konto, das während der Synchronisierung eine Verbindung mit dem Verleger und dem Verteiler herstellt.</span><span class="sxs-lookup"><span data-stu-id="980bc-213">The account under which the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener (Replisapi.dll) runs is also the account that will connect to the Publisher and Distributor during synchronization.</span></span> <span data-ttu-id="980bc-214">Dieses Konto muss einem SQL-Anmeldekonto auf dem Verleger und dem Verteiler zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="980bc-214">This account must be mapped to a SQL Login account on the Publisher and Distributor.</span></span> <span data-ttu-id="980bc-215">Weitere Informationen finden Sie im Abschnitt „Festlegen von Berechtigungen für die SQL-Replikationsüberwachung“ unter [Konfigurieren von IIS für die Websynchronisierung](configure-iis-for-web-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="980bc-215">For more information, see the "Setting Permissions for the SQL Server Replication Listener" section in the [Configure IIS for Web Synchronization](configure-iis-for-web-synchronization.md).</span></span>  
  
-   <span data-ttu-id="980bc-216">Sie können FTP verwenden, um die Momentaufnahme vom Verleger an den Computer mit IIS zu übermitteln.</span><span class="sxs-lookup"><span data-stu-id="980bc-216">You can use FTP to deliver the snapshot from the Publisher to the computer that is running IIS.</span></span> <span data-ttu-id="980bc-217">Die Momentaufnahme wird von dem Computer mit IIS immer mithilfe von HTTPS an den Abonnenten übermittelt.</span><span class="sxs-lookup"><span data-stu-id="980bc-217">The snapshot is always delivered from the computer that is running IIS to the Subscriber by using HTTPS.</span></span> <span data-ttu-id="980bc-218">Weitere Informationen finden Sie unter [Übertragen von Momentaufnahmen über FTP](transfer-snapshots-through-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="980bc-218">For more information, see [Transfer Snapshots Through FTP](transfer-snapshots-through-ftp.md).</span></span>  
  
-   <span data-ttu-id="980bc-219">Wenn sich Server in der Replikationstopologie hinter einer Firewall befinden, müssen Sie möglicherweise Ports in der Firewall öffnen, um die Websynchronisierung zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="980bc-219">If servers in the replication topology are behind a firewall, you might need to open ports in the firewall to enable Web synchronization.</span></span>  
  
    -   <span data-ttu-id="980bc-220">Der Abonnentencomputer stellt die Verbindung mit dem Computer, auf dem IIS ausgeführt wird, über HTTPS mithilfe von SSL her, das normalerweise für die Verwendung von Port 443 konfiguriert ist.</span><span class="sxs-lookup"><span data-stu-id="980bc-220">The Subscriber computer connects to the computer that is running IIS over HTTPS using SSL, which is typically configured to use port 443.</span></span> [!INCLUDE[ssEW](../../includes/ssew-md.md)] <span data-ttu-id="980bc-221">-Abonnenten können die Verbindung auch über HTTP herstellen, das normalerweise für die Verwendung von Port 80 konfiguriert ist.</span><span class="sxs-lookup"><span data-stu-id="980bc-221">Subscribers can also connect over HTTP, which is typically configured to use port 80.</span></span>  
  
    -   <span data-ttu-id="980bc-222">Der Computer, auf dem IIS ausgeführt wird, stellt die Verbindung mit dem Verleger oder Verteiler in der Regel über Port 1433 (Standardinstanz) her.</span><span class="sxs-lookup"><span data-stu-id="980bc-222">The computer that is running IIS typically connects to the Publisher or Distributor using port 1433 (default instance).</span></span> <span data-ttu-id="980bc-223">Wenn der Verleger oder der Verteiler eine benannte Instanz auf einem Server mit einer anderen Standardinstanz ist, wird normalerweise die Verbindung mit der benannten Instanz über Port 1500 hergestellt.</span><span class="sxs-lookup"><span data-stu-id="980bc-223">When the Publisher or Distributor is a named instance on a server with another default instance, port 1500 is typically used to connect to the named instance.</span></span>  
  
    -   <span data-ttu-id="980bc-224">Wenn der Computer, auf dem ISS ausgeführt wird, vom Verteiler durch eine Firewall getrennt ist und für die Momentaufnahmeübermittlung eine FTP-Freigabe verwendet wird, müssen die für FTP verwendeten Ports geöffnet sein.</span><span class="sxs-lookup"><span data-stu-id="980bc-224">If the computer running IIS is separated from the Distributor by a firewall and an FTP share is used for snapshot delivery, the ports used for FTP must be opened.</span></span> <span data-ttu-id="980bc-225">Weitere Informationen finden Sie unter [Übertragen von Momentaufnahmen über FTP](transfer-snapshots-through-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="980bc-225">For more information, see [Transfer Snapshots Through FTP](transfer-snapshots-through-ftp.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="980bc-226">Das Öffnen von Ports in der Firewall kann dazu führen, dass der Server böswilligen Angriffen ausgesetzt ist.</span><span class="sxs-lookup"><span data-stu-id="980bc-226">Opening ports in your firewall can leave your server exposed to malicious attacks.</span></span> <span data-ttu-id="980bc-227">Daher sollten Sie Ports grundsätzlich nur dann öffnen, wenn Sie sicher sind, dass Sie das Konzept von Firewallsystemen verstanden haben.</span><span class="sxs-lookup"><span data-stu-id="980bc-227">Make sure that you understand firewall systems before you open ports.</span></span> <span data-ttu-id="980bc-228">Weitere Informationen finden Sie unter [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md).</span><span class="sxs-lookup"><span data-stu-id="980bc-228">For more information, see [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="980bc-229">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="980bc-229">See Also</span></span>  
 [<span data-ttu-id="980bc-230">Websynchronisierung für die Mergereplikation</span><span class="sxs-lookup"><span data-stu-id="980bc-230">Web Synchronization for Merge Replication</span></span>](web-synchronization-for-merge-replication.md)  
  
  
