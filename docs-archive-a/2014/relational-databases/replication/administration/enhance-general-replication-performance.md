---
title: Verbessern der allgemeinen Replikationsleistung | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- publications [SQL Server replication], design and performance
- designing databases [SQL Server], replication performance
- Snapshot Agent, performance
- snapshots [SQL Server replication], performance considerations
- merge replication performance [SQL Server replication]
- snapshot replication [SQL Server], performance
- subscriptions [SQL Server replication], performance considerations
- agents [SQL Server replication], performance
- performance [SQL Server replication], general considerations
- transactional replication, performance
ms.assetid: 895b1ad7-ffb9-4a5c-bda6-e1dfbd56d9bf
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 0a85519a947e7d5d03f324b71984d2ffb40bcefe
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87725558"
---
# <a name="enhance-general-replication-performance"></a><span data-ttu-id="01327-102">Verbessern der allgemeinen Replikationsleistung</span><span class="sxs-lookup"><span data-stu-id="01327-102">Enhance General Replication Performance</span></span>
  <span data-ttu-id="01327-103">Wenn Sie die Hinweise in diesem Thema beachten, können Sie die allgemeine Leistung aller Replikationstypen in der Anwendung und im Netzwerk verbessern.</span><span class="sxs-lookup"><span data-stu-id="01327-103">You can enhance the general performance for all types of replication in your application and on your network by using the guidelines described in this topic.</span></span>  
  
## <a name="server-and-network"></a><span data-ttu-id="01327-104">Server und Netzwerk</span><span class="sxs-lookup"><span data-stu-id="01327-104">Server and Network</span></span>  
  
-   <span data-ttu-id="01327-105">Legen Sie das Minimum und das Maximum für den Arbeitsspeicher fest, der [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)] zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="01327-105">Set the minimum and maximum amount of memory allocated to [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)].</span></span>  
  
     <span data-ttu-id="01327-106">Standardmäßig ändert [!INCLUDE[ssDE](../../../includes/ssde-md.md)] die Arbeitsspeicheranforderungen auf der Grundlage der verfügbaren Systemressourcen dynamisch.</span><span class="sxs-lookup"><span data-stu-id="01327-106">By default, the [!INCLUDE[ssDE](../../../includes/ssde-md.md)] changes its memory requirements dynamically based on available system resources.</span></span> <span data-ttu-id="01327-107">Wenn verhindert werden soll, dass während Replikationsaktivitäten nur wenig Arbeitsspeicher zur Verfügung steht, verwenden Sie die Option **Min. Serverarbeitsspeicher** zum Festlegen des Minimums an Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="01327-107">To avoid low memory availability during replication activities, use the **min server memory** option to set the minimum available memory.</span></span> <span data-ttu-id="01327-108">Um zu verhindern, dass das Betriebssystem Speicher auslagern muss, können Sie auch ein Maximum an Arbeitsspeicher mit der Option **Max. Serverarbeitsspeicher** festlegen.</span><span class="sxs-lookup"><span data-stu-id="01327-108">To avoid having the operating system page to disc for memory, you can also set a maximum amount of memory with the **max server memory** option.</span></span> <span data-ttu-id="01327-109">Weitere Informationen finden Sie unter [Konfigurationsoptionen für den Serverarbeitsspeicher](../../../database-engine/configure-windows/server-memory-server-configuration-options.md).</span><span class="sxs-lookup"><span data-stu-id="01327-109">For more information, see [Server Memory Server Configuration Options](../../../database-engine/configure-windows/server-memory-server-configuration-options.md).</span></span>  
  
-   <span data-ttu-id="01327-110">Stellen Sie eine ordnungsgemäße Zuordnung der Datenbankdateien und Protokolldateien sicher.</span><span class="sxs-lookup"><span data-stu-id="01327-110">Ensure proper allocation of database data files and log files.</span></span> <span data-ttu-id="01327-111">Verwenden Sie ein separates Laufwerk für das Transaktionsprotokoll für alle an der Replikation beteiligten Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="01327-111">Use a separate disk drive for the transaction log for all databases involved in replication.</span></span>  
  
     <span data-ttu-id="01327-112">Sie können die Zeit verringern, die zum Schreiben von Transaktionen benötigt wird, indem Sie die Protokolldateien auf ein anderes Laufwerk schreiben als das, das zum Speichern der Datenbank verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="01327-112">You can decrease the time it takes to write transactions by storing the log files on a disk drive different than the one used to store the database.</span></span> <span data-ttu-id="01327-113">Dieses Laufwerk kann mithilfe eines RAID 1-Gerätes (Redundant Array of Inexpensive Disks) gespiegelt werden, wenn Fehlertoleranz erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="01327-113">You can mirror that drive, using a Redundant Array of Inexpensive Disks (RAID)-1, if you require fault tolerance.</span></span> <span data-ttu-id="01327-114">Verwenden Sie RAID 0 oder 0+1 (je nach Bedarf an Fehlertoleranz) für andere Datenbankdateien.</span><span class="sxs-lookup"><span data-stu-id="01327-114">Use RAID 0 or 0+1 (depending on your need for fault tolerance) for other database files.</span></span> <span data-ttu-id="01327-115">Dies wird empfohlen, unabhängig davon, ob die Replikation verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="01327-115">This is a good practice regardless of whether or not replication is being used.</span></span>  
  
-   <span data-ttu-id="01327-116">Fügen Sie gegebenenfalls Arbeitsspeicher für die Server hinzu, die für die Replikation verwendet werden, insbesondere für den Verteiler.</span><span class="sxs-lookup"><span data-stu-id="01327-116">Consider adding memory to servers used in replication, particularly the Distributor.</span></span>  
  
-   <span data-ttu-id="01327-117">Verwenden Sie Computer mit mehreren Prozessoren.</span><span class="sxs-lookup"><span data-stu-id="01327-117">Use multiprocessor computers.</span></span>  
  
     <span data-ttu-id="01327-118">Replikations-Agents können von weiteren Prozessoren auf dem Server profitieren.</span><span class="sxs-lookup"><span data-stu-id="01327-118">Replication agents can take advantage of additional processors on the server.</span></span> <span data-ttu-id="01327-119">Bei hoher CPU-Nutzung sollten Sie die Installation einer schnelleren CPU oder mehrerer CPUs in Betracht ziehen.</span><span class="sxs-lookup"><span data-stu-id="01327-119">If you are running at high CPU usage, consider installing a faster CPU or multiple CPUs.</span></span>  
  
-   <span data-ttu-id="01327-120">Verwenden Sie ein schnelles Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="01327-120">Use a fast network.</span></span>  
  
     <span data-ttu-id="01327-121">Das Netzwerk kann besonders bei der Transaktionsreplikation einen erheblichen Leistungsengpass darstellen.</span><span class="sxs-lookup"><span data-stu-id="01327-121">The network can be a significant performance bottleneck, particularly for transactional replication.</span></span> <span data-ttu-id="01327-122">Die Weitergabe von Änderungen an den Abonnenten kann deutlich beschleunigt werden, wenn Sie ein sehr schnelles Netzwerk mit 100 MBit/s oder mehr verwenden.</span><span class="sxs-lookup"><span data-stu-id="01327-122">The propagation of changes to Subscribers can be significantly enhanced by using a fast network of 100 megabits per second (Mbps) or faster.</span></span> <span data-ttu-id="01327-123">Geben Sie bei einem langsamen Netzwerk geeignete Netzwerkeinstellungen und Agentparameter an.</span><span class="sxs-lookup"><span data-stu-id="01327-123">If the network is slow, specify appropriate network settings and agent parameters.</span></span>  
  
## <a name="database-design"></a><span data-ttu-id="01327-124">Datenbankentwurf</span><span class="sxs-lookup"><span data-stu-id="01327-124">Database Design</span></span>  
  
-   <span data-ttu-id="01327-125">Beachten Sie die bewährten Methoden für den Datenbankentwurf.</span><span class="sxs-lookup"><span data-stu-id="01327-125">Follow best practices for database design.</span></span>  
  
     <span data-ttu-id="01327-126">Eine Leistungsoptimierung wirkt sich auf eine replizierte Datenbank genauso vorteilhaft aus wie auf eine nicht replizierte Datenbank.</span><span class="sxs-lookup"><span data-stu-id="01327-126">A replicated database generally benefits from the same performance optimizations as a non-replicated database.</span></span> <span data-ttu-id="01327-127">Indizes sind auf dem Abonnenten jedoch mit Bedacht zu verwenden: die Primärschlüsselspalte auf dem Abonnenten sollte indiziert werden, doch weitere Indizes können sich auf die Leistung beim Einfügen, Aktualisieren und Löschen auswirken.</span><span class="sxs-lookup"><span data-stu-id="01327-127">However, indexes should be used with caution at the Subscriber: the primary key column at the Subscriber should be indexed, but additional indexes can affect insert, update, and delete performance.</span></span>  
  
-   <span data-ttu-id="01327-128">Legen Sie gegebenenfalls die Datenbankoption READ_COMMITTED_SNAPSHOT fest.</span><span class="sxs-lookup"><span data-stu-id="01327-128">Consider setting the READ_COMMITTED_SNAPSHOT database option.</span></span>  
  
     <span data-ttu-id="01327-129">Um Konflikte zwischen der Benutzeraktivität und der Aktivität des Replikations-Agents besser vermeiden zu können, legen Sie diese Option für die Veröffentlichungs- und Abonnementdatenbanken fest:</span><span class="sxs-lookup"><span data-stu-id="01327-129">To help reduce contention between user activity and replication agent activity, set this option for the publication and subscription databases:</span></span>  
  
    ```  
    ALTER DATABASE AdventureWorks  
    SET READ_COMMITTED_SNAPSHOT ON  
    ```  
  
     <span data-ttu-id="01327-130">Weitere Informationen zu dieser Einstellung finden Sie unter [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="01327-130">For more information, see [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span></span>  
  
-   <span data-ttu-id="01327-131">Gehen Sie bei der Anwendungslogik in Triggern mit Bedacht vor.</span><span class="sxs-lookup"><span data-stu-id="01327-131">Be cautious with application logic in triggers.</span></span>  
  
     <span data-ttu-id="01327-132">Die Geschäftslogik in benutzerdefinierten Triggern auf dem Abonnenten kann die Replikation von Änderungen an den Abonnenten verlangsamen.</span><span class="sxs-lookup"><span data-stu-id="01327-132">Business logic in user-defined triggers at the Subscriber can slow down the replication of changes to the Subscriber:</span></span>  
  
    -   <span data-ttu-id="01327-133">Für die Transaktionsreplikation kann es effizienter sein, diese Logik in benutzerdefinierte gespeicherte Prozeduren aufzunehmen, die für die Ausführung der replizierten Befehle verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="01327-133">For transactional replication, it can be more efficient to include this logic in custom stored procedures used to apply the replicated commands.</span></span> <span data-ttu-id="01327-134">Weitere Informationen finden Sie unter [Angeben der Weitergabemethode für Änderungen bei Transaktionsartikeln](../transactional/transactional-articles-specify-how-changes-are-propagated.md).</span><span class="sxs-lookup"><span data-stu-id="01327-134">For more information, see [Specify How Changes Are Propagated for Transactional Articles](../transactional/transactional-articles-specify-how-changes-are-propagated.md).</span></span>  
  
    -   <span data-ttu-id="01327-135">Für die Mergereplikation kann es effizienter sein, Geschäftslogikhandler zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="01327-135">For merge replication, it can be more efficient to use business logic handlers.</span></span> <span data-ttu-id="01327-136">Weitere Informationen finden Sie unter [Ausführen von Geschäftslogik während der Mergesynchronisierung](../merge/execute-business-logic-during-merge-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="01327-136">For more information, see [Execute Business Logic During Merge Synchronization](../merge/execute-business-logic-during-merge-synchronization.md).</span></span>  
  
     <span data-ttu-id="01327-137">Wenn Sie zur Wahrung der referenziellen Integrität Trigger in Tabellen verwenden, die für die Mergereplikation veröffentlicht werden, geben Sie die Verarbeitungsreihenfolge der Tabellen an. Auf diese Weise reduzieren Sie die Zahl der Wiederholungsversuche für den Merge-Agent.</span><span class="sxs-lookup"><span data-stu-id="01327-137">If you use triggers to maintain referential integrity in tables published for merge replication, specify the processing order of tables to reduce the number of retries required for the Merge Agent.</span></span> <span data-ttu-id="01327-138">Weitere Informationen finden Sie unter [Specify Merge Replication properties (Angeben von Mergereplikationseigenschaften)](../publish/specify-merge-replication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="01327-138">For more information, see [Specify Merge Replication properties](../publish/specify-merge-replication-properties.md).</span></span>  
  
-   <span data-ttu-id="01327-139">Schränken Sie die Verwendung des LOB-Datentyps (Large OBjects) ein.</span><span class="sxs-lookup"><span data-stu-id="01327-139">Limit the use of Large Object (LOB) data types.</span></span>  
  
     <span data-ttu-id="01327-140">LOBs beanspruchen mehr Speicherplatz und Verarbeitungszeit als andere Spaltendatentypen.</span><span class="sxs-lookup"><span data-stu-id="01327-140">LOBs require more storage space and processing than other column data types.</span></span> <span data-ttu-id="01327-141">Verwenden Sie diese Spalten nur dann in Artikeln, wenn sie für die Anwendung erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="01327-141">Do not include these columns in articles unless necessary for your application.</span></span> <span data-ttu-id="01327-142">Die Datentypen `text`, `ntext` und `image` sind als veraltet markiert.</span><span class="sxs-lookup"><span data-stu-id="01327-142">The data types `text`, `ntext`, and `image` are deprecated.</span></span> <span data-ttu-id="01327-143">Wenn Sie LOBs verwenden, sollten Sie auf die Datentypen `varchar(max)`, `nvarchar(max)` und `varbinary(max)` zurückgreifen.</span><span class="sxs-lookup"><span data-stu-id="01327-143">If you do include LOBs, we recommend that you use the data types `varchar(max)`, `nvarchar(max)`, `varbinary(max)`, respectively.</span></span>  
  
     <span data-ttu-id="01327-144">Verwenden Sie für die Transaktionsreplikation das Verteilungs-Agentprofil **Verteilungsprofil für das OLE DB-Streaming**.</span><span class="sxs-lookup"><span data-stu-id="01327-144">For transactional replication, consider using the Distribution Agent profile called **Distribution Profile for OLEDB streaming**.</span></span> <span data-ttu-id="01327-145">Weitere Informationen finden Sie unter [Replication Agent Profiles](../agents/replication-agent-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="01327-145">For more information, see [Replication Agent Profiles](../agents/replication-agent-profiles.md).</span></span>  
  
## <a name="publication-design"></a><span data-ttu-id="01327-146">Veröffentlichungsentwurf</span><span class="sxs-lookup"><span data-stu-id="01327-146">Publication Design</span></span>  
  
-   <span data-ttu-id="01327-147">Veröffentlichen Sie nur die erforderlichen Daten.</span><span class="sxs-lookup"><span data-stu-id="01327-147">Publish only the data required.</span></span>  
  
     <span data-ttu-id="01327-148">Da die Replikation problemlos eingerichtet werden kann, gibt es eine Tendenz, mehr Daten zu veröffentlichen, als tatsächlich erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="01327-148">Because replication is easy to set up, there is a tendency to publish more data than is actually required.</span></span> <span data-ttu-id="01327-149">Dies kann weitere Ressourcen innerhalb der Verteilungsdatenbanken und Momentaufnahmedateien beanspruchen und den Durchsatz für erforderliche Dateien verringern.</span><span class="sxs-lookup"><span data-stu-id="01327-149">This can consume additional resources within the distribution databases and snapshot files, and can lower the throughput for required data.</span></span> <span data-ttu-id="01327-150">Sie sollten vermeiden, nicht benötigte Tabellen zu veröffentlichen, und in Betracht ziehen, Veröffentlichungen weniger häufig zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="01327-150">Avoid publishing unnecessary tables and consider updating publications less frequently.</span></span>  
  
-   <span data-ttu-id="01327-151">Minimieren Sie Konflikte über den Veröffentlichungsentwurf und das Anwendungsverhalten.</span><span class="sxs-lookup"><span data-stu-id="01327-151">Minimize conflicts through publication design and application behavior.</span></span>  
  
     <span data-ttu-id="01327-152">Die folgenden Replikationstypen lassen Datenänderungen auf Abonnenten zu: Mergereplikation, Transaktionsreplikation mit aktualisierbaren Abonnements und Peer-zu-Peer-Transaktionsreplikation.</span><span class="sxs-lookup"><span data-stu-id="01327-152">The following types of replication allow data to be changed at Subscribers: merge replication, transactional replication with updatable subscriptions, and peer-to-peer transactional replication.</span></span> <span data-ttu-id="01327-153">Die Mergereplikation und die Transaktionsreplikation mit aktualisierbaren Abonnements unterstützen Datenkonflikte, wenn eine bestimmte Zeile zwischen Synchronisierungen in mehreren Knoten aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="01327-153">Merge replication and transactional replication with updatable subscriptions support data conflicts if a given row is updated at more than one node between synchronizations.</span></span> <span data-ttu-id="01327-154">Die Peer-zu-Peer-Replikation unterstützt keine Datenkonflikte; Datenänderungen müssen partitioniert werden.</span><span class="sxs-lookup"><span data-stu-id="01327-154">Peer-to-peer replication does not support data conflicts; data changes must be partitioned.</span></span> <span data-ttu-id="01327-155">Unabhängig vom Typ der verwendeten Replikation wird empfohlen, Änderungen möglichst zu partitionieren, da dies den Verarbeitungsaufwand bei der Konflikterkennung und -lösung reduziert.</span><span class="sxs-lookup"><span data-stu-id="01327-155">Regardless of the type of replication used, we recommend that you partition changes whenever possible, because this reduces the processing required for conflict detection and resolution.</span></span>  
  
     <span data-ttu-id="01327-156">Sie können Änderungen partitionieren, indem Sie Datenteilmengen auf jedem Abonnenten veröffentlichen, oder indem eine Anwendung Änderungen für eine bestimmte Zeile an einen bestimmten Knoten leitet:</span><span class="sxs-lookup"><span data-stu-id="01327-156">Changes can be partitioned by publishing subsets of data to each Subscriber or by having an application direct changes for a given row to a given node:</span></span>  
  
    -   <span data-ttu-id="01327-157">Die Mergereplikation unterstützt das Veröffentlichen von Datenteilmengen, indem parametrisierte Filter mit einzelnen Veröffentlichungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="01327-157">Merge replication supports publishing subsets of data using parameterized filters with a single publication.</span></span> <span data-ttu-id="01327-158">Weitere Informationen zu parametrisierten Zeilenfiltern finden Sie unter [Parametrisierte Zeilenfilter](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="01327-158">For more information, see [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
    -   <span data-ttu-id="01327-159">Die Transaktionsreplikation unterstützt das Veröffentlichen von Datenteilmengen, indem statische Filter mit mehreren Veröffentlichungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="01327-159">Transactional replication supports publishing subsets of data using static filters with multiple publications.</span></span> <span data-ttu-id="01327-160">Weitere Informationen finden Sie unter [Filtern von veröffentlichten Daten](../publish/filter-published-data.md).</span><span class="sxs-lookup"><span data-stu-id="01327-160">For more information, see [Filter Published Data](../publish/filter-published-data.md).</span></span>  
  
-   <span data-ttu-id="01327-161">Verwenden Sie Zeilenfilter mit Umsicht.</span><span class="sxs-lookup"><span data-stu-id="01327-161">Use row filters judiciously.</span></span>  
  
     <span data-ttu-id="01327-162">Enthält eine Transaktionsveröffentlichung einen oder mehrere Artikel mit Zeilenfiltern, muss der Protokolllese-Agent beim Scannen des Transaktionsprotokolls die Filter auf jede Zeile anwenden, die von einem Update der Tabelle betroffen sind.</span><span class="sxs-lookup"><span data-stu-id="01327-162">When a transactional publication includes one or more articles that use row filters, the Log Reader Agent must apply the filter to each row affected by an update to the table as it scans the transaction log.</span></span> <span data-ttu-id="01327-163">Das wirkt sich auf den Durchsatz des Protokolllese-Agents aus.</span><span class="sxs-lookup"><span data-stu-id="01327-163">The throughput of the Log Reader Agent is therefore affected.</span></span>  
  
     <span data-ttu-id="01327-164">In ähnlicher Form muss die Mergereplikation geänderte oder gelöschte Zeilen auswerten, um die Abonnenten zu ermitteln, die diese Zeilen erhalten sollten.</span><span class="sxs-lookup"><span data-stu-id="01327-164">Similarly, merge replication must evaluate changed or deleted rows to determine which Subscribers should receive those rows.</span></span> <span data-ttu-id="01327-165">Wenn Zeilenfilter eingesetzt werden, um die Daten zu reduzieren, die auf dem Abonnenten erforderlich sind, ist diese Verarbeitung komplexer und kann langsamer ablaufen als die Veröffentlichung aller Zeilen in einer Tabelle.</span><span class="sxs-lookup"><span data-stu-id="01327-165">When row filters are employed to reduce the data required at a Subscriber, this processing is more complex and can be slower than when you publish all rows in a table.</span></span> <span data-ttu-id="01327-166">Wägen Sie die Vor- und Nachteile zwischen geringeren Speicherplatzanforderungen auf jedem Abonnenten und der Notwendigkeit eines maximalen Durchsatzes sorgfältig ab.</span><span class="sxs-lookup"><span data-stu-id="01327-166">Consider carefully the tradeoff between reduced storage requirements at each Subscriber and the need for achieving maximum throughput.</span></span> <span data-ttu-id="01327-167">Weitere Informationen zur Filterung finden Sie unter [Filtern von veröffentlichten Daten](../publish/filter-published-data.md).</span><span class="sxs-lookup"><span data-stu-id="01327-167">For more information on filtering, see [Filter Published Data](../publish/filter-published-data.md).</span></span>  
  
## <a name="subscription-considerations"></a><span data-ttu-id="01327-168">Überlegungen zu Abonnements</span><span class="sxs-lookup"><span data-stu-id="01327-168">Subscription Considerations</span></span>  
  
-   <span data-ttu-id="01327-169">Verwenden Sie Pullabonnements, wenn sehr viele Abonnenten vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="01327-169">Use pull subscriptions when there are a large number of Subscribers.</span></span>  
  
     <span data-ttu-id="01327-170">Der Verteilungs-Agent oder der Merge-Agent wird auf dem Verteiler für Pushabonnements und auf dem Abonnenten für Pullabonnements ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="01327-170">The Distribution Agent and Merge Agent run at the Distributor for push subscriptions, and at Subscribers for pull subscriptions.</span></span> <span data-ttu-id="01327-171">Die Verwendung von Pullabonnements kann die Leistung verbessern, indem Verarbeitungsvorgänge des Agents auf die Abonnenten verlagert werden.</span><span class="sxs-lookup"><span data-stu-id="01327-171">Using pull subscriptions can improve performance by moving agent processing from the Distributor to Subscribers.</span></span> <span data-ttu-id="01327-172">Weitere Informationen finden Sie unter [Abonnieren von Veröffentlichungen](../subscribe-to-publications.md).</span><span class="sxs-lookup"><span data-stu-id="01327-172">For more information, see [Subscribe to Publications](../subscribe-to-publications.md).</span></span>  
  
-   <span data-ttu-id="01327-173">Initialisieren Sie gegebenenfalls das Abonnement erneut, wenn Abonnenten zu stark in Verzug geraten sind.</span><span class="sxs-lookup"><span data-stu-id="01327-173">Consider reinitialization of the subscription if Subscribers are too far behind.</span></span>  
  
     <span data-ttu-id="01327-174">Wenn umfangreiche Änderungen an Abonnenten gesendet werden müssen, kann die Neuinitialisierung mit einer neuen Momentaufnahme schneller sein als das Verwenden der Replikation zum Verschieben der einzelnen Änderungen.</span><span class="sxs-lookup"><span data-stu-id="01327-174">When large amounts of changes need to be sent to Subscribers, reinitializing them with a new snapshot might be faster than using replication to move the individual changes.</span></span> <span data-ttu-id="01327-175">Weitere Informationen finden Sie unter [Erneutes Initialisieren von Abonnements](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="01327-175">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
     <span data-ttu-id="01327-176">Bei der Transaktionsreplikation zeigt der Replikationsmonitor folgende Informationen auf der Registerkarte **Nicht verteilte Befehle** an: die Anzahl der Transaktionen in der Verteilungsdatenbank, die noch nicht an einen Abonnenten verteilt wurden; und die geschätzte Zeit für das Verteilen dieser Transaktionen.</span><span class="sxs-lookup"><span data-stu-id="01327-176">For transactional replication, Replication Monitor displays on the **Undistributed Commands** tab information about: the number of transactions in the distribution database that have not yet been distributed to a Subscriber; and the estimated time for distributing these transactions.</span></span> <span data-ttu-id="01327-177">Weitere Informationen finden Sie unter [View information and perform tasks using Replication Monitor (Anzeigen von Informationen und Ausführen von Aufgaben mit dem Replikationsmonitor)](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="01327-177">For more information, see [View Information and Perform Tasks using Replication Monitor](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
## <a name="snapshot-considerations"></a><span data-ttu-id="01327-178">Überlegungen zu Momentaufnahmen</span><span class="sxs-lookup"><span data-stu-id="01327-178">Snapshot Considerations</span></span>  
  
-   <span data-ttu-id="01327-179">Führen Sie den Momentaufnahme-Agent nur bei Bedarf und außerhalb der Spitzenzeiten aus.</span><span class="sxs-lookup"><span data-stu-id="01327-179">Run the Snapshot Agent only when necessary and at off-peak times.</span></span>  
  
     <span data-ttu-id="01327-180">Der Momentaufnahme-Agent führt Massenkopieraktionen von Daten aus der veröffentlichten Tabelle auf dem Verleger in eine Datei im Momentaufnahmeordner auf dem Verteiler durch.</span><span class="sxs-lookup"><span data-stu-id="01327-180">The Snapshot Agent bulk copies data from the published table on the Publisher to a file in the snapshot folder on the Distributor.</span></span> <span data-ttu-id="01327-181">Das Generieren einer Momentaufnahme kann die Ressourcen stark beanspruchen und sollte möglichst außerhalb der Spitzenzeiten stattfinden.</span><span class="sxs-lookup"><span data-stu-id="01327-181">Generating a snapshot can be a resource intensive process and is best scheduled during off-peak times.</span></span>  
  
-   <span data-ttu-id="01327-182">Verwenden Sie eine Momentaufnahme im einheitlichen Modus, sofern keine Momentaufnahme im Zeichenmodus erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="01327-182">Use a native mode snapshot unless a character mode snapshot is required.</span></span>  
  
     <span data-ttu-id="01327-183">Verwenden Sie die Standardmomentaufnahme im einheitlichen Modus für alle Abonnenten, ausgenommen Nicht-[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Abonnenten und Abonnenten mit [!INCLUDE[ssEW](../../../includes/ssew-md.md)], die eine Momentaufnahme im Zeichenmodus erfordern.</span><span class="sxs-lookup"><span data-stu-id="01327-183">Use the default native mode snapshot for all Subscribers except non-[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Subscribers and Subscribers running [!INCLUDE[ssEW](../../../includes/ssew-md.md)], which require a character mode snapshot.</span></span>  
  
-   <span data-ttu-id="01327-184">Verwenden Sie einen einzigen Momentaufnahmeordner für eine Veröffentlichung.</span><span class="sxs-lookup"><span data-stu-id="01327-184">Use a single snapshot folder for a publication.</span></span>  
  
     <span data-ttu-id="01327-185">Beim Angeben der Veröffentlichungseigenschaften im Zusammenhang mit dem Momentaufnahmespeicherort stehen Optionen zur Auswahl, um Momentaufnahmedateien im Standardmomentaufnahmeordner, in einem alternativen Momentaufnahmeordner oder in beiden zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="01327-185">When specifying the publication properties related to snapshot location, you can choose to generate snapshot files to the default snapshot folder, to an alternate snapshot folder, or to both.</span></span> <span data-ttu-id="01327-186">Für das Erstellen von Momentaufnahmedateien in beiden Speicherorten ist beim Ausführen des Momentaufnahme-Agents zusätzlicher Datenträgerspeicher und Verarbeitungsaufwand erforderlich.</span><span class="sxs-lookup"><span data-stu-id="01327-186">Generating snapshot files in both locations requires additional disk space and more processing when the Snapshot Agent runs.</span></span>  
  
-   <span data-ttu-id="01327-187">Speichern Sie den Momentaufnahmeordner auf einem lokalen Laufwerk des Verteilers, das nicht zum Speichern von Datenbank- oder Protokolldateien verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="01327-187">Place the snapshot folder on a drive local to the Distributor that is not used to store database or log files.</span></span>  
  
     <span data-ttu-id="01327-188">Der Momentaufnahme-Agent führt einen sequenziellen Schreibvorgang für die Daten im Momentaufnahmeordner aus.</span><span class="sxs-lookup"><span data-stu-id="01327-188">The Snapshot Agent performs a sequential write of data to the snapshot folder.</span></span> <span data-ttu-id="01327-189">Durch das Speichern des Momentaufnahmeordners auf einem Laufwerk, das nicht für Datenbank- oder Protokolldateien verwendet wird, werden Konflikte bezüglich des Datenträgerzugriffs reduziert, und der Momentaufnahmeprozess wird schneller ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="01327-189">Placing the snapshot folder on a separate drive from any database or log files reduces contention among the disks and helps the snapshot process complete faster.</span></span>  
  
-   <span data-ttu-id="01327-190">Wenn Sie die Abonnementdatenbank auf dem Abonnenten erstellen, sollten Sie das einfache oder das massenprotokollierte Wiederherstellungsmodell angeben.</span><span class="sxs-lookup"><span data-stu-id="01327-190">When you create the subscription database at the Subscriber, consider specifying a recovery model of simple or bulk-logged.</span></span> <span data-ttu-id="01327-191">Dadurch werden die Masseneinfügungen während der Anwendung der Momentaufnahme auf dem Abonnenten nur in geringem Umfang protokolliert.</span><span class="sxs-lookup"><span data-stu-id="01327-191">This allows minimal logging of the bulk inserts performed during the application of the snapshot at the Subscriber.</span></span> <span data-ttu-id="01327-192">Nachdem die Momentaufnahme auf die Abonnementdatenbank angewendet wurde, können Sie gegebenenfalls wieder zu einem anderen Wiederherstellungsmodell wechseln (replizierte Datenbanken unterstützen jedes Wiederherstellungsmodell).</span><span class="sxs-lookup"><span data-stu-id="01327-192">After the snapshot has been applied to the subscription database, you can change to a different recovery model if necessary (replicated databases can use any of the recovery models).</span></span> <span data-ttu-id="01327-193">Weitere Informationen zum Auswählen eines Wiederherstellungsmodells finden Sie unter [Übersicht über Wiederherstellungsvorgänge &#40;SQL Server&#41;](../../backup-restore/restore-and-recovery-overview-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="01327-193">For more information about selecting a recovery model, see [Restore and Recovery Overview &#40;SQL Server&#41;](../../backup-restore/restore-and-recovery-overview-sql-server.md).</span></span>  
  
-   <span data-ttu-id="01327-194">Verwenden Sie bei Netzwerken mit niedrigen Bandbreiten gegebenenfalls den alternativen Momentaufnahmeordner und komprimierte Momentaufnahmen auf Wechselmedien.</span><span class="sxs-lookup"><span data-stu-id="01327-194">Consider using the alternate snapshot folder and compressed snapshots on removable media for low-bandwidth networks.</span></span>  
  
     <span data-ttu-id="01327-195">Das Komprimieren von Momentaufnahmedateien im alternativen Momentaufnahmeordner kann den Speicherplatzbedarf von Momentaufnahmen reduzieren und das Übertragen der Momentaufnahmedateien auf Wechselmedien vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="01327-195">Compressing snapshot files in the alternate snapshot folder can reduce snapshot disk storage requirements and make it easier to transfer snapshot files on removable media.</span></span>  
  
     <span data-ttu-id="01327-196">Komprimierte Momentaufnahmen können in einigen Fällen die Leistung beim Übertragen der Momentaufnahmedateien im Netzwerk verbessern.</span><span class="sxs-lookup"><span data-stu-id="01327-196">Compressed snapshots can, in some cases, improve the performance of transferring snapshot files across the network.</span></span> <span data-ttu-id="01327-197">Beim Komprimieren der Momentaufnahme fällt jedoch zusätzlicher Verarbeitungsaufwand für den Momentaufnahme-Agent an, wenn die Momentaufnahmedateien erstellt werden, sowie für den Verteilungs-Agent oder den Merge-Agent, wenn die Momentaufnahmedateien angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="01327-197">However, compressing the snapshot requires additional processing by the Snapshot Agent when generating the snapshot files, and by the Distribution Agent or Merge Agent when applying the snapshot files.</span></span> <span data-ttu-id="01327-198">Dies könnte das Erstellen von Momentaufnahmen verlangsamen und den Zeitaufwand für das Anwenden einer Momentaufnahme in manchen Fällen erhöhen.</span><span class="sxs-lookup"><span data-stu-id="01327-198">This may slow down snapshot generation and increase the time it takes to apply a snapshot in some cases.</span></span> <span data-ttu-id="01327-199">Darüber hinaus kann das Übertragen komprimierter Momentaufnahmen bei einem Netzwerkausfall nicht wieder aufgenommen werden, weshalb sie sich nicht für unzuverlässige Netzwerke eignen.</span><span class="sxs-lookup"><span data-stu-id="01327-199">Additionally, compressed snapshots cannot be resumed if a network failure occurs; therefore they are not suitable for unreliable networks.</span></span> <span data-ttu-id="01327-200">Wägen Sie die Vor- und Nachteile sorgfältig ab, wenn Sie komprimierte Momentaufnahmen in einem Netzwerk verwenden.</span><span class="sxs-lookup"><span data-stu-id="01327-200">Consider these tradeoffs carefully when using compressed snapshots across a network.</span></span> <span data-ttu-id="01327-201">Weitere Informationen finden Sie unter [Alternate Snapshot Folder Locations](../alternate-snapshot-folder-locations.md) und [Compressed Snapshots](../compressed-snapshots.md).</span><span class="sxs-lookup"><span data-stu-id="01327-201">For more information, see [Alternate Snapshot Folder Locations](../alternate-snapshot-folder-locations.md) and [Compressed Snapshots](../compressed-snapshots.md).</span></span>  
  
-   <span data-ttu-id="01327-202">Initialisieren Sie ein Abonnement gegebenenfalls manuell.</span><span class="sxs-lookup"><span data-stu-id="01327-202">Consider initializing a subscription manually.</span></span>  
  
     <span data-ttu-id="01327-203">In einigen Szenarien, wenn z. B. große Anfangsdatasets eine Rolle spielen, ist es vorteilhafter, ein Abonnement statt mit einer Momentaufnahme mit einer anderen Methode zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="01327-203">In some scenarios, such as those involving large initial datasets, it is preferable to initialize a subscription using a method other than a snapshot.</span></span> <span data-ttu-id="01327-204">Weitere Informationen finden Sie unter [Initialize a Transactional Subscription Without a Snapshot](../initialize-a-transactional-subscription-without-a-snapshot.md)initialisiert wird.</span><span class="sxs-lookup"><span data-stu-id="01327-204">For more information, see [Initialize a Transactional Subscription Without a Snapshot](../initialize-a-transactional-subscription-without-a-snapshot.md).</span></span>  
  
## <a name="agent-parameters"></a><span data-ttu-id="01327-205">Agentparameter</span><span class="sxs-lookup"><span data-stu-id="01327-205">Agent Parameters</span></span>  
  
-   <span data-ttu-id="01327-206">Reduzieren Sie die Meldungsstufen von Replikations-Agents, außer während erster Test-, Überwachungs- oder Debugverfahren.</span><span class="sxs-lookup"><span data-stu-id="01327-206">Reduce the verbose levels of replication agents except during initial testing, monitoring, or debugging.</span></span>  
  
     <span data-ttu-id="01327-207">Reduzieren Sie den Parameter **-HistoryVerboseLevel** und den Parameter **-OutputVerboseLevel** der Verteilungs-Agents oder Merge-Agents.</span><span class="sxs-lookup"><span data-stu-id="01327-207">Reduce the **-HistoryVerboseLevel** parameter and the **-OutputVerboseLevel** parameter of the Distribution Agents or Merge Agents.</span></span> <span data-ttu-id="01327-208">Dadurch wird die Anzahl der neuen Zeilen reduziert, die zum Nachverfolgen des Verlaufs und der Ausgabe von Agents eingefügt werden.</span><span class="sxs-lookup"><span data-stu-id="01327-208">This reduces the number of new rows inserted to track agent history and output.</span></span> <span data-ttu-id="01327-209">Stattdessen werden frühere Verlaufsmeldungen mit dem gleichen Status auf die neuen Verlaufsinformationen aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="01327-209">Instead, previous history messages with the same status are updated to the new history information.</span></span> <span data-ttu-id="01327-210">Erhöhen Sie die Meldungsstufen für das Testen, Überwachen und Debuggen, sodass Sie so viele Informationen zur Agent-Aktivität erhalten wie möglich.</span><span class="sxs-lookup"><span data-stu-id="01327-210">Increase the verbose levels for testing, monitoring, and debugging so that you have as much information about agent activity as possible.</span></span>  
  
-   <span data-ttu-id="01327-211">Verwenden Sie den Parameter **-MaxBCPThreads** des Momentaufnahmen-Agents, Merge-Agents und Verteilungs-Agents (die Anzahl der angegebenen Threads sollte die Anzahl der Prozessoren des Computers nicht überschreiten).</span><span class="sxs-lookup"><span data-stu-id="01327-211">Use the **-MaxBCPThreads** parameter of the Snapshot Agent, Merge Agent, and Distribution Agent (the number of threads specified should not exceed the number of processors on the computer).</span></span> <span data-ttu-id="01327-212">Mit diesem Parameter wird die Anzahl der Massenkopiervorgänge angegeben, die beim Erstellen und Anwenden der Momentaufnahme parallel ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="01327-212">This parameter specifies the number of bulk copy operations that can be performed in parallel when the snapshot is created and applied.</span></span>  
  
-   <span data-ttu-id="01327-213">Verwenden Sie den Parameter **-UseInprocLoader** des Verteilungs-Agents und des Merge-Agents (dieser Parameter kann nicht verwendet werden, wenn veröffentlichte Tabellen XML-Spalten enthalten).</span><span class="sxs-lookup"><span data-stu-id="01327-213">Use the **-UseInprocLoader** parameter of the Distribution Agent and the Merge Agent (this parameter cannot be used if published tables include XML columns).</span></span> <span data-ttu-id="01327-214">Durch diesen Parameter verwendet der Agent beim Anwenden der Momentaufnahme den BULK INSERT-Befehl.</span><span class="sxs-lookup"><span data-stu-id="01327-214">This parameter causes the agent to use the BULK INSERT command when the snapshot is applied.</span></span>  
  
 <span data-ttu-id="01327-215">Agentparameter können in den Agentprofilen und in der Befehlszeile angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="01327-215">Agent parameters can be specified in agent profiles and on the command line.</span></span> <span data-ttu-id="01327-216">Weitere Informationen finden Sie unter</span><span class="sxs-lookup"><span data-stu-id="01327-216">For more information, see:</span></span>  
  
-   [<span data-ttu-id="01327-217">Arbeiten mit Replikations-Agent-Profilen</span><span class="sxs-lookup"><span data-stu-id="01327-217">Work with Replication Agent Profiles</span></span>](../agents/work-with-replication-agent-profiles.md)  
  
-   [<span data-ttu-id="01327-218">Anzeigen und Ändern von Befehlszeilenparametern des Replikations-Agents &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="01327-218">View and Modify Replication Agent Command Prompt Parameters &#40;SQL Server Management Studio&#41;</span></span>](../agents/view-and-modify-replication-agent-command-prompt-parameters.md)  
  
-   <span data-ttu-id="01327-219">[Replication Agent Executables Concepts](../concepts/replication-agent-executables-concepts.md)zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="01327-219">[Replication Agent Executables Concepts](../concepts/replication-agent-executables-concepts.md).</span></span>  
  
  
