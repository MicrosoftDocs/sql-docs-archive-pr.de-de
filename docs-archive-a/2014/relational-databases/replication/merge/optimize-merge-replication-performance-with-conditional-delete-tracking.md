---
title: Optimieren der Mergereplikationsleistung durch bedingtes Nachverfolgen von Löschvorgängen | Microsoft Dokumentation
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- conditional delete tracking [SQL Server replication]
- merge replication [SQL Server replication], conditional delete tracking
- articles [SQL Server replication], conditional delete tracking
ms.assetid: 58f120a3-ea3a-4e97-93f0-0eb4e580ecf2
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 46fc189d2a2e0ebf5ea44775585a69d52783a7e3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87607688"
---
# <a name="optimize-merge-replication-performance-with-conditional-delete-tracking"></a><span data-ttu-id="ed393-102">Optimieren der Mergereplikationsleistung durch bedingtes Nachverfolgen von Löschvorgängen</span><span class="sxs-lookup"><span data-stu-id="ed393-102">Optimize Merge Replication Performance with Conditional Delete Tracking</span></span>
    
> [!NOTE]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../../includes/ssnotedepfutureavoid-md.md)]  
  
 <span data-ttu-id="ed393-103">Bei der Mergereplikation können Sie angeben, dass Löschvorgänge für einen oder mehrere Artikel nicht von Replikationstriggern oder in Systemtabellen nachverfolgt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="ed393-103">With merge replication you can specify that deletes for one or more articles should not be tracked by replication triggers and system tables.</span></span> <span data-ttu-id="ed393-104">Wenn Sie diese Option für einen Artikel angeben, werden Löschvorgänge weder nachverfolgt, noch vom Verleger oder den Abonnenten repliziert.</span><span class="sxs-lookup"><span data-stu-id="ed393-104">If you specify this option for an article, deletes are not tracked or replicated from the Publisher or any Subscribers.</span></span> <span data-ttu-id="ed393-105">Diese Option steht zur Unterstützung verschiedener Anwendungsszenarien zur Verfügung, und soll dort zur Leistungsoptimierung beitragen, wo die Replikation von Löschvorgängen weder nötig noch wünschenswert ist.</span><span class="sxs-lookup"><span data-stu-id="ed393-105">This option is available to support a number of application scenarios and to provide a performance optimization for cases in which the replication of deletes is not necessary or desirable.</span></span> <span data-ttu-id="ed393-106">Die Leistung wird auf drei verschiedene Arten optimiert: die Metadaten der Löschvorgänge werden nicht gespeichert; die Löschvorgänge werden während der Synchronisierung nicht aufgezählt; die Löschvorgänge werden nicht auf dem Abonnenten repliziert oder angewendet.</span><span class="sxs-lookup"><span data-stu-id="ed393-106">Performance is enhanced in three ways: metadata for deletes is not stored; deletes are not enumerated during synchronization; deletes are not replicated to and applied at the Subscriber.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ed393-107">Damit nur herunterladbare Artikel verwendet werden können, muss die Veröffentlichung mindestens einen Kompatibilitätsgrad von 90RTM aufweisen.</span><span class="sxs-lookup"><span data-stu-id="ed393-107">To use download-only articles, the compatibility level of the publication must be at least 90RTM.</span></span>  
  
 <span data-ttu-id="ed393-108">Diese Option kann beim Erstellen einer Veröffentlichung angegeben werden, oder ein- bzw. ausgeschaltet werden, wenn eine Anwendung erfordert, dass bestimmte Löschvorgänge repliziert werden, andere jedoch nicht (z. B. Batchlöschvorgänge).</span><span class="sxs-lookup"><span data-stu-id="ed393-108">The option can be specified when a publication is created or it can be toggled on and off if an application requires that some deletes be replicated and that others not be replicated, such as batch deletes.</span></span> <span data-ttu-id="ed393-109">In den folgenden Beispielen wird veranschaulicht, wie diese Option in einer Anwendung verwendet werden kann:</span><span class="sxs-lookup"><span data-stu-id="ed393-109">The following examples illustrate ways in which this option might be used in an application:</span></span>  
  
-   <span data-ttu-id="ed393-110">In einer Anwendung für den Außendienst eines Unternehmens gibt es in der Regel Spalten wie **SalesOrderHeader**, **SalesOrderDetail** und **Product**.</span><span class="sxs-lookup"><span data-stu-id="ed393-110">An application for a mobile sales force typically has tables such as **SalesOrderHeader**, **SalesOrderDetail** and **Product**.</span></span> <span data-ttu-id="ed393-111">Die Bestellungen (Orders) werden auf dem Abonnenten eingegeben und auf den Verleger repliziert, welcher die Daten meistens an ein Fulfillment-System weitergibt.</span><span class="sxs-lookup"><span data-stu-id="ed393-111">Orders are entered at the Subscriber and then replicated to the Publisher, which often supplies data to an order fulfillment system.</span></span> <span data-ttu-id="ed393-112">Viele Mitarbeiter im Außendienst benutzen Handheld-PCs mit begrenztem Speicherplatz; nachdem der Verleger die Bestellung erhalten hat, kann sie auf dem Abonnenten gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="ed393-112">Many mobile workers use handheld devices which have limited storage: after the order is received at the Publisher, it can be deleted at the Subscriber.</span></span> <span data-ttu-id="ed393-113">Der Löschvorgang wird nicht an den Verleger weitergegeben, da die Bestellung weiterhin im System aktiv bleiben soll.</span><span class="sxs-lookup"><span data-stu-id="ed393-113">The delete is not propagated to the Publisher, because the order is still active in the system.</span></span>  
  
     <span data-ttu-id="ed393-114">In diesem Szenario würden die Löschvorgänge für die Tabellen **SalesOrderHeader** und **SalesOrderDetail** nicht nachverfolgt werden.</span><span class="sxs-lookup"><span data-stu-id="ed393-114">In this scenario, deletes would not be tracked for the **SalesOrderHeader** and **SalesOrderDetail** tables.</span></span> <span data-ttu-id="ed393-115">Sie müssten jedoch für die **Product** -Tabelle nachverfolgt werden, denn sollte ein Produkt auf dem Verleger gelöscht werden, müsste dieser Löschvorgang an den Abonnenten gesendet werden, damit dessen Produktliste aktuell bleibt.</span><span class="sxs-lookup"><span data-stu-id="ed393-115">Deletes would be tracked for the **Product** table, because if a product is deleted at the Publisher, the delete should be sent to the Subscriber to keep the product list up to date.</span></span>  
  
-   <span data-ttu-id="ed393-116">Eine Anwendung könnte z. B. Vergangenheitsdaten in einer **TransactionHistory**-Tabelle speichern, aus der in regelmäßigen Abständen alle Datensätze gelöscht werden, die älter als ein Jahr sind.</span><span class="sxs-lookup"><span data-stu-id="ed393-116">An application could store historical data in a table such as **TransactionHistory**, which is periodically purged of records older than a year.</span></span> <span data-ttu-id="ed393-117">Die Tabelle könnte nun so gefiltert werden, dass Abonnenten nur Daten zu Transaktionen des laufenden Monats erhalten.</span><span class="sxs-lookup"><span data-stu-id="ed393-117">The table could be filtered such that Subscribers only receive data on transactions within the current month.</span></span> <span data-ttu-id="ed393-118">Die monatlichen Batchlöschvorgänge zum Löschen älterer Daten auf dem Verleger sind für die Abonnenten irrelevant, würden jedoch trotzdem standardmäßig nachverfolgt und aufgelistet werden.</span><span class="sxs-lookup"><span data-stu-id="ed393-118">Monthly batch deletes at the Publisher that purge older data are not relevant to Subscribers, but they would still be tracked and enumerated by default.</span></span>  
  
     <span data-ttu-id="ed393-119">In diesem Szenario könnte die Aktivität auf dem System vor der Batchverarbeitung angehalten werden, damit die Anwendung die Nachverfolgung der Löschvorgänge deaktivieren kann.</span><span class="sxs-lookup"><span data-stu-id="ed393-119">In this scenario, before the batch processing occurred, activity could be stopped on the system, and the application could disable the tracking of deletes.</span></span> <span data-ttu-id="ed393-120">Ist die Batchverarbeitung abgeschlossen, kann die Nachverfolgung erneut aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="ed393-120">After the processing has finished, tracking could again be enabled.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ed393-121">Wenn andere Prozesse weiterhin auf dem Verleger aktiv sind, müssen Sie sicherstellen, dass keine Löschvorgänge erfolgen, die an Abonnenten weitergegeben werden sollen, solange die Nachverfolgung deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="ed393-121">If other activity continues at the Publisher, you must ensure that deletes that should be propagated to Subscribers do not occur while delete tracking is disabled.</span></span>  
  
 <span data-ttu-id="ed393-122">**So geben Sie an, dass Löschvorgänge nicht nachverfolgt werden**</span><span class="sxs-lookup"><span data-stu-id="ed393-122">**To specify that deletes should not be tracked**</span></span>  
  
-   <span data-ttu-id="ed393-123">Replikationsprogrammierung mit [!INCLUDE[tsql](../../../includes/tsql-md.md)]: [Specify That Deletes Should Not Be Tracked For Merge Articles &#40;Replication Transact-SQL Programming&#41; (Angeben, dass Löschvorgänge für Mergeartikel nicht nachverfolgt werden sollen &#40;Replication Transact-SQL Programming&#41;)](..//publish/specify-merge-replication-properties.md#tracking-deletes)</span><span class="sxs-lookup"><span data-stu-id="ed393-123">Replication [!INCLUDE[tsql](../../../includes/tsql-md.md)] programming: [Specify That Deletes Should Not Be Tracked For Merge Articles &#40;Replication Transact-SQL Programming&#41;](..//publish/specify-merge-replication-properties.md#tracking-deletes)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ed393-124">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="ed393-124">See Also</span></span>  
 <span data-ttu-id="ed393-125">[Artikeloptionen für die Mergereplikation](article-options-for-merge-replication.md) </span><span class="sxs-lookup"><span data-stu-id="ed393-125">[Article Options for Merge Replication](article-options-for-merge-replication.md) </span></span>  
 [<span data-ttu-id="ed393-126">Optimieren der Leistung der Mergereplikation durch nur herunterladbare Artikel</span><span class="sxs-lookup"><span data-stu-id="ed393-126">Optimize Merge Replication Performance with Download-Only Articles</span></span>](optimize-merge-replication-performance-with-download-only-articles.md)  
  
  
