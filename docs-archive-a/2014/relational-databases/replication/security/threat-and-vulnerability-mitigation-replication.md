---
title: Mindern von Bedrohungen und Sicherheitsrisiken (Replikation) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- attacks [SQL Server replication]
- threats [SQL Server replication security]
- security [SQL Server replication], threats
- security threats [SQL Server replication]
ms.assetid: 314fe497-56d8-4192-98e9-21b87cf8db04
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: c1a9c2c646f26d0cb61ae3d41ccdbd72551094d4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87721244"
---
# <a name="threat-and-vulnerability-mitigation-replication"></a><span data-ttu-id="b7348-102">Mindern von Bedrohungen und Sicherheitsrisiken (Replikation)</span><span class="sxs-lookup"><span data-stu-id="b7348-102">Threat and Vulnerability Mitigation (Replication)</span></span>
  <span data-ttu-id="b7348-103">In diesem Thema werden Techniken zum Mindern von Bedrohungen für eine Replikationstopologie beschrieben.</span><span class="sxs-lookup"><span data-stu-id="b7348-103">This topic describes techniques to reduce threats to a replication topology.</span></span>  
  
## <a name="encryption"></a><span data-ttu-id="b7348-104">Verschlüsselung</span><span class="sxs-lookup"><span data-stu-id="b7348-104">Encryption</span></span>  
 <span data-ttu-id="b7348-105">Als Verschlüsselung wird der Vorgang bezeichnet, bei dem Daten in eine Form konvertiert werden, die ohne einen speziellen Schlüssel nicht gelesen werden kann. Auf diese Weise wird sichergestellt, dass nur der vorgesehene Empfänger die Daten lesen kann.</span><span class="sxs-lookup"><span data-stu-id="b7348-105">Encryption is the process of converting data into a form that cannot be read without a special key, so that only the intended recipient can read the data.</span></span> <span data-ttu-id="b7348-106">Durch die Replikation werden keine Daten verschlüsselt, die in Tabellen gespeichert bzw. über Netzwerkverbindungen übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="b7348-106">Replication does not encrypt data stored in tables or sent over network connections.</span></span> <span data-ttu-id="b7348-107">Dies ist so beabsichtigt, da auf der Transportebene eine Reihe von Technologien zur Verschlüsselung zur Verfügung stehen, einschließlich dieser Technologien gemäß Industriestandard: Virtuelles Privates Netzwerk (VPN), Secure Sockets Layer (SSL) und IP Security (IPSec).</span><span class="sxs-lookup"><span data-stu-id="b7348-107">This is by design, because encryption is available at the transport level with a number of technologies, including the following industry standard technologies: Virtual Private Networks (VPN), Secure Sockets Layer (SSL), and IP Security (IPSEC).</span></span> <span data-ttu-id="b7348-108">Es empfiehlt sich, eine dieser Verschlüsselungsmethoden für die Verbindungen zwischen Computern in einer Replikationstopologie zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="b7348-108">We recommend using one of these encryption methods for the connections between computers in a replication topology.</span></span> <span data-ttu-id="b7348-109">Weitere Informationen finden Sie unter [Aktivieren von verschlüsselten Verbindungen zur Datenbank-Engine &#40;SQL Server-Konfigurations-Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="b7348-109">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span> <span data-ttu-id="b7348-110">Informationen zum Verwenden von VPN und SSL für die Replikation von Daten über das Internet finden Sie unter [Securing Replication Over the Internet](securing-replication-over-the-internet.md).</span><span class="sxs-lookup"><span data-stu-id="b7348-110">For information about using VPN and SSL for replicating data over the Internet, see [Securing Replication Over the Internet](securing-replication-over-the-internet.md).</span></span>  
  
 <span data-ttu-id="b7348-111">Wenn Sie SSL zum Sichern der Verbindungen zwischen Computern in einer Replikationstopologie verwenden, geben Sie den Wert **1** oder **2** für den Parameter **-EncryptionLevel** der einzelnen Replikations-Agents an (der Wert **2** wird empfohlen).</span><span class="sxs-lookup"><span data-stu-id="b7348-111">If you use SSL to secure the connections between computers in a replication topology, specify a value of **1** or **2** for the **-EncryptionLevel** parameter of each replication agent (a value of **2** is recommended).</span></span> <span data-ttu-id="b7348-112">Mit dem Wert **1** wird angegeben, dass eine Verschlüsselung verwendet wird. Der Agent überprüft aber nicht, ob das SSL-Serverzertifikat von einem vertrauenswürdigen Aussteller signiert wurde. Mit dem Wert **2** wird angegeben, dass das Zertifikat überprüft wurde.</span><span class="sxs-lookup"><span data-stu-id="b7348-112">A value of **1** specifies that encryption is used, but the agent does not verify that the SSL server certificate is signed by a trusted issuer; a value of **2** specifies that the certificate is verified.</span></span> <span data-ttu-id="b7348-113">Agentparameter können in den Agentprofilen und in der Befehlszeile angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="b7348-113">Agent parameters can be specified in agent profiles and on the command line.</span></span> <span data-ttu-id="b7348-114">Weitere Informationen finden Sie unter</span><span class="sxs-lookup"><span data-stu-id="b7348-114">For more information, see:</span></span>  
  
-   [<span data-ttu-id="b7348-115">Arbeiten mit Replikations-Agent-Profilen</span><span class="sxs-lookup"><span data-stu-id="b7348-115">Work with Replication Agent Profiles</span></span>](../agents/replication-agent-profiles.md)  
  
-   [<span data-ttu-id="b7348-116">Anzeigen und Ändern von Befehlszeilenparametern des Replikations-Agents &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="b7348-116">View and Modify Replication Agent Command Prompt Parameters &#40;SQL Server Management Studio&#41;</span></span>](../agents/view-and-modify-replication-agent-command-prompt-parameters.md)  
  
-   [<span data-ttu-id="b7348-117">Ausführbare Konzepte für die Programmierung von Replikations-Agent</span><span class="sxs-lookup"><span data-stu-id="b7348-117">Replication Agent Executables Concepts</span></span>](../concepts/replication-agent-executables-concepts.md)  
  
 <span data-ttu-id="b7348-118">Die Replikation verhält sich in Bezug auf Datenbankhauptschlüssel, die zur Verschlüsselung von Daten herangezogen werden, folgendermaßen:</span><span class="sxs-lookup"><span data-stu-id="b7348-118">Replication has the following behavior with respect to database Master Keys, which are used to encrypt data:</span></span>  
  
-   <span data-ttu-id="b7348-119">Wenn in einer in der Replikation involvierten Datenbank (eine Veröffentlichungsdatenbank, Abonnementdatenbank oder Verteilungsdatenbank) ein Hauptschlüssel vorhanden ist, werden die Agentkennwörter in dieser Datenbank mithilfe eines symmetrischen Schlüssels der [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] -Datenbank ver- und entschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="b7348-119">If a Master Key is present in a database involved in replication (a publication database, subscription database, or distribution database), replication encrypts and decrypts agent passwords in that database using a [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] database symmetric key.</span></span> <span data-ttu-id="b7348-120">Wenn Hauptschlüssel zum Einsatz kommen, empfiehlt es sich, in jeder in die Replikation involvierten Datenbank jeweils einen Hauptschlüssel zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="b7348-120">If Master Keys are used, a Master Key should be created in each database involved in replication.</span></span> <span data-ttu-id="b7348-121">Weitere Informationen zum Erstellen von Hauptschlüsseln finden Sie unter [CREATE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-master-key-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b7348-121">For more information about creating Master Keys, see [CREATE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-master-key-transact-sql).</span></span>  
  
-   <span data-ttu-id="b7348-122">Bei der Replikation werden Hauptschlüssel nicht repliziert.</span><span class="sxs-lookup"><span data-stu-id="b7348-122">Replication does not replicate Master Keys.</span></span> <span data-ttu-id="b7348-123">Wenn Sie den Hauptschlüssel auf dem Abonnenten benötigen, müssen Sie ihn mit BACKUP MASTER KEY aus der Veröffentlichungsdatenbank exportieren und ihn dann mit RESTORE MASTER KEY in die Abonnementdatenbank importieren.</span><span class="sxs-lookup"><span data-stu-id="b7348-123">If you require the Master Key at the Subscriber, you must export it from the publication database using BACKUP MASTER KEY and then import it into the subscription database using RESTORE MASTER KEY.</span></span> <span data-ttu-id="b7348-124">Weitere Informationen finden Sie unter [BACKUP MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-master-key-transact-sql) und [RESTORE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-master-key-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b7348-124">For more information, see [BACKUP MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-master-key-transact-sql) and [RESTORE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-master-key-transact-sql).</span></span>  
  
-   <span data-ttu-id="b7348-125">Wenn ein Hauptschlüssel für eine anfügbare Abonnement Datenbank definiert ist, geben Sie das Kennwort für den Hauptschlüssel mithilfe des- **@db_master_key_password** Parameters [sp_attachsubscription &#40;Transact-SQL-&#41;](/sql/relational-databases/system-stored-procedures/sp-attachsubscription-transact-sql)an.</span><span class="sxs-lookup"><span data-stu-id="b7348-125">If a Master Key is defined for an attachable subscription database, specify the Master Key password using the **@db_master_key_password** parameter of [sp_attachsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-attachsubscription-transact-sql).</span></span> <span data-ttu-id="b7348-126">Auf diese Weise kann die Datenbank auf dem Abonnenten angefügt werden.</span><span class="sxs-lookup"><span data-stu-id="b7348-126">This allows the database to be attached at the Subscriber.</span></span>  
  
 <span data-ttu-id="b7348-127">Weitere Informationen zur Verschlüsselung und zu Hauptschlüsseln finden Sie unter [Encryption Hierarchy](../../security/encryption/encryption-hierarchy.md).</span><span class="sxs-lookup"><span data-stu-id="b7348-127">For more information about encryption and Master Keys, see [Encryption Hierarchy](../../security/encryption/encryption-hierarchy.md).</span></span>  
  
 <span data-ttu-id="b7348-128">Mithilfe der Replikation können Sie verschlüsselte Spaltendaten veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="b7348-128">Replication enables you to publish encrypted column data.</span></span> <span data-ttu-id="b7348-129">Zum Entschlüsseln und Verwenden dieser Daten auf dem Abonnenten muss der zum Verschlüsseln der Daten auf dem Verleger verwendete Schlüssel auch auf dem Abonnenten vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="b7348-129">To decrypt and use this data at the Subscriber, the key that was used to encrypt the data at the Publisher must also be present on the Subscriber.</span></span> <span data-ttu-id="b7348-130">Die Replikation bietet keinen sicheren Mechanismus zum Transportieren von Verschlüsselungsschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="b7348-130">Replication does not provide a secure mechanism to transport encryption keys.</span></span> <span data-ttu-id="b7348-131">Sie müssen den Verschlüsselungsschlüssel auf dem Abonnenten manuell neu erstellen.</span><span class="sxs-lookup"><span data-stu-id="b7348-131">You must manually re-create the encryption key at the Subscriber.</span></span> <span data-ttu-id="b7348-132">Weitere Informationen finden Sie unter [Replizieren von Daten in verschlüsselten Spalten &#40;SQL Server Management Studio&#41;](replicate-data-in-encrypted-columns-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="b7348-132">For more information, see [Replicate Data in Encrypted Columns &#40;SQL Server Management Studio&#41;](replicate-data-in-encrypted-columns-sql-server-management-studio.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b7348-133">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="b7348-133">See Also</span></span>  
 <span data-ttu-id="b7348-134">[Identitäts-und Access Control &#40;Replikation&#41;](identity-and-access-control-replication.md) </span><span class="sxs-lookup"><span data-stu-id="b7348-134">[Identity and Access Control &#40;Replication&#41;](identity-and-access-control-replication.md) </span></span>  
 [<span data-ttu-id="b7348-135">Bereitstellung sicherer Replikationen</span><span class="sxs-lookup"><span data-stu-id="b7348-135">Secure Replication Deployment</span></span>](view-and-modify-replication-security-settings.md)  
  
  
