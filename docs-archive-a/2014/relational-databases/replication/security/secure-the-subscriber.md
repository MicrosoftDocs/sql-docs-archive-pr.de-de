---
title: Sichern des Abonnenten | Microsoft-Dokumentation
ms.custom: ''
ms.date: 04/26/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- subscriptions [SQL Server replication], security
- Subscribers [SQL Server replication], security
- security [SQL Server replication], Subscribers
ms.assetid: c8f0d62a-8b5d-4a21-9aec-223da52bb708
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 1f03b9a202c3c49f147368460518a579f28dc850
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87620269"
---
# <a name="secure-the-subscriber"></a><span data-ttu-id="ef65f-102">Sichern des Abonnenten</span><span class="sxs-lookup"><span data-stu-id="ef65f-102">Secure the Subscriber</span></span>
  <span data-ttu-id="ef65f-103">Merge-Agents und Verteilungs-Agents stellen Verbindungen mit dem Abonnenten her.</span><span class="sxs-lookup"><span data-stu-id="ef65f-103">Merge Agents and Distribution Agents connect to the Subscriber.</span></span> <span data-ttu-id="ef65f-104">Diese Verbindungen können im Kontext einer [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Anmeldung oder einer Windows-Anmeldung erfolgen.</span><span class="sxs-lookup"><span data-stu-id="ef65f-104">These connections can be made under the context of a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login or a Windows login.</span></span> <span data-ttu-id="ef65f-105">Es ist wichtig, eine geeignete Anmeldung für diese Agents bereitzustellen, ohne dass dabei der Grundsatz verletzt wird, dass nur so viele Rechte erteilt werden sollten, wie unbedingt erforderlich sind. Außerdem muss der Aufbewahrungsort für die Kennwörter geschützt sein.</span><span class="sxs-lookup"><span data-stu-id="ef65f-105">It is important to provide an appropriate login for these agents while following the principle of granting the minimal rights necessary and also protecting the storage of all passwords.</span></span> <span data-ttu-id="ef65f-106">Informationen zu den für die einzelnen Agents erforderlichen Berechtigungen finden Sie unter [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="ef65f-106">For information about the permissions required for each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
## <a name="distribution-agent"></a><span data-ttu-id="ef65f-107">Verteilungs-Agent</span><span class="sxs-lookup"><span data-stu-id="ef65f-107">Distribution Agent</span></span>  
 <span data-ttu-id="ef65f-108">Es gibt entweder einen Verteilungs-Agent pro Abonnement (unabhängiger Agent – dies ist der Standard bei Veröffentlichungen, die mit dem Assistenten für neue Veröffentlichung erstellt werden) oder einen Verteilungs-Agent pro Veröffentlichungsdatenbank/Abonnementdatenbank-Paar (ein freigegebener Agent).</span><span class="sxs-lookup"><span data-stu-id="ef65f-108">There is either one Distribution Agent per subscription (an independent agent, the default for publications created in the New Publication Wizard) or one Distribution Agent per publication database and subscription database pair (a shared agent).</span></span> <span data-ttu-id="ef65f-109">T</span><span class="sxs-lookup"><span data-stu-id="ef65f-109">T</span></span>  
  
 <span data-ttu-id="ef65f-110">Hinweise zum Angeben von Verbindungsinformationen für Pushabonnements finden Sie unter [Erstellen eines Pushabonnements](../create-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="ef65f-110">To specify connection information for push subscriptions, see [Create a Push Subscription](../create-a-push-subscription.md).</span></span>  
  
 <span data-ttu-id="ef65f-111">Hinweise zum Angeben von Verbindungsinformationen für Pullabonnements finden Sie unter [Erstellen eines Pullabonnements](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="ef65f-111">To specify connection information for pull subscriptions, see [Create a Pull Subscription](../create-a-pull-subscription.md)</span></span>  
  
## <a name="merge-agent"></a><span data-ttu-id="ef65f-112">Merge-Agent</span><span class="sxs-lookup"><span data-stu-id="ef65f-112">Merge Agent</span></span>  
 <span data-ttu-id="ef65f-113">Jedes Mergeabonnement besitzt einen Merge-Agent, der eine Verbindung mit dem Verleger und mit dem Abonnenten herstellt und beide aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="ef65f-113">Each merge subscription has its own Merge Agent that connects to and updates both the Publisher and the Subscriber.</span></span>  
  
 <span data-ttu-id="ef65f-114">Hinweise zum Angeben von Verbindungsinformationen für Pushabonnements finden Sie unter [Erstellen eines Pushabonnements](../create-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="ef65f-114">To specify connection information for push subscriptions, see [Create a Push Subscription](../create-a-push-subscription.md).</span></span>  
  
 <span data-ttu-id="ef65f-115">Hinweise zum Angeben von Verbindungsinformationen für Pullabonnements finden Sie unter [Erstellen eines Pullabonnements](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="ef65f-115">To specify connection information for pull subscriptions, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>  
  
## <a name="immediate-updating-subscriptions"></a><span data-ttu-id="ef65f-116">Abonnements mit sofortigem Update</span><span class="sxs-lookup"><span data-stu-id="ef65f-116">Immediate Updating Subscriptions</span></span>  
 <span data-ttu-id="ef65f-117">Beim Konfigurieren eines Abonnements mit sofortigem Update müssen Sie ein Konto auf dem Abonnenten angeben, über das die Verbindungen zum Verleger hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="ef65f-117">When you configure an immediate updating subscription, you specify an account at the Subscriber under which connections to the Publisher are made.</span></span> <span data-ttu-id="ef65f-118">Die Verbindungen werden durch die Trigger verwendet, die auf dem Abonnenten ausgelöst werden und die Änderungen zum Verleger weitergeben.</span><span class="sxs-lookup"><span data-stu-id="ef65f-118">Connections are used by the triggers that fire at the Subscriber and propagate changes to the Publisher.</span></span> <span data-ttu-id="ef65f-119">Für den Typ der Verbindung gibt es drei Optionen:</span><span class="sxs-lookup"><span data-stu-id="ef65f-119">There are three options available for the type of connection:</span></span>  
  
-   <span data-ttu-id="ef65f-120">Verbindungsserver, der von der Replikation erstellt wird. Die Verbindung erfolgt mit den Anmeldeinformationen, die Sie zum Zeitpunkt des Konfigurierens angegeben haben.</span><span class="sxs-lookup"><span data-stu-id="ef65f-120">A linked server that replication creates; the connection is made with the credentials you specify at configuration time.</span></span>  
  
-   <span data-ttu-id="ef65f-121">Ein durch die Replikation erstellter Verbindungsserver. Die Verbindung wird mit den Anmeldeinformationen des Benutzers hergestellt, der die Änderung auf dem Abonnenten vornimmt.</span><span class="sxs-lookup"><span data-stu-id="ef65f-121">A linked server that replication creates; the connection is made with the credentials of the user making the change at the Subscriber.</span></span>  
  
-   <span data-ttu-id="ef65f-122">Ein vordefinierter Verbindungsserver oder Remoteserver.</span><span class="sxs-lookup"><span data-stu-id="ef65f-122">A linked server or remote server that you have already defined.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ef65f-123">Verwenden Sie die gespeicherte Prozedur [sp_link_publication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql), um Verbindungsinformationen anzugeben.</span><span class="sxs-lookup"><span data-stu-id="ef65f-123">To specify connection information, use the stored procedure [sp_link_publication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql).</span></span> <span data-ttu-id="ef65f-124">Sie können auch die Seite **Anmeldename für aktualisierbare Abonnements** des Assistenten für neue Abonnements mit **sp_link_publication**verwenden.</span><span class="sxs-lookup"><span data-stu-id="ef65f-124">You can also use the **Login for Updatable Subscriptions** page of the New Subscription Wizard, which calls **sp_link_publication**.</span></span> <span data-ttu-id="ef65f-125">Unter bestimmten Umständen kann diese gespeicherte Prozedur fehlerhaft sein, wenn der Abonnent [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] Service Pack 1 (SP1) oder höher ausführt, und wenn der Verleger auf einer früheren Version ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ef65f-125">Under certain conditions, this stored procedure can fail if the Subscriber is running [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] Service Pack 1 (SP1) or later, and the Publisher is running an earlier version.</span></span> <span data-ttu-id="ef65f-126">Wenn die gespeicherte Prozedur in diesem Szenario fehlerhaft ist, dann aktualisieren Sie den Verleger auf [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] SP1 oder höher.</span><span class="sxs-lookup"><span data-stu-id="ef65f-126">If the stored procedure fails in this scenario, upgrade the Publisher to [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] SP1 or later.</span></span>  
  
 <span data-ttu-id="ef65f-127">Weitere Informationen finden Sie unter [Erstellen von aktualisierbaren Abonnements für eine Transaktionsveröffentlichung](../publish/create-an-updatable-subscription-to-a-transactional-publication.md) und [Anzeigen und Ändern von Replikationssicherheitseinstellungen](view-and-modify-replication-security-settings.md).</span><span class="sxs-lookup"><span data-stu-id="ef65f-127">For more information, see [Create an Updatable Subscription to a Transactional Publication](../publish/create-an-updatable-subscription-to-a-transactional-publication.md) and [View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ef65f-128">Dem für die Verbindung angegebenen Konto sollten nur die Berechtigung zum Einfügen, Aktualisieren und Löschen der Daten in den durch die Replikation in der Veröffentlichungsdatenbank erstellten Sichten erteilt werden; darüber hinaus sollte das Konto über keine weiteren Berechtigungen verfügen.</span><span class="sxs-lookup"><span data-stu-id="ef65f-128">The account specified for the connection should only be granted permission to insert, update, and delete data on the views that replication creates in the publication database; it should not be given any additional permissions.</span></span> <span data-ttu-id="ef65f-129">Gewähren Sie dem Konto, das Sie für den jeweiligen Abonnenten konfiguriert haben, Berechtigungen für die Sichten in der Veröffentlichungsdatenbank im Format **syncobj_** _\<HexadecimalNumber>_ .</span><span class="sxs-lookup"><span data-stu-id="ef65f-129">Grant permissions on views in the publication database that are named in the form **syncobj_**_\<HexadecimalNumber>_ to the account you configured at each Subscriber.</span></span>  
  
## <a name="queued-updating-subscriptions"></a><span data-ttu-id="ef65f-130">Abonnements mit verzögertem Update über eine Warteschlange</span><span class="sxs-lookup"><span data-stu-id="ef65f-130">Queued Updating Subscriptions</span></span>  
 <span data-ttu-id="ef65f-131">Beim Konfigurieren von Abonnements mit verzögertem Update über eine Warteschlange sind hinsichtlich der Sicherheit die folgenden beiden Punkte zu berücksichtigen:</span><span class="sxs-lookup"><span data-stu-id="ef65f-131">When you configure queued updating subscriptions, there are two areas to keep in mind that relate to security:</span></span>  
  
-   <span data-ttu-id="ef65f-132">Es gibt für jeden Verteiler nur einen Warteschlangenlese-Agent.</span><span class="sxs-lookup"><span data-stu-id="ef65f-132">There is only one Queue Reader Agent for each Distributor.</span></span> <span data-ttu-id="ef65f-133">Es empfiehlt sich daher, dass Sie für jeden Verteiler maximal eine Veröffentlichung konfigurieren, die für Abonnements mit verzögertem Update über eine Warteschlange aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="ef65f-133">It is recommended that for each Distributor, you configure at most one publication that is enabled for queued updating subscriptions.</span></span>  
  
-   <span data-ttu-id="ef65f-134">Der Warteschlangenlese-Agent stellt Verbindungen zum Verteiler, zum Verleger und zu allen Abonnenten her:</span><span class="sxs-lookup"><span data-stu-id="ef65f-134">The Queue Reader agent makes connections to the Distributor, Publisher, and each Subscriber:</span></span>  
  
    -   <span data-ttu-id="ef65f-135">Das Konto, über das der Agent ausgeführt wird und das die Verbindungen zum Verteiler herstellt, wird beim Erstellen des Agents angegeben (wenn Sie den Assistenten für neue Veröffentlichung verwenden, wird der Agent beim Erstellen einer Veröffentlichung erstellt, die für Updateabonnements aktiviert ist).</span><span class="sxs-lookup"><span data-stu-id="ef65f-135">The account under which the agent runs and makes connections to the Distributor is specified when you create the agent (if you use the New Publication Wizard, the agent is created when you create a publication that is enabled for updating subscriptions).</span></span>  
  
    -   <span data-ttu-id="ef65f-136">Das Konto, über das der Agent Verbindungen zum Verleger herstellt, wird beim Konfigurieren der Verteilung für einen Verleger angegeben.</span><span class="sxs-lookup"><span data-stu-id="ef65f-136">The account under which the agent makes connections to the Publisher is specified when you configure distribution for a Publisher.</span></span> <span data-ttu-id="ef65f-137">Geben Sie ein [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Konto oder das Windows-Konto an, unter dem der Agent ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ef65f-137">Specify the Windows account under which the agent runs or a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] account.</span></span>  
  
    -   <span data-ttu-id="ef65f-138">Das Konto, über das der Agent Verbindungen zum Abonnenten herstellt, wird beim Erstellen des Abonnements angegeben.</span><span class="sxs-lookup"><span data-stu-id="ef65f-138">The account under which the agent makes connections to the Subscriber is specified when you create the subscription.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="ef65f-139">Verwenden Sie für Verbindungen zu Abonnenten die [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Authentifizierung, und geben Sie für die Verbindungen mit den einzelnen Abonnenten jeweils ein eigenes Konto an.</span><span class="sxs-lookup"><span data-stu-id="ef65f-139">Use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication for connections to Subscribers, and specify a different account for the connection to each Subscriber.</span></span> <span data-ttu-id="ef65f-140">Bei Verwendung eines Pullabonnements wird von der Replikation in jedem Fall die Verwendung der Windows-Authentifizierung durchgesetzt, da die Replikation bei dieser Art von Abonnements nicht auf die Metadaten auf dem Abonnenten zugreifen kann, die für die [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Authentifizierung erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="ef65f-140">If you use a pull subscription, replication always sets the connection to use Windows Authentication (for pull subscriptions, replication cannot access metadata at the Subscriber required to use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication).</span></span> <span data-ttu-id="ef65f-141">Ändern Sie in diesem Fall nach dem Konfigurieren des Abonnements die Verbindung so, dass die [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Authentifizierung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="ef65f-141">In this case, change the connection to use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication after the subscription is configured.</span></span>  
  
     <span data-ttu-id="ef65f-142">Weitere Informationen finden Sie unter „Vorgehensweise: Erstellen eines Aktualisierungsabonnements für eine Transaktionsveröffentlichung (SQL Server Management Studio)“ und [Anzeigen und Ändern von Replikationssicherheitseinstellungen](view-and-modify-replication-security-settings.md).</span><span class="sxs-lookup"><span data-stu-id="ef65f-142">For more information, see How to: Create an Updating Subscription to a Transactional Publication (SQL Server Management Studio) and [View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ef65f-143">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="ef65f-143">See Also</span></span>  
 <span data-ttu-id="ef65f-144">[Aktivieren von verschlüsselten Verbindungen zur Datenbank-Engine &#40;SQL Server-Konfigurations-Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="ef65f-144">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="ef65f-145">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="ef65f-145">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="ef65f-146">SQL Server-Replikation Sicherheit</span><span class="sxs-lookup"><span data-stu-id="ef65f-146">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
