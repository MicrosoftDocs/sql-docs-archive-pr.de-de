---
title: Sicherheitsmodell des Replikations-Agents | Microsoft-Dokumentation
ms.custom: ''
ms.date: 10/07/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Snapshot Agent, security
- agents [SQL Server replication], security
- Distribution Agent, security
- logins [SQL Server replication], permissions for agents
- security [SQL Server replication], agent security model
- Log Reader Agent, security
- Queue Reader Agent, security
- Merge Agent, security
- replication [SQL Server], agents and profiles
ms.assetid: 6d09fc8d-843a-4a7a-9812-f093d99d8192
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: da597bf97422f5a0960062b385bc0b67338edfe1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87607641"
---
# <a name="replication-agent-security-model"></a><span data-ttu-id="63650-102">Sicherheitsmodell des Replikations-Agents</span><span class="sxs-lookup"><span data-stu-id="63650-102">Replication Agent Security Model</span></span>
  <span data-ttu-id="63650-103">Das Sicherheitsmodell des Replikations-Agents ermöglicht die präzise Steuerung der Konten, unter denen Replikations-Agents ausgeführt werden und Verbindungen herstellen: Für jeden Agent kann ein anderes Konto angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="63650-103">The replication agent security model allows for fine-grained control over the accounts under which replication agents run and make connections: A different account can be specified for each agent.</span></span> <span data-ttu-id="63650-104">Weitere Informationen zur Vorgehensweise beim Angeben von Konten finden Sie unter [Verwalten von Anmeldenamen und Kennwörtern bei der Replikation](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span><span class="sxs-lookup"><span data-stu-id="63650-104">For more information about how to specify accounts, see [Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="63650-105">Wenn ein Mitglied der festen Serverrolle **sysadmin** die Replikation konfiguriert, kann es die Replikations-Agents so konfigurieren, dass sie die Identität des [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Agentkontos annehmen.</span><span class="sxs-lookup"><span data-stu-id="63650-105">When a member of the **sysadmin** fixed server role configures replication, replication agents can be configured to impersonate the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent account.</span></span> <span data-ttu-id="63650-106">Dies geschieht, indem für den Replikations-Agent kein Anmeldename oder Kennwort angegeben wird. Dieser Ansatz ist jedoch nicht empfehlenswert.</span><span class="sxs-lookup"><span data-stu-id="63650-106">This is done by not specifying a login and password for a replication agent; however, we do not recommend this approach.</span></span> <span data-ttu-id="63650-107">Sie sollten besser als bewährte Methode in Bezug auf die Sicherheit für jeden Agent ein Konto mit den im Abschnitt zu den für Agents erforderlichen Berechtigungen beschriebenen minimalen Privilegien angeben.</span><span class="sxs-lookup"><span data-stu-id="63650-107">Instead, as a security best practice, we recommend that you specify an account for each agent that has the minimum permissions that are described in the section "Permissions That Are Required by Agents" later in this topic.</span></span>  
  
 <span data-ttu-id="63650-108">Replikations-Agents werden wie alle ausführbaren Dateien im Kontext eines Windows-Kontos ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="63650-108">Replication agents, like all executables, run under the context of a Windows account.</span></span> <span data-ttu-id="63650-109">Die Agents stellen mithilfe dieses Kontos Verbindungen über die integrierte Sicherheit von Windows her.</span><span class="sxs-lookup"><span data-stu-id="63650-109">The agents make Windows Integrated Security connections by using this account.</span></span> <span data-ttu-id="63650-110">Unter welchem Konto der Agent ausgeführt wird, ist davon abhängig, wie er gestartet wird:</span><span class="sxs-lookup"><span data-stu-id="63650-110">The account under which the agent runs depends on how the agent is started:</span></span>  
  
-   <span data-ttu-id="63650-111">Starten des Agents über einen [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]-Agent-Auftrag (Standardeinstellung): Wenn ein [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]-Agent-Auftrag zum Starten eines Replikations-Agents verwendet wird, wird dieser Agent im Kontext eines Kontos ausgeführt, das Sie während der Replikationskonfiguration angeben.</span><span class="sxs-lookup"><span data-stu-id="63650-111">Starting the agent from a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job, the default: When a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job is used to start a replication agent, the agent runs under the context of an account that you specify when you configure replication.</span></span> <span data-ttu-id="63650-112">Weitere Informationen zum [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Agent und der Replikation finden Sie im Abschnitt "Agentsicherheit mit SQL Server-Agent" weiter unten in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="63650-112">For more information about [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent and replication, see the section "Agent Security under SQL Server Agent" later in this topic.</span></span> <span data-ttu-id="63650-113">Informationen zu den Berechtigungen, die für das Konto erforderlich sind, unter dem der [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]-Agent ausgeführt wird, finden Sie unter [Konfigurieren des SQL Server Agents](../../../ssms/agent/configure-sql-server-agent.md).</span><span class="sxs-lookup"><span data-stu-id="63650-113">For information about the permissions that are required for the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent runs, see [Configure SQL Server Agent](../../../ssms/agent/configure-sql-server-agent.md).</span></span>  
  
-   <span data-ttu-id="63650-114">Starten des Agents über eine MS-DOS-Befehlszeile (direkt oder über ein Skript): Der Agent wird im Kontext des Kontos des Benutzers ausgeführt, der den Agent über die Befehlszeile ausführt.</span><span class="sxs-lookup"><span data-stu-id="63650-114">Starting the agent from an MS-DOS command line, either directly or through a script: The agent runs under the context of the account of the user that is running the agent at the command line.</span></span>  
  
-   <span data-ttu-id="63650-115">Starten des Agents über eine Anwendung, die Replikationsverwaltungsobjekte (Replication Management Objects, RMO) oder ein ActiveX-Steuerelement verwendet: Der Agent wird im Kontext der Anwendung ausgeführt, die RMOs oder ActiveX-Steuerelemente aufruft.</span><span class="sxs-lookup"><span data-stu-id="63650-115">Starting the agent from an application that uses Replication Management Objects (RMO) or an ActiveX control: The agent runs under the context of the application that is calling RMO or the ActiveX control.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="63650-116">ActiveX-Steuerelemente sind als veraltet markiert.</span><span class="sxs-lookup"><span data-stu-id="63650-116">ActiveX controls are deprecated.</span></span>  
  
 <span data-ttu-id="63650-117">Es empfiehlt sich, Verbindungen im Kontext der integrierten Sicherheit von Windows herzustellen.</span><span class="sxs-lookup"><span data-stu-id="63650-117">We recommend that connections be made under the context of Windows Integrated Security.</span></span> <span data-ttu-id="63650-118">Aus Gründen der Abwärtskompatibilität kann auch die [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Sicherheit verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="63650-118">For backward compatibility, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Security can also be used.</span></span> <span data-ttu-id="63650-119">Weitere Informationen zu bewährten Methoden finden Sie unter [Replication Security Best Practices](replication-security-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="63650-119">For more information about best practices, see [Replication Security Best Practices](replication-security-best-practices.md).</span></span>  
  
## <a name="permissions-that-are-required-by-agents"></a><span data-ttu-id="63650-120">Für Agents erforderliche Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="63650-120">Permissions That Are Required by Agents</span></span>  
 <span data-ttu-id="63650-121">Die Konten, unter denen Agents ausgeführt werden und über die sie Verbindungen herstellen, erfordern verschiedene Berechtigungen.</span><span class="sxs-lookup"><span data-stu-id="63650-121">The accounts under which agents run and make connections require a variety of permissions.</span></span> <span data-ttu-id="63650-122">Eine Beschreibung zu diesen Berechtigungen finden Sie in der folgenden Tabelle.</span><span class="sxs-lookup"><span data-stu-id="63650-122">These permissions are described in the following table.</span></span> <span data-ttu-id="63650-123">Es empfiehlt sich, jeden Agent unter einem gesonderten Windows-Konto auszuführen. Außerdem sollten den einzelnen Konten lediglich die erforderlichen Berechtigungen erteilt werden.</span><span class="sxs-lookup"><span data-stu-id="63650-123">We recommend that each agent run under a different Windows account and the account should be granted only the required permissions.</span></span> <span data-ttu-id="63650-124">Weitere Informationen zur Veröffentlichungszugriffsliste (Publication Access List oder PAL), die für eine Reihe von Agents relevant ist, finden Sie unter [Sichern des Verlegers](secure-the-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="63650-124">For information about the publication access list (PAL), which is relevant for a number of agents, see [Secure the Publisher](secure-the-publisher.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="63650-125">Durch die Benutzerkontensteuerung (User Account Control, UAC) in einigen Windows-Betriebssystemen kann der Administratorzugriff auf die Momentaufnahmefreigabe verhindert werden.</span><span class="sxs-lookup"><span data-stu-id="63650-125">User Account Control (UAC) in some Windows operating systems can prevent administrative access to the snapshot share.</span></span> <span data-ttu-id="63650-126">Sie müssen daher den vom Momentaufnahme-Agent, Verteilungs-Agent und Merge-Agent verwendeten Windows-Konten explizit Berechtigungen für die Momentaufnahmefreigabe erteilen.</span><span class="sxs-lookup"><span data-stu-id="63650-126">You must therefore explicitly grant snapshot share permissions to the Windows accounts that are used by the Snapshot Agent, Distribution Agent, and Merge Agent.</span></span> <span data-ttu-id="63650-127">Dies ist auch dann erforderlich, wenn die Windows-Konten Mitglieder der Administratorengruppe sind.</span><span class="sxs-lookup"><span data-stu-id="63650-127">You must do this even if the Windows accounts are members of the Administrators group.</span></span> <span data-ttu-id="63650-128">Weitere Informationen finden Sie unter [Schützen des Momentaufnahmeordners](secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="63650-128">For more information, see [Secure the Snapshot Folder](secure-the-snapshot-folder.md).</span></span>  
  
|<span data-ttu-id="63650-129">Agent</span><span class="sxs-lookup"><span data-stu-id="63650-129">Agent</span></span>|<span data-ttu-id="63650-130">Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="63650-130">Permissions</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="63650-131">Momentaufnahme-Agent</span><span class="sxs-lookup"><span data-stu-id="63650-131">Snapshot Agent</span></span>|<span data-ttu-id="63650-132">Das Windows-Konto, unter dem der Agent ausgeführt wird, wird verwendet, wenn er Verbindungen mit dem Verteiler herstellt.</span><span class="sxs-lookup"><span data-stu-id="63650-132">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="63650-133">Für dieses Konto ist Folgendes erforderlich:</span><span class="sxs-lookup"><span data-stu-id="63650-133">This account must:</span></span><br /><br /> <span data-ttu-id="63650-134">– Es muss mindestens Mitglied der festen Datenbankrolle **db_owner** in der Verteilungsdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-134">-At minimum, be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="63650-135">– Es muss über Lese-, Schreib- und Änderungsberechtigungen für die Momentaufnahmefreigabe verfügen.</span><span class="sxs-lookup"><span data-stu-id="63650-135">-Have read, write, and modify permissions on the snapshot share.</span></span><br /><br /> <br /><br /> <span data-ttu-id="63650-136">Das zum Herstellen der Verbindung mit dem Verleger verwendete Konto muss zumindest Mitglied der festen Datenbankrolle **db_owner** in der Veröffentlichungsdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-136">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span>|  
|<span data-ttu-id="63650-137">Protokolllese-Agent</span><span class="sxs-lookup"><span data-stu-id="63650-137">Log Reader Agent</span></span>|<span data-ttu-id="63650-138">Das Windows-Konto, unter dem der Agent ausgeführt wird, wird verwendet, wenn er Verbindungen mit dem Verteiler herstellt.</span><span class="sxs-lookup"><span data-stu-id="63650-138">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="63650-139">Dieses Konto muss zumindest Mitglied der festen Datenbankrolle **db_owner** in der Verteilungsdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-139">This account must at minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="63650-140">Das zum Herstellen der Verbindung mit dem Verleger verwendete Konto muss zumindest Mitglied der festen Datenbankrolle **db_owner** in der Veröffentlichungsdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-140">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span><br /><br /> <span data-ttu-id="63650-141">Beim Auswählen der `sync_type` Optionen *Replikations Unterstützung nur*, *initialisieren with Backup*oder *initialisieren from LSN*muss der Protokoll Lese-Agent nach der Ausführung von ausgeführt werden `sp_addsubscription` , damit die Setup Skripts in die Verteilungs Datenbank geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="63650-141">When selecting the `sync_type` options *replication support only*, *initialize with backup*, or *initialize from lsn*, the log reader agent must run after executing `sp_addsubscription`, so that the set-up scripts are written to the distribution database.</span></span> <span data-ttu-id="63650-142">Der Protokolllese-Agent muss unter einem Konto ausgeführt werden, das Mitglied der festen Serverrolle **sysadmin** ist.</span><span class="sxs-lookup"><span data-stu-id="63650-142">The log reader agent must be running under an account that is a member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="63650-143">Wenn die `sync_type` Option auf *automatisch*festgelegt ist, sind keine speziellen Aktionen für den Protokoll Lese-Agent erforderlich.</span><span class="sxs-lookup"><span data-stu-id="63650-143">When the `sync_type` option is set to *Automatic*, no special log reader agent actions are required.</span></span>|  
|<span data-ttu-id="63650-144">Verteilungs-Agent für Pushabonnements</span><span class="sxs-lookup"><span data-stu-id="63650-144">Distribution Agent for a push subscription</span></span>|<span data-ttu-id="63650-145">Das Windows-Konto, unter dem der Agent ausgeführt wird, wird verwendet, wenn er Verbindungen mit dem Verteiler herstellt.</span><span class="sxs-lookup"><span data-stu-id="63650-145">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="63650-146">Für dieses Konto ist Folgendes erforderlich:</span><span class="sxs-lookup"><span data-stu-id="63650-146">This account must:</span></span><br /><br /> <span data-ttu-id="63650-147">– Es muss mindestens Mitglied der festen Datenbankrolle **db_owner** in der Verteilungsdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-147">-At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="63650-148">– Es muss Mitglied der PAL sein.</span><span class="sxs-lookup"><span data-stu-id="63650-148">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="63650-149">– Es muss über Leseberechtigungen für die Momentaufnahmefreigabe verfügen.</span><span class="sxs-lookup"><span data-stu-id="63650-149">-Have read permissions on the snapshot share.</span></span><br /><br /> <span data-ttu-id="63650-150">– Es muss über die Leseberechtigung für das Installationsverzeichnis des OLE DB-Anbieters für den Abonnenten verfügen, wenn das Abonnement für einen Nicht-SQL Server-Abonnenten vorgesehen ist.</span><span class="sxs-lookup"><span data-stu-id="63650-150">-Have read permissions on the installation directory of the OLE DB provider for the Subscriber if the subscription is for a non-SQL Server Subscriber.</span></span><br /><br /> <span data-ttu-id="63650-151">– Bei der Replikation von LOB-Daten muss der Verteilungs-Agent über Schreibberechtigungen auf dem Replikationsordner **C:\Programme\Microsoft SQL Server\XX\COMfolder** verfügen, wobei „XX“ für die Instanz-ID steht.</span><span class="sxs-lookup"><span data-stu-id="63650-151">-When replicating LOB data, the distribution agent must have write permissions on the replication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** where XX represents the instanceID.</span></span><br /><br /> <br /><br /> <span data-ttu-id="63650-152">Das zum Herstellen der Verbindung mit dem Abonnenten verwendete Konto muss mindestens Mitglied der festen Datenbankrolle **db_owner** in der Abonnementdatenbank sein oder über vergleichbare Berechtigungen verfügen, wenn das Abonnement nicht SQL Server betrifft.</span><span class="sxs-lookup"><span data-stu-id="63650-152">The account that is used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database, or have equivalent permissions if the subscription is for a non-SQL Server Subscriber.</span></span><br /><br /> <span data-ttu-id="63650-153">Hinweis: Wenn `-subscriptionstreams >= 2` Sie für den Verteilungs-Agent verwenden, müssen Sie auch die- `View Server State` Berechtigung für die Abonnenten erteilen, um Deadlocks zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="63650-153">Note: When using `-subscriptionstreams >= 2` on the distribution agent you must also grant the `View Server State` permission on the subscribers to detect deadlocks.</span></span>|  
|<span data-ttu-id="63650-154">Verteilungs-Agent für Pullabonnements</span><span class="sxs-lookup"><span data-stu-id="63650-154">Distribution Agent for a pull subscription</span></span>|<span data-ttu-id="63650-155">Das Windows-Konto, unter dem der Agent ausgeführt wird, wird verwendet, wenn er Verbindungen mit dem Abonnenten herstellt.</span><span class="sxs-lookup"><span data-stu-id="63650-155">The Windows account under which the agent runs is used when it makes connections to the Subscriber.</span></span> <span data-ttu-id="63650-156">Dieses Konto muss zumindest Mitglied der festen Datenbankrolle **db_owner** in der Abonnementdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-156">This account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span> <span data-ttu-id="63650-157">Für das zum Herstellen der Verbindung mit dem Verteiler verwendete Konto ist Folgendes erforderlich:</span><span class="sxs-lookup"><span data-stu-id="63650-157">The account that is used to connect to the Distributor must:</span></span><br /><br /> <span data-ttu-id="63650-158">– Es muss Mitglied der PAL sein.</span><span class="sxs-lookup"><span data-stu-id="63650-158">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="63650-159">– Es muss über Leseberechtigungen für die Momentaufnahmefreigabe verfügen.</span><span class="sxs-lookup"><span data-stu-id="63650-159">-Have read permissions on the snapshot share.</span></span><br /><br /> <span data-ttu-id="63650-160">– Bei der Replikation von LOB-Daten muss der Verteilungs-Agent über Schreibberechtigungen auf dem Replikationsordner **C:\Programme\Microsoft SQL Server\XX\COMfolder** verfügen, wobei „XX“ für die Instanz-ID steht.</span><span class="sxs-lookup"><span data-stu-id="63650-160">-When replicating LOB data, the distribution agent must have write permissions on the replication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** where XX represents the instanceID.</span></span><br /><br /> <br /><br /> <span data-ttu-id="63650-161">Hinweis: Wenn `-subscriptionstreams >= 2` Sie für den Verteilungs-Agent verwenden, müssen Sie auch die- `View Server State` Berechtigung für die Abonnenten erteilen, um Deadlocks zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="63650-161">Note: When using `-subscriptionstreams >= 2` on the distribution agent you must also grant the `View Server State` permission on the subscribers to detect deadlocks.</span></span>|  
|<span data-ttu-id="63650-162">Merge-Agent für Pushabonnements</span><span class="sxs-lookup"><span data-stu-id="63650-162">Merge Agent for a push subscription</span></span>|<span data-ttu-id="63650-163">Das Windows-Konto, unter dem der Agent ausgeführt wird, wird verwendet, wenn er Verbindungen mit dem Verleger und dem Verteiler herstellt.</span><span class="sxs-lookup"><span data-stu-id="63650-163">The Windows account under which the agent runs is used when it makes connections to the Publisher and Distributor.</span></span> <span data-ttu-id="63650-164">Für dieses Konto ist Folgendes erforderlich:</span><span class="sxs-lookup"><span data-stu-id="63650-164">This account must:</span></span><br /><br /> <span data-ttu-id="63650-165">– Es muss mindestens Mitglied der festen Datenbankrolle **db_owner** in der Verteilungsdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-165">-At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="63650-166">– Es muss Mitglied der PAL sein.</span><span class="sxs-lookup"><span data-stu-id="63650-166">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="63650-167">– Die Anmeldung muss mit einem Benutzer in der Veröffentlichungsdatenbank verknüpft sein.</span><span class="sxs-lookup"><span data-stu-id="63650-167">-Be a login that is associated with a user in the publication database.</span></span><br /><br /> <span data-ttu-id="63650-168">– Es muss über Leseberechtigungen für die Momentaufnahmefreigabe verfügen.</span><span class="sxs-lookup"><span data-stu-id="63650-168">-Have read permissions on the snapshot share.</span></span><br /><br /> <br /><br /> <span data-ttu-id="63650-169">Das zum Herstellen der Verbindung mit dem Abonnenten verwendete Konto muss zumindest Mitglied der festen Datenbankrolle **db_owner** in der Abonnementdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-169">The account used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>|  
|<span data-ttu-id="63650-170">Merge-Agent für Pullabonnements</span><span class="sxs-lookup"><span data-stu-id="63650-170">Merge Agent for a pull subscription</span></span>|<span data-ttu-id="63650-171">Das Windows-Konto, unter dem der Agent ausgeführt wird, wird verwendet, wenn er Verbindungen mit dem Abonnenten herstellt.</span><span class="sxs-lookup"><span data-stu-id="63650-171">The Windows account under which the agent runs is used when it makes connections to the Subscriber.</span></span> <span data-ttu-id="63650-172">Dieses Konto muss zumindest Mitglied der festen Datenbankrolle **db_owner** in der Abonnementdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-172">This account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span> <span data-ttu-id="63650-173">Für das zum Herstellen der Verbindung mit dem Verleger und Verteiler verwendete Konto ist Folgendes erforderlich:</span><span class="sxs-lookup"><span data-stu-id="63650-173">The account that is used to connect to the Publisher and Distributor must:</span></span><br /><br /> <span data-ttu-id="63650-174">– Es muss Mitglied der PAL sein.</span><span class="sxs-lookup"><span data-stu-id="63650-174">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="63650-175">– Die Anmeldung muss mit einem Benutzer in der Veröffentlichungsdatenbank verknüpft sein.</span><span class="sxs-lookup"><span data-stu-id="63650-175">-Be a login associated with a user in the publication database.</span></span><br /><br /> <span data-ttu-id="63650-176">– Die Anmeldung muss mit einem Benutzer in der Verteilungsdatenbank verknüpft sein.</span><span class="sxs-lookup"><span data-stu-id="63650-176">-Be a login associated with a user in the distribution database.</span></span> <span data-ttu-id="63650-177">Der Benutzer kann der `Guest`-Benutzer sein.</span><span class="sxs-lookup"><span data-stu-id="63650-177">The user can be the `Guest` user.</span></span><br /><br /> <span data-ttu-id="63650-178">– Es muss über Leseberechtigungen für die Momentaufnahmefreigabe verfügen.</span><span class="sxs-lookup"><span data-stu-id="63650-178">-Have read permissions on the snapshot share.</span></span>|  
|<span data-ttu-id="63650-179">Warteschlangenlese-Agent</span><span class="sxs-lookup"><span data-stu-id="63650-179">Queue Reader Agent</span></span>|<span data-ttu-id="63650-180">Das Windows-Konto, unter dem der Agent ausgeführt wird, wird verwendet, wenn er Verbindungen mit dem Verteiler herstellt.</span><span class="sxs-lookup"><span data-stu-id="63650-180">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="63650-181">Dieses Konto muss zumindest Mitglied der festen Datenbankrolle **db_owner** in der Verteilungsdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-181">This account must at minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="63650-182">Das zum Herstellen der Verbindung mit dem Verleger verwendete Konto muss zumindest Mitglied der festen Datenbankrolle **db_owner** in der Veröffentlichungsdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-182">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span><br /><br /> <span data-ttu-id="63650-183">Das zum Herstellen der Verbindung mit dem Abonnenten verwendete Konto muss zumindest Mitglied der festen Datenbankrolle **db_owner** in der Abonnementdatenbank sein.</span><span class="sxs-lookup"><span data-stu-id="63650-183">The account that is used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>|  
  
## <a name="agent-security-under-sql-server-agent"></a><span data-ttu-id="63650-184">Agentsicherheit mit SQL Server-Agent</span><span class="sxs-lookup"><span data-stu-id="63650-184">Agent Security Under SQL Server Agent</span></span>  
 <span data-ttu-id="63650-185">Wenn Sie die Replikation mithilfe von [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)] -Prozeduren oder RMO konfigurieren, wird standardmäßig ein [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Agentauftrag für jeden Agent erstellt.</span><span class="sxs-lookup"><span data-stu-id="63650-185">When you configure replication by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)] procedures, or RMO, a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job is created by default for each agent.</span></span> <span data-ttu-id="63650-186">Die Agents werden dann im Kontext eines Auftragsschritts ausgeführt, unabhängig davon, ob sie kontinuierlich, nach einem Zeitplan oder bei Bedarf ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="63650-186">Agents then run under the context of a job step, regardless of whether they run continuously, on a schedule, or on demand.</span></span> <span data-ttu-id="63650-187">Diese Aufträge können im Ordner **Aufträge** in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="63650-187">You can view these jobs under the **Jobs** folder in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="63650-188">Die Auftragsnamen sind in der folgenden Tabelle aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="63650-188">The following table lists the job names.</span></span>  
  
|<span data-ttu-id="63650-189">Agent</span><span class="sxs-lookup"><span data-stu-id="63650-189">Agent</span></span>|<span data-ttu-id="63650-190">Auftragsname</span><span class="sxs-lookup"><span data-stu-id="63650-190">Job name</span></span>|  
|-----------|--------------|  
|<span data-ttu-id="63650-191">Momentaufnahme-Agent</span><span class="sxs-lookup"><span data-stu-id="63650-191">Snapshot Agent</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<integer>**|  
|<span data-ttu-id="63650-192">Momentaufnahme-Agent für eine Mergeveröffentlichungspartition</span><span class="sxs-lookup"><span data-stu-id="63650-192">Snapshot Agent for a merge publication partition</span></span>|<span data-ttu-id="63650-193">**Dyn_\<Publisher>-\<PublicationDatabase>-\<Publication>-\<GUID>**</span><span class="sxs-lookup"><span data-stu-id="63650-193">**Dyn_\<Publisher>-\<PublicationDatabase>-\<Publication>-\<GUID>**</span></span>|  
|<span data-ttu-id="63650-194">Protokolllese-Agent</span><span class="sxs-lookup"><span data-stu-id="63650-194">Log Reader Agent</span></span>|**\<Publisher>-\<PublicationDatabase>-\<integer>**|  
|<span data-ttu-id="63650-195">Merge-Agent für Pullabonnements</span><span class="sxs-lookup"><span data-stu-id="63650-195">Merge Agent for pull subscriptions</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<integer>**|  
|<span data-ttu-id="63650-196">Merge-Agent für Pushabonnements</span><span class="sxs-lookup"><span data-stu-id="63650-196">Merge Agent for push subscriptions</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>**|  
|<span data-ttu-id="63650-197">Verteilungs-Agent für Pushabonnements</span><span class="sxs-lookup"><span data-stu-id="63650-197">Distribution Agent for push subscriptions</span></span>|<span data-ttu-id="63650-198">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="63650-198">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>** <sup>1</sup></span></span>|  
|<span data-ttu-id="63650-199">Verteilungs-Agent für Pullabonnements</span><span class="sxs-lookup"><span data-stu-id="63650-199">Distribution Agent for pull subscriptions</span></span>|<span data-ttu-id="63650-200">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<GUID>** <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="63650-200">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<GUID>** <sup>2</sup></span></span>|  
|<span data-ttu-id="63650-201">Verteilungs-Agent für Pushabonnements für Nicht-SQL Server-Abonnenten</span><span class="sxs-lookup"><span data-stu-id="63650-201">Distribution Agent for push subscriptions to non-SQL Server Subscribers</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>**|  
|<span data-ttu-id="63650-202">Warteschlangenlese-Agent</span><span class="sxs-lookup"><span data-stu-id="63650-202">Queue Reader Agent</span></span>|<span data-ttu-id="63650-203">**[\<Distributor>].\<integer>**</span><span class="sxs-lookup"><span data-stu-id="63650-203">**[\<Distributor>].\<integer>**</span></span>|  
  
 <span data-ttu-id="63650-204"><sup>1</sup> bei Pushabonnements für Oracle-Veröffentlichungen lautet der Auftrags Name \* \* \<Publisher> - \<Publisher**> anstelle von **\<Publisher>-\<PublicationDatabase>** .</span><span class="sxs-lookup"><span data-stu-id="63650-204"><sup>1</sup> For push subscriptions to Oracle publications, the job name is \*\*\<Publisher>-\<Publisher**> instead of **\<Publisher>-\<PublicationDatabase>**.</span></span>  
  
 <span data-ttu-id="63650-205"><sup>2</sup> bei Pullabonnements für Oracle-Veröffentlichungen lautet der Auftrags Name \* \* \<Publisher> - \<DistributionDatabase**> anstelle von **\<Publisher>-\<PublicationDatabase>** .</span><span class="sxs-lookup"><span data-stu-id="63650-205"><sup>2</sup> For pull subscriptions to Oracle publications, the job name is \*\*\<Publisher>-\<DistributionDatabase**> instead of **\<Publisher>-\<PublicationDatabase>**.</span></span>  
  
 <span data-ttu-id="63650-206">Wenn Sie die Replikation konfigurieren, geben Sie Konten an, unter denen die Agents ausgeführt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="63650-206">When you configure replication, you specify accounts under which agents should run.</span></span> <span data-ttu-id="63650-207">Sämtliche Auftragsschritte werden jedoch im Sicherheitskontext eines *Proxys*ausgeführt, somit führt die Replikation folgende Zuordnungen für die von Ihnen angegebenen Agentkonten intern aus:</span><span class="sxs-lookup"><span data-stu-id="63650-207">However, all job steps run under the security context of a *proxy*; therefore, replication performs the following mappings internally for the agent accounts that you specify:</span></span>  
  
-   <span data-ttu-id="63650-208">Das Konto wird zunächst mithilfe der [!INCLUDE[tsql](../../../includes/tsql-md.md)]-Anweisung [CREATE CREDENTIAL](/sql/t-sql/statements/create-credential-transact-sql) Anmeldeinformationen zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="63650-208">The account is first mapped to a credential by using the [!INCLUDE[tsql](../../../includes/tsql-md.md)] [CREATE CREDENTIAL](/sql/t-sql/statements/create-credential-transact-sql) statement.</span></span> <span data-ttu-id="63650-209">Von[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Agent-Proxys werden Anmeldeinformationen zum Speichern von Informationen zu Windows-Benutzerkonten verwendet.</span><span class="sxs-lookup"><span data-stu-id="63650-209">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxies use credentials to store information about Windows user accounts.</span></span>  
  
-   <span data-ttu-id="63650-210">Die gespeicherte Prozedur [sp_add_proxy](/sql/relational-databases/system-stored-procedures/sp-add-proxy-transact-sql) wird aufgerufen, und die Anmeldeinformationen werden zum Erstellen eines Proxys verwendet.</span><span class="sxs-lookup"><span data-stu-id="63650-210">The [sp_add_proxy](/sql/relational-databases/system-stored-procedures/sp-add-proxy-transact-sql) stored procedure is called, and the credential is used to create a proxy..</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="63650-211">Diese Informationen werden bereitgestellt, damit Sie besser verstehen, was für die Ausführung von Agents im angemessenen Sicherheitskontext erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="63650-211">This information is provided to help you understand what is involved in running agents with the appropriate security context.</span></span> <span data-ttu-id="63650-212">Sie müssen in der Regel nicht direkt mit den Anmeldeinformationen oder Proxys interagieren, die erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="63650-212">You should not have to interact directly with the credentials or proxies that have been created.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="63650-213">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="63650-213">See Also</span></span>  
 <span data-ttu-id="63650-214">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="63650-214">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 <span data-ttu-id="63650-215">[SQL Server-Replikation Sicherheit](view-and-modify-replication-security-settings.md) </span><span class="sxs-lookup"><span data-stu-id="63650-215">[SQL Server Replication Security](view-and-modify-replication-security-settings.md) </span></span>  
 [<span data-ttu-id="63650-216">Sichern des Momentaufnahmeordners</span><span class="sxs-lookup"><span data-stu-id="63650-216">Secure the Snapshot Folder</span></span>](secure-the-snapshot-folder.md)  
  
  
