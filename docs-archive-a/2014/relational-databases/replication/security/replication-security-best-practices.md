---
title: Bewährte Methoden für die Replikationssicherheit | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- security [SQL Server replication], best practices
- security [SQL Server replication], between domains
- authentication [SQL Server replication]
- Internet [SQL Server replication], security
ms.assetid: 1ab2635d-0992-4c99-b17d-041d02ec9a7c
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 8e5918bfed52a6ed1befd81d2fdb7910062060e6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87607635"
---
# <a name="replication-security-best-practices"></a><span data-ttu-id="93e01-102">Bewährte Methoden für die Replikationssicherheit</span><span class="sxs-lookup"><span data-stu-id="93e01-102">Replication Security Best Practices</span></span>
  <span data-ttu-id="93e01-103">Bei der Replikation werden Daten in verteilten Umgebungen verschoben, diese reichen von Intranets auf einer einzelnen Domäne bis hin zu Anwendungen, die auf Daten zwischen nicht vertrauenswürdigen Domänen und über das Internet zugreifen.</span><span class="sxs-lookup"><span data-stu-id="93e01-103">Replication moves data in distributed environments ranging from intranets on a single domain to applications that access data between untrusted domains and over the Internet.</span></span> <span data-ttu-id="93e01-104">Es ist wichtig, die beste Methode für die Sicherung der Replikationsverbindungen unter diesen verschiedenen Voraussetzungen zu kennen und zu verstehen.</span><span class="sxs-lookup"><span data-stu-id="93e01-104">It is important to understand the best approach for securing replication connections under these different circumstances.</span></span>  
  
 <span data-ttu-id="93e01-105">Folgende Informationen sind für die Replikation in sämtlichen Umgebungen relevant:</span><span class="sxs-lookup"><span data-stu-id="93e01-105">The following information is relevant to replication in all environments:</span></span>  
  
-   <span data-ttu-id="93e01-106">Verschlüsseln Sie die Verbindungen zwischen Computern in einer Replikationstopologie mithilfe einer Industriestandardmethode, wie beispielsweise Virtual Private Networks (VPN), Secure Sockets Layer (SSL) oder IP Security (IPSEC).</span><span class="sxs-lookup"><span data-stu-id="93e01-106">Encrypt the connections between computers in a replication topology using an industry standard method, such as Virtual Private Networks (VPN), Secure Sockets Layer (SSL), or IP Security (IPSEC).</span></span> <span data-ttu-id="93e01-107">Weitere Informationen finden Sie unter [Aktivieren von verschlüsselten Verbindungen zur Datenbank-Engine &#40;SQL Server-Konfigurations-Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="93e01-107">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span> <span data-ttu-id="93e01-108">Informationen zum Verwenden von VPN und SSL für die Replikation von Daten über das Internet finden Sie unter [Securing Replication Over the Internet](securing-replication-over-the-internet.md).</span><span class="sxs-lookup"><span data-stu-id="93e01-108">For information about using VPN and SSL for replicating data over the Internet, see [Securing Replication Over the Internet](securing-replication-over-the-internet.md).</span></span>  
  
     <span data-ttu-id="93e01-109">Wenn Sie SSL zum Sichern der Verbindungen zwischen Computern in einer Replikationstopologie verwenden, geben Sie den Wert **1** oder **2** für den Parameter **-EncryptionLevel** der einzelnen Replikations-Agents an (der Wert **2** wird empfohlen).</span><span class="sxs-lookup"><span data-stu-id="93e01-109">If you use SSL to secure the connections between computers in a replication topology, specify a value of **1** or **2** for the **-EncryptionLevel** parameter of each replication agent (a value of **2** is recommended).</span></span> <span data-ttu-id="93e01-110">Mit dem Wert **1** wird angegeben, dass eine Verschlüsselung verwendet wird. Der Agent überprüft aber nicht, ob das SSL-Serverzertifikat von einem vertrauenswürdigen Aussteller signiert wurde. Mit dem Wert **2** wird angegeben, dass das Zertifikat überprüft wurde.</span><span class="sxs-lookup"><span data-stu-id="93e01-110">A value of **1** specifies that encryption is used, but the agent does not verify that the SSL server certificate is signed by a trusted issuer; a value of **2** specifies that the certificate is verified.</span></span> <span data-ttu-id="93e01-111">Agentparameter können in den Agentprofilen und in der Befehlszeile angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="93e01-111">Agent parameters can be specified in agent profiles and on the command line.</span></span> <span data-ttu-id="93e01-112">Weitere Informationen finden Sie unter</span><span class="sxs-lookup"><span data-stu-id="93e01-112">For more information, see:</span></span>  
  
    -   [<span data-ttu-id="93e01-113">Arbeiten mit Replikations-Agent-Profilen</span><span class="sxs-lookup"><span data-stu-id="93e01-113">Work with Replication Agent Profiles</span></span>](../agents/replication-agent-profiles.md)  
  
    -   [<span data-ttu-id="93e01-114">Anzeigen und Ändern von Befehlszeilenparametern des Replikations-Agents &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="93e01-114">View and Modify Replication Agent Command Prompt Parameters &#40;SQL Server Management Studio&#41;</span></span>](../agents/view-and-modify-replication-agent-command-prompt-parameters.md)  
  
    -   [<span data-ttu-id="93e01-115">Ausführbare Konzepte für die Programmierung von Replikations-Agent</span><span class="sxs-lookup"><span data-stu-id="93e01-115">Replication Agent Executables Concepts</span></span>](../concepts/replication-agent-executables-concepts.md)  
  
-   <span data-ttu-id="93e01-116">Führen Sie jeden Replikations-Agent unter einem anderen Windows-Konto aus, und verwenden Sie die Windows-Authentifizierung für sämtliche Verbindungen des Replikations-Agents.</span><span class="sxs-lookup"><span data-stu-id="93e01-116">Run each replication agent under a different Windows account, and use Windows Authentication for all replication agent connections.</span></span> <span data-ttu-id="93e01-117">Weitere Informationen zum Angeben von Konten finden Sie unter [Verwalten von Anmeldenamen und Kennwörtern bei der Replikation](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span><span class="sxs-lookup"><span data-stu-id="93e01-117">For more information about specifying accounts, see [Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span></span>  
  
-   <span data-ttu-id="93e01-118">Erteilen Sie jedem Agent nur die erforderlichen Berechtigungen.</span><span class="sxs-lookup"><span data-stu-id="93e01-118">Grant only the required permissions to each agent.</span></span> <span data-ttu-id="93e01-119">Weitere Informationen finden Sie im Abschnitt zu den für die Agents erforderlichen Berechtigungen unter [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="93e01-119">For more information, see the "Permissions Required by Agents" section of [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
-   <span data-ttu-id="93e01-120">Stellen Sie sicher, dass sich alle Konten für Merge-Agents und Verteilungs-Agents in der Veröffentlichungszugriffsliste (PAL, Publication Access List) befinden.</span><span class="sxs-lookup"><span data-stu-id="93e01-120">Ensure all Merge Agent and Distribution Agent accounts are in the publication access list (PAL).</span></span> <span data-ttu-id="93e01-121">Weitere Informationen finden Sie unter [Schützen des Verteilers](secure-the-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="93e01-121">For more information, see [Secure the Publisher](secure-the-publisher.md).</span></span>  
  
-   <span data-ttu-id="93e01-122">Befolgen Sie das Prinzip der geringsten Rechte, indem Sie den Konten in der PAL nur die Berechtigungen erteilen, die sie zur Ausführung von Replikationstasks benötigen.</span><span class="sxs-lookup"><span data-stu-id="93e01-122">Follow the principle of least privilege by allowing accounts in the PAL only the permissions they need to perform replication tasks.</span></span> <span data-ttu-id="93e01-123">Fügen Sie keine Anmeldungen zu festen Serverrollen hinzu, die nicht für die Replikation erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="93e01-123">Do not add the logins to any fixed server roles that are not required for replication.</span></span>  
  
-   <span data-ttu-id="93e01-124">Konfigurieren Sie die Momentaufnahmefreigabe, um den Lesezugriff für alle Merge-Agents und Verteilungs-Agents zuzulassen.</span><span class="sxs-lookup"><span data-stu-id="93e01-124">Configure the snapshot share to allow read access by all Merge Agents and Distribution Agents.</span></span> <span data-ttu-id="93e01-125">Im Fall von Momentaufnahmen für Veröffentlichungen mit parametrisierten Filtern sollten Sie sicherstellen, dass jeder Ordner so konfiguriert wird, dass der Zugriff nur für die geeigneten Merge-Agent-Konten gewährt wird.</span><span class="sxs-lookup"><span data-stu-id="93e01-125">In the case of snapshots for publications with parameterized filters, ensure that each folder is configured to allow access only to the appropriate Merge Agent accounts.</span></span>  
  
-   <span data-ttu-id="93e01-126">Konfigurieren sie die Momentaufnahmefreigabe so, dass der Schreibzugriff für den Momentaufnahme-Agent gewährt wird.</span><span class="sxs-lookup"><span data-stu-id="93e01-126">Configure the snapshot share to allow write access by the Snapshot Agent.</span></span>  
  
-   <span data-ttu-id="93e01-127">Falls Sie Pullabonnements verwenden, sollten Sie anstelle eines lokalen Pfads für den Momentaufnahmeordner eine Netzwerkfreigabe verwenden.</span><span class="sxs-lookup"><span data-stu-id="93e01-127">If you use pull subscriptions, use a network share rather than a local path for the snapshot folder.</span></span>  
  
 <span data-ttu-id="93e01-128">Falls Ihre Replikationstopologie Computer enthält, die sich nicht in derselben Domäne oder in Domänen befinden, zwischen denen keine Vertrauensstellungen bestehen, können Sie die Windows-Authentifizierung oder die [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Authentifizierung für die von den Agents hergestellten Verbindungen verwenden. (Weitere Informationen zu Domänen finden Sie in der Windows-Dokumentation.)</span><span class="sxs-lookup"><span data-stu-id="93e01-128">If your replication topology includes computers that are not in the same domain or are in domains that do not have trust relationships with each other, you can use Windows Authentication or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication for the connections made by agents (For more information about domains, see the Windows documentation).</span></span> <span data-ttu-id="93e01-129">Es empfiehlt sich, als bewährte Sicherheitsmethode die Windows-Authentifizierung zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="93e01-129">It is recommended as a security best practice that you use Windows Authentication.</span></span>  
  
-   <span data-ttu-id="93e01-130">So verwenden Sie die Windows-Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="93e01-130">To use Windows Authentication:</span></span>  
  
    -   <span data-ttu-id="93e01-131">Fügen Sie ein lokales Windows-Konto (kein Domänenkonto) für jeden Agent an den passenden Knoten hinzu (verwenden Sie an jedem Knoten denselben Namen und dasselbe Kennwort).</span><span class="sxs-lookup"><span data-stu-id="93e01-131">Add a local Windows account (not a domain account) for each agent at the appropriate nodes (use the same name and password at each node).</span></span> <span data-ttu-id="93e01-132">Beispielsweise wird der Verteilungs-Agent für ein Pushabonnement auf dem Verteiler ausgeführt und stellt Verbindungen mit dem Verteiler und mit dem Abonnenten her.</span><span class="sxs-lookup"><span data-stu-id="93e01-132">For example, the Distribution Agent for a push subscription runs at the Distributor and makes connections to the Distributor and Subscriber.</span></span> <span data-ttu-id="93e01-133">Das Windows-Konto für den Verteilungs-Agent sollte dem Verteiler und dem Abonnenten hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="93e01-133">The Windows account for the Distribution Agent should be added to the Distributor and Subscriber.</span></span>  
  
    -   <span data-ttu-id="93e01-134">Stellen Sie sicher, dass ein bestimmter Agent (z. B. ein Verteilungs-Agent für ein Abonnement) auf jedem Computer unter demselben Konto ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="93e01-134">Ensure that a given agent (for example the Distribution Agent for a subscription) runs under the same account at each computer.</span></span>  
  
-   <span data-ttu-id="93e01-135">So verwenden Sie die [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="93e01-135">To use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication:</span></span>  
  
    -   <span data-ttu-id="93e01-136">Fügen Sie ein [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Konto für jeden Agent an den passenden Knoten hinzu (verwenden Sie an jedem Knoten denselben Namen und dasselbe Kennwort).</span><span class="sxs-lookup"><span data-stu-id="93e01-136">Add a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] account for each agent at the appropriate nodes (use the same account name and password at each node).</span></span> <span data-ttu-id="93e01-137">Beispielsweise wird der Verteilungs-Agent für ein Pushabonnement auf dem Verteiler ausgeführt und stellt Verbindungen mit dem Verteiler und mit dem Abonnenten her.</span><span class="sxs-lookup"><span data-stu-id="93e01-137">For example, the Distribution Agent for a push subscription runs at the Distributor and makes connections to the Distributor and Subscriber.</span></span> <span data-ttu-id="93e01-138">Das [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Konto für den Verteilungs-Agent sollte dem Verteiler und dem Abonnenten hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="93e01-138">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] account for the Distribution Agent should be added to the Distributor and Subscriber.</span></span>  
  
    -   <span data-ttu-id="93e01-139">Stellen Sie sicher, dass ein bestimmter Agent (z. B. ein Verteilungs-Agent für ein Abonnement) auf jedem Computer unter demselben Konto Verbindungen herstellt.</span><span class="sxs-lookup"><span data-stu-id="93e01-139">Ensure that a given agent (for example the Distribution Agent for a subscription) makes connections under the same account at each computer.</span></span>  
  
    -   <span data-ttu-id="93e01-140">In Situationen, für die die [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Authentifizierung erforderlich ist, ist der Zugriff auf die UNC-Momentaufnahmefreigabe oft nicht verfügbar (der Zugriff kann z. B. durch eine Firewall gesperrt sein).</span><span class="sxs-lookup"><span data-stu-id="93e01-140">In situations that require [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication, access to UNC snapshot shares is often not available (for example access might be blocked by a firewall).</span></span> <span data-ttu-id="93e01-141">In diesem Fall können Sie die Momentaufnahme über das Dateiübertragungsprotokoll (FTP, File Transfer Protokoll) auf Abonnenten übertragen.</span><span class="sxs-lookup"><span data-stu-id="93e01-141">In this case, you can transfer the snapshot to Subscribers through file transfer protocol (FTP).</span></span> <span data-ttu-id="93e01-142">Weitere Informationen finden Sie unter [Übertragen von Momentaufnahmen über FTP](../transfer-snapshots-through-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="93e01-142">For more information, see [Transfer Snapshots Through FTP](../transfer-snapshots-through-ftp.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="93e01-143">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="93e01-143">See Also</span></span>  
 <span data-ttu-id="93e01-144">[Aktivieren von verschlüsselten Verbindungen zur Datenbank-Engine &#40;SQL Server-Konfigurations-Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="93e01-144">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="93e01-145">[Replikation über das Internet](../replication-over-the-internet.md) </span><span class="sxs-lookup"><span data-stu-id="93e01-145">[Replication over the Internet](../replication-over-the-internet.md) </span></span>  
 <span data-ttu-id="93e01-146">[Sichern des Abonnenten](secure-the-subscriber.md) </span><span class="sxs-lookup"><span data-stu-id="93e01-146">[Secure the Subscriber](secure-the-subscriber.md) </span></span>  
 <span data-ttu-id="93e01-147">[Schützen des Verteilers](secure-the-distributor.md) </span><span class="sxs-lookup"><span data-stu-id="93e01-147">[Secure the Distributor](secure-the-distributor.md) </span></span>  
 <span data-ttu-id="93e01-148">[Sichern des Verlegers](secure-the-publisher.md) </span><span class="sxs-lookup"><span data-stu-id="93e01-148">[Secure the Publisher](secure-the-publisher.md) </span></span>  
 [<span data-ttu-id="93e01-149">SQL Server-Replikation Sicherheit</span><span class="sxs-lookup"><span data-stu-id="93e01-149">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
