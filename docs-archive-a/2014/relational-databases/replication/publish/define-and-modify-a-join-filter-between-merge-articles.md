---
title: Definieren und Ändern eines Verknüpfungsfilters zwischen Mergeartikeln | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/30/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- filters [SQL Server replication], join
- merge replication join filters [SQL Server replication]
- modifying filters, join
- join filters
ms.assetid: f7f23415-43ff-40f5-b3e0-0be1d148ee5b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 0770a17ce4c50c9c0e3b8728db85c0f9e80b555b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87622554"
---
# <a name="define-and-modify-a-join-filter-between-merge-articles"></a><span data-ttu-id="2d190-102">Definieren und Ändern eines Verknüpfungsfilters zwischen Mergeartikeln</span><span class="sxs-lookup"><span data-stu-id="2d190-102">Define and Modify a Join Filter Between Merge Articles</span></span>
  <span data-ttu-id="2d190-103">In diesem Thema wird beschrieben, wie Verknüpfungsfilter zwischen Mergeartikeln in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] mit [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] oder [!INCLUDE[tsql](../../../includes/tsql-md.md)]definiert und geändert werden.</span><span class="sxs-lookup"><span data-stu-id="2d190-103">This topic describes how to define and modify a join filter between merge articles in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="2d190-104">Die Mergereplikation unterstützt Joinfilter, die in der Regel in Verbindung mit parametrisierten Filtern verwendet werden, um die Tabellenpartitionierung auf andere verknüpfte Tabellenartikel auszuweiten.</span><span class="sxs-lookup"><span data-stu-id="2d190-104">Merge replication supports join filters, which are typically used in conjunction with parameterized filters to extend table partitioning to other related table articles.</span></span>  
  
 <span data-ttu-id="2d190-105">**In diesem Thema**</span><span class="sxs-lookup"><span data-stu-id="2d190-105">**In This Topic**</span></span>  
  
-   <span data-ttu-id="2d190-106">**Vorbereitungen:**</span><span class="sxs-lookup"><span data-stu-id="2d190-106">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="2d190-107">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="2d190-107">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="2d190-108">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="2d190-108">Recommendations</span></span>](#Recommendations)  
  
-   <span data-ttu-id="2d190-109">**So definieren und ändern Sie einen Verknüpfungsfilter zwischen Mergeartikeln mit:**</span><span class="sxs-lookup"><span data-stu-id="2d190-109">**To define and modify a join filter between merge articles, using:**</span></span>  
  
     [<span data-ttu-id="2d190-110">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="2d190-110">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="2d190-111">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="2d190-111">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="2d190-112">Vorbereitungen</span><span class="sxs-lookup"><span data-stu-id="2d190-112">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="2d190-113">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="2d190-113">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="2d190-114">Um einen Joinfilter zu erstellen, muss eine Veröffentlichung mindestens zwei verknüpfte Tabellen enthalten.</span><span class="sxs-lookup"><span data-stu-id="2d190-114">To create a join filter, a publication must contain at least two related tables.</span></span> <span data-ttu-id="2d190-115">Verknüpfungsfilterfilter sind eine Erweiterung von Zeilenfiltern. Daher müssen Sie den Zeilenfilter für eine Tabelle definieren, bevor Sie diesen in einer anderen Tabelle um eine Verknüpfung erweitern können.</span><span class="sxs-lookup"><span data-stu-id="2d190-115">A join filter extends a row filter; therefore you must define a row filter on one table before you can extend the filter with a join to another table.</span></span> <span data-ttu-id="2d190-116">Nach dem Definieren eines Joinfilters können Sie diesen wiederum um einen anderen Joinfilter erweitern, sofern die Veröffentlichung weitere verknüpfte Tabellen enthält.</span><span class="sxs-lookup"><span data-stu-id="2d190-116">After one join filter is defined, you can extend this join filter with another join filter if the publication contains additional related tables.</span></span>  
  
-   <span data-ttu-id="2d190-117">Wenn Sie einen Verknüpfungsfilter hinzufügen, ändern oder löschen, nachdem Abonnements für die Veröffentlichung initialisiert wurden, müssen Sie eine neue Momentaufnahme generieren und alle Abonnements nach vorgenommener Änderung erneut initialisieren.</span><span class="sxs-lookup"><span data-stu-id="2d190-117">If you add, modify, or delete a join filter after subscriptions to the publication have been initialized, you must generate a new snapshot and reinitialize all subscriptions after making the change.</span></span> <span data-ttu-id="2d190-118">Weitere Informationen zum Ändern von Eigenschaften finden Sie unter [Ändern von Veröffentlichungs- und Artikeleigenschaften](change-publication-and-article-properties.md).</span><span class="sxs-lookup"><span data-stu-id="2d190-118">For more information about requirements for property changes, see [Change Publication and Article Properties](change-publication-and-article-properties.md).</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="2d190-119">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="2d190-119">Recommendations</span></span>  
  
-   <span data-ttu-id="2d190-120">Joinfilter für Tabellen können sowohl manuell als auch automatisch per Replikation erstellt werden. Die automatische Erstellung erfolgt auf der Basis der für die Tabellen definierten Beziehungen zwischen Fremdschlüsseln und Primärschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="2d190-120">Join filters can be created manually for a set of tables, or replication can generate the filters automatically based on the relationships between foreign keys and primary keys defined on the tables.</span></span> <span data-ttu-id="2d190-121">Weitere Informationen zum automatischen Generieren einer Reihe von Verknüpfungsfiltern finden Sie unter [Automatically Generate a Set of Join Filters Between Merge Articles &#40;SQL Server Management Studio&#41; (Automatischses Generieren einer Reihe von Verküpfungsfiltern zwischen Mergeartikeln &#40;SQL Server Management Studio&#41;)](automatically-generate-join-filters-between-merge-articles.md).</span><span class="sxs-lookup"><span data-stu-id="2d190-121">For more information on generating a set of join filters automatically, see [Automatically Generate a Set of Join Filters Between Merge Articles &#40;SQL Server Management Studio&#41;](automatically-generate-join-filters-between-merge-articles.md).</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="2d190-122">Verwenden von SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="2d190-122">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="2d190-123">Definieren, ändern und löschen Sie Verknüpfungsfilter auf der Seite **Tabellenzeilen filtern** des Assistenten für neue Veröffentlichung oder auf der Seite **Filterzeilen** im Dialogfeld **Veröffentlichungseigenschaften - \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="2d190-123">Define, modify, and delete join filters on the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="2d190-124">Weitere Informationen zum Verwenden des Assistenten sowie Zugriff auf das Dialogfeld finden Sie unter [Erstellen einer Veröffentlichung](create-a-publication.md) und [Anzeigen und Ändern von Veröffentlichungseigenschaften](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="2d190-124">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-define-a-join-filter"></a><span data-ttu-id="2d190-125">So definieren Sie einen Joinfilter</span><span class="sxs-lookup"><span data-stu-id="2d190-125">To define a join filter</span></span>  
  
1.  <span data-ttu-id="2d190-126">Wählen Sie auf der Seite **Tabellenzeilen filtern** des Assistenten für neue Veröffentlichung oder auf der Seite **Filterzeilen** von **Veröffentlichungseigenschaften - \<Publication>** einen vorhandenen Zeilenfilter oder Verknüpfungsfilter im Bereich **Gefilterte Tabellen** aus.</span><span class="sxs-lookup"><span data-stu-id="2d190-126">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>**, select an existing row filter or join filter in the **Filtered Tables** pane.</span></span>  
  
2.  <span data-ttu-id="2d190-127">Klicken Sie auf **Hinzufügen**und anschließend auf **Join hinzufügen, um den ausgewählten Filter zu erweitern**.</span><span class="sxs-lookup"><span data-stu-id="2d190-127">Click **Add**, and then click **Add Join to Extend the Selected Filter**.</span></span>  
  
3.  <span data-ttu-id="2d190-128">Erstellen Sie die Joinanweisung: Aktivieren Sie dazu entweder **Anweisung mit dem Generator erstellen** oder **Joinanweisung manuell schreiben**.</span><span class="sxs-lookup"><span data-stu-id="2d190-128">Create the join statement: select either **Use the builder to create the statement** or **Write the join the statement manually**.</span></span>  
  
    -   <span data-ttu-id="2d190-129">Wenn Sie auswählen, dass der Generator verwendet werden soll, verwenden Sie die Spalten im Raster (**Konjunktion**, **Gefilterte Tabellenspalte**, **Operator**und **Verknüpfte Tabellenspalte**), um eine Joinanweisung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="2d190-129">If you select to use the builder, use the columns in the grid (**Conjunction**, **Filtered table column**, **Operator**, and **Joined table column**) to build a join statement.</span></span>  
  
         <span data-ttu-id="2d190-130">Die Spalten in der Tabelle enthalten jeweils ein Dropdown-Kombinationsfeld, in dem Sie zwei Spalten und einen Operator ( **=** , **<>** , **<=** , **\<**, **>=** , **>** und **like**) auswählen können.</span><span class="sxs-lookup"><span data-stu-id="2d190-130">Each column in the grid contains a drop-down combo box, allowing you to select two columns and an operator (**=**, **<>**, **<=**, **\<**, **>=**, **>**, and **like**).</span></span> <span data-ttu-id="2d190-131">Die Ergebnisse werden im Textbereich **Vorschau** angezeigt.</span><span class="sxs-lookup"><span data-stu-id="2d190-131">The results are displayed in the **Preview** text area.</span></span> <span data-ttu-id="2d190-132">Wenn sich der Join auf mehr als ein Spaltenpaar bezieht, wählen Sie in der **Konjunktion** -Spalte eine Konjunktion aus (AND oder OR), und geben Sie dann zwei weitere Spalten und einen Operator ein.</span><span class="sxs-lookup"><span data-stu-id="2d190-132">If the join involves more than one pair of columns, select a conjunction (AND or OR) from the **Conjunction** column, and then enter two more columns and an operator.</span></span>  
  
    -   <span data-ttu-id="2d190-133">Wenn Sie ausgewählt haben, dass die Anweisung manuell geschrieben wird, schreiben Sie die Joinanweisung im Textbereich **Joinanweisung** .</span><span class="sxs-lookup"><span data-stu-id="2d190-133">If you select to write the statement manually, write the join statement in the **Join statement** text area.</span></span> <span data-ttu-id="2d190-134">Ziehen Sie die gewünschten Spalten aus den Listenfeldern **Spalten der gefilterten Tabelle** und **Spalten der verknüpften Tabelle** in den Textbereich **Joinanweisung** .</span><span class="sxs-lookup"><span data-stu-id="2d190-134">Use the **Filtered table columns** list box and the **Joined table columns** list box to drag and drop columns to the **Join statement** text area.</span></span>  
  
    -   <span data-ttu-id="2d190-135">Die vollständige Joinanweisung würde wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="2d190-135">The complete join statement would appear like:</span></span>  
  
        ```  
        SELECT <published_columns> FROM [Sales].[SalesOrderHeader] INNER JOIN [Sales].[SalesOrderDetail] ON [SalesOrderHeader].[SalesOrderID] = [SalesOrderDetail].[SalesOrderID]  
        ```  
  
         <span data-ttu-id="2d190-136">Die JOIN-Klausel muss zweiteilige Benennungen verwenden. Drei- und vierteilige Benennungen werden nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="2d190-136">The JOIN clause should use two-part naming; three-part naming and four-part naming are not supported.</span></span>  
  
4.  <span data-ttu-id="2d190-137">Geben Sie die Joinoptionen an:</span><span class="sxs-lookup"><span data-stu-id="2d190-137">Specify join options:</span></span>  
  
    -   <span data-ttu-id="2d190-138">Falls die Spalte, die mit der gefilterten Tabelle (der übergeordneten Tabelle) verknüpft wird, eindeutig ist, aktivieren Sie die Option **Unique key**.</span><span class="sxs-lookup"><span data-stu-id="2d190-138">If the column on which you join in the filtered table (the parent table) is unique, select **Unique key**.</span></span>  
  
        > [!CAUTION]  
        >  <span data-ttu-id="2d190-139">Durch Auswahl dieser Option kennzeichnen Sie, ob es sich bei der Beziehung zwischen der untergeordneten und der übergeordneten Tabelle in einem Joinfilter um eine 1:1- oder eine 1:n-Beziehung handelt.</span><span class="sxs-lookup"><span data-stu-id="2d190-139">Selecting this option indicates that the relationship between the child and parent tables in a join filter is one to one or one to many.</span></span> <span data-ttu-id="2d190-140">Verwenden Sie diese Option nur, wenn für die verknüpfte Spalte in der untergeordneten Tabelle eine Einschränkung vorhanden ist, die die Eindeutigkeit sicherstellt.</span><span class="sxs-lookup"><span data-stu-id="2d190-140">Only select this option if you have a constraint on the joining column in the child table that guarantees uniqueness.</span></span> <span data-ttu-id="2d190-141">Wenn die Option nicht richtig festgelegt wird, kann eine mangelnde Konvergenz der Daten die Folge sein.</span><span class="sxs-lookup"><span data-stu-id="2d190-141">If the option is set incorrectly, non-convergence of data can occur.</span></span>  
  
    -   <span data-ttu-id="2d190-142">Standardmäßig werden Änderungen durch die Mergereplikation während der Synchronisierung zeilenweise verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="2d190-142">By default, merge replication processes changes on a row-by-row basis during synchronization.</span></span> <span data-ttu-id="2d190-143">Wenn Änderungen in Zeilen sowohl in der gefilterten Tabelle als auch in der verknüpften Tabelle als eine Einheit verarbeitet werden sollen, aktivieren Sie die Option **Logischer Datensatz** (nur [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] und höher).</span><span class="sxs-lookup"><span data-stu-id="2d190-143">To have related changes in rows of both the filtered table and the joined table processed as a unit, select **Logical record** ([!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] and later versions only).</span></span> <span data-ttu-id="2d190-144">Diese Option ist nur verfügbar, wenn die Anforderungen für die Verwendung logischer Datensätze durch den Artikel und die Veröffentlichung erfüllt werden.</span><span class="sxs-lookup"><span data-stu-id="2d190-144">This option is available only if the article and publication requirements for using logical records are met.</span></span> <span data-ttu-id="2d190-145">Weitere Informationen finden Sie im Abschnitt „Überlegungen zum Verwenden logischer Datensätze“ unter [Gruppieren von Änderungen an verknüpften Zeilen mithilfe von logischen Datensätzen](../merge/group-changes-to-related-rows-with-logical-records.md).</span><span class="sxs-lookup"><span data-stu-id="2d190-145">For more information see the section "Considerations for Using Logical Records" in [Group Changes to Related Rows with Logical Records](../merge/group-changes-to-related-rows-with-logical-records.md).</span></span>  
  
5.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
6.  <span data-ttu-id="2d190-146">Wenn Sie sich im Dialogfeld **Veröffentlichungseigenschaften - \<Publication>** befinden, klicken Sie auf **OK**, um die Einstellungen zu speichern und das Dialogfeld zu schließen.</span><span class="sxs-lookup"><span data-stu-id="2d190-146">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-modify-a-join-filter"></a><span data-ttu-id="2d190-147">So ändern Sie einen Joinfilter</span><span class="sxs-lookup"><span data-stu-id="2d190-147">To modify a join filter</span></span>  
  
1.  <span data-ttu-id="2d190-148">Wählen Sie auf der Seite **Tabellenzeilen filtern** des Assistenten für neue Veröffentlichung oder auf der Seite **Filterzeilen** von **Veröffentlichungseigenschaften - \<Publication>** einen Filter im Bereich **gefilterte Tabellen**, und klicken Sie dann auf **Bearbeiten**.</span><span class="sxs-lookup"><span data-stu-id="2d190-148">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>**, select a filter in the **Filtered Tables** pane, and then click **Edit**.</span></span>  
  
2.  <span data-ttu-id="2d190-149">Ändern Sie den Filter im Dialogfeld **Join bearbeiten** .</span><span class="sxs-lookup"><span data-stu-id="2d190-149">In the **Edit Join** dialog box, modify the filter.</span></span>  
  
3.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-delete-a-join-filter"></a><span data-ttu-id="2d190-150">So löschen Sie einen Joinfilter</span><span class="sxs-lookup"><span data-stu-id="2d190-150">To delete a join filter</span></span>  
  
1.  <span data-ttu-id="2d190-151">Wählen Sie auf der Seite **Tabellenzeilen filtern** des Assistenten für neue Veröffentlichung oder der Seite **Filterzeilen** von **Veröffentlichungseigenschaften - \<Publication>** einen Filter im Bereich **gefilterte Tabellen**, und klicken Sie dann auf **Löschen**.</span><span class="sxs-lookup"><span data-stu-id="2d190-151">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>**, select a filter in the **Filtered Tables** pane, and then click **Delete**.</span></span> <span data-ttu-id="2d190-152">Wenn der Joinfilter, den Sie löschen möchten, mit anderen Joins erweitert ist, werden diese Joins beim Löschen des Filters selbst ebenfalls gelöscht.</span><span class="sxs-lookup"><span data-stu-id="2d190-152">If the join filter you delete is itself extended by other joins, those joins will also be deleted.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="2d190-153">Verwenden von Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="2d190-153">Using Transact-SQL</span></span>  
 <span data-ttu-id="2d190-154">In diesen Prozeduren wird ein parametrisierter Filter für einen übergeordneten Artikel mit Verknüpfungsfiltern zwischen diesem Artikel und zugehörigen untergeordneten Artikeln gezeigt.</span><span class="sxs-lookup"><span data-stu-id="2d190-154">These procedures show a parameterized filter on a parent article with join filters between this article and related child articles.</span></span> <span data-ttu-id="2d190-155">Joinfilter können mithilfe gespeicherter Replikationsprozeduren programmgesteuert definiert und geändert werden.</span><span class="sxs-lookup"><span data-stu-id="2d190-155">Join filters can be defined and modified programmatically using replication stored procedures.</span></span>  
  
#### <a name="to-define-a-join-filter-to-extend-an-article-filter-to-related-articles-in-a-merge-publication"></a><span data-ttu-id="2d190-156">So definieren Sie einen Joinfilter, um einen Artikelfilter auf zugehörige Artikel in einer Mergeveröffentlichung zu erweitern</span><span class="sxs-lookup"><span data-stu-id="2d190-156">To define a join filter to extend an article filter to related articles in a merge publication</span></span>  
  
1.  <span data-ttu-id="2d190-157">Definieren Sie die Filterung für den Artikel, zu dem ein Join hergestellt werden soll. Dieser Artikel wird auch als übergeordneter Artikel bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="2d190-157">Define the filtering for the article being joined to, which is also known as the parent article.</span></span>  
  
    -   <span data-ttu-id="2d190-158">Informationen zu einem Artikel, der mit einem parametrisierten Zeilenfilter gefiltert wurde, finden Sie unter [Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span><span class="sxs-lookup"><span data-stu-id="2d190-158">For an article filtered using a parameterized row filter, see [Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span></span>  
  
    -   <span data-ttu-id="2d190-159">Informationen zu einem Artikel, der mit einem statischen Zeilenfilter gefiltert wurde, finden Sie unter [Define and Modify a Static Row Filter](define-and-modify-a-static-row-filter.md).</span><span class="sxs-lookup"><span data-stu-id="2d190-159">For an article filtered using a static row filter, see [Define and Modify a Static Row Filter](define-and-modify-a-static-row-filter.md).</span></span>  
  
2.  <span data-ttu-id="2d190-160">Führen Sie auf dem Verleger für die Veröffentlichungsdatenbank, [Sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) aus um einen oder mehrere ähnliche Artikel, auch bekannt als untergeordnete Artikel, für die Veröffentlichung zu definieren.</span><span class="sxs-lookup"><span data-stu-id="2d190-160">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) to define one or more related articles, which are also known as child articles, for the publication.</span></span> <span data-ttu-id="2d190-161">Weitere Informationen finden Sie unter [Definieren eines Artikels](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="2d190-161">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
3.  <span data-ttu-id="2d190-162">Führen Sie auf dem Verleger für die Veröffentlichungsdatenbank [sp_addmergefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergefilter-transact-sql)aus.</span><span class="sxs-lookup"><span data-stu-id="2d190-162">At the Publisher on the publication database, execute [sp_addmergefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergefilter-transact-sql).</span></span> <span data-ttu-id="2d190-163">Geben Sie **@publication** , einen eindeutigen Namen für diesen Filter für **@filtername** , den Namen des in Schritt 2 erstellten untergeordneten Artikels für **@article** , den Namen des übergeordneten Artikels, mit dem verknüpft wird, für **@join_articlename** und einen der folgenden Werte für an **@join_unique_key** :</span><span class="sxs-lookup"><span data-stu-id="2d190-163">Specify **@publication**, a unique name for this filter for **@filtername**, the name of the child article created in step 2 for **@article**, the name of the parent article being joined to for **@join_articlename**, and one of the following values for **@join_unique_key**:</span></span>  
  
    -   <span data-ttu-id="2d190-164">**0** &ndash; gibt einen n:1- oder einen n:n-Join zwischen den übergeordneten und den untergeordneten Artikeln an.</span><span class="sxs-lookup"><span data-stu-id="2d190-164">**0** - indicates a many-to-one or many-to-many join between the parent and child articles.</span></span>  
  
    -   <span data-ttu-id="2d190-165">**1** &ndash; gibt einen 1:1- oder einen 1:n-Join zwischen den übergeordneten und den untergeordneten Artikeln an.</span><span class="sxs-lookup"><span data-stu-id="2d190-165">**1** - indicates a one-to-one or one-to-many join between the parent and child articles.</span></span>  
  
     <span data-ttu-id="2d190-166">Damit wird ein Joinfilter zwischen den beiden Artikeln definiert.</span><span class="sxs-lookup"><span data-stu-id="2d190-166">This defines a join filter between the two articles.</span></span>  
  
    > [!CAUTION]  
    >  <span data-ttu-id="2d190-167">Wird nur **@join_unique_key** auf **1** festgelegt, wenn eine Einschränkung für die Spalte beitreten in der zugrunde liegenden Tabelle für den übergeordneten Artikel vorhanden ist, der die Eindeutigkeit gewährleistet.</span><span class="sxs-lookup"><span data-stu-id="2d190-167">Only set **@join_unique_key** to **1** if you have a constraint on the joining column in the underlying table for the parent article that guarantees uniqueness.</span></span> <span data-ttu-id="2d190-168">Wenn **@join_unique_key** falsch auf 1 festgelegt ist, kann **eine** nicht Konvergenz von Daten auftreten.</span><span class="sxs-lookup"><span data-stu-id="2d190-168">If **@join_unique_key** is set to **1** incorrectly, non-convergence of data may occur.</span></span>  
  
###  <a name="examples-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="2d190-169">Beispiele (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="2d190-169">Examples (Transact-SQL)</span></span>  
 <span data-ttu-id="2d190-170">In diesem Beispiel wird ein Artikel für eine Mergeveröffentlichung definiert, bei der der `SalesOrderDetail` -Tabellenartikel anhand der `SalesOrderHeader` -Tabelle gefiltert wird, dies selbst mithilfe eines statischen Zeilenfilters gefiltert wird.</span><span class="sxs-lookup"><span data-stu-id="2d190-170">This example defines an article for a merge publication, where the `SalesOrderDetail` table article is filtered against the `SalesOrderHeader` table that is itself filtered using a static row filter.</span></span> <span data-ttu-id="2d190-171">Weitere Informationen finden Sie unter [Definieren oder Ändern eines statischen Zeilenfilters](define-and-modify-a-static-row-filter.md).</span><span class="sxs-lookup"><span data-stu-id="2d190-171">For more information, see [Define and Modify a Static Row Filter](define-and-modify-a-static-row-filter.md).</span></span>  
  
 [!code-sql[HowTo#sp_AddMergeArticle](../../../snippets/tsql/SQL15/replication/howto/tsql/createmergepub.sql#sp_addmergearticle)]  
  
 <span data-ttu-id="2d190-172">In diesem Beispiel wird eine Gruppe von Artikeln in einer Mergeveröffentlichung definiert, bei der die Artikel mit einer Reihe von Verknüpfungsfiltern anhand der `Employee` -Tabelle gefiltert werden, die selbst mithilfe eines parametrisierten Zeilenfilters für den Wert [HOST_NAME](/sql/t-sql/functions/host-name-transact-sql) in der **LoginID** -Spalte gefiltert wird.</span><span class="sxs-lookup"><span data-stu-id="2d190-172">This example defines a group of articles in a merge publication where the articles are filtered with a series of join filters against the `Employee` table that is itself filtered using a parameterized row filter on the value of [HOST_NAME](/sql/t-sql/functions/host-name-transact-sql) in the **LoginID** column.</span></span> <span data-ttu-id="2d190-173">Weitere Informationen finden Sie unter [Definieren und Ändern eines parametrisierten Zeilenfilters für einen Mergeartikel](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span><span class="sxs-lookup"><span data-stu-id="2d190-173">For more information, see [Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span></span>  
  
 [!code-sql[HowTo#sp_MergeDynamicPub1](../../../snippets/tsql/SQL15/replication/howto/tsql/createmergepubdynamic1.sql#sp_mergedynamicpub1)]  
  
## <a name="see-also"></a><span data-ttu-id="2d190-174">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="2d190-174">See Also</span></span>  
 <span data-ttu-id="2d190-175">[Join Filters](../merge/join-filters.md) </span><span class="sxs-lookup"><span data-stu-id="2d190-175">[Join Filters](../merge/join-filters.md) </span></span>  
 <span data-ttu-id="2d190-176">[Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md) </span><span class="sxs-lookup"><span data-stu-id="2d190-176">[Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md) </span></span>  
 <span data-ttu-id="2d190-177">[Ändern von Veröffentlichungs- und Artikeleigenschaften](change-publication-and-article-properties.md) </span><span class="sxs-lookup"><span data-stu-id="2d190-177">[Change Publication and Article Properties](change-publication-and-article-properties.md) </span></span>  
 <span data-ttu-id="2d190-178">[Filtern von veröffentlichten Daten für die Mergereplikation](../merge/filter-published-data-for-merge-replication.md) </span><span class="sxs-lookup"><span data-stu-id="2d190-178">[Filter Published Data for Merge Replication](../merge/filter-published-data-for-merge-replication.md) </span></span>  
 <span data-ttu-id="2d190-179">[Replication System Stored Procedures Concepts](../concepts/replication-system-stored-procedures-concepts.md) </span><span class="sxs-lookup"><span data-stu-id="2d190-179">[Replication System Stored Procedures Concepts](../concepts/replication-system-stored-procedures-concepts.md) </span></span>  
 <span data-ttu-id="2d190-180">[Define a Logical Record Relationship Between Merge Table Articles](define-a-logical-record-relationship-between-merge-table-articles.md) </span><span class="sxs-lookup"><span data-stu-id="2d190-180">[Define a Logical Record Relationship Between Merge Table Articles](define-a-logical-record-relationship-between-merge-table-articles.md) </span></span>  
 [<span data-ttu-id="2d190-181">Definieren und Ändern eines parametrisierten Zeilenfilters für einen Mergeartikel</span><span class="sxs-lookup"><span data-stu-id="2d190-181">Define and Modify a Parameterized Row Filter for a Merge Article</span></span>](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md)  
  
  
