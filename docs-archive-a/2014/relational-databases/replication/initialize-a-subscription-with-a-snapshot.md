---
title: Initialisieren eines Abonnements mit einer Momentaufnahme | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- snapshots [SQL Server replication], initializing subscriptions
- initializing subscriptions [SQL Server replication], snapshots
ms.assetid: 77a9ade2-cdc0-4ae9-a02d-6e29d7c2ada0
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: f8b776e71e9d1197bc174169aee8ccf692884308
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87609084"
---
# <a name="initialize-a-subscription-with-a-snapshot"></a><span data-ttu-id="d18ed-102">Initialisieren eines Abonnements mit einer Momentaufnahme</span><span class="sxs-lookup"><span data-stu-id="d18ed-102">Initialize a Subscription with a Snapshot</span></span>
  <span data-ttu-id="d18ed-103">Nachdem eine Veröffentlichung erstellt wurde, wird normalerweise eine Anfangsmomentaufnahme erstellt und in den Momentaufnahmeordner kopiert (dies erfolgt standardmäßig bei Mergeveröffentlichungen, die mit dem Assistenten für neue Veröffentlichung erstellt wurden).</span><span class="sxs-lookup"><span data-stu-id="d18ed-103">After a publication has been created, an initial snapshot is typically created and copied to the snapshot folder (this occurs by default for merge publications created with the New Publication Wizard).</span></span> <span data-ttu-id="d18ed-104">Die Momentaufnahme wird dann während der Erstsynchronisierung des Abonnements vom Verteilungs-Agent (für Transaktions- und Snapshotveröffentlichungen) oder vom Merge-Agent (für Mergeveröffentlichungen) auf den Abonnenten angewendet.</span><span class="sxs-lookup"><span data-stu-id="d18ed-104">It is then applied to the Subscriber by the Distribution Agent (for transactional and snapshot publications) or the Merge Agent (for merge publications) during the initial synchronization of the subscription.</span></span> <span data-ttu-id="d18ed-105">Der Momentaufnahmeprozess hängt vom Veröffentlichungstyp ab:</span><span class="sxs-lookup"><span data-stu-id="d18ed-105">The snapshot process depends on the type of publication:</span></span>  
  
-   <span data-ttu-id="d18ed-106">Handelt es sich um eine Momentaufnahme für eine Momentaufnahmeveröffentlichung, eine Transaktionsveröffentlichung oder eine Mergeveröffentlichung, die keine parametrisierte Filter verwendet, enthält die Momentaufnahme das Schema und die Daten in BCP-Dateien (Bulk Copy Program, Massenkopierprogramm) sowie Einschränkungen, erweiterte Eigenschaften, Indizes, Trigger und die für die Replikation erforderlichen Systemtabellen.</span><span class="sxs-lookup"><span data-stu-id="d18ed-106">If the snapshot is for a snapshot publication, a transactional publication, or a merge publication that doesn't use parameterized filters, the snapshot contains the schema and data in bulk copy program (bcp) files, as well as constraints, extended properties, indexes, triggers, and the system tables necessary for replication.</span></span> <span data-ttu-id="d18ed-107">Weitere Informationen zum Erstellen und Anwenden einer Momentaufnahme finden Sie unter [Erstellen und Anwenden der Momentaufnahme](create-and-apply-the-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="d18ed-107">For more information about creating and applying the snapshot, see [Create and Apply the Snapshot](create-and-apply-the-snapshot.md).</span></span>  
  
-   <span data-ttu-id="d18ed-108">Handelt es sich um eine Momentaufnahme für eine Mergeveröffentlichung, die parametrisierte Filter verwendet, wird die Momentaufnahme mit einem zweiteiligen Prozess erstellt.</span><span class="sxs-lookup"><span data-stu-id="d18ed-108">If the snapshot is for a merge publication that uses parameterized filters, the snapshot is created using a two-part process.</span></span> <span data-ttu-id="d18ed-109">Zuerst wird eine Schemamomentaufnahme erstellt, die die Replikationsskripts und das Schema der veröffentlichten Objekte enthält, nicht jedoch die Daten.</span><span class="sxs-lookup"><span data-stu-id="d18ed-109">First a schema snapshot is created that contains the replication scripts and the schema of the published objects, but not the data.</span></span> <span data-ttu-id="d18ed-110">Jedes Abonnement wird dann mit einer Momentaufnahme initialisiert, die die aus der Schemamomentaufnahme kopierten Skripts und das Schema sowie die Daten enthält, die zur Partition des Abonnements gehören.</span><span class="sxs-lookup"><span data-stu-id="d18ed-110">Each subscription is then initialized with a snapshot that includes the scripts and schema copied from the schema snapshot and the data that belongs to the subscription's partition.</span></span> <span data-ttu-id="d18ed-111">Weitere Informationen finden Sie unter [Snapshots for Merge Publications with Parameterized Filters](snapshots-for-merge-publications-with-parameterized-filters.md).</span><span class="sxs-lookup"><span data-stu-id="d18ed-111">For more information, see [Snapshots for Merge Publications with Parameterized Filters](snapshots-for-merge-publications-with-parameterized-filters.md).</span></span>  
  
 <span data-ttu-id="d18ed-112">Die Momentaufnahme besteht aus verschiedenen Dateien, die vom Replikationstyp und den Artikeln in der Veröffentlichung abhängen.</span><span class="sxs-lookup"><span data-stu-id="d18ed-112">The snapshot consists of different files depending on the type of replication and the articles in your publication.</span></span> <span data-ttu-id="d18ed-113">Diese Dateien werden in den Standardmomentaufnahmeordner kopiert, der beim Konfigurieren des Verteilers angegeben wurde, oder in den beim Erstellen der Veröffentlichung angegeben alternativen Momentaufnahmeordner.</span><span class="sxs-lookup"><span data-stu-id="d18ed-113">These files are copied to the default snapshot folder specified when the Distributor was configured or the alternate snapshot folder specified when the publication was created.</span></span>  
  
|<span data-ttu-id="d18ed-114">Replikationstyp</span><span class="sxs-lookup"><span data-stu-id="d18ed-114">Type of Replication</span></span>|<span data-ttu-id="d18ed-115">Gemeinsame Momentaufnahmedateien</span><span class="sxs-lookup"><span data-stu-id="d18ed-115">Common Snapshot Files</span></span>|  
|-------------------------|---------------------------|  
|<span data-ttu-id="d18ed-116">Momentaufnahmereplikation oder Transaktionsreplikation</span><span class="sxs-lookup"><span data-stu-id="d18ed-116">Snapshot Replication or Transactional Replication</span></span>|<span data-ttu-id="d18ed-117">Schema (SCH); Daten (BCP); Einschränkungen und Indizes (DRI); Einschränkungen (IDX); Trigger (TRG): nur für Updateabonnenten; komprimierte Momentaufnahmedateien (CAP).</span><span class="sxs-lookup"><span data-stu-id="d18ed-117">schema (.sch); data (.bcp); constraints and indexes (.dri); constraints (.idx); triggers (.trg):for updating Subscribers only; compressed snapshot files (.cab).</span></span>|  
|<span data-ttu-id="d18ed-118">Mergereplikation</span><span class="sxs-lookup"><span data-stu-id="d18ed-118">Merge Replication</span></span>|<span data-ttu-id="d18ed-119">Schema (SCH); Daten (BCP); Einschränkungen und Indizes (DRI); Trigger (TRG); Systemtabellendaten (SYS); Konflikttabellen (CFT); komprimierte Momentaufnahmedateien (CAP).</span><span class="sxs-lookup"><span data-stu-id="d18ed-119">schema (.sch); data (.bcp); constraints and indexes (.dri); triggers (.trg); system table data (.sys); conflict tables (.cft); compressed snapshot files (.cab).</span></span>|  
  
 <span data-ttu-id="d18ed-120">Falls das Übertragen der Momentaufnahme an einer Stelle unterbrochen wird, wird es anschließend automatisch fortgesetzt. Bereits vollständig übertragene Dateien werden nicht noch einmal gesendet.</span><span class="sxs-lookup"><span data-stu-id="d18ed-120">If the snapshot transfer is interrupted at any point, it will automatically resume and will not resend any files that have already been completely transferred.</span></span> <span data-ttu-id="d18ed-121">Teilweise übermittelte Dateien müssen vollständig neu übermittelt werden, da beim Momentaufnahme-Agent die BCP-Datei für jeden Veröffentlichungsartikel zur Übermittlung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="d18ed-121">The unit of delivery for the Snapshot Agent is the bcp file for each publication article, so files that are partially delivered must be completely redelivered.</span></span> <span data-ttu-id="d18ed-122">Das Fortsetzen der Momentaufnahmeübertragung kann jedoch die Menge der übermittelten Daten erheblich reduzieren und eine rechtzeitige Übermittlung der Momentaufnahme auch bei einer unzuverlässigen Verbindung sicherstellen.</span><span class="sxs-lookup"><span data-stu-id="d18ed-122">However, resuming the snapshot can significantly reduce the amount of data transmitted and ensure timely snapshot delivery even if the connection is unreliable.</span></span>  
  
## <a name="snapshot-options"></a><span data-ttu-id="d18ed-123">Momentaufnahmeoptionen</span><span class="sxs-lookup"><span data-stu-id="d18ed-123">Snapshot Options</span></span>  
 <span data-ttu-id="d18ed-124">Zum Initialisieren eines Abonnements mit einer Momentaufnahme stehen verschiedene Optionen zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="d18ed-124">There are a number of options available when initializing a subscription with a snapshot.</span></span> <span data-ttu-id="d18ed-125">Ihre Möglichkeiten:</span><span class="sxs-lookup"><span data-stu-id="d18ed-125">You can:</span></span>  
  
-   <span data-ttu-id="d18ed-126">Geben Sie anstelle des oder zusätzlich zum Speicherort des Standardmomentaufnahmeordners einen alternativen Speicherort für den Momentaufnahmeordner an.</span><span class="sxs-lookup"><span data-stu-id="d18ed-126">Specify an alternate snapshot folder location instead of, or in addition, to the default snapshot folder location.</span></span> <span data-ttu-id="d18ed-127">Weitere Informationen finden Sie unter [Alternate Snapshot Folder Locations](alternate-snapshot-folder-locations.md).</span><span class="sxs-lookup"><span data-stu-id="d18ed-127">For more information, see [Alternate Snapshot Folder Locations](alternate-snapshot-folder-locations.md).</span></span>  
  
-   <span data-ttu-id="d18ed-128">Komprimieren Sie Momentaufnahmen zum Speichern auf Wechselmedien oder zum Übertragen in einem langsamen Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="d18ed-128">Compress snapshots for storage on removable media or for transfer over a slow network.</span></span> <span data-ttu-id="d18ed-129">Weitere Informationen finden Sie unter [Compressed Snapshots](compressed-snapshots.md).</span><span class="sxs-lookup"><span data-stu-id="d18ed-129">For more information, see [Compressed Snapshots](compressed-snapshots.md).</span></span>  
  
-   <span data-ttu-id="d18ed-130">Führen Sie vor oder nach dem Anwenden der Momentaufnahme Transact-SQL-Skripts aus.</span><span class="sxs-lookup"><span data-stu-id="d18ed-130">Execute Transact-SQL scripts before or after the snapshot is applied.</span></span> <span data-ttu-id="d18ed-131">Weitere Informationen finden Sie unter [Ausführen von Skripts vor und nach dem Anwenden der Momentaufnahme](snapshot-options.md#execute-scripts-before-and-after-snapshot-is-applied).</span><span class="sxs-lookup"><span data-stu-id="d18ed-131">For more information, see [Execute Scripts Before and After the Snapshot Is Applied](snapshot-options.md#execute-scripts-before-and-after-snapshot-is-applied).</span></span>  
  
-   <span data-ttu-id="d18ed-132">Übertragen Sie Momentaufnahmedateien über FTP (File Transfer Protocol).</span><span class="sxs-lookup"><span data-stu-id="d18ed-132">Transfer snapshot files using File Transfer Protocol (FTP).</span></span> <span data-ttu-id="d18ed-133">Weitere Informationen finden Sie unter [Übertragen von Momentaufnahmen über FTP](transfer-snapshots-through-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="d18ed-133">For more information, see [Transfer Snapshots Through FTP](transfer-snapshots-through-ftp.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d18ed-134">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="d18ed-134">See Also</span></span>  
 <span data-ttu-id="d18ed-135">[Initialize a Subscription](initialize-a-subscription.md) </span><span class="sxs-lookup"><span data-stu-id="d18ed-135">[Initialize a Subscription](initialize-a-subscription.md) </span></span>  
 [<span data-ttu-id="d18ed-136">Sichern des Momentaufnahmeordners</span><span class="sxs-lookup"><span data-stu-id="d18ed-136">Secure the Snapshot Folder</span></span>](security/secure-the-snapshot-folder.md)  
  
  
