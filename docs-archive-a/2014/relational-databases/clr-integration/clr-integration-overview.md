---
title: Übersicht über die CLR-Integration | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: clr
ms.topic: reference
helpviewer_keywords:
- common language runtime [SQL Server], about CLR integration
- extended stored procedures [SQL Server], vs. managed code
- objects [CLR integration]
- Transact-SQL vs. managed code
- managed code [SQL Server], vs. Transact-SQL
- managed code [SQL Server], vs. extended stored procedures
- execution at client vs. execution at server [CLR integration]
ms.assetid: 5aa176da-3652-4afa-a742-4c40c77ce5c3
author: rothja
ms.author: jroth
ms.openlocfilehash: ab7bb50109fa6b0a313da24f0e6164350a6160e3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87720014"
---
# <a name="overview-of-clr-integration"></a><span data-ttu-id="9618a-102">Übersicht über die CLR-Integration</span><span class="sxs-lookup"><span data-stu-id="9618a-102">Overview of CLR Integration</span></span>
  <span data-ttu-id="9618a-103">CLR (Common Language Runtime) steht im Mittelpunkt von Microsoft .NET Framework und stellt die Ausführungsumgebung für sämtlichen .NET Framework-Code bereit.</span><span class="sxs-lookup"><span data-stu-id="9618a-103">The common language runtime (CLR) is the heart of the Microsoft .NET Framework and provides the execution environment for all .NET Framework code.</span></span> <span data-ttu-id="9618a-104">In CLR geschriebener Code wird als verwalteter Code bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="9618a-104">Code that runs within the CLR is referred to as managed code.</span></span> <span data-ttu-id="9618a-105">CLR stellt verschiedene Funktionen und Dienste für die Programmausführung bereit, unter anderem Just-In-Time-Kompilierung (JIT), Speicherzuordnung und -verwaltung, Erzwingen der Typsicherheit, Ausnahmebehandlung, Threadverwaltung und Sicherheit.</span><span class="sxs-lookup"><span data-stu-id="9618a-105">The CLR provides various functions and services required for program execution, including just-in-time (JIT) compilation, allocating and managing memory, enforcing type safety, exception handling, thread management, and security.</span></span>  <span data-ttu-id="9618a-106">Informationen hierzu finden Sie im .NET Framework-SDK.</span><span class="sxs-lookup"><span data-stu-id="9618a-106">See the .NET Framework SDK for more information.</span></span>  
  
 <span data-ttu-id="9618a-107">Mit der von Microsoft SQL Server gehosteten CLR ("CLR-Integration" genannt) können Sie gespeicherte Prozeduren, Trigger, benutzerdefinierte Funktionen, benutzerdefinierte Typen (UDT) und benutzerdefinierte Aggregate in verwaltetem Code erstellen.</span><span class="sxs-lookup"><span data-stu-id="9618a-107">With the CLR hosted in Microsoft SQL Server (called CLR integration), you can author stored procedures, triggers, user-defined functions, user-defined types, and user-defined aggregates in managed code.</span></span> <span data-ttu-id="9618a-108">Da verwalteter Code vor der Ausführung in systemeigenen Code kompiliert wird, können Sie in manchen Fällen einen erheblichen Leistungsanstieg erreichen.</span><span class="sxs-lookup"><span data-stu-id="9618a-108">Because managed code compiles to native code prior to execution, you can achieve significant performance increases in some scenarios.</span></span>  
  
 <span data-ttu-id="9618a-109">In verwaltetem Code wird Codezugriffssicherheit (Code Access Sicherheit, CAS) verwendet, um zu verhindern, dass Assemblys bestimmte Vorgänge ausführen.</span><span class="sxs-lookup"><span data-stu-id="9618a-109">Managed code uses Code Access Security (CAS) to prevent assemblies from performing certain operations.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="9618a-110">verwendet CAS, um die Absicherung von verwaltetem Code zu unterstützen und eine Gefährdung des Betriebssystems oder des Datenbankservers zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="9618a-110">uses CAS to help secure the managed code and prevent compromise of the operating system or database server.</span></span>  
  
## <a name="advantages-of-clr-integration"></a><span data-ttu-id="9618a-111">Vorteile der CLR-Integration</span><span class="sxs-lookup"><span data-stu-id="9618a-111">Advantages of CLR Integration</span></span>  
 [!INCLUDE[tsql](../../../includes/tsql-md.md)] <span data-ttu-id="9618a-112">ist ausdrücklich für direkten Datenzugriff und die direkte Datenbearbeitung in der Datenbank vorgesehen.</span><span class="sxs-lookup"><span data-stu-id="9618a-112">is specifically designed for direct data access and manipulation in the database.</span></span> <span data-ttu-id="9618a-113">Während [!INCLUDE[tsql](../../../includes/tsql-md.md)] für den Datenzugriff und die Datenverwaltung ideal geeignet ist, handelt es sich dabei nicht um eine vollständige Programmiersprache.</span><span class="sxs-lookup"><span data-stu-id="9618a-113">While [!INCLUDE[tsql](../../../includes/tsql-md.md)] excels at data access and management, it is not a full-fledged programming language.</span></span> <span data-ttu-id="9618a-114">Beispielsweise unterstützt [!INCLUDE[tsql](../../../includes/tsql-md.md)] keine Arrays, Auflistungen, For-Each-Schleifen, Bit-Verschiebungen oder Klassen.</span><span class="sxs-lookup"><span data-stu-id="9618a-114">For example, [!INCLUDE[tsql](../../../includes/tsql-md.md)] does not support arrays, collections, for-each loops, bit shifting, or classes.</span></span> <span data-ttu-id="9618a-115">Bestimmte dieser Konstrukte können in [!INCLUDE[tsql](../../../includes/tsql-md.md)]simuliert werden; verwalteter Code verfügt über eine integrierte Unterstützung dieser Konstrukte.</span><span class="sxs-lookup"><span data-stu-id="9618a-115">While some of these constructs can be simulated in [!INCLUDE[tsql](../../../includes/tsql-md.md)], managed code has integrated support for these constructs.</span></span> <span data-ttu-id="9618a-116">Je nach Szenario können diese Funktionen einen zwingenden Grund darstellen, bestimmte Datenbankfunktionalitäten in verwaltetem Code zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="9618a-116">Depending on the scenario, these features can provide a compelling reason to implement certain database functionality in managed code.</span></span>  
  
 <span data-ttu-id="9618a-117">Microsoft Visual Basic .NET und Microsoft Visual C# bieten objektorientierte Funktionen wie z. B. Kapselung, Vererbung und Polymorphie.</span><span class="sxs-lookup"><span data-stu-id="9618a-117">Microsoft Visual Basic .NET and Microsoft Visual C# offer object-oriented capabilities such as encapsulation, inheritance, and polymorphism.</span></span> <span data-ttu-id="9618a-118">Damit verbundener Code kann jetzt leicht in Klassen und Namespaces organisiert werden.</span><span class="sxs-lookup"><span data-stu-id="9618a-118">Related code can now be easily organized into classes and namespaces.</span></span> <span data-ttu-id="9618a-119">Wenn Sie mit großen Datenmengen an Servercode arbeiten, können Sie auf diese Weise Ihren Code leichter organisieren und instand halten.</span><span class="sxs-lookup"><span data-stu-id="9618a-119">When you are working with large amounts of server code, this allows you to more easily organize and maintain your code.</span></span>  
  
 <span data-ttu-id="9618a-120">Verwalteter Code eignet sich besser als [!INCLUDE[tsql](../../../includes/tsql-md.md)] für Berechnungen und komplizierte Ausführungslogik und bietet weitreichende Unterstützung für zahlreiche komplexe Tasks wie Zeichenfolgenbehandlung und reguläre Ausdrücke.</span><span class="sxs-lookup"><span data-stu-id="9618a-120">Managed code is better suited than [!INCLUDE[tsql](../../../includes/tsql-md.md)] for calculations and complicated execution logic, and features extensive support for many complex tasks, including string handling and regular expressions.</span></span> <span data-ttu-id="9618a-121">Mit der Funktionalität, die in der .NET Framework -Bibliothek zur Verfügung steht, haben Sie Zugriff auf Tausende von vorgefertigten Klassen und Routinen.</span><span class="sxs-lookup"><span data-stu-id="9618a-121">With the functionality found in the .NET Framework Library, you have access to thousands of pre-built classes and routines.</span></span> <span data-ttu-id="9618a-122">Auf diese Klassen und Routinen können Sie von jeder gespeicherten Prozedur, jedem Trigger und jeder benutzerdefinierten Funktion aus zugreifen.</span><span class="sxs-lookup"><span data-stu-id="9618a-122">These can be easily accessed from any stored procedure, trigger or user defined function.</span></span> <span data-ttu-id="9618a-123">Die Basisklassenbibliothek (Base Class Library, BCL) enthält u. a. Klassen mit Funktionen zur Zeichenfolgenbearbeitung, für erweiterte mathematische Vorgänge, den Dateizugriff, die Kryptografie.</span><span class="sxs-lookup"><span data-stu-id="9618a-123">The Base Class Library (BCL) includes classes that provide functionality for string manipulation, advanced math operations, file access, cryptography, and more.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9618a-124">Viele dieser Klassen können ausgehend vom CLR-Code in SQL Server verwendet werden. Klassen, die nicht für eine serverseitige Verwendung geeignet sind (beispielsweise Window-Klassen) sind auf diese Weise nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="9618a-124">While many of these classes are available for use from within CLR code in SQL Server, those that are not appropriate for server-side use (for example, windowing classes), are not available.</span></span> <span data-ttu-id="9618a-125">Weitere Informationen finden Sie [unter Supported .NET Framework Libraries](database-objects/supported-net-framework-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="9618a-125">For more information, see [Supported .NET Framework Libraries](database-objects/supported-net-framework-libraries.md).</span></span>  
  
 <span data-ttu-id="9618a-126">Einer der Vorteile von verwaltetem Code besteht in der Typsicherheit, d. h. die Gewissheit, dass der Code nur in einer genau definierten und zulässigen Weise auf Typen zugreift.</span><span class="sxs-lookup"><span data-stu-id="9618a-126">One of the benefits of managed code is type safety, or the assurance that code accesses types only in well-defined, permissible ways.</span></span> <span data-ttu-id="9618a-127">Bevor verwalteter Code ausgeführt wird, überprüft die CLR, dass der Code sicher ist.</span><span class="sxs-lookup"><span data-stu-id="9618a-127">Before managed code is executed, the CLR verifies that the code is safe.</span></span> <span data-ttu-id="9618a-128">Beispielsweise wird der Code dahingehend überprüft, dass kein Speicher gelesen wird, der nicht zuvor geschrieben wurde.</span><span class="sxs-lookup"><span data-stu-id="9618a-128">For example, the code is checked to ensure that no memory is read that has not previously been written.</span></span> <span data-ttu-id="9618a-129">Die CLR kann auch dazu beitragen, sicherzustellen, dass der Code nicht verwalteten Speicher bearbeitet.</span><span class="sxs-lookup"><span data-stu-id="9618a-129">The CLR can also help ensure that code does not manipulate unmanaged memory.</span></span>  
  
 <span data-ttu-id="9618a-130">Die CLR-Integration bietet das Potenzial zu verbesserter Leistung.</span><span class="sxs-lookup"><span data-stu-id="9618a-130">CLR integration offers the potential for improved performance.</span></span> <span data-ttu-id="9618a-131">Weitere Informationen finden Sie unter [Performance of CLR Integration](clr-integration-architecture-performance.md).</span><span class="sxs-lookup"><span data-stu-id="9618a-131">For information, see [Performance of CLR Integration](clr-integration-architecture-performance.md).</span></span>  
  
## <a name="choosing-between-transact-sql-and-managed-code"></a><span data-ttu-id="9618a-132">Transact-SQL oder verwalteter Code?</span><span class="sxs-lookup"><span data-stu-id="9618a-132">Choosing Between Transact-SQL and Managed Code</span></span>  
 <span data-ttu-id="9618a-133">Beim Erstellen von gespeicherten Prozeduren, Triggern und benutzerdefinierten Funktionen müssen Sie zunächst entscheiden, ob Sie dazu das traditionelle [!INCLUDE[tsql](../../../includes/tsql-md.md)]oder eine .NET Framework-Programmiersprache wie Visual Basic .NET oder Visual C# einsetzen möchten.</span><span class="sxs-lookup"><span data-stu-id="9618a-133">When writing stored procedures, triggers, and user-defined functions, one decision you must make is whether to use traditional [!INCLUDE[tsql](../../../includes/tsql-md.md)], or a .NET Framework language such as Visual Basic .NET or Visual C#.</span></span> <span data-ttu-id="9618a-134">Verwenden Sie [!INCLUDE[tsql](../../../includes/tsql-md.md)] , wenn der Code hauptsächlich Datenzugriffe mit wenig oder keiner prozeduralen Logik ausführen soll.</span><span class="sxs-lookup"><span data-stu-id="9618a-134">Use [!INCLUDE[tsql](../../../includes/tsql-md.md)] when the code will mostly perform data access with little or no procedural logic.</span></span> <span data-ttu-id="9618a-135">Verwenden Sie verwalteten Code für CPU-intensive Funktionen und Prozeduren, die eine komplexe Logik aufweisen, oder in Fällen, in denen Sie auf die Basisklassenbibliothek (Base Class Library, BCL) von .NET Framework zurückgreifen möchten.</span><span class="sxs-lookup"><span data-stu-id="9618a-135">Use managed code for CPU-intensive functions and procedures that feature complex logic, or when you want to make use of the BCL of the .NET Framework.</span></span>  
  
### <a name="choosing-between-execution-in-the-server-and-execution-in-the-client"></a><span data-ttu-id="9618a-136">Ausführen im Server oder im Client?</span><span class="sxs-lookup"><span data-stu-id="9618a-136">Choosing Between Execution in the Server and Execution in the Client</span></span>  
 <span data-ttu-id="9618a-137">Ein weiterer Entscheidungsfaktor zwischen [!INCLUDE[tsql](../../../includes/tsql-md.md)] und verwaltetem Code ist der Speicherort des Codes: auf dem Servercomputer oder auf dem Clientcomputer.</span><span class="sxs-lookup"><span data-stu-id="9618a-137">Another factor in your decision about whether to use [!INCLUDE[tsql](../../../includes/tsql-md.md)] or managed code is where you would like your code to reside, the server computer or the client computer.</span></span> <span data-ttu-id="9618a-138">Sowohl [!INCLUDE[tsql](../../../includes/tsql-md.md)] als auch verwalteter Code können auf dem Server ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="9618a-138">Both [!INCLUDE[tsql](../../../includes/tsql-md.md)] and managed code can be run on the server.</span></span> <span data-ttu-id="9618a-139">Dies hält Code und Daten näher zusammen und ermöglicht Ihnen außerdem, die Verarbeitungskapazität des Servers auszunutzen.</span><span class="sxs-lookup"><span data-stu-id="9618a-139">This places code and data close together, and allows you to take advantage of the processing power of the server.</span></span> <span data-ttu-id="9618a-140">Andererseits möchten Sie möglicherweise vermeiden, prozessorintensive Tasks auf dem Datenbankserver zu platzieren.</span><span class="sxs-lookup"><span data-stu-id="9618a-140">On the other hand, you may wish to avoid placing processor intensive tasks on your database server.</span></span> <span data-ttu-id="9618a-141">Die meisten Clientcomputer sind heute ebenfalls sehr leistungsfähig, was Sie ausnutzen könnten, indem Sie soviel Code wie möglich auf einem Clientcomputer ablegen.</span><span class="sxs-lookup"><span data-stu-id="9618a-141">Most client computers today are very powerful, and you may wish to take advantage of this processing power by placing as much code as possible on the client.</span></span> <span data-ttu-id="9618a-142">Verwalteter Code kann auf einem Clientcomputer ausgeführt werden, nicht aber [!INCLUDE[tsql](../../../includes/tsql-md.md)] -Code.</span><span class="sxs-lookup"><span data-stu-id="9618a-142">Managed code can run on a client computer, while [!INCLUDE[tsql](../../../includes/tsql-md.md)] cannot.</span></span>  
  
## <a name="choosing-between-extended-stored-procedures-and-managed-code"></a><span data-ttu-id="9618a-143">Erweiterte gespeicherte Prozeduren oder verwalteter Code?</span><span class="sxs-lookup"><span data-stu-id="9618a-143">Choosing Between Extended Stored Procedures and Managed Code</span></span>  
 <span data-ttu-id="9618a-144">Erweiterte gespeicherte Prozeduren werden erstellt, um Funktionen auszuführen, die mit gespeicherten [!INCLUDE[tsql](../../../includes/tsql-md.md)] -Prozeduren nicht möglich sind.</span><span class="sxs-lookup"><span data-stu-id="9618a-144">Extended stored procedures can be built to perform functionality not possible with [!INCLUDE[tsql](../../../includes/tsql-md.md)] stored procedures.</span></span> <span data-ttu-id="9618a-145">Erweiterte gespeicherte Prozeduren können jedoch die Integrität des [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Prozesses beeinträchtigen, während verwalteter Code auf Typsicherheit überprüft wird und daher keine Gefährdung darstellt.</span><span class="sxs-lookup"><span data-stu-id="9618a-145">Extended stored procedures can, however, compromise the integrity of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] process, while managed code that is verified to be type-safe cannot.</span></span> <span data-ttu-id="9618a-146">Darüber hinaus sind Speicherverwaltungsfunktionen, Planung von Threads und Fibers und Synchronisierungsdienste des verwalteten Codes der CLR und [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]besser integriert.</span><span class="sxs-lookup"><span data-stu-id="9618a-146">Further, memory management, scheduling of threads and fibers, and synchronization services are more deeply integrated between the managed code of the CLR and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="9618a-147">Die CLR-Integration bietet mehr Sicherheit als erweiterte gespeicherte Prozeduren beim Erstellen der gespeicherten Prozeduren, die Sie benötigen, um Tasks auszuführen, die in [!INCLUDE[tsql](../../../includes/tsql-md.md)]nicht möglich sind.</span><span class="sxs-lookup"><span data-stu-id="9618a-147">With CLR integration, you have a more secure way than extended stored procedures to write the stored procedures you need to perform tasks not possible in [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="9618a-148">Weitere Informationen zu CLR-Integration und erweiterte gespeicherte Prozeduren finden Sie unter [Performance of CLR Integration](clr-integration-architecture-performance.md).</span><span class="sxs-lookup"><span data-stu-id="9618a-148">For more information about CLR integration and extended stored procedures, see [Performance of CLR Integration](clr-integration-architecture-performance.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9618a-149">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="9618a-149">See Also</span></span>  
 <span data-ttu-id="9618a-150">[Installieren des .NET Framework](https://technet.microsoft.com/library/ms166014\(v=SQL.105\).aspx) </span><span class="sxs-lookup"><span data-stu-id="9618a-150">[Installing the .NET Framework](https://technet.microsoft.com/library/ms166014\(v=SQL.105\).aspx) </span></span>  
 <span data-ttu-id="9618a-151">[Architektur der CLR-Integration](../../database-engine/dev-guide/architecture-of-clr-integration.md) </span><span class="sxs-lookup"><span data-stu-id="9618a-151">[Architecture of CLR Integration](../../database-engine/dev-guide/architecture-of-clr-integration.md) </span></span>  
 <span data-ttu-id="9618a-152">[Datenzugriff von CLR-Datenbankobjekten](data-access/data-access-from-clr-database-objects.md) </span><span class="sxs-lookup"><span data-stu-id="9618a-152">[Data Access from CLR Database Objects](data-access/data-access-from-clr-database-objects.md) </span></span>  
 [<span data-ttu-id="9618a-153">Erste Schritte mit der CLR-Integration</span><span class="sxs-lookup"><span data-stu-id="9618a-153">Getting Started with CLR Integration</span></span>](database-objects/getting-started-with-clr-integration.md)  
  
  
