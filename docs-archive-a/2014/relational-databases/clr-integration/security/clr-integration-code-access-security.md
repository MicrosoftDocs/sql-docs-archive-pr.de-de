---
title: CLR-Integration Code Zugriffssicherheit | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: clr
ms.topic: reference
helpviewer_keywords:
- UNSAFE assemblies
- permissions [CLR integration]
- common language runtime [SQL Server], security
- SAFE assemblies
- code access security [CLR integration]
- EXTERNAL_ACCESS assemblies
ms.assetid: 2111cfe0-d5e0-43b1-93c3-e994ac0e9729
author: rothja
ms.author: jroth
ms.openlocfilehash: 75b283da2760b39349351802a83caae04e546c06
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87616580"
---
# <a name="clr-integration-code-access-security"></a><span data-ttu-id="e9b8d-102">CLR-Integration und Codezugriffssicherheit</span><span class="sxs-lookup"><span data-stu-id="e9b8d-102">CLR Integration Code Access Security</span></span>
  <span data-ttu-id="e9b8d-103">Der Common Language Runtime (CLR) unterstützt ein Sicherheitsmodell namens Code Zugriffssicherheit für verwalteten Code.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-103">The common language runtime (CLR) supports a security model called code access security for managed code.</span></span> <span data-ttu-id="e9b8d-104">In diesem Modell werden Assemblys Berechtigungen auf Grundlage der Identität des Codes gewährt.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-104">In this model, permissions are granted to assemblies based on the identity of the code.</span></span> <span data-ttu-id="e9b8d-105">Weitere Informationen finden Sie im Abschnitt "Codezugriffsicherheit" im .NET Framework Software Development Kit.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-105">For more information, see the "Code Access Security" section in the .NET Framework software development kit.</span></span>  
  
 <span data-ttu-id="e9b8d-106">Die Sicherheitsrichtlinie, die die Berechtigungen für Assemblys bestimmt, wird an drei verschiedenen Stellen definiert:</span><span class="sxs-lookup"><span data-stu-id="e9b8d-106">The security policy that determines the permissions granted to assemblies is defined in three different places:</span></span>  
  
-   <span data-ttu-id="e9b8d-107">Computerrichtlinie: Diese Richtlinie gilt für den gesamten verwalteten Code auf dem Computer, auf dem [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installiert ist.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-107">Machine policy: This is the policy in effect for all managed code running in the machine on which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed.</span></span>  
  
-   <span data-ttu-id="e9b8d-108">Benutzerrichtlinie: Diese Richtlinie ist für verwalteten Code gültig, der von einem Prozess gehostet wird.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-108">User policy: This is the policy in effect for managed code hosted by a process.</span></span> <span data-ttu-id="e9b8d-109">, Wenn der- [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Dienst ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-109">For [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service is running.</span></span>  
  
-   <span data-ttu-id="e9b8d-110">Hostrichtlinie: Diese Richtlinie wird vom Host der CLR (in diesem Fall [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]) eingerichtet, die für den verwalteten Code gültig ist, der auf diesem Host ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-110">Host policy: This is the policy set up by the host of the CLR (in this case, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]) that is in effect for managed code running in that host.</span></span>  
  
 <span data-ttu-id="e9b8d-111">Der von der CLR unterstützte Codezugriffs-Sicherheitsmechanismus basiert auf der Annahme, dass die Laufzeit sowohl vollständig vertrauenswürdigen als auch teilweise vertrauenswürdigen Code hosten kann.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-111">The code access security mechanism supported by the CLR is based on the assumption that the runtime can host both fully trusted and partially trusted code.</span></span> <span data-ttu-id="e9b8d-112">Die durch die CLR-Code Zugriffssicherheit geschützten Ressourcen werden in der Regel von verwalteten Anwendungs Programmierschnittstellen umschließt, die die entsprechende Berechtigung vorausgehen, bevor Sie den Zugriff auf die Ressource gewähren.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-112">The resources that are protected by CLR code access security are typically wrapped by managed application programming interfaces that requirethe corresponding permission before allowing access to the resource.</span></span> <span data-ttu-id="e9b8d-113">Die demandfor-Berechtigung wird nur dann erfüllt, wenn alle Aufrufer (auf Assemblyebene) in der Aufruf Listen über die entsprechende Ressourcen Berechtigung verfügen.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-113">The demandfor the permission is satisfied only if all the callers (at the assembly level) in the call stack have the corresponding resource permission.</span></span>  
  
 <span data-ttu-id="e9b8d-114">Durch den Satz von Code Zugriffs Sicherheits Berechtigungen, die verwalteten Code bei der Ausführung von gewährt werden [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , wird ein Berechtigungs Satz für eine Assembly erteilt [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , die in geladen wird. der endgültige Satz von Berechtigungen, der für Benutzercode erteilt wurde, kann durch die Richtlinien auf Benutzer-und Computer Ebene weiter eingeschränkt werden.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-114">The set of code access security permissions that are granted to managed code when running inside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] grants a set of permissions to an assembly loaded in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], the eventual set of permissions given to user code may be restricted further by the user and machine-level policies.</span></span>  
  
## <a name="sql-server-host-policy-level-permission-sets"></a><span data-ttu-id="e9b8d-115">Berechtigungssätze auf SQL Server Host-Richtlinienebene</span><span class="sxs-lookup"><span data-stu-id="e9b8d-115">SQL Server Host Policy Level Permission Sets</span></span>  
 <span data-ttu-id="e9b8d-116">Die Menge der Codezugriffsberechtigungen, die Assemblys von der [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]-Hostrichtlinienebene gewährt wird, wird von dem Berechtigungssatz bestimmt, der beim Erstellen der Assembly angegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-116">The set of code access security permissions granted to assemblies by the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] host policy level is determined by the permission set specified when creating the assembly.</span></span> <span data-ttu-id="e9b8d-117">Es gibt drei Berechtigungs Sätze: `SAFE` , `EXTERNAL_ACCESS` und `UNSAFE` (angegeben mit der **PERMISSION_SET** -Option von[Create Assembly &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-assembly-transact-sql)).</span><span class="sxs-lookup"><span data-stu-id="e9b8d-117">There are three permission sets: `SAFE`, `EXTERNAL_ACCESS` and `UNSAFE` (specified using the **PERMISSION_SET** option of[CREATE ASSEMBLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-assembly-transact-sql)).</span></span>  
  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]<span data-ttu-id="e9b8d-118">.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-118">.</span></span> <span data-ttu-id="e9b8d-119">Sie ist nicht für die Standardanwendungsdomäne bestimmt, die gültig ist, wenn [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] eine Instanz der CLR erstellt.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-119">This policy is not meant for the default application domain that would be in effect when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] creates an instance of the CLR.</span></span>  
  
 <span data-ttu-id="e9b8d-120">Die [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] fixedpolicy für Systemassemblys und die benutzerdefinierte Richtlinie für Benutzerassemblys.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-120">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] fixedpolicy for system assemblies and user-specified policy for user assemblies.</span></span>  
  
 <span data-ttu-id="e9b8d-121">Die feste Richtlinie für CLR-Assemblys und [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]-Systemassemblys verleiht ihnen volle Vertrauenswürdigkeit.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-121">The fixed policy for CLR assemblies and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] system assemblies grants them full trust.</span></span>  
  
 <span data-ttu-id="e9b8d-122">Der benutzerdefinierte Teil der Hostrichtlinie von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] basiert darauf, dass der Assemblybesitzer einen von drei Berechtigungsbuckets für jede Assembly angibt.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-122">The user-specified portion of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] host policy is based on the assembly owner specifying one of three permission buckets for each assembly.</span></span> <span data-ttu-id="e9b8d-123">Weitere Informationen über die unten aufgeführten Sicherheitsberechtigungen finden Sie unter .NET Framework SDK.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-123">For more information about the security permissions listed below, see the .NET Framework SDK.</span></span>  
  
### <a name="safe"></a><span data-ttu-id="e9b8d-124">SAFE</span><span class="sxs-lookup"><span data-stu-id="e9b8d-124">SAFE</span></span>  
 <span data-ttu-id="e9b8d-125">Nur interne Berechnungen und lokaler Datenzugriff sind zulässig.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-125">Only internal computation and local data access are allowed.</span></span> <span data-ttu-id="e9b8d-126">`SAFE` ist der restriktivste Berechtigungssatz.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-126">`SAFE` is the most restrictive permission set.</span></span> <span data-ttu-id="e9b8d-127">Code, der von einer Assembly mit `SAFE`-Berechtigungen ausgeführt wird, hat keinen Zugriff auf externe Systemressourcen wie Dateien, das Netzwerk, Umgebungsvariablen oder die Registrierung.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-127">Code executed by an assembly with `SAFE` permissions cannot access external system resources such as files, the network, environment variables, or the registry.</span></span>  
  
 <span data-ttu-id="e9b8d-128">`SAFE`-Assemblys verfügen über folgende Berechtigungen und Werte:</span><span class="sxs-lookup"><span data-stu-id="e9b8d-128">`SAFE` assemblies have the following permissions and values:</span></span>  
  
|<span data-ttu-id="e9b8d-129">Berechtigung</span><span class="sxs-lookup"><span data-stu-id="e9b8d-129">Permission</span></span>|<span data-ttu-id="e9b8d-130">Wert(e)/Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e9b8d-130">Value(s)/Description</span></span>|  
|----------------|-----------------------------|  
|`SecurityPermission`|<span data-ttu-id="e9b8d-131">`Execution:` Berechtigung zur Ausführung von verwaltetem Code.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-131">`Execution:` Permission to execute managed code.</span></span>|  
|`SqlClientPermission`|<span data-ttu-id="e9b8d-132">`Context connection = true`, `context connection = yes`: Es kann nur die Kontextverbindung verwendet werden, und die Verbindungszeichenfolge kann nur den Wert "context connection=true" oder "context connection=yes" angeben.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-132">`Context connection = true`, `context connection = yes`: Only the context-connection can be used and the connection string can only specify a value of "context connection=true" or "context connection=yes".</span></span><br /><br /> <span data-ttu-id="e9b8d-133">**AllowBlankPassword = false:**  Leere Kenn Wörter sind nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-133">**AllowBlankPassword = false:**  Blank passwords are not permitted.</span></span>|  
  
### <a name="external_access"></a><span data-ttu-id="e9b8d-134">EXTERNAL_ACCESS</span><span class="sxs-lookup"><span data-stu-id="e9b8d-134">EXTERNAL_ACCESS</span></span>  
 <span data-ttu-id="e9b8d-135">EXTERNAL_ACCESS Assemblys verfügen über dieselben Berechtigungen wie Assemblys `SAFE` , mit der zusätzlichen Fähigkeit, auf externe Systemressourcen wie z. b. Dateien, Netzwerke, Umgebungsvariablen und die Registrierung zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-135">EXTERNAL_ACCESS assemblies have the same permissions as `SAFE` assemblies, with the additional ability to access external system resources such as files, networks, environmental variables, and the registry.</span></span>  
  
 <span data-ttu-id="e9b8d-136">`EXTERNAL_ACCESS`-Assemblys verfügen außerdem über folgende Berechtigungen und Werte:</span><span class="sxs-lookup"><span data-stu-id="e9b8d-136">`EXTERNAL_ACCESS` assemblies also have the following permissions and values:</span></span>  
  
|<span data-ttu-id="e9b8d-137">Berechtigung</span><span class="sxs-lookup"><span data-stu-id="e9b8d-137">Permission</span></span>|<span data-ttu-id="e9b8d-138">Wert(e)/Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e9b8d-138">Value(s)/Description</span></span>|  
|----------------|-----------------------------|  
|`DistributedTransactionPermission`|<span data-ttu-id="e9b8d-139">`Unrestricted:`Verteilte Transaktionen sind zulässig.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-139">`Unrestricted:` Distributed transactions are allowed.</span></span>|  
|`DNSPermission`|<span data-ttu-id="e9b8d-140">`Unrestricted:`Berechtigung zum Anfordern von Informationen von Domänen Namen Servern.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-140">`Unrestricted:` Permission to request information from Domain Name Servers.</span></span>|  
|`EnvironmentPermission`|<span data-ttu-id="e9b8d-141">`Unrestricted:` Der vollständige Zugriff auf System- und Benutzerumgebungsvariablen ist zulässig.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-141">`Unrestricted:` Full access to system and user environment variables is allowed.</span></span>|  
|`EventLogPermission`|<span data-ttu-id="e9b8d-142">`Administer:` Folgende Aktionen sind zulässig: Erstellen einer Ereignisquelle, Lesen vorhandener Protokolle, Löschen von Ereignisquellen oder -protokollen, Reagieren auf Einträge, Löschen eines Ereignisprotokolls, Überwachen von Ereignissen und Zugreifen auf eine Auflistung sämtlicher Ereignisprotokolle.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-142">`Administer:` The following actions are allowed: creating an event source, reading existing logs, deleting event sources or logs, responding to entries, clearing an event log, listening to events, and accessing a collection of all event logs.</span></span>|  
|`FileIOPermission`|<span data-ttu-id="e9b8d-143">`Unrestricted:` Der vollständige Zugriff auf Dateien und Ordner ist zulässig.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-143">`Unrestricted:` Full access to files and folders is allowed.</span></span>|  
|`KeyContainerPermission`|<span data-ttu-id="e9b8d-144">`Unrestricted:` Der vollständige Zugriff auf Schlüsselcontainer ist zulässig.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-144">`Unrestricted:` Full access to key containers is allowed.</span></span>|  
|`NetworkInformationPermission`|<span data-ttu-id="e9b8d-145">`Access:` Die Pingausführung ist zulässig.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-145">`Access:` Pinging is permitted.</span></span>|  
|`RegistryPermission`|<span data-ttu-id="e9b8d-146">Lässt Leseberechtigungen für `HKEY_CLASSES_ROOT`, `HKEY_LOCAL_MACHINE`, `HKEY_CURRENT_USER`, `HKEY_CURRENT_CONFIG` und `HKEY_USERS.` zu.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-146">Allows read rights to `HKEY_CLASSES_ROOT`, `HKEY_LOCAL_MACHINE`, `HKEY_CURRENT_USER`, `HKEY_CURRENT_CONFIG`, and `HKEY_USERS.`</span></span>|  
|`SecurityPermission`|<span data-ttu-id="e9b8d-147">`Assertion:` Die Fähigkeit zu bestätigen, dass alle Aufrufer dieses Codes über die erforderliche Berechtigung für den Vorgang verfügen.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-147">`Assertion:` Ability to assert that all the callers of this code have the requisite permission for the operation.</span></span><br /><br /> <span data-ttu-id="e9b8d-148">`ControlPrincipal:` Die Fähigkeit zum Verändern des Hauptobjekts.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-148">`ControlPrincipal:` Ability to manipulate the principal object.</span></span><br /><br /> <span data-ttu-id="e9b8d-149">`Execution:` Berechtigung zur Ausführung von verwaltetem Code.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-149">`Execution:` Permission to execute managed code.</span></span><br /><br /> <span data-ttu-id="e9b8d-150">`SerializationFormatter:` Die Fähigkeit zum Bereitstellen von Serialisierungsdiensten.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-150">`SerializationFormatter:` Ability to provide serialization services.</span></span>|  
|<span data-ttu-id="e9b8d-151">**Smtpberechtigung**</span><span class="sxs-lookup"><span data-stu-id="e9b8d-151">**SmtpPermission**</span></span>|<span data-ttu-id="e9b8d-152">`Access:` Ausgehende Verbindungen an den Anschluss 25 des SMTP-Hosts werden zugelassen.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-152">`Access:` Outbound connections to SMTP host port 25 are allowed.</span></span>|  
|`SocketPermission`|<span data-ttu-id="e9b8d-153">`Connect:` Ausgehende Verbindungen (alle Ports, alle Protokolle) auf einer Transportadresse werden zugelassen.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-153">`Connect:` Outbound connections (all ports, all protocols) on a transport address are allowed.</span></span>|  
|`SqlClientPermission`|<span data-ttu-id="e9b8d-154">`Unrestricted:`Der vollständige Zugriff auf die Datenquelle ist zulässig.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-154">`Unrestricted:` Full access to the datasource is allowed.</span></span>|  
|`StorePermission`|<span data-ttu-id="e9b8d-155">`Unrestricted:` Der vollständige Zugriff auf X.509-Zertifikatspeicher ist zulässig.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-155">`Unrestricted:` Full access to X.509 certificate stores is allowed.</span></span>|  
|`WebPermission`|<span data-ttu-id="e9b8d-156">`Connect:` Ausgehende Verbindungen an Webressourcen werden zugelassen.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-156">`Connect:` Outbound connections to web resources are allowed.</span></span>|  
  
### <a name="unsafe"></a><span data-ttu-id="e9b8d-157">UNSAFE</span><span class="sxs-lookup"><span data-stu-id="e9b8d-157">UNSAFE</span></span>  
 <span data-ttu-id="e9b8d-158">Unsicher ermöglicht Assemblys den uneingeschränkten Zugriff auf Ressourcen innerhalb und außerhalb von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e9b8d-158">UNSAFE allows assemblies unrestricted access to resources, both within and outside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="e9b8d-159">Code, der innerhalb einer `UNSAFE`-Assembly ausgeführt wird, kann außerdem nicht verwalteten Code aufrufen.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-159">Code executing from within an `UNSAFE` assembly can also call unmanaged code.</span></span>  
  
 <span data-ttu-id="e9b8d-160">`UNSAFE`-Assemblys erhalten `FullTrust`.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-160">`UNSAFE` assemblies are given `FullTrust`.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="e9b8d-161">`SAFE` ist die empfohlene Berechtigungseinstellung für Assemblys, die Berechnungs- und Datenverwaltungstasks ausführen, ohne auf Ressourcen außerhalb von [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-161">`SAFE` is the recommended permission setting for assemblies that perform computation and data management tasks without accessing resources outside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="e9b8d-162">`EXTERNAL_ACCESS`Assemblys werden standardmäßig als [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Dienst Konto ausgeführt, und die Ausführungs Berechtigung `EXTERNAL_ACCESS` sollte nur für Anmeldungen erteilt werden, die als Dienst Konto vertrauenswürdig eingestuft werden.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-162">`EXTERNAL_ACCESS` assemblies by default execute as the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account, permission to execute `EXTERNAL_ACCESS` should only be given to logins trusted to run as the service account.</span></span> <span data-ttu-id="e9b8d-163">Aus Sicht der Sicherheit sind die `EXTERNAL_ACCESS`-Assembly und die `UNSAFE`-Assembly identisch.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-163">From a security perspective, `EXTERNAL_ACCESS` and `UNSAFE` assemblies are identical.</span></span> <span data-ttu-id="e9b8d-164">`EXTERNAL_ACCESS`-Assemblys bieten gegenüber `UNSAFE`-Assemblys jedoch ein Mehr an Zuverlässigkeit und Stabilität.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-164">However, `EXTERNAL_ACCESS` assemblies provide various reliability and robustness protections that are not in `UNSAFE` assemblies.</span></span> <span data-ttu-id="e9b8d-165">`UNSAFE`Durch die Angabe von kann der Code in der Assembly ungültige Vorgänge für die ausführen [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e9b8d-165">Specifying `UNSAFE` allows the code in the assembly to perform illegal operations against the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="e9b8d-166">Weitere Informationen zum Erstellen von CLR-Assemblys in finden Sie unter [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [Managing CLR Integration](../../../relational-databases/clr-integration/assemblies/managing-clr-integration-assemblies.md)Assemblys.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-166">For more information about creating CLR assemblies in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [Managing CLR Integration Assemblies](../../../relational-databases/clr-integration/assemblies/managing-clr-integration-assemblies.md).</span></span>  
  
## <a name="accessing-external-resources"></a><span data-ttu-id="e9b8d-167">Zugreifen auf externe Ressourcen</span><span class="sxs-lookup"><span data-stu-id="e9b8d-167">Accessing External Resources</span></span>  
 <span data-ttu-id="e9b8d-168">Wenn ein benutzerdefinierter Typ (UDT), eine gespeicherte Prozedur oder eine andere Konstruktassembly mit dem `SAFE`-Berechtigungssatz registriert wird, kann der verwaltete Code, der in dem Konstrukt ausgeführt wird, nicht auf externe Ressourcen zugreifen.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-168">If a user-defined type (UDT), stored procedure, or other type of construct assembly is registered with the `SAFE` permission set, then managed code executing in the construct is unable to access external resources.</span></span> <span data-ttu-id="e9b8d-169">Wenn jedoch entweder der `EXTERNAL_ACCESS`-Berechtigungssatz oder der `UNSAFE`-Berechtigungssatz angegeben wird und der verwaltete Code versucht, auf externe Ressourcen zuzugreifen, wendet [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] folgende Regeln an:</span><span class="sxs-lookup"><span data-stu-id="e9b8d-169">However, if either the `EXTERNAL_ACCESS` or `UNSAFE` permission sets are specified, and managed code attempts to access external resources, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applies the following rules:</span></span>  
  
|<span data-ttu-id="e9b8d-170">Wenn</span><span class="sxs-lookup"><span data-stu-id="e9b8d-170">If</span></span>|<span data-ttu-id="e9b8d-171">Then</span><span class="sxs-lookup"><span data-stu-id="e9b8d-171">Then</span></span>|  
|--------|----------|  
|<span data-ttu-id="e9b8d-172">Der Ausführungskontext entspricht einer [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]-Anmeldung.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-172">The execution context corresponds to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login.</span></span>|<span data-ttu-id="e9b8d-173">Versuche, auf externe Ressourcen zuzugreifen, werden verweigert, und eine Sicherheitsausnahme wird ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-173">Attempts to access external resources are denied and a security exception is raised.</span></span>|  
|<span data-ttu-id="e9b8d-174">Der Ausführungskontext entspricht einer Windows-Anmeldung, und der Ausführungskontext ist der ursprüngliche Aufrufer.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-174">The execution context corresponds to a Windows login and the execution context is the original caller.</span></span>|<span data-ttu-id="e9b8d-175">Der Zugriff auf die externe Ressource erfolgt im Sicherheitskontext des [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]-Dienstkontos.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-175">The external resource is accessed under the security context of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account.</span></span>|  
|<span data-ttu-id="e9b8d-176">Bei dem Aufrufer handelt es sich nicht um den ursprünglichen Aufrufer.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-176">The caller is not the original caller.</span></span>|<span data-ttu-id="e9b8d-177">Der Zugriff wird verweigert, und eine Sicherheitsausnahme wird ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-177">Access is denied and a security exception is raised.</span></span>|  
|<span data-ttu-id="e9b8d-178">Der Ausführungs Kontext entspricht einer Windows-Anmeldung, und der Ausführungs Kontext ist der ursprüngliche Aufrufer, und für den Aufrufer wurde ein Identitätswechsel durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-178">The execution context corresponds to a Windows login and the execution context is the original caller and the caller has been impersonated.</span></span>|<span data-ttu-id="e9b8d-179">Für den Zugriff wird anstelle des Dienstkontos der Sicherheitskontext des Aufrufers verwendet.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-179">Access uses the caller security context; not the service account.</span></span>|  
  
## <a name="permission-set-summary"></a><span data-ttu-id="e9b8d-180">Zusammenfassung des Berechtigungssatzes</span><span class="sxs-lookup"><span data-stu-id="e9b8d-180">Permission Set Summary</span></span>  
 <span data-ttu-id="e9b8d-181">Das folgende Diagramm fasst die Einschränkungen und Berechtigungen zusammen, die den Berechtigungssätzen `SAFE`, `EXTERNAL_ACCESS` und `UNSAFE` erteilt werden.</span><span class="sxs-lookup"><span data-stu-id="e9b8d-181">The following chart summarizes the restrictions and permissions granted to the `SAFE`, `EXTERNAL_ACCESS`, and `UNSAFE` permission sets.</span></span>  
  
|||||  
|-|-|-|-|  
||`SAFE`|`EXTERNAL_ACCESS`|`UNSAFE`|  
|`Code Access Security Permissions`|<span data-ttu-id="e9b8d-182">Nur ausführen</span><span class="sxs-lookup"><span data-stu-id="e9b8d-182">Execute only</span></span>|<span data-ttu-id="e9b8d-183">Ausführen + Zugriff auf externe Ressourcen</span><span class="sxs-lookup"><span data-stu-id="e9b8d-183">Execute + access to external resources</span></span>|<span data-ttu-id="e9b8d-184">Uneingeschränkt (einschließlich P/Invoke)</span><span class="sxs-lookup"><span data-stu-id="e9b8d-184">Unrestricted (including P/Invoke)</span></span>|  
|`Programming model restrictions`|<span data-ttu-id="e9b8d-185">Ja</span><span class="sxs-lookup"><span data-stu-id="e9b8d-185">Yes</span></span>|<span data-ttu-id="e9b8d-186">Ja</span><span class="sxs-lookup"><span data-stu-id="e9b8d-186">Yes</span></span>|<span data-ttu-id="e9b8d-187">Keine Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="e9b8d-187">No restrictions</span></span>|  
|`Verifiability requirement`|<span data-ttu-id="e9b8d-188">Ja</span><span class="sxs-lookup"><span data-stu-id="e9b8d-188">Yes</span></span>|<span data-ttu-id="e9b8d-189">Ja</span><span class="sxs-lookup"><span data-stu-id="e9b8d-189">Yes</span></span>|<span data-ttu-id="e9b8d-190">Nein</span><span class="sxs-lookup"><span data-stu-id="e9b8d-190">No</span></span>|  
|`Local data access`|<span data-ttu-id="e9b8d-191">Ja</span><span class="sxs-lookup"><span data-stu-id="e9b8d-191">Yes</span></span>|<span data-ttu-id="e9b8d-192">Ja</span><span class="sxs-lookup"><span data-stu-id="e9b8d-192">Yes</span></span>|<span data-ttu-id="e9b8d-193">Ja</span><span class="sxs-lookup"><span data-stu-id="e9b8d-193">Yes</span></span>|  
|`Ability to call native code`|<span data-ttu-id="e9b8d-194">Nein</span><span class="sxs-lookup"><span data-stu-id="e9b8d-194">No</span></span>|<span data-ttu-id="e9b8d-195">Nein</span><span class="sxs-lookup"><span data-stu-id="e9b8d-195">No</span></span>|<span data-ttu-id="e9b8d-196">Ja</span><span class="sxs-lookup"><span data-stu-id="e9b8d-196">Yes</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="e9b8d-197">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="e9b8d-197">See Also</span></span>  
 <span data-ttu-id="e9b8d-198">[Sicherheit der CLR-Integration](clr-integration-security.md) </span><span class="sxs-lookup"><span data-stu-id="e9b8d-198">[CLR Integration Security](clr-integration-security.md) </span></span>  
 <span data-ttu-id="e9b8d-199">[Host Schutz Attribute und Programmierung der CLR-Integration](../../clr-integration-security-host-protection-attributes/host-protection-attributes-and-clr-integration-programming.md) </span><span class="sxs-lookup"><span data-stu-id="e9b8d-199">[Host Protection Attributes and CLR Integration Programming](../../clr-integration-security-host-protection-attributes/host-protection-attributes-and-clr-integration-programming.md) </span></span>  
 <span data-ttu-id="e9b8d-200">[Einschränkungen für das Programmiermodell von CLR-Integration](../../../relational-databases/clr-integration/database-objects/clr-integration-programming-model-restrictions.md) </span><span class="sxs-lookup"><span data-stu-id="e9b8d-200">[CLR Integration Programming Model Restrictions](../../../relational-databases/clr-integration/database-objects/clr-integration-programming-model-restrictions.md) </span></span>  
 [<span data-ttu-id="e9b8d-201">Gehostete CLR-Umgebung</span><span class="sxs-lookup"><span data-stu-id="e9b8d-201">CLR Hosted Environment</span></span>](../clr-integration-architecture-clr-hosted-environment.md)  
  
  
