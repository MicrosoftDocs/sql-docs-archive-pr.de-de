---
title: MSSQLSERVER_21879 | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
helpviewer_keywords:
- 21879 (Database Engine error)
ms.assetid: fcfab735-05ca-423a-89f1-fdee7e2ed8c0
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 08c5d4f45faf94d555ed7acedd90cc55ec4791ec
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87718193"
---
# <a name="mssqlserver_21879"></a><span data-ttu-id="533f2-102">MSSQLSERVER_21879</span><span class="sxs-lookup"><span data-stu-id="533f2-102">MSSQLSERVER_21879</span></span>
    
## <a name="details"></a><span data-ttu-id="533f2-103">Details</span><span class="sxs-lookup"><span data-stu-id="533f2-103">Details</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="533f2-104">Produktname</span><span class="sxs-lookup"><span data-stu-id="533f2-104">Product Name</span></span>|<span data-ttu-id="533f2-105">SQL Server</span><span class="sxs-lookup"><span data-stu-id="533f2-105">SQL Server</span></span>|  
|<span data-ttu-id="533f2-106">Ereignis-ID</span><span class="sxs-lookup"><span data-stu-id="533f2-106">Event ID</span></span>|<span data-ttu-id="533f2-107">21879</span><span class="sxs-lookup"><span data-stu-id="533f2-107">21879</span></span>|  
|<span data-ttu-id="533f2-108">Ereignisquelle</span><span class="sxs-lookup"><span data-stu-id="533f2-108">Event Source</span></span>|<span data-ttu-id="533f2-109">MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="533f2-109">MSSQLSERVER</span></span>|  
|<span data-ttu-id="533f2-110">Komponente</span><span class="sxs-lookup"><span data-stu-id="533f2-110">Component</span></span>|<span data-ttu-id="533f2-111">SQLEngine</span><span class="sxs-lookup"><span data-stu-id="533f2-111">SQLEngine</span></span>|  
|<span data-ttu-id="533f2-112">Symbolischer Name</span><span class="sxs-lookup"><span data-stu-id="533f2-112">Symbolic Name</span></span>|<span data-ttu-id="533f2-113">SQLErrorNum21879</span><span class="sxs-lookup"><span data-stu-id="533f2-113">SQLErrorNum21879</span></span>|  
|<span data-ttu-id="533f2-114">Meldungstext</span><span class="sxs-lookup"><span data-stu-id="533f2-114">Message Text</span></span>|<span data-ttu-id="533f2-115">Der umgeleitete Server '%s' kann nicht nach dem ursprünglichen Verleger '%s' und der Verlegerdatenbank '%s' abgefragt werden, um den Namen des Remoteservers zu bestimmen; Fehler %d, Fehlermeldung '%s.'</span><span class="sxs-lookup"><span data-stu-id="533f2-115">Unable to query the redirected server '%s' for original publisher '%s' and publisher database '%s' to determine the name of the remote server; Error %d, Error message '%s'.</span></span>|  
  
## <a name="explanation"></a><span data-ttu-id="533f2-116">Erklärung</span><span class="sxs-lookup"><span data-stu-id="533f2-116">Explanation</span></span>  
 <span data-ttu-id="533f2-117">`sp_validate_redirected_publisher` verwendet einen temporären Verbindungsserver, der erstellt wird, um eine Verbindung mit dem umgeleiteten Verleger herzustellen und den Namen des Remoteservers zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="533f2-117">`sp_validate_redirected_publisher` uses a temporary linked server that it creates to connect to the redirected publisher in order to discover the name of the remote server.</span></span> <span data-ttu-id="533f2-118">Fehler 21879 wird zurückgegeben, wenn die Verbindungsserverabfrage fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="533f2-118">Error 21879 is returned when the linked server query fails.</span></span> <span data-ttu-id="533f2-119">In dem Aufruf, mit dem der Remoteservername angefordert wird, wird der temporäre Verbindungsserver in der Regel zum ersten Mal verwendet. Wenn Verbindungsprobleme vorliegen, ist es daher wahrscheinlich, dass diese zuerst in diesem Aufruf augenscheinlich werden.</span><span class="sxs-lookup"><span data-stu-id="533f2-119">The call to request the remote server name is typically the first use of the temporary linked server, so if there are connectivity problems they are likely to appear first with this call.</span></span> <span data-ttu-id="533f2-120">Dieser Remoteaufruf führt auf dem Remoteserver einfach select `@@servername` aus.</span><span class="sxs-lookup"><span data-stu-id="533f2-120">This remote call simply executes select `@@servername` at the remote server.</span></span>  
  
 <span data-ttu-id="533f2-121">Für den Verbindungsserver, der zum Abfragen des umgeleiteten Verlegers verwendet wird, werden der Sicherheitsmodus, die Anmeldung und das Kennwort verwendet, die beim Aufruf von `sp_adddistpublisher` für den ursprünglichen Verleger angegeben wurden.</span><span class="sxs-lookup"><span data-stu-id="533f2-121">The linked server used to query the redirected publisher uses the security mode, login, and password supplied when `sp_adddistpublisher` was called for the original publisher.</span></span>  
  
-   <span data-ttu-id="533f2-122">Wenn die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Authentifizierung (Sicherheitsmodus 0) verwendet wurde, dann werden die angegebene Anmeldung und das Kennwort verwendet, um eine Verbindung mit dem Remoteserver herzustellen.</span><span class="sxs-lookup"><span data-stu-id="533f2-122">If [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authentication was used (security mode 0) then the login and password specified are used to connect to the remote server.</span></span>  
  
-   <span data-ttu-id="533f2-123">Wurde die Windows-Authentifizierung (Sicherheitsmodus 1) verwendet, dann wird eine vertrauenswürdige Verbindung zum Herstellen der Verbindung genutzt.</span><span class="sxs-lookup"><span data-stu-id="533f2-123">If Windows authentication was used (security mode 1) a trusted connection is used for the connection.</span></span>  
  
    -   <span data-ttu-id="533f2-124">Wenn `sp_validate_redirected_publisher` explizit von einem Benutzer aufgerufen wird, wird die Windows-Anmeldung, unter der der Benutzer Windows ausführt, für die Verbindung verwendet.</span><span class="sxs-lookup"><span data-stu-id="533f2-124">If `sp_validate_redirected_publisher` is called explicitly by a user, the Windows login that the user is running under is used for the connection.</span></span>  
  
    -   <span data-ttu-id="533f2-125">Wenn `sp_validate_redirected_`publisher von einem Replikations-Agent von `sp_get_redirected_publisher` aufgerufen wird, wird die dem Agent zugeordnete Windows-Anmeldung verwendet.</span><span class="sxs-lookup"><span data-stu-id="533f2-125">If `sp_validate_redirected_`publisher is called by a replication agent from `sp_get_redirected_publisher`, the Windows login associated with the agent is used.</span></span>  
  
 <span data-ttu-id="533f2-126">Fehler 21879 kann darauf hinweisen, dass `sp_validate_redirected_publisher` mit einer Anmeldung aufgerufen wurde, die beim umgeleiteten Zielverleger nicht bekannt ist.</span><span class="sxs-lookup"><span data-stu-id="533f2-126">Error 21879 can indicate that `sp_validate_redirected_publisher` was called using a login that is not known at the redirected target publisher.</span></span>  
  
## <a name="user-action"></a><span data-ttu-id="533f2-127">Benutzeraktion</span><span class="sxs-lookup"><span data-stu-id="533f2-127">User Action</span></span>  
 <span data-ttu-id="533f2-128">Stellen Sie sicher, dass die Anmeldung für die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Authentifizierung oder die Windows-Authentifizierung bei allen Verfügbarkeitsgruppenreplikaten gültig und autorisiert ist, auf die Abonnementmetadatentabellen (syssubscriptions und sysmergesubscriptions) in der Verlegerdatenbank zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="533f2-128">Make certain that the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authentication login or the Windows authentication login is valid at all of the availability group replicas and has sufficient authorization to access the subscription metadata tables (syssubscriptions and sysmergesubscriptions) in the publisher database.</span></span>  
  
 <span data-ttu-id="533f2-129">Es sind einige besondere Dinge zu beachten, wenn der Fehler 21879 von einem Aufruf von `sp_get_redirected_publisher` zurückgegeben wird, der von einem Replikations-Agent initiiert worden ist, der auf einem anderen Knoten als dem Verteiler ausgeführt wird; z. B. einem Merge-Agent, der auf einem Abonnenten läuft.</span><span class="sxs-lookup"><span data-stu-id="533f2-129">There are special considerations when error 21879 is returned from a call to `sp_get_redirected_publisher` that is initiated by a replication agent running on a node other that the distributor; such as a merge agent running at a subscriber.</span></span> <span data-ttu-id="533f2-130">Wenn Windows-Authentifizierung für die Verbindung zum umgeleiteten Verleger verwendet wird, muss [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] für die Kerberos-Authentifizierung konfiguriert worden sein, damit erfolgreich eine Verbindung hergestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="533f2-130">If Windows authentication is used for the connection to the redirected publisher, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must be configured for Kerberos authentication for the connection to be successfully established.</span></span> <span data-ttu-id="533f2-131">Wenn die Windows-Authentifizierung verwendet wird und [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] nicht für die Kerberos-Authentifizierung konfiguriert worden ist, dann wird der Fehler 18456 an einen Merge-Agent ausgegeben, der auf dem Abonnenten ausgeführt wird. Dieser Fehler gibt an, dass die Anmeldung 'NT AUTHORITY\ANONYMOUS LOGON' fehlgeschlagen ist.</span><span class="sxs-lookup"><span data-stu-id="533f2-131">When Windows authentication is used and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is not configured for Kerberos authentication, error 18456 indicating that the 'NT AUTHORITY\ANONYMOUS LOGON' login failed, is received by a merge agent running at a subscriber.</span></span> <span data-ttu-id="533f2-132">Dieses Problem kann auf drei Arten behandelt werden:</span><span class="sxs-lookup"><span data-stu-id="533f2-132">There are three possible ways to address this issue:</span></span>  
  
-   <span data-ttu-id="533f2-133">Konfigurieren von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] für die Kerberos-Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="533f2-133">Configure [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] for Kerberos authentication.</span></span> <span data-ttu-id="533f2-134">Weitere Informationen finden Sie unter **Kerberos-Authentifizierung und SQL Server** in der [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Onlinedokumentation.</span><span class="sxs-lookup"><span data-stu-id="533f2-134">See **Kerberos Authentication and SQL Server** in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
-   <span data-ttu-id="533f2-135">Verwenden `sp_changedistpublisher` Sie, um den Sicherheitsmodus zu ändern, der dem ursprünglichen Verleger in MSdistpublishers zugeordnet ist, und um einen Anmelde Namen und ein Kennwort anzugeben, die für die Verbindung verwendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="533f2-135">Use `sp_changedistpublisher` to change the security mode associated with the original publisher in MSdistpublishers, as well as to specify a login and password to use for the connection.</span></span>  
  
-   <span data-ttu-id="533f2-136">Geben Sie den Befehlszeilenparameter *bypasspublishervalidation* in der Merge-Agent-Befehlszeile an, um die Überprüfung zu umgehen, wenn `sp_get_redirected_publisher` auf dem Verteiler aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="533f2-136">Specify the command line parameter *BypassPublisherValidation* on the merge agent command line to bypass validation when `sp_get_redirected_publisher` is called at the distributor.</span></span>  
  
  
