---
title: MSSQLSERVER_1505 | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
helpviewer_keywords:
- 1505 (Database Engine error)
ms.assetid: ef4df75d-0f36-4c8b-b36c-e427f65f91ca
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 74c152404cf2d3710bbe98b29da7a96d86f58859
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87698277"
---
# <a name="mssqlserver_1505"></a><span data-ttu-id="31af6-102">MSSQLSERVER_1505</span><span class="sxs-lookup"><span data-stu-id="31af6-102">MSSQLSERVER_1505</span></span>
    
## <a name="details"></a><span data-ttu-id="31af6-103">Details</span><span class="sxs-lookup"><span data-stu-id="31af6-103">Details</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="31af6-104">Produktname</span><span class="sxs-lookup"><span data-stu-id="31af6-104">Product Name</span></span>|<span data-ttu-id="31af6-105">SQL Server</span><span class="sxs-lookup"><span data-stu-id="31af6-105">SQL Server</span></span>|  
|<span data-ttu-id="31af6-106">Ereignis-ID</span><span class="sxs-lookup"><span data-stu-id="31af6-106">Event ID</span></span>|<span data-ttu-id="31af6-107">1505</span><span class="sxs-lookup"><span data-stu-id="31af6-107">1505</span></span>|  
|<span data-ttu-id="31af6-108">Ereignisquelle</span><span class="sxs-lookup"><span data-stu-id="31af6-108">Event Source</span></span>|<span data-ttu-id="31af6-109">MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="31af6-109">MSSQLSERVER</span></span>|  
|<span data-ttu-id="31af6-110">Komponente</span><span class="sxs-lookup"><span data-stu-id="31af6-110">Component</span></span>|<span data-ttu-id="31af6-111">SQLEngine</span><span class="sxs-lookup"><span data-stu-id="31af6-111">SQLEngine</span></span>|  
|<span data-ttu-id="31af6-112">Symbolischer Name</span><span class="sxs-lookup"><span data-stu-id="31af6-112">Symbolic Name</span></span>|<span data-ttu-id="31af6-113">DUP_KEY</span><span class="sxs-lookup"><span data-stu-id="31af6-113">DUP_KEY</span></span>|  
|<span data-ttu-id="31af6-114">Meldungstext</span><span class="sxs-lookup"><span data-stu-id="31af6-114">Message Text</span></span>|<span data-ttu-id="31af6-115">Die CREATE UNIQUE INDEX-Anweisung wurde beendet, weil ein doppelter Schlüssel für den Objektnamen „%.\*ls“ und den Indexnamen „%.\*ls“ gefunden wurde.</span><span class="sxs-lookup"><span data-stu-id="31af6-115">CREATE UNIQUE INDEX terminated because a duplicate key was found for object name '%.\*ls' and index name '%.\*ls'.</span></span>  <span data-ttu-id="31af6-116">Der doppelte Schlüsselwert ist %ls.</span><span class="sxs-lookup"><span data-stu-id="31af6-116">The duplicate key value is %ls.</span></span>|  
  
## <a name="explanation"></a><span data-ttu-id="31af6-117">Erklärung</span><span class="sxs-lookup"><span data-stu-id="31af6-117">Explanation</span></span>  
 <span data-ttu-id="31af6-118">Dieser Fehler tritt auf, wenn Sie versuchen, einen eindeutigen Index zu erstellen, und der angegebene doppelte Wert in mehreren Zeilen in der Tabelle enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="31af6-118">This error occurs when you attempt to create a unique index and more than one row in the table contains the specified duplicate value.</span></span> <span data-ttu-id="31af6-119">Ein eindeutiger Index wird erstellt, wenn Sie einen Index erstellen und das UNIQUE-Schlüsselwort angeben oder wenn Sie eine UNIQUE-Einschränkung erstellen.</span><span class="sxs-lookup"><span data-stu-id="31af6-119">A unique index is created when you create an index and specify the UNIQUE keyword, or when you create a UNIQUE constraint.</span></span> <span data-ttu-id="31af6-120">Die Tabelle darf keine Zeilen mit doppelten Werten in den Spalten enthalten, die im Index oder in der Einschränkung definiert sind.</span><span class="sxs-lookup"><span data-stu-id="31af6-120">The table cannot contain any rows that have duplicate values in the columns defined in the index or constraint.</span></span>  
  
 <span data-ttu-id="31af6-121">Nehmen Sie als Beispiel die Daten aus der folgenden **Employee**-Tabelle:</span><span class="sxs-lookup"><span data-stu-id="31af6-121">Consider the data in the following **Employee** table:</span></span>  
  
|<span data-ttu-id="31af6-122">LastName</span><span class="sxs-lookup"><span data-stu-id="31af6-122">LastName</span></span>|<span data-ttu-id="31af6-123">FirstName</span><span class="sxs-lookup"><span data-stu-id="31af6-123">FirstName</span></span>|<span data-ttu-id="31af6-124">JobTitle</span><span class="sxs-lookup"><span data-stu-id="31af6-124">JobTitle</span></span>|<span data-ttu-id="31af6-125">HireDate</span><span class="sxs-lookup"><span data-stu-id="31af6-125">HireDate</span></span>|  
|--------------|---------------|--------------|--------------|  
|<span data-ttu-id="31af6-126">Walters</span><span class="sxs-lookup"><span data-stu-id="31af6-126">Walters</span></span>|<span data-ttu-id="31af6-127">Rob</span><span class="sxs-lookup"><span data-stu-id="31af6-127">Rob</span></span>|<span data-ttu-id="31af6-128">Senior Tool Designer</span><span class="sxs-lookup"><span data-stu-id="31af6-128">Senior Tool Designer</span></span>|<span data-ttu-id="31af6-129">2004-11-19</span><span class="sxs-lookup"><span data-stu-id="31af6-129">2004-11-19</span></span>|  
|<span data-ttu-id="31af6-130">Brown</span><span class="sxs-lookup"><span data-stu-id="31af6-130">Brown</span></span>|<span data-ttu-id="31af6-131">Kevin</span><span class="sxs-lookup"><span data-stu-id="31af6-131">Kevin</span></span>|<span data-ttu-id="31af6-132">Marketing Assistant</span><span class="sxs-lookup"><span data-stu-id="31af6-132">Marketing Assistant</span></span>|<span data-ttu-id="31af6-133">NULL</span><span class="sxs-lookup"><span data-stu-id="31af6-133">NULL</span></span>|  
|<span data-ttu-id="31af6-134">Brown</span><span class="sxs-lookup"><span data-stu-id="31af6-134">Brown</span></span>|<span data-ttu-id="31af6-135">Jo</span><span class="sxs-lookup"><span data-stu-id="31af6-135">Jo</span></span>|<span data-ttu-id="31af6-136">Design Engineer</span><span class="sxs-lookup"><span data-stu-id="31af6-136">Design Engineer</span></span>|<span data-ttu-id="31af6-137">NULL</span><span class="sxs-lookup"><span data-stu-id="31af6-137">NULL</span></span>|  
|<span data-ttu-id="31af6-138">Walters</span><span class="sxs-lookup"><span data-stu-id="31af6-138">Walters</span></span>|<span data-ttu-id="31af6-139">Rob</span><span class="sxs-lookup"><span data-stu-id="31af6-139">Rob</span></span>|<span data-ttu-id="31af6-140">Tool Designer</span><span class="sxs-lookup"><span data-stu-id="31af6-140">Tool Designer</span></span>|<span data-ttu-id="31af6-141">2001-08-09</span><span class="sxs-lookup"><span data-stu-id="31af6-141">2001-08-09</span></span>|  
  
 <span data-ttu-id="31af6-142">Für die Spaltenkombinationen **LastName** oder **LastName**, **FirstName** kann aufgrund doppelter Werte in den Zeilen kein eindeutiger Index erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="31af6-142">A unique index can not be created on the column combinations **LastName** or **LastName**, **FirstName** because of duplicate values in the rows.</span></span>  
  
 <span data-ttu-id="31af6-143">Schwieriger zu erkennen ist der Verstoß gegen die Eindeutigkeit in der Spalte **HireDate**.</span><span class="sxs-lookup"><span data-stu-id="31af6-143">Less obvious is the potential for a uniqueness violation in the **HireDate** column.</span></span> <span data-ttu-id="31af6-144">Beim Erstellen von Indizes werden NULL-Werte als "gleich" betrachtet.</span><span class="sxs-lookup"><span data-stu-id="31af6-144">For indexing purposes, NULL values compare as equal.</span></span> <span data-ttu-id="31af6-145">Daher können Sie keinen eindeutigen Index bzw. keine eindeutige Einschränkung erstellen, wenn die Schlüsselwerte mehrerer Zeilen NULL-Werte enthalten.</span><span class="sxs-lookup"><span data-stu-id="31af6-145">Therefore, you cannot create a unique index or constraint if the key values are NULL in more than one row.</span></span> <span data-ttu-id="31af6-146">Mit den oben genannten Daten kann für die Spaltenkombinationen **HireDate** oder **LastName**, **HireDate** kein eindeutiger Index erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="31af6-146">Given the data above, a unique index cannot be created on the column combinations **HireDate** or **LastName**, **HireDate**.</span></span>  
  
 <span data-ttu-id="31af6-147">Fehlermeldung 1505 gibt die erste Zeile zurück, in der ein Verstoß gegen die Eindeutigkeitseinschränkung vorliegt.</span><span class="sxs-lookup"><span data-stu-id="31af6-147">Error message 1505 returns the first row that violates the uniqueness constraint.</span></span> <span data-ttu-id="31af6-148">Es gibt möglicherweise weitere doppelte Zeilen in der Tabelle.</span><span class="sxs-lookup"><span data-stu-id="31af6-148">There may be other duplicate rows in the table.</span></span> <span data-ttu-id="31af6-149">Führen Sie zum Ermitteln aller doppelten Zeilen eine Abfrage der angegebenen Tabelle mit der GROUP BY-Klausel und der HAVING-Klausel aus, um die doppelten Zeilen zu melden.</span><span class="sxs-lookup"><span data-stu-id="31af6-149">To find all duplicate rows, query the specified table and use the GROUP BY and HAVING clauses to report the duplicate rows.</span></span> <span data-ttu-id="31af6-150">Mit folgender Abfrage werden beispielsweise die Zeilen aus der **Employee**-Tabelle zurückgegeben, die doppelte Vor- und Nachnamen aufweisen.</span><span class="sxs-lookup"><span data-stu-id="31af6-150">For example, the following query returns the rows in the **Employee** table that have duplicate first and last names.</span></span>  
  
 <span data-ttu-id="31af6-151">Wählen Sie in dbo LastName, FirstName, count ( \* ) aus. Employee Group by LastName, FirstName mit count ( \* ) > 1;</span><span class="sxs-lookup"><span data-stu-id="31af6-151">SELECT LastName, FirstName, count(\*) FROM dbo.Employee GROUP BY LastName, FirstName HAVING count(\*) > 1;</span></span>  
  
## <a name="user-action"></a><span data-ttu-id="31af6-152">Benutzeraktion</span><span class="sxs-lookup"><span data-stu-id="31af6-152">User Action</span></span>  
 <span data-ttu-id="31af6-153">Ziehen Sie die folgenden Lösungen in Betracht:</span><span class="sxs-lookup"><span data-stu-id="31af6-153">Consider the following solutions.</span></span>  
  
-   <span data-ttu-id="31af6-154">Fügen Sie der Index- oder Einschränkungsdefinition Spalten hinzu, oder entfernen Sie Spalten, um eine eindeutige Zusammensetzung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="31af6-154">Add or remove columns in the index or constraint definition to create a unique composite.</span></span> <span data-ttu-id="31af6-155">Im vorhergehenden Beispiel könnte das Problem gelöst werden, indem Sie der Index- oder Einschränkungsdefinition eine **MiddleName**-Spalte hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="31af6-155">In the previous example, adding a **MiddleName** column to the index or constraint definition might resolve the duplication problem.</span></span>  
  
-   <span data-ttu-id="31af6-156">Wählen Sie die als NOT NULL definierten Spalten aus, wenn Sie die Spalten für einen eindeutigen Index bzw. eine eindeutige Einschränkung auswählen.</span><span class="sxs-lookup"><span data-stu-id="31af6-156">Select columns that are defined as NOT NULL when you choose columns for a unique index or constraint.</span></span> <span data-ttu-id="31af6-157">Damit können Sie die Möglichkeit eines Verstoßes gegen die Eindeutigkeit vermeiden, wenn die Schlüsselwerte mehrerer Zeilen NULL-Werte enthalten.</span><span class="sxs-lookup"><span data-stu-id="31af6-157">This eliminates the possibility of a uniqueness violation caused when more than one row contains NULL in the key values.</span></span>  
  
-   <span data-ttu-id="31af6-158">Wenn die doppelten Werte durch Dateneingabefehler entstanden sind, korrigieren Sie die Daten manuell, und erstellen Sie dann den Index bzw. die Einschränkung.</span><span class="sxs-lookup"><span data-stu-id="31af6-158">If the duplicate values are the result of data entry errors, manually correct the data and then create the index or constraint.</span></span> <span data-ttu-id="31af6-159">Informationen zum Entfernen doppelter Zeilen in einer Tabelle finden Sie im Wissensdatenbankartikel 139444: [Entfernen von doppelten Zeilen aus einer Tabelle in SQL Server](https://support.microsoft.com/kb/139444)</span><span class="sxs-lookup"><span data-stu-id="31af6-159">For information about removing duplicate rows in a table, see Knowledge Base article 139444: [How to remove duplicate rows from a table in SQL Server](https://support.microsoft.com/kb/139444).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="31af6-160">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="31af6-160">See Also</span></span>  
 <span data-ttu-id="31af6-161">[CREATE INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-index-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="31af6-161">[CREATE INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-index-transact-sql) </span></span>  
 <span data-ttu-id="31af6-162">[Erstellen eindeutiger Indizes](../indexes/indexes.md) </span><span class="sxs-lookup"><span data-stu-id="31af6-162">[Create Unique Indexes](../indexes/indexes.md) </span></span>  
 [<span data-ttu-id="31af6-163">Erstellen von Unique-Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="31af6-163">Create Unique Constraints</span></span>](../tables/create-unique-constraints.md)  
  
  
