---
title: Gespiegelte Sicherungsmediensätze (SQL Server) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- recovery [SQL Server], mirrored backups
- mirrored media sets [SQL Server]
- backup mirrors [SQL Server]
- duplicate backup copies
- interchangeable backup copies [SQL Server]
- media sets [SQL Server], mirrored backup media sets
- backup media [SQL Server], mirrored media
ms.assetid: 05a0b8d1-3585-4f77-972f-69d1c0d4aa9b
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: ce3513c67a0087dd00021de75f360b19819b46db
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87622170"
---
# <a name="mirrored-backup-media-sets-sql-server"></a><span data-ttu-id="bad33-102">Gespiegelte Sicherungsmediensätze (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="bad33-102">Mirrored Backup Media Sets (SQL Server)</span></span>
    
> [!NOTE]  
>  <span data-ttu-id="bad33-103">Gespiegelte Sicherungsmediensätze werden nur in der Enterprise Edition von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]unterstützt.</span><span class="sxs-lookup"><span data-stu-id="bad33-103">Mirrored backup media sets are supported only in the Enterprise edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="bad33-104">Durch die Spiegelung eines Mediensatzes wird die Zuverlässigkeit erhöht, während sich die Auswirkungen von Funktionsstörungen bei Sicherungsgeräten reduzieren.</span><span class="sxs-lookup"><span data-stu-id="bad33-104">Mirroring a media set increases backup reliability by reducing the impact of backup-device malfunctions.</span></span> <span data-ttu-id="bad33-105">Diese Funktionsstörungen sind sehr schwerwiegend, da Sicherungen im Hinblick auf den Verlust von Daten die letzte Schutzmaßnahme darstellen.</span><span class="sxs-lookup"><span data-stu-id="bad33-105">These malfunctions are very serious because backups are the last line of defense against data loss.</span></span> <span data-ttu-id="bad33-106">Mit zunehmendem Umfang einer Datenbank nimmt auch die Wahrscheinlichkeit für einen Fehler bei einem Sicherungsgerät oder -medium zu, in dessen Folge eine Sicherung schließlich nicht mehr wiederhergestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="bad33-106">As databases grow, the probability increases that a failure of a backup device or media will make a backup nonrestorable.</span></span> <span data-ttu-id="bad33-107">Durch die mit der Spiegelung von Sicherungsmedien gebotene Redundanz erhöht sich die Zuverlässigkeit der Sicherungen.</span><span class="sxs-lookup"><span data-stu-id="bad33-107">Mirroring backup media increases the reliability of backups by providing redundancy.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="bad33-108">Weitere Informationen über Mediensätze finden Sie unter [Mediensätze, Medienfamilien und Sicherungssätze &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md)unterstützt.</span><span class="sxs-lookup"><span data-stu-id="bad33-108">For information about media sets in general, see [Media Sets, Media Families, and Backup Sets &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md).</span></span>  
  
 <span data-ttu-id="bad33-109">**In diesem Thema:**</span><span class="sxs-lookup"><span data-stu-id="bad33-109">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="bad33-110">Übersicht über gespiegelte Mediensätze</span><span class="sxs-lookup"><span data-stu-id="bad33-110">Overview of Mirrored Media Sets</span></span>](#OverviewofMirroredMediaSets)  
  
-   [<span data-ttu-id="bad33-111">Hardwareanforderungen für Sicherungsspiegel</span><span class="sxs-lookup"><span data-stu-id="bad33-111">Hardware Requirements for Backup Mirrors</span></span>](#HardwareReqs)  
  
-   [<span data-ttu-id="bad33-112">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="bad33-112">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="overview-of-mirrored-media-sets"></a><a name="OverviewofMirroredMediaSets"></a> <span data-ttu-id="bad33-113">Übersicht über gespiegelte Mediensätze</span><span class="sxs-lookup"><span data-stu-id="bad33-113">Overview of Mirrored Media Sets</span></span>  
 <span data-ttu-id="bad33-114">Die Medienspiegelung ist eine Eigenschaft des Mediensatzes.</span><span class="sxs-lookup"><span data-stu-id="bad33-114">Media mirroring is a property of the media set.</span></span> <span data-ttu-id="bad33-115">Ein *gespiegelter Mediensatz* setzt sich aus mehreren Kopien (*Spiegeln*) des Mediensatzes zusammen.</span><span class="sxs-lookup"><span data-stu-id="bad33-115">A *mirrored media set* consists of multiple copies (*mirrors*) of the media set.</span></span> <span data-ttu-id="bad33-116">Ein Mediensatz enthält eine oder mehrere Medienfamilien, die jeweils einem Sicherungsmedium entsprechen.</span><span class="sxs-lookup"><span data-stu-id="bad33-116">A media set contains one or more media families, each of which corresponds to a backup device.</span></span> <span data-ttu-id="bad33-117">Wenn beispielsweise in der TO-Klausel einer BACKUP DATABASE-Anweisung drei Medien aufgelistet sind, werden die Daten mit BACKUP auf drei Medienfamilien aufgeteilt – eine pro Medium.</span><span class="sxs-lookup"><span data-stu-id="bad33-117">For example, if the TO clause of a BACKUP DATABASE statement lists three devices, BACKUP spreads the data among three media families, one per device.</span></span> <span data-ttu-id="bad33-118">Die Anzahl der Medienfamilien und Spiegel wird definiert, wenn der Mediensatz erstellt wird (durch eine BACKUP DATABASE-Anweisung, mit der WITH FORMAT angegeben wird).</span><span class="sxs-lookup"><span data-stu-id="bad33-118">The number of media families and mirrors is defined when the media set is created (by a BACKUP DATABASE statement that specifies WITH FORMAT).</span></span>  
  
 <span data-ttu-id="bad33-119">Ein gespiegelter Mediensatz besitzt zwischen zwei und vier Spiegel.</span><span class="sxs-lookup"><span data-stu-id="bad33-119">A mirrored media set possesses from two to four mirrors.</span></span> <span data-ttu-id="bad33-120">Jeder Spiegel enthält alle Medienfamilien im Mediensatz.</span><span class="sxs-lookup"><span data-stu-id="bad33-120">Each mirror contains all the media families in the media set.</span></span> <span data-ttu-id="bad33-121">Für die Spiegel ist die gleiche Anzahl von Medien erforderlich – eines pro Medienfamilie.</span><span class="sxs-lookup"><span data-stu-id="bad33-121">The mirrors require the same number of devices, one per media family.</span></span> <span data-ttu-id="bad33-122">Für jeden Spiegel ist ein separates Sicherungsmedium pro Medienfamilie erforderlich.</span><span class="sxs-lookup"><span data-stu-id="bad33-122">Each mirror requires a separate backup device for each media family.</span></span> <span data-ttu-id="bad33-123">Beispielsweise sind für einen gespiegelten Mediensatz, der aus vier Medienfamilien mit drei Spiegeln besteht, zwölf Sicherungsmedien erforderlich.</span><span class="sxs-lookup"><span data-stu-id="bad33-123">For example, a mirrored media set that consists of four media families with three mirrors requires twelve backup devices.</span></span> <span data-ttu-id="bad33-124">All diese Medien müssen äquivalent sein.</span><span class="sxs-lookup"><span data-stu-id="bad33-124">All of these devices must be equivalent.</span></span> <span data-ttu-id="bad33-125">Beispielsweise Bandlaufwerke mit der gleichen Modellnummer vom selben Hersteller.</span><span class="sxs-lookup"><span data-stu-id="bad33-125">For example, tape drives that have the same model number from the same manufacturer.</span></span>  
  
 <span data-ttu-id="bad33-126">In der folgenden Abbildung ist ein Beispiel für einen gespiegelten Mediensatz veranschaulicht, der zwei Medienfamilien mit zwei Spiegeln umfasst.</span><span class="sxs-lookup"><span data-stu-id="bad33-126">The following illustration shows an example of a mirrored media set that consists of two media families with two mirrors.</span></span> <span data-ttu-id="bad33-127">Jede Medienfamilie enthält drei Medienvolumes, die pro Spiegel ein Mal gesichert werden.</span><span class="sxs-lookup"><span data-stu-id="bad33-127">Each media family contains three media volumes, which are backed up one time per mirror.</span></span>  
  
 <span data-ttu-id="bad33-128">![Gespiegelter Mediensatz: zwei Medienfamilien mit zwei Spiegeln](../../database-engine/media/bnr-backup-media-mirror.gif "Gespiegelter Mediensatz: zwei Medienfamilien mit zwei Spiegeln")</span><span class="sxs-lookup"><span data-stu-id="bad33-128">![Mirrored media set: two families with two mirrors](../../database-engine/media/bnr-backup-media-mirror.gif "Mirrored media set: two families with two mirrors")</span></span>  
  
 <span data-ttu-id="bad33-129">Einander entsprechende Volumes auf den Spiegeln besitzen identische Inhalte.</span><span class="sxs-lookup"><span data-stu-id="bad33-129">Corresponding volumes on the mirrors have identical contents.</span></span> <span data-ttu-id="bad33-130">Somit können sie zum Zeitpunkt der Wiederherstellung ausgetauscht werden.</span><span class="sxs-lookup"><span data-stu-id="bad33-130">This makes them interchangeable at restore time.</span></span> <span data-ttu-id="bad33-131">In der vorherigen Abbildung beispielsweise kann das dritte Volume von tape2 mit dem dritten Volume von tape0 ausgetauscht werden.</span><span class="sxs-lookup"><span data-stu-id="bad33-131">For example, in the previous illustration, the third volume of tape2 is interchangeable with the third volume of tape0.</span></span>  
  
 <span data-ttu-id="bad33-132">Mit [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] wird durch die Synchronisierung der Schreibvorgänge auf die Geräte sichergestellt, dass die Inhalte der gespiegelten Medien übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="bad33-132">The [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] guarantees that the mirrored media have identical contents by synchronizing writes to the devices.</span></span> <span data-ttu-id="bad33-133">Wenn ein Spiegel aufgefüllt wird, wird auf alle Spiegel gleichzeitig zugegriffen.</span><span class="sxs-lookup"><span data-stu-id="bad33-133">When any one of the mirrors fills, all the mirrors are spanned at one time.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="bad33-134">Einen gespiegelten Mediensatz durch das Entfernen eines Spiegels implizit zu brechen (aufzuteilen), ist nicht möglich.</span><span class="sxs-lookup"><span data-stu-id="bad33-134">A mirrored media set cannot be implicitly broken (split) by removing a mirror.</span></span> <span data-ttu-id="bad33-135">Sobald ein Band oder ein Datenträger eines Spiegels beschädigt oder neu formatiert wird, kann dieser Spiegel nicht mehr für Sicherungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bad33-135">If any tape or disk in a mirror is damaged or reformatted, the mirror is no longer usable for additional backups.</span></span> <span data-ttu-id="bad33-136">Solange noch ein vollständiger Spiegel intakt bleibt, kann der Mediensatz gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="bad33-136">If at least one full mirror remains intact, the media set can be read.</span></span> <span data-ttu-id="bad33-137">Wenn jeder Spiegel eine gegebene Medienfamilie verliert, ist der Mediensatz wertlos.</span><span class="sxs-lookup"><span data-stu-id="bad33-137">If every mirror loses a given media family, the media set is useless.</span></span>  
  
 <span data-ttu-id="bad33-138">Im Hinblick auf die Vollständigkeit der Spiegel gelten bei den verschiedenen Sicherungs- und Wiederherstellungsvorgängen unterschiedliche Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="bad33-138">Backup and restore operations impose different requirements on whether all the mirrors must be present.</span></span> <span data-ttu-id="bad33-139">Wenn im Rahmen eines Sicherungsvorgangs ein gespiegelter Mediensatz geschrieben (d. h. erstellt oder erweitert) werden soll, müssen alle Spiegel vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="bad33-139">For a backup operation to write (that is, to create or extend) a mirrored media set, all the mirrors must be present.</span></span> <span data-ttu-id="bad33-140">Beim Wiederherstellen einer Sicherung von einem gespiegelten Mediensatz können Sie jedoch nur einen Spiegel für jede Medienfamilie angeben.</span><span class="sxs-lookup"><span data-stu-id="bad33-140">In contrast, when you are restoring a backup from a mirrored media set, you can specify only a single mirror for each media family.</span></span> <span data-ttu-id="bad33-141">Sie können beim Wiederherstellen weniger Geräte als Familien verwenden, die einzelnen Medienfamilien können jedoch nur ein Mal verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="bad33-141">You can restore from fewer devices than families, but each media family is processed only one time.</span></span> <span data-ttu-id="bad33-142">Falls Fehler auftreten, kann das Vorhandensein der anderen Spiegel jedoch dazu beitragen, dass einige Wiederherstellungsprobleme schneller gelöst werden können.</span><span class="sxs-lookup"><span data-stu-id="bad33-142">In the presence of errors, however, having the other mirrors enables some restore problems to be resolved quickly.</span></span> <span data-ttu-id="bad33-143">Sie können ein beschädigtes Medienvolume durch das entsprechende Volume eines anderen Spiegels ersetzen.</span><span class="sxs-lookup"><span data-stu-id="bad33-143">You can substitute a damaged media volume with the corresponding volume from another mirror.</span></span> <span data-ttu-id="bad33-144">Der Grund dafür ist, dass RESTORE und RESTORE VERIFYONLY das Ersetzen beschädigter Medien durch das entsprechende Sicherungsmedienvolume eines anderen Spiegels unterstützen.</span><span class="sxs-lookup"><span data-stu-id="bad33-144">This is because RESTORE and RESTORE VERIFYONLY support substitution of damaged media with the corresponding backup-media volume from another mirror.</span></span>  
  
##  <a name="hardware-requirements-for-backup-mirrors"></a><a name="HardwareReqs"></a> <span data-ttu-id="bad33-145">Hardwareanforderungen für Sicherungsspiegel</span><span class="sxs-lookup"><span data-stu-id="bad33-145">Hardware Requirements for Backup Mirrors</span></span>  
 <span data-ttu-id="bad33-146">Spiegelungen werden auf Datenträger und auf Band angewendet (auf Datenträgern werden keine Anschlussbänder unterstützt).</span><span class="sxs-lookup"><span data-stu-id="bad33-146">Mirroring applies both to disk and tape (disks do not support continuation tapes).</span></span> <span data-ttu-id="bad33-147">Alle Sicherungsmedien für einen einzelnen Sicherungs- oder Wiederherstellungsvorgang müssen den gleichen Typ, den gleiche Datenträger bzw. das gleiche Band aufweisen.</span><span class="sxs-lookup"><span data-stu-id="bad33-147">All backup devices for a single backup or restore operation must be of the same type, disk or tape.</span></span>  
  
 <span data-ttu-id="bad33-148">In diesen weit gefassten Kategorien müssen wiederum ähnliche Geräte mit übereinstimmenden Eigenschaften verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bad33-148">Within these broader classes, you must use similar devices that have the same properties.</span></span> <span data-ttu-id="bad33-149">Wenn die Geräte zu unterschiedlich sind, wird eine Fehlermeldung (3212) generiert.</span><span class="sxs-lookup"><span data-stu-id="bad33-149">Insufficiently similar devices generate an error message (3212).</span></span> <span data-ttu-id="bad33-150">Wenn Sie die Gefahr einer Nichtübereinstimmung der Geräte ausschließen möchten, verwenden Sie Geräte, die äquivalent sind, beispielsweise nur Laufwerke mit der gleichen Modellnummer vom selben Hersteller.</span><span class="sxs-lookup"><span data-stu-id="bad33-150">To avoid the risk of a device mismatch, use devices that are equivalent, such as, only drives with the same model number from the same manufacturer.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="bad33-151">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="bad33-151">Related Tasks</span></span>  
 <span data-ttu-id="bad33-152">**So sichern Sie Daten auf gespiegelten Sicherungsmedien**</span><span class="sxs-lookup"><span data-stu-id="bad33-152">**To back up to mirrored backup devices**</span></span>  
  
-   [<span data-ttu-id="bad33-153">Sichern auf einem gespiegelten Mediensatz &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="bad33-153">Back Up to a Mirrored Media Set &#40;Transact-SQL&#41;</span></span>](back-up-to-a-mirrored-media-set-transact-sql.md)  
  
## <a name="see-also"></a><span data-ttu-id="bad33-154">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="bad33-154">See Also</span></span>  
 <span data-ttu-id="bad33-155">[Mögliche Medienfehler während der Sicherung und Wiederherstellung &#40;SQL Server&#41;](possible-media-errors-during-backup-and-restore-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="bad33-155">[Possible Media Errors During Backup and Restore &#40;SQL Server&#41;](possible-media-errors-during-backup-and-restore-sql-server.md) </span></span>  
 <span data-ttu-id="bad33-156">[RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="bad33-156">[RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql) </span></span>  
 <span data-ttu-id="bad33-157">[Sicherungsmedien &#40;SQL Server&#41;](backup-devices-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="bad33-157">[Backup Devices &#40;SQL Server&#41;](backup-devices-sql-server.md) </span></span>  
 [<span data-ttu-id="bad33-158">Mediensätze, Medienfamilien und Sicherungssätze &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bad33-158">Media Sets, Media Families, and Backup Sets &#40;SQL Server&#41;</span></span>](media-sets-media-families-and-backup-sets-sql-server.md)  
  
  
