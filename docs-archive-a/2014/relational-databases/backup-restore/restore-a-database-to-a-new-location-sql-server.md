---
title: Wiederherstellen einer Datenbank an einem neuen Speicherort (SQL Server) | Microsoft-Datenbank
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- restoring databases [SQL Server], moving
- database restores [SQL Server], creating new databases
- restoring [SQL Server], with move
- restoring databases [SQL Server], creating new databases
- database backups [SQL Server], creating new database from
- backing up databases [SQL Server], creating new database from
- restoring databases [SQL Server], renaming
- database creation [SQL Server], restoring with move
ms.assetid: 4da76d61-5e11-4bee-84f5-b305240d9f42
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 89b42f439b5622074327506b9f2ca2b2358cd12f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87620466"
---
# <a name="restore-a-database-to-a-new-location-sql-server"></a><span data-ttu-id="fc439-102">Wiederherstellen einer Datenbank an einem neuen Speicherort (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="fc439-102">Restore a Database to a New Location (SQL Server)</span></span>
  <span data-ttu-id="fc439-103">In diesem Thema wird beschrieben, wie Sie in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mithilfe von [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] oder [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] eine [!INCLUDE[tsql](../../includes/tsql-md.md)]-Datenbank auf einem neuen Speicherort wiederherstellen können und sie optional umbenennen können.</span><span class="sxs-lookup"><span data-stu-id="fc439-103">This topic describes how to restore a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database to a new location, and optionally rename the database, in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span> <span data-ttu-id="fc439-104">Sie können eine Datenbank in ein neues Verzeichnis verschieben oder eine Kopie einer Datenbank entweder auf der gleichen oder einer anderen Serverinstanz erstellen.</span><span class="sxs-lookup"><span data-stu-id="fc439-104">You can move a database to a new directory path or create a copy of a database on either the same server instance or a different server instance.</span></span>  
  
 <span data-ttu-id="fc439-105">**In diesem Thema**</span><span class="sxs-lookup"><span data-stu-id="fc439-105">**In This Topic**</span></span>  
  
-   <span data-ttu-id="fc439-106">**Vorbereitungen:**</span><span class="sxs-lookup"><span data-stu-id="fc439-106">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="fc439-107">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="fc439-107">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="fc439-108">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="fc439-108">Prerequisites</span></span>](#Prerequisites)  
  
     [<span data-ttu-id="fc439-109">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="fc439-109">Recommendations</span></span>](#Recommendations)  
  
     [<span data-ttu-id="fc439-110">Security</span><span class="sxs-lookup"><span data-stu-id="fc439-110">Security</span></span>](#Security)  
  
-   <span data-ttu-id="fc439-111">**So stellen Sie eine Datenbank in einem neuen Speicherort wieder her und benennen diese optional um mit**</span><span class="sxs-lookup"><span data-stu-id="fc439-111">**To restore a database to a new location, and optionally rename the database, using:**</span></span>  
  
     [<span data-ttu-id="fc439-112">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="fc439-112">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="fc439-113">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="fc439-113">Transact-SQL</span></span>](#TsqlProcedure)  
  
-   [<span data-ttu-id="fc439-114">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="fc439-114">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="fc439-115">Vorbereitungen</span><span class="sxs-lookup"><span data-stu-id="fc439-115">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="fc439-116">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="fc439-116">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="fc439-117">Nur der Systemadministrator, der eine vollständige Datenbanksicherung wiederherstellt, darf die wiederherzustellende Datenbank aktuell verwenden.</span><span class="sxs-lookup"><span data-stu-id="fc439-117">The system administrator restoring a full database backup must be the only person currently using the database to be restored.</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="fc439-118">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="fc439-118">Prerequisites</span></span>  
  
-   <span data-ttu-id="fc439-119">Im vollständigen oder im massenprotokollierten Wiederherstellungsmodell muss das Protokoll der aktiven Transaktion gesichert werden, bevor eine Datenbank wiederhergestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="fc439-119">Under the full or bulk-logged recovery model, before you can restore a database, you must back up the active transaction log.</span></span> <span data-ttu-id="fc439-120">Weitere Informationen finden Sie unter [Sichern eines Transaktionsprotokolls &#40;SQL Server&#41;](back-up-a-transaction-log-sql-server.md)bezeichnet) gesichert werden.</span><span class="sxs-lookup"><span data-stu-id="fc439-120">For more information, see [Back Up a Transaction Log &#40;SQL Server&#41;](back-up-a-transaction-log-sql-server.md).</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="fc439-121">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="fc439-121">Recommendations</span></span>  
  
-   <span data-ttu-id="fc439-122">Um eine verschlüsselte Datenbank wiederherstellen zu können, muss das Zertifikat oder der asymmetrische Schlüssel verfügbar sein, das oder der zum Verschlüsseln der Datenbank verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="fc439-122">To restore a database that is encrypted, you must have access to the certificate or asymmetric key that was used to encrypt the database.</span></span> <span data-ttu-id="fc439-123">Ohne das Zertifikat oder den asymmetrischen Schlüssel kann die Datenbank nicht wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="fc439-123">Without the certificate or asymmetric key, the database cannot be restored.</span></span> <span data-ttu-id="fc439-124">Darum muss das Zertifikat, das zur Verschlüsselung des Verschlüsselungsschlüssels für die Datenbank verwendet wurde, so lange beibehalten werden, wie die Sicherung benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="fc439-124">As a result, the certificate that is used to encrypt the database encryption key must be retained as long as the backup is needed.</span></span> <span data-ttu-id="fc439-125">Weitere Informationen finden Sie unter [SQL Server Certificates and Asymmetric Keys](../security/sql-server-certificates-and-asymmetric-keys.md).</span><span class="sxs-lookup"><span data-stu-id="fc439-125">For more information, see [SQL Server Certificates and Asymmetric Keys](../security/sql-server-certificates-and-asymmetric-keys.md).</span></span>  
  
-   <span data-ttu-id="fc439-126">Informationen zu weiteren Überlegungen zum Verschieben einer Datenbanken finden Sie unter [Kopieren von Datenbanken durch Sichern und Wiederherstellen](../databases/copy-databases-with-backup-and-restore.md).</span><span class="sxs-lookup"><span data-stu-id="fc439-126">For information about additional considerations for moving a database, see [Copy Databases with Backup and Restore](../databases/copy-databases-with-backup-and-restore.md).</span></span>  
  
-   <span data-ttu-id="fc439-127">Wenn Sie eine Datenbank aus [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] (oder höher) oder [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]wiederherstellen, wird die Datenbank automatisch aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="fc439-127">If you restore a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] or higher  database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the database is automatically upgraded.</span></span> <span data-ttu-id="fc439-128">In der Regel ist die Datenbank sofort verfügbar.</span><span class="sxs-lookup"><span data-stu-id="fc439-128">Typically, the database becomes available immediately.</span></span> <span data-ttu-id="fc439-129">Wenn eine [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Datenbank aber Volltextindizes aufweist, werden diese beim Upgrade entweder importiert, zurückgesetzt oder neu erstellt, je nach der Einstellung der Servereigenschaft  **upgrade_option** .</span><span class="sxs-lookup"><span data-stu-id="fc439-129">However, if a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database has full-text indexes, the upgrade process either imports, resets, or rebuilds them, depending on the setting of the  **upgrade_option** server property.</span></span> <span data-ttu-id="fc439-130">Wenn die Upgradeoption auf „Importieren“ (**upgrade_option** = 2) oder „Neu erstellen“ (**upgrade_option** = 0) festgelegt ist, sind die Volltextindizes während des Upgrades nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="fc439-130">If the upgrade option is set to import (**upgrade_option** = 2) or rebuild (**upgrade_option** = 0), the full-text indexes will be unavailable during the upgrade.</span></span> <span data-ttu-id="fc439-131">Je nach Menge der indizierten Daten kann der Importvorgang mehrere Stunden dauern; die Neuerstellung sogar bis zu zehnmal länger.</span><span class="sxs-lookup"><span data-stu-id="fc439-131">Depending the amount of data being indexed, importing can take several hours, and rebuilding can take up to ten times longer.</span></span> <span data-ttu-id="fc439-132">Wenn die Upgradeoption auf Importieren festgelegt ist und kein Volltextkatalog verfügbar ist, werden die zugehörigen Volltextindizes neu erstellt.</span><span class="sxs-lookup"><span data-stu-id="fc439-132">Note also that when the upgrade option is set to import, the associated full-text indexes are rebuilt if a full-text catalog is not available.</span></span> <span data-ttu-id="fc439-133">Verwenden Sie **sp_fulltext_service** , um die Einstellung der Servereigenschaft [upgrade_option](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql)zu ändern.</span><span class="sxs-lookup"><span data-stu-id="fc439-133">To change the setting of the **upgrade_option** server property, use [sp_fulltext_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql).</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="fc439-134">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="fc439-134">Security</span></span>  
 <span data-ttu-id="fc439-135">Aus Sicherheitsgründen empfiehlt es sich nicht, Datenbanken aus unbekannten oder nicht vertrauenswürdigen Quellen anzufügen oder wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="fc439-135">For security purposes, we recommend that you do not attach or restore databases from unknown or untrusted sources.</span></span> <span data-ttu-id="fc439-136">Solche Datenbanken können bösartigen Code enthalten, der möglicherweise unbeabsichtigten [!INCLUDE[tsql](../../includes/tsql-md.md)] -Code ausführt oder Fehler verursacht, indem er das Schema oder die physische Datenbankstruktur ändert.</span><span class="sxs-lookup"><span data-stu-id="fc439-136">Such databases could contain malicious code that might execute unintended [!INCLUDE[tsql](../../includes/tsql-md.md)] code or cause errors by modifying the schema or the physical database structure.</span></span> <span data-ttu-id="fc439-137">Bevor Sie eine Datenbank aus einer unbekannten oder nicht vertrauenswürdigen Quelle verwenden, führen Sie auf einem Nichtproduktionsserver [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) für die Datenbank aus. Überprüfen Sie außerdem den Code in der Datenbank, z.B. gespeicherte Prozeduren oder anderen benutzerdefinierten Code.</span><span class="sxs-lookup"><span data-stu-id="fc439-137">Before you use a database from an unknown or untrusted source, run [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) on the database on a nonproduction server and also examine the code, such as stored procedures or other user-defined code, in the database.</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="fc439-138">Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="fc439-138">Permissions</span></span>  
 <span data-ttu-id="fc439-139">Ist die wiederherzustellende Datenbank nicht vorhanden, muss der Benutzer über CREATE DATABASE-Berechtigungen verfügen, um RESTORE ausführen zu können.</span><span class="sxs-lookup"><span data-stu-id="fc439-139">If the database being restored does not exist, the user must have CREATE DATABASE permissions to be able to execute RESTORE.</span></span> <span data-ttu-id="fc439-140">Ist die Datenbank vorhanden, werden RESTORE-Berechtigungen standardmäßig den Mitgliedern der festen Serverrollen **sysadmin** und **dbcreator** sowie dem Besitzer (**dbo**) der Datenbank erteilt.</span><span class="sxs-lookup"><span data-stu-id="fc439-140">If the database exists, RESTORE permissions default to members of the **sysadmin** and **dbcreator** fixed server roles and the owner (**dbo**) of the database.</span></span>  
  
 <span data-ttu-id="fc439-141">RESTORE-Berechtigungen werden Rollen erteilt, in denen Mitgliedsinformationen immer für den Server verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="fc439-141">RESTORE permissions are given to roles in which membership information is always readily available to the server.</span></span> <span data-ttu-id="fc439-142">Da die Mitgliedschaft in einer festen Datenbankrolle nur bei unbeschädigten und zugänglichen Datenbanken geprüft werden kann (was beim Ausführen von RESTORE nicht immer der Fall ist), verfügen Mitglieder der festen Datenbankrolle **db_owner** nicht über RESTORE-Berechtigungen.</span><span class="sxs-lookup"><span data-stu-id="fc439-142">Because fixed database role membership can be checked only when the database is accessible and undamaged, which is not always the case when RESTORE is executed, members of the **db_owner** fixed database role do not have RESTORE permissions.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="fc439-143">Verwenden von SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="fc439-143">Using SQL Server Management Studio</span></span>  
  
#### <a name="to-restore-a-database-to-a-new-location-and-optionally-rename-the-database"></a><span data-ttu-id="fc439-144">So stellen Sie eine Datenbank in einem neuen Speicherort wieder her und benennen diese optional um</span><span class="sxs-lookup"><span data-stu-id="fc439-144">To restore a database to a new location, and optionally rename the database</span></span>  
  
1.  <span data-ttu-id="fc439-145">Stellen Sie eine Verbindung mit der entsprechenden Instanz von [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]her, und klicken Sie danach im Objekt-Explorer auf den Servernamen, um die Serverstruktur zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="fc439-145">Connect to the appropriate instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], and then in Object Explorer, click the server name to expand the server tree.</span></span>  
  
2.  <span data-ttu-id="fc439-146">Klicken Sie mit der rechten Maustaste auf **Datenbanken**, und klicken Sie anschließend auf **Datenbank wiederherstellen**.</span><span class="sxs-lookup"><span data-stu-id="fc439-146">Right-click **Databases**, and then click **Restore Database**.</span></span> <span data-ttu-id="fc439-147">Das Dialogfeld **Datenbank wiederherstellen** wird geöffnet.</span><span class="sxs-lookup"><span data-stu-id="fc439-147">The **Restore Database** dialog box opens.</span></span>  
  
3.  <span data-ttu-id="fc439-148">Legen Sie Quelle und Speicherort der wiederherzustellenden Sicherungssätze auf der Seite **Allgemein** mithilfe des Abschnitts **Quelle** fest.</span><span class="sxs-lookup"><span data-stu-id="fc439-148">On the **General** page, use the **Source** section to specify the source and location of the backup sets to restore.</span></span> <span data-ttu-id="fc439-149">Wählen Sie eine der folgenden Optionen aus:</span><span class="sxs-lookup"><span data-stu-id="fc439-149">Select one of the following options:</span></span>  
  
    -   <span data-ttu-id="fc439-150">**Datenbank**</span><span class="sxs-lookup"><span data-stu-id="fc439-150">**Database**</span></span>  
  
         <span data-ttu-id="fc439-151">Wählen Sie die wiederherzustellende Datenbank aus der Dropdownliste aus.</span><span class="sxs-lookup"><span data-stu-id="fc439-151">Select the database to restore from the drop-down list.</span></span> <span data-ttu-id="fc439-152">Die Liste enthält nur Datenbanken, die entsprechend dem Sicherungsverlauf von **msdb** gesichert wurden.</span><span class="sxs-lookup"><span data-stu-id="fc439-152">The list contains only databases that have been backed up according to the **msdb** backup history.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="fc439-153">Wenn die Sicherung von einem anderen Server abgerufen wird, verfügt der Zielserver über keine Sicherungsverlaufsinformationen für die angegebene Datenbank.</span><span class="sxs-lookup"><span data-stu-id="fc439-153">If the backup is taken from a different server, the destination server will not have the backup history information for the specified database.</span></span> <span data-ttu-id="fc439-154">Wählen Sie in diesem Fall **Sicherungsmedium** aus, um die wiederherzustellende Datei oder das Medium manuell anzugeben.</span><span class="sxs-lookup"><span data-stu-id="fc439-154">In this case, select **Device** to manually specify the file or device to restore.</span></span>  
  
    1.  <span data-ttu-id="fc439-155">**Device**</span><span class="sxs-lookup"><span data-stu-id="fc439-155">**Device**</span></span>  
  
         <span data-ttu-id="fc439-156">Klicken Sie auf die Schaltfläche zum Durchsuchen ( **...** ), um das Dialogfeld **Sicherungsmedien auswählen** zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="fc439-156">Click the browse (**...**) button to open the **Select backup devices** dialog box.</span></span> <span data-ttu-id="fc439-157">Wählen Sie im Feld **Sicherungsmedientyp** einen der aufgeführten Medientypen aus.</span><span class="sxs-lookup"><span data-stu-id="fc439-157">In the **Backup media type** box, select one of the listed device types.</span></span> <span data-ttu-id="fc439-158">Wenn Sie ein oder mehrere Medien für das Feld **Sicherungsmedien** auswählen möchten, klicken Sie auf **Hinzufügen**.</span><span class="sxs-lookup"><span data-stu-id="fc439-158">To select one or more devices for the **Backup media** box, click **Add**.</span></span>  
  
         <span data-ttu-id="fc439-159">Klicken Sie nach dem Hinzufügen der gewünschten Medien zum Listenfeld **Sicherungsmedien** auf **OK** , um zur Seite **Allgemein** zurückzukehren.</span><span class="sxs-lookup"><span data-stu-id="fc439-159">After you add the devices you want to the **Backup media** list box, click **OK** to return to the **General** page.</span></span>  
  
         <span data-ttu-id="fc439-160">Wählen Sie im Listenfeld **Quelle: Gerät: Datenbank** den Namen der Datenbank aus, die wiederhergestellt werden soll.</span><span class="sxs-lookup"><span data-stu-id="fc439-160">In the **Source: Device: Database** list box, select the name of the database which should be restored.</span></span>  
  
         <span data-ttu-id="fc439-161">**Hinweis** Diese Liste ist nur verfügbar, wenn **Sicherungsmedium** ausgewählt wird.</span><span class="sxs-lookup"><span data-stu-id="fc439-161">**Note** This list is only available when **Device** is selected.</span></span> <span data-ttu-id="fc439-162">Nur Datenbanken mit Sicherungen auf dem ausgewählten Medium stehen zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="fc439-162">Only databases that have backups on the selected device will be available.</span></span>  
  
4.  <span data-ttu-id="fc439-163">Im Abschnitt **Ziel** wird das Feld **Datenbank** automatisch mit dem Namen der Datenbank aufgefüllt, die wiederhergestellt werden soll.</span><span class="sxs-lookup"><span data-stu-id="fc439-163">In the **Destination** section, the **Database** box is automatically populated with the name of the database to be restored.</span></span> <span data-ttu-id="fc439-164">Geben Sie zum Ändern des Datenbanknamens den neuen Namen ins Feld **Datenbank** ein.</span><span class="sxs-lookup"><span data-stu-id="fc439-164">To change the name of the database, enter the new name in the **Database** box.</span></span>  
  
5.  <span data-ttu-id="fc439-165">Übernehmen Sie im Feld **Wiederherstellen in** den Standardwert **Bis zur zuletzt erstellten Sicherung** , oder klicken Sie auf **Zeitachse** , um auf das Dialogfeld **Sicherungszeitachse** zuzugreifen und darin manuell einen Zeitpunkt zum Beenden des Wiederherstellungsvorgangs auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="fc439-165">In the **Restore to** box, leave the default as **To the last backup taken** or click on **Timeline** to access the **Backup Timeline** dialog box to manually select a point in time to stop the recovery action.</span></span> <span data-ttu-id="fc439-166">Weitere Informationen zum Festlegen eines bestimmten Zeitpunkts finden Sie unter [Backup Timeline](backup-timeline.md) .</span><span class="sxs-lookup"><span data-stu-id="fc439-166">See [Backup Timeline](backup-timeline.md) for more information on designating a specific point in time.</span></span>  
  
6.  <span data-ttu-id="fc439-167">Wählen Sie im Raster **Wiederherzustellende Sicherungssätze** die wiederherzustellenden Sicherungen aus.</span><span class="sxs-lookup"><span data-stu-id="fc439-167">In the **Backup sets to restore** grid, select the backups to restore.</span></span> <span data-ttu-id="fc439-168">Mit diesem Raster werden die Sicherungen angezeigt, die für den angegebenen Speicherort verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="fc439-168">This grid displays the backups available for the specified location.</span></span> <span data-ttu-id="fc439-169">Standardmäßig wird ein Wiederherstellungsplan vorgeschlagen.</span><span class="sxs-lookup"><span data-stu-id="fc439-169">By default, a recovery plan is suggested.</span></span> <span data-ttu-id="fc439-170">Sie können die Auswahl im Raster ändern, um den vorgeschlagenen Wiederherstellungsplan zu überschreiben.</span><span class="sxs-lookup"><span data-stu-id="fc439-170">To override the suggested recovery plan, you can change the selections in the grid.</span></span> <span data-ttu-id="fc439-171">Die Auswahl von Sicherungen, die von der Wiederherstellung einer früheren Sicherung abhängig sind, wird automatisch aufgehoben, wenn die Auswahl der früheren Sicherung aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="fc439-171">Backups that depend on the restoration of an earlier backup are automatically deselected when the earlier backup is deselected.</span></span>  
  
     <span data-ttu-id="fc439-172">Weitere Informationen zu den Spalten des Rasters **Wiederherzustellende Sicherungssätze** finden Sie unter [Datenbank wiederherstellen &#40;Seite „Allgemein“&#41;](../../integration-services/general-page-of-integration-services-designers-options.md)bezeichnet) gesichert werden.</span><span class="sxs-lookup"><span data-stu-id="fc439-172">For information about the columns in the **Backup sets to restore** grid, see [Restore Database &#40;General Page&#41;](../../integration-services/general-page-of-integration-services-designers-options.md).</span></span>  
  
7.  <span data-ttu-id="fc439-173">Wählen Sie zum Angeben des neuen Speicherorts der Datenbankdateien die Seite **Dateien** , und klicken Sie anschließend auf **Alle Dateien verschieben in Ordner**.</span><span class="sxs-lookup"><span data-stu-id="fc439-173">To specify the new location of the database files, select the **Files** page, and then click **Relocate all files to folder**.</span></span> <span data-ttu-id="fc439-174">Geben Sie einen neuen Speicherort für die Ordner **Datendatei** und **Protokolldatei**an.</span><span class="sxs-lookup"><span data-stu-id="fc439-174">Provide a new location for the **Data file folder** and **Log file folder**.</span></span> <span data-ttu-id="fc439-175">Weitere Informationen zu diesem Raster finden Sie unter [Datenbank wiederherstellen &#40;Seite „Dateien“&#41;](restore-database-files-page.md).</span><span class="sxs-lookup"><span data-stu-id="fc439-175">For more information about this grid, see [Restore Database &#40;Files Page&#41;](restore-database-files-page.md).</span></span>  
  
8.  <span data-ttu-id="fc439-176">Passen Sie ggf. die Optionen auf der Seite **Optionen** an.</span><span class="sxs-lookup"><span data-stu-id="fc439-176">On the **Options** page, adjust the options if you want.</span></span> <span data-ttu-id="fc439-177">Weitere Informationen zu diesen Optionen finden Sie unter [Datenbank wiederherstellen &#40;Seite „Optionen“&#41;](restore-database-options-page.md).</span><span class="sxs-lookup"><span data-stu-id="fc439-177">For more information about these options, see [Restore Database &#40;Options Page&#41;](restore-database-options-page.md).</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="fc439-178">Verwenden von Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="fc439-178">Using Transact-SQL</span></span>  
  
#### <a name="to-restore-a-database-to-a-new-location-and-optionally-rename-the-database"></a><span data-ttu-id="fc439-179">So stellen Sie eine Datenbank in einem neuen Speicherort wieder her und benennen diese optional um</span><span class="sxs-lookup"><span data-stu-id="fc439-179">To restore a database to a new location, and optionally rename the database</span></span>  
  
1.  <span data-ttu-id="fc439-180">Legen Sie optional den logischen und den physischen Namen der Dateien in dem Sicherungssatz fest, der die vollständige Datenbanksicherung enthält, die Sie wiederherstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="fc439-180">Optionally, determine the logical and physical names of the files in the backup set that contains the full database backup that you want to restore.</span></span> <span data-ttu-id="fc439-181">Diese Anweisung gibt eine Liste mit Datenbank- und Protokolldateien zurück, die im Sicherungssatz enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="fc439-181">This statement returns a list of the database and log files contained in the backup set.</span></span> <span data-ttu-id="fc439-182">Die Basissyntax lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="fc439-182">The basic syntax is as follows:</span></span>  
  
     <span data-ttu-id="fc439-183">RESTORE FILELISTONLY FROM *<Sicherungsmedium>* WITH FILE = *backup_set_file_number*</span><span class="sxs-lookup"><span data-stu-id="fc439-183">RESTORE FILELISTONLY FROM *<backup_device>* WITH FILE = *backup_set_file_number*</span></span>  
  
     <span data-ttu-id="fc439-184">Dabei gibt *backup_set_file_number* die Position der Sicherung im Mediensatz an.</span><span class="sxs-lookup"><span data-stu-id="fc439-184">Here, *backup_set_file_number* indicates the position of the backup in the media set.</span></span> <span data-ttu-id="fc439-185">Sie können die Position eines Sicherungssatzes mithilfe der [RESTORE HEADERONLY](/sql/t-sql/statements/restore-statements-headeronly-transact-sql) -Anweisung abrufen.</span><span class="sxs-lookup"><span data-stu-id="fc439-185">You can obtain the position of a backup set by using the [RESTORE HEADERONLY](/sql/t-sql/statements/restore-statements-headeronly-transact-sql) statement.</span></span> <span data-ttu-id="fc439-186">Weitere Informationen finden Sie unter [RESTORE-Argumente &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql) im Abschnitt „Angeben eines Sicherungssatzes“.</span><span class="sxs-lookup"><span data-stu-id="fc439-186">For more information, see "Specifying a Backup Set" in [RESTORE Arguments &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql).</span></span>  
  
     <span data-ttu-id="fc439-187">Diese Anweisung unterstützt auch eine Reihe von WITH-Optionen.</span><span class="sxs-lookup"><span data-stu-id="fc439-187">This statement also supports a number of WITH options.</span></span> <span data-ttu-id="fc439-188">Weitere Informationen finden Sie unter [RESTORE FILELISTONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-filelistonly-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="fc439-188">For more information, see [RESTORE FILELISTONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-filelistonly-transact-sql).</span></span>  
  
2.  <span data-ttu-id="fc439-189">Stellen Sie die vollständige Datenbanksicherung mithilfe der [RESTORE DATABASE](/sql/t-sql/statements/restore-statements-transact-sql) -Anweisung wieder her.</span><span class="sxs-lookup"><span data-stu-id="fc439-189">Use the [RESTORE DATABASE](/sql/t-sql/statements/restore-statements-transact-sql) statement to restore the full database backup.</span></span> <span data-ttu-id="fc439-190">Standardmäßig werden Daten und Protokolldateien an ihren ursprünglichen Speicherorten wiederhergestellt.</span><span class="sxs-lookup"><span data-stu-id="fc439-190">By default, data and log files are restored to their original locations.</span></span> <span data-ttu-id="fc439-191">Verwenden Sie zum Verschieben einer Datenbank die Option MOVE, um die einzelnen Datenbankdateien zu verschieben und Konflikte mit vorhandenen Dateien zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="fc439-191">To relocate a database, use the MOVE option to relocate each of the database files and to avoid collisions with existing files.</span></span>  
  
     <span data-ttu-id="fc439-192">Die [!INCLUDE[tsql](../../includes/tsql-md.md)] -Basissyntax für das Wiederherstellen der Datenbank an einem neuen Speicherort und mit neuem Name lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="fc439-192">The basic [!INCLUDE[tsql](../../includes/tsql-md.md)] syntax for restoring the database to a new location and a new name is:</span></span>  
  
     <span data-ttu-id="fc439-193">RESTORE DATABASE *Name der neuen Datenbank*</span><span class="sxs-lookup"><span data-stu-id="fc439-193">RESTORE DATABASE *new_database_name*</span></span>  
  
     <span data-ttu-id="fc439-194">FROM *Sicherungsmedium* [ ,...*n* ]</span><span class="sxs-lookup"><span data-stu-id="fc439-194">FROM *backup_device* [ ,...*n* ]</span></span>  
  
     <span data-ttu-id="fc439-195">[ WITH</span><span class="sxs-lookup"><span data-stu-id="fc439-195">[ WITH</span></span>  
  
     <span data-ttu-id="fc439-196">{</span><span class="sxs-lookup"><span data-stu-id="fc439-196">{</span></span>  
  
     <span data-ttu-id="fc439-197">[ **Wiederherstellung** | NORECOVERY</span><span class="sxs-lookup"><span data-stu-id="fc439-197">[ **RECOVERY** | NORECOVERY ]</span></span>  
  
     <span data-ttu-id="fc439-198">[ , ] [ FILE ={ *backup_set_file_number* | @*backup_set_file_number* } ]</span><span class="sxs-lookup"><span data-stu-id="fc439-198">[ , ] [ FILE ={ *backup_set_file_number* | @*backup_set_file_number* } ]</span></span>  
  
     <span data-ttu-id="fc439-199">[ , ] MOVE '*logical_file_name_in_backup*' TO '*operating_system_file_name*' [ ,...*n* ]</span><span class="sxs-lookup"><span data-stu-id="fc439-199">[ , ] MOVE '*logical_file_name_in_backup*' TO '*operating_system_file_name*' [ ,...*n* ]</span></span>  
  
     <span data-ttu-id="fc439-200">}</span><span class="sxs-lookup"><span data-stu-id="fc439-200">}</span></span>  
  
     <span data-ttu-id="fc439-201">;</span><span class="sxs-lookup"><span data-stu-id="fc439-201">;</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="fc439-202">Wenn Sie sich auf das Verschieben einer Datenbank auf einen anderen Datenträger vorbereiten, sollten Sie überprüfen, ob dieser über genügend Speicherplatz verfügt und ob möglicherweise Konflikte mit vorhandenen Dateien auftreten können.</span><span class="sxs-lookup"><span data-stu-id="fc439-202">When preparing to relocate a database on a different disk, you should verify that sufficient space is available and identify any potential collisions with existing files.</span></span> <span data-ttu-id="fc439-203">Dazu müssen Sie unter anderem eine [RESTORE VERIFYONLY](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql) -Anweisung verwenden, in der die gleichen MOVE-Parameter angegeben sind, die Sie in der RESTORE DATABASE-Anweisung verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="fc439-203">This involves using a [RESTORE VERIFYONLY](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql) statement that specifies the same MOVE parameters that you plan to use in your RESTORE DATABASE statement.</span></span>  
  
     <span data-ttu-id="fc439-204">In der folgenden Tabelle werden Argumente dieser RESTORE-Anweisung im Hinblick auf das Wiederherstellen einer Datenbank an einem neuen Speicherort beschrieben.</span><span class="sxs-lookup"><span data-stu-id="fc439-204">The following table describes arguments of this RESTORE statement in terms of restoring a database to a new location.</span></span> <span data-ttu-id="fc439-205">Weitere Informationen zu diesen Argumenten finden Sie unter [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql)-Datenbank an einem neuen Speicherort wiederherstellen und sie optional umbenennen können.</span><span class="sxs-lookup"><span data-stu-id="fc439-205">For more information about these arguments, see [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span></span>  
  
     <span data-ttu-id="fc439-206">*Name der neuen Datenbank*</span><span class="sxs-lookup"><span data-stu-id="fc439-206">*new_database_name*</span></span>  
     <span data-ttu-id="fc439-207">Der neue Name der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="fc439-207">The new name for the database.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="fc439-208">Wenn Sie die Datenbank auf einer anderen Serverinstanz wiederherstellen, können Sie anstelle eines neuen Namens den ursprünglichen Namen weiterverwenden.</span><span class="sxs-lookup"><span data-stu-id="fc439-208">If you are restoring the database to a different server instance, you can use the original database name instead of a new name.</span></span>  
  
     <span data-ttu-id="fc439-209">*Sicherungsmedium* [ `,` ...*n* ]</span><span class="sxs-lookup"><span data-stu-id="fc439-209">*backup_device* [ `,`...*n* ]</span></span>  
     <span data-ttu-id="fc439-210">Gibt eine durch Trennzeichen getrennte Liste von 1 bis 64 Sicherungsmedien an, von denen die Datenbanksicherung wiederhergestellt werden soll.</span><span class="sxs-lookup"><span data-stu-id="fc439-210">Specifies a comma-separated list of from 1 to 64 backup devices from which the database backup is to be restored.</span></span> <span data-ttu-id="fc439-211">Sie können ein physisches Sicherungsmedium angeben oder, sofern definiert, ein entsprechendes logisches Sicherungsmedium.</span><span class="sxs-lookup"><span data-stu-id="fc439-211">You can specify a physical backup device, or you can specify a corresponding logical backup device, if defined.</span></span> <span data-ttu-id="fc439-212">Geben Sie das physische Sicherungsmedium mithilfe der Option DISK oder TAPE an:</span><span class="sxs-lookup"><span data-stu-id="fc439-212">To specify a physical backup device, use the DISK or TAPE option:</span></span>  
  
     <span data-ttu-id="fc439-213">{ DISK | TAPE } `=` *physical_backup_device_name*</span><span class="sxs-lookup"><span data-stu-id="fc439-213">{ DISK | TAPE } `=`*physical_backup_device_name*</span></span>  
  
     <span data-ttu-id="fc439-214">Weitere Informationen finden Sie unter [Sicherungsmedien &#40;SQL Server&#41;](backup-devices-sql-server.md)aufgezeichnet wurde.</span><span class="sxs-lookup"><span data-stu-id="fc439-214">For more information, see [Backup Devices &#40;SQL Server&#41;](backup-devices-sql-server.md).</span></span>  
  
     <span data-ttu-id="fc439-215">{ **RECOVERY** | NORECOVERY }</span><span class="sxs-lookup"><span data-stu-id="fc439-215">{ **RECOVERY** | NORECOVERY }</span></span>  
     <span data-ttu-id="fc439-216">Wenn die Datenbank das vollständige Wiederherstellungsmodell verwendet, müssen Sie möglicherweise Transaktionsprotokollsicherungen anwenden, nachdem Sie die Datenbank wiederhergestellt haben.</span><span class="sxs-lookup"><span data-stu-id="fc439-216">If the database uses the full recovery model, you might need to apply transaction log backups after you restore the database.</span></span> <span data-ttu-id="fc439-217">Geben Sie in diesem Fall die Option NORECOVERY an.</span><span class="sxs-lookup"><span data-stu-id="fc439-217">In this case, specify the NORECOVERY option.</span></span>  
  
     <span data-ttu-id="fc439-218">Verwenden Sie andernfalls die Standardoption RECOVERY.</span><span class="sxs-lookup"><span data-stu-id="fc439-218">Otherwise, use the RECOVERY option, which is the default.</span></span>  
  
     <span data-ttu-id="fc439-219">FILE = { *backup_set_file_number* | @*backup_set_file_number* }</span><span class="sxs-lookup"><span data-stu-id="fc439-219">FILE = { *backup_set_file_number* | @*backup_set_file_number* }</span></span>  
     <span data-ttu-id="fc439-220">Identifiziert den wiederherzustellenden Sicherungssatz.</span><span class="sxs-lookup"><span data-stu-id="fc439-220">Identifies the backup set to be restored.</span></span> <span data-ttu-id="fc439-221">Wenn *backup_set_file_number* beispielsweise den Wert **1** besitzt, weist dies auf den ersten Sicherungssatz auf dem Sicherungsmedium hin. Wenn *backup_set_file_number* den Wert **2** besitzt, entspricht dies dem zweiten Sicherungssatz.</span><span class="sxs-lookup"><span data-stu-id="fc439-221">For example, a *backup_set_file_number* of **1** indicates the first backup set on the backup medium and a *backup_set_file_number* of **2** indicates the second backup set.</span></span> <span data-ttu-id="fc439-222">Sie können die *backup_set_file_number* eines Sicherungssatzes mit der [RESTORE HEADERONLY](/sql/t-sql/statements/restore-statements-headeronly-transact-sql) -Anweisung abrufen.</span><span class="sxs-lookup"><span data-stu-id="fc439-222">You can obtain the *backup_set_file_number* of a backup set by using the [RESTORE HEADERONLY](/sql/t-sql/statements/restore-statements-headeronly-transact-sql) statement.</span></span>  
  
     <span data-ttu-id="fc439-223">Wenn diese Option nicht angegeben ist, wird in der Standardeinstellung der erste Sicherungssatz auf dem Sicherungsmedium verwendet.</span><span class="sxs-lookup"><span data-stu-id="fc439-223">When this option is not specified, the default is to use the first backup set on the backup device.</span></span>  
  
     <span data-ttu-id="fc439-224">Weitere Informationen finden Sie unter [RESTORE-Argumente &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql) im Abschnitt „Angeben eines Sicherungssatzes“.</span><span class="sxs-lookup"><span data-stu-id="fc439-224">For more information, see "Specifying a Backup Set," in [RESTORE Arguments &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql).</span></span>  
  
     <span data-ttu-id="fc439-225">**' *`logical_file_name_in_backup`* '** in **' *`operating_system_file_name`* '** verschieben [ `,` ... *n* ]</span><span class="sxs-lookup"><span data-stu-id="fc439-225">MOVE **'*`logical_file_name_in_backup`*'** TO **'*`operating_system_file_name`*'** [ `,`...*n* ]</span></span>  
     <span data-ttu-id="fc439-226">Gibt an, dass die von *logical_file_name_in_backup* angegebenen Daten oder die Protokolldatei an dem von *operating_system_file_name*angegebenen Speicherort wiederhergestellt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="fc439-226">Specifies that the data or log file specified by *logical_file_name_in_backup* is to be restored to the location specified by *operating_system_file_name*.</span></span> <span data-ttu-id="fc439-227">Geben Sie für jede logische Datei, die aus dem Sicherungssatz an einem neuen Speicherort wiederhergestellt werden soll, eine MOVE-Anweisung an.</span><span class="sxs-lookup"><span data-stu-id="fc439-227">Specify a MOVE statement for every logical file you want to restore from the backup set to a new location.</span></span>  
  
    |<span data-ttu-id="fc439-228">Option</span><span class="sxs-lookup"><span data-stu-id="fc439-228">Option</span></span>|<span data-ttu-id="fc439-229">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="fc439-229">Description</span></span>|  
    |------------|-----------------|  
    |<span data-ttu-id="fc439-230">*logical_file_name_in_backup*</span><span class="sxs-lookup"><span data-stu-id="fc439-230">*logical_file_name_in_backup*</span></span>|<span data-ttu-id="fc439-231">Gibt den logischen Namen einer Daten- oder Protokolldatei an, die in den Sicherungssatz eingeschlossen werden soll.</span><span class="sxs-lookup"><span data-stu-id="fc439-231">Specifies the logical name of a data or log file in the backup set.</span></span> <span data-ttu-id="fc439-232">Der logische Dateiname einer Daten- oder Protokolldatei in einem Sicherungssatz entspricht ihrem logischen Namen in der Datenbank zum Zeitpunkt der Erstellung des Sicherungssatzes.</span><span class="sxs-lookup"><span data-stu-id="fc439-232">The logical file name of a data or log file in a backup set matches its logical name in the database when the backup set was created.</span></span><br /><br /> <span data-ttu-id="fc439-233">Hinweis: Mit [RESTORE FILELISTONLY](/sql/t-sql/statements/restore-statements-filelistonly-transact-sql) können Sie eine Liste abrufen, in der die logischen Dateien eines Sicherungssatzes aufgeführt sind.</span><span class="sxs-lookup"><span data-stu-id="fc439-233">Note: To obtain a list of the logical files from the backup set, use [RESTORE FILELISTONLY](/sql/t-sql/statements/restore-statements-filelistonly-transact-sql).</span></span>|  
    |<span data-ttu-id="fc439-234">*operating_system_file_name*</span><span class="sxs-lookup"><span data-stu-id="fc439-234">*operating_system_file_name*</span></span>|<span data-ttu-id="fc439-235">Gibt einen neuen Speicherort für die von *logical_file_name_in_backup*angegebene Datei an.</span><span class="sxs-lookup"><span data-stu-id="fc439-235">Specifies a new location for the file specified by *logical_file_name_in_backup*.</span></span> <span data-ttu-id="fc439-236">Die Datei wird an diesem Speicherort wiederhergestellt.</span><span class="sxs-lookup"><span data-stu-id="fc439-236">The file will be restored to this location.</span></span><br /><br /> <span data-ttu-id="fc439-237">Optional gibt *operating_system_file_name* einen neuen Dateinamen für die wiederhergestellte Datei an.</span><span class="sxs-lookup"><span data-stu-id="fc439-237">Optionally, *operating_system_file_name* specifies a new file name for the restored file.</span></span> <span data-ttu-id="fc439-238">Dies ist erforderlich, wenn Sie eine Kopie einer vorhandenen Datenbank auf der gleiche Serverinstanz erstellen.</span><span class="sxs-lookup"><span data-stu-id="fc439-238">This is necessary if you are creating a copy of an existing database on the same server instance.</span></span>|  
    |<span data-ttu-id="fc439-239">*n*</span><span class="sxs-lookup"><span data-stu-id="fc439-239">*n*</span></span>|<span data-ttu-id="fc439-240">Ist ein Platzhalter, der angibt, dass weitere MOVE-Anweisungen angegeben werden können.</span><span class="sxs-lookup"><span data-stu-id="fc439-240">Is a placeholder indicating that you can specify additional MOVE statements.</span></span>|  
  
###  <a name="example-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="fc439-241">Beispiel (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="fc439-241">Example (Transact-SQL)</span></span>  
 <span data-ttu-id="fc439-242">In diesem Beispiel wird eine neue Datenbank mit dem Namen `MyAdvWorks` erstellt, indem eine Sicherung der [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] -Beispieldatenbank wiederhergestellt wird, die zwei Dateien einschließt: [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)]_Data und [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)]_Log.</span><span class="sxs-lookup"><span data-stu-id="fc439-242">This example creates a new database named `MyAdvWorks` by restoring a backup of the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database, which includes two files: [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)]_Data and [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)]_Log.</span></span> <span data-ttu-id="fc439-243">Für diese Datenbank wird das einfache Wiederherstellungsmodell verwendet.</span><span class="sxs-lookup"><span data-stu-id="fc439-243">This database uses the simple recovery model.</span></span> <span data-ttu-id="fc439-244">Die [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] -Datenbank ist bereits auf der Serverinstanz vorhanden, sodass die Dateien in der Sicherung an einem neuen Ort wiederhergestellt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="fc439-244">The [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database already exists on the server instance, so the files in the backup must be restored to a new location.</span></span> <span data-ttu-id="fc439-245">Die RESTORE FILELISTONLY-Anweisung wird verwendet, um die Anzahl und die Namen der Dateien der Datenbank zu bestimmen, die wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="fc439-245">The RESTORE FILELISTONLY statement is used to determine the number and names of the files in the database being restored.</span></span> <span data-ttu-id="fc439-246">Die Datenbanksicherung ist der erste Sicherungssatz auf dem Sicherungsmedium.</span><span class="sxs-lookup"><span data-stu-id="fc439-246">The database backup is the first backup set on the backup device.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fc439-247">In den Beispielen zum Sichern und Wiederherstellen des Transaktionsprotokolls (einschließlich der Zeitpunktwiederherstellungen) wird, wie im folgenden `MyAdvWorks_FullRM` -Beispiel, die aus [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] erstellte `MyAdvWorks` -Datenbank verwendet.</span><span class="sxs-lookup"><span data-stu-id="fc439-247">The examples of backing up and restoring the transaction log, including point-in-time restores, use the `MyAdvWorks_FullRM` database that is created from [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] just like the following `MyAdvWorks` example.</span></span> <span data-ttu-id="fc439-248">Die resultierende `MyAdvWorks_FullRM`-Datenbank muss jedoch dahingehend geändert werden, dass das vollständige Wiederherstellungsmodell mit der folgenden [!INCLUDE[tsql](../../includes/tsql-md.md)]-Anweisung verwendet wird: ALTER DATABASE <database_name> SET RECOVERY FULL.</span><span class="sxs-lookup"><span data-stu-id="fc439-248">However, the resulting `MyAdvWorks_FullRM` database must be changed to use the full recovery model by using the following [!INCLUDE[tsql](../../includes/tsql-md.md)] statement: ALTER DATABASE <database_name> SET RECOVERY FULL.</span></span>  
  
```sql  
USE master;  
GO  
-- First determine the number and names of the files in the backup.  
-- AdventureWorks2012_Backup is the name of the backup device.  
RESTORE FILELISTONLY  
   FROM AdventureWorks2012_Backup;  
-- Restore the files for MyAdvWorks.  
RESTORE DATABASE MyAdvWorks  
   FROM AdventureWorks2012_Backup  
   WITH RECOVERY,  
   MOVE 'AdventureWorks2012_Data' TO 'D:\MyData\MyAdvWorks_Data.mdf',   
   MOVE 'AdventureWorks2012_Log' TO 'F:\MyLog\MyAdvWorks_Log.ldf';  
GO  
  
```  
  
 <span data-ttu-id="fc439-249">Ein Beispiel für das Erstellen einer vollständigen Sicherung der [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] -Datenbank finden Sie unter [Erstellen einer vollständigen Datenbanksicherung &#40;SQL Server&#41;](create-a-full-database-backup-sql-server.md)-Datenbank an einem neuen Speicherort wiederherstellen und sie optional umbenennen können.</span><span class="sxs-lookup"><span data-stu-id="fc439-249">For an example of how to create a full database backup of the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database, see [Create a Full Database Backup &#40;SQL Server&#41;](create-a-full-database-backup-sql-server.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="fc439-250">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="fc439-250">Related Tasks</span></span>  
  
-   [<span data-ttu-id="fc439-251">Erstellen einer vollständigen Datenbanksicherung &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="fc439-251">Create a Full Database Backup &#40;SQL Server&#41;</span></span>](create-a-full-database-backup-sql-server.md)  
  
-   [<span data-ttu-id="fc439-252">Wiederherstellen einer Datenbanksicherung &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="fc439-252">Restore a Database Backup &#40;SQL Server Management Studio&#41;</span></span>](restore-a-database-backup-using-ssms.md)  
  
-   [<span data-ttu-id="fc439-253">Sichern eines Transaktionsprotokolls &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="fc439-253">Back Up a Transaction Log &#40;SQL Server&#41;</span></span>](back-up-a-transaction-log-sql-server.md)  
  
-   [<span data-ttu-id="fc439-254">Wiederherstellen einer Transaktionsprotokollsicherung &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="fc439-254">Restore a Transaction Log Backup &#40;SQL Server&#41;</span></span>](restore-a-transaction-log-backup-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="fc439-255">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="fc439-255">See Also</span></span>  
 <span data-ttu-id="fc439-256">[Verwalten von Metadaten beim Bereitstellen einer Datenbank auf einer anderen Serverinstanz &#40;SQL Server&#41;](../databases/manage-metadata-when-making-a-database-available-on-another-server.md) </span><span class="sxs-lookup"><span data-stu-id="fc439-256">[Manage Metadata When Making a Database Available on Another Server Instance &#40;SQL Server&#41;](../databases/manage-metadata-when-making-a-database-available-on-another-server.md) </span></span>  
 <span data-ttu-id="fc439-257">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="fc439-257">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span></span>  
 [<span data-ttu-id="fc439-258">Kopieren von Datenbanken durch Sichern und Wiederherstellen</span><span class="sxs-lookup"><span data-stu-id="fc439-258">Copy Databases with Backup and Restore</span></span>](../databases/copy-databases-with-backup-and-restore.md)  
  
  
