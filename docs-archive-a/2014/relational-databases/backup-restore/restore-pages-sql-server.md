---
title: Wiederherstellung von Seiten (SQL Server) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
f1_keywords:
- sql12.swb.restorepage.general.f1
helpviewer_keywords:
- restoring pages [SQL Server]
- pages [SQL Server], restoring
- databases [SQL Server], damaged
- page restores [SQL Server]
- pages [SQL Server], damaged
- restoring [SQL Server], pages
ms.assetid: 07e40950-384e-4d84-9ac5-84da6dd27a91
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 6fb008314b9cb156f1cc575bda71b6364eca6e3a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87698319"
---
# <a name="restore-pages-sql-server"></a><span data-ttu-id="3e6b7-102">Wiederherstellung von Seiten (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="3e6b7-102">Restore Pages (SQL Server)</span></span>
  <span data-ttu-id="3e6b7-103">In diesem Thema wird beschrieben, wie Seiten in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mithilfe von [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] oder [!INCLUDE[tsql](../../includes/tsql-md.md)]wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-103">This topic describes how to restore pages in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span> <span data-ttu-id="3e6b7-104">Das Ziel einer Seitenwiederherstellung besteht darin, eine oder mehrere beschädigte Seiten wiederherzustellen, ohne dazu die gesamte Datenbank wiederherstellen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-104">The goal of a page restore is to restore one or more damaged pages without restoring the whole database.</span></span> <span data-ttu-id="3e6b7-105">In der Regel wurden Seiten, die wiederhergestellt werden sollen, aufgrund eines Fehlers beim Zugriff auf die Seite als fehlerverdächtig gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-105">Typically, pages that are candidates for restore have been marked as "suspect" because of an error that is encountered when accessing the page.</span></span> <span data-ttu-id="3e6b7-106">Fehlerverdächtige Seiten werden in der [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) -Tabelle in der **msdb** -Datenbank identifiziert.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-106">Suspect pages are identified in the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) table in the **msdb** database.</span></span>  
  
 <span data-ttu-id="3e6b7-107">**In diesem Thema**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-107">**In This Topic**</span></span>  
  
-   <span data-ttu-id="3e6b7-108">**Vorbereitungen:**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-108">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="3e6b7-109">Wann ist eine Seitenwiederherstellung sinnvoll?</span><span class="sxs-lookup"><span data-stu-id="3e6b7-109">When is a Page Restore Useful?</span></span>](#WhenUseful)  
  
     [<span data-ttu-id="3e6b7-110">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="3e6b7-110">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="3e6b7-111">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="3e6b7-111">Recommendations</span></span>](#Recommendations)  
  
     [<span data-ttu-id="3e6b7-112">Security</span><span class="sxs-lookup"><span data-stu-id="3e6b7-112">Security</span></span>](#Security)  
  
-   <span data-ttu-id="3e6b7-113">**Wiederherstellen von Seiten mit:**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-113">**To restore pages, using:**</span></span>  
  
     [<span data-ttu-id="3e6b7-114">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="3e6b7-114">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="3e6b7-115">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="3e6b7-115">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="3e6b7-116">Vorbereitungen</span><span class="sxs-lookup"><span data-stu-id="3e6b7-116">Before You Begin</span></span>  
  
###  <a name="when-is-a-page-restore-useful"></a><a name="WhenUseful"></a> <span data-ttu-id="3e6b7-117">Wann ist eine Seitenwiederherstellung sinnvoll?</span><span class="sxs-lookup"><span data-stu-id="3e6b7-117">When is a Page Restore Useful?</span></span>  
 <span data-ttu-id="3e6b7-118">Eine Seitenwiederherstellung ist zum Reparieren einzelner beschädigter Seiten vorgesehen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-118">A page restore is intended for repairing isolated damaged pages.</span></span> <span data-ttu-id="3e6b7-119">Die Wiederherstellung weniger Einzelseiten erfolgt möglicherweise schneller als eine Dateiwiederherstellung, sodass sich die Menge der Daten reduziert, die während der Wiederherstellung offline sind.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-119">Restoring and recovering a few individual pages might be faster than a file restore, reducing the amount of data that is offline during a restore operation.</span></span> <span data-ttu-id="3e6b7-120">Wenn Sie jedoch mehrere Seiten in einer Datei wiederherstellen müssen, erweist sich die Wiederherstellung der vollständigen Datei in der Regel als effizienter.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-120">However, if you have to restore more than a few pages in a file, it is generally more efficient to restore the whole file.</span></span> <span data-ttu-id="3e6b7-121">Wenn auf einem Gerät sehr viele Seiten beschädigt sind, kann das ein Hinweis auf einen Gerätefehler sein. In diesem Fall sollten Sie die Datei nach Möglichkeit an einem anderen Speicherort wiederherstellen und das Gerät reparieren.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-121">For example, if lots of pages on a device indicate a pending device failure, consider restoring the file, possibly to another location, and repairing the device.</span></span>  
  
 <span data-ttu-id="3e6b7-122">Nicht für alle Fehler für einzelne Seiten ist eine Wiederherstellung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-122">Furthermore, not all page errors require a restore.</span></span> <span data-ttu-id="3e6b7-123">In zwischengespeicherten Daten, z. B. einem sekundären Index, kann ein Problem auftreten, das durch das Neuberechnen der Daten behoben werden kann.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-123">A problem can occur in cached data, such as a secondary index, that can be resolved by recalculating the data.</span></span> <span data-ttu-id="3e6b7-124">Wenn der Datenbankadministrator beispielsweise einen sekundären Index löscht und erneut erstellt, werden die beschädigten Daten, obwohl sie repariert sind, nicht als solche in der [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) -Tabelle angezeigt.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-124">For example, if the database administrator drops a secondary index and rebuilds it, the corrupted data, although fixed, is not indicated as such in the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) table.</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="3e6b7-125">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="3e6b7-125">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="3e6b7-126">Die Seitenwiederherstellung gilt für [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Datenbanken, für die das vollständige oder massenprotokollierte Wiederherstellungsmodell verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-126">Page restore applies to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases that are using the full or bulk-logged recovery models.</span></span> <span data-ttu-id="3e6b7-127">Die Seitenwiederherstellung wird nur für Dateigruppen mit Lese-/Schreibzugriff unterstützt.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-127">Page restore is supported only for read/write filegroups.</span></span>  
  
-   <span data-ttu-id="3e6b7-128">Es können nur Datenbankseiten wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-128">Only database pages can be restored.</span></span> <span data-ttu-id="3e6b7-129">Die Seitenwiederherstellung kann nicht zum Wiederherstellen der folgenden Elemente verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="3e6b7-129">Page restore cannot be used to restore the following:</span></span>  
  
    -   <span data-ttu-id="3e6b7-130">Transaktionsprotokoll</span><span class="sxs-lookup"><span data-stu-id="3e6b7-130">Transaction log</span></span>  
  
    -   <span data-ttu-id="3e6b7-131">Zuordnungsseiten: GAM-Seiten (Global Allocation Map), SGAM-Seiten (Shared Global Allocation Map) und PFS-Seiten (Page Free Space).</span><span class="sxs-lookup"><span data-stu-id="3e6b7-131">Allocation pages: Global Allocation Map (GAM) pages, Shared Global Allocation Map (SGAM) pages, and Page Free Space (PFS) pages.</span></span>  
  
    -   <span data-ttu-id="3e6b7-132">Seite 0 von allen Datendateien (die Startseite der Datei)</span><span class="sxs-lookup"><span data-stu-id="3e6b7-132">Page 0 of all data files (the file boot page)</span></span>  
  
    -   <span data-ttu-id="3e6b7-133">Seite 1:9 (die Startseite der Datenbank)</span><span class="sxs-lookup"><span data-stu-id="3e6b7-133">Page 1:9 (the database boot page)</span></span>  
  
    -   <span data-ttu-id="3e6b7-134">Volltextkatalog</span><span class="sxs-lookup"><span data-stu-id="3e6b7-134">Full-text catalog</span></span>  
  
-   <span data-ttu-id="3e6b7-135">Wenn für eine Datenbank das massenprotokollierte Wiederherstellungsmodell verwendet wird, gelten für die Seitenwiederherstellung die folgenden zusätzlichen Bedingungen:</span><span class="sxs-lookup"><span data-stu-id="3e6b7-135">For a database that uses the bulk-logged recovery model, page restore has the following additional conditions:</span></span>  
  
    -   <span data-ttu-id="3e6b7-136">Wenn die Dateigruppen- oder Seitendaten offline sind, gestaltet sich die Sicherung bei massenprotokollierten Daten problematisch, da die offline verfügbaren Daten nicht im Protokoll erfasst sind.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-136">Backing up while filegroup or page data is offline is problematic for bulk-logged data, because the offline data is not recorded in the log.</span></span> <span data-ttu-id="3e6b7-137">Die Protokollsicherung kann durch jede beliebige Offlineseite verhindert werden.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-137">Any offline page can prevent backing up the log.</span></span> <span data-ttu-id="3e6b7-138">In diesen Fällen empfiehlt es sich, DBCC REPAIR zu verwenden, da dadurch weniger Daten verloren gehen als bei der Wiederherstellung der letzten Sicherung.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-138">In this cases, consider using DBCC REPAIR, because this might cause less data loss than restoring to the most recent backup.</span></span>  
  
    -   <span data-ttu-id="3e6b7-139">Wenn eine Protokollsicherung einer massenprotokollierten Datenbank eine beschädigte Seite erkennt, schlägt der Vorgang fehl, es sei denn, WITH CONTINUE_AFTER_ERROR wurde angegeben.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-139">If a log backup of a bulk-logged database encounters a bad page, it fails unless WITH CONTINUE_AFTER_ERROR is specified.</span></span>  
  
    -   <span data-ttu-id="3e6b7-140">Die Seitenwiederherstellung ist bei der massenprotokollierten Wiederherstellung grundsätzlich nicht möglich.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-140">Page restore generally does not work with bulk-logged recovery.</span></span>  
  
         <span data-ttu-id="3e6b7-141">Die bewährte Methode zum Ausführen einer Seitenwiederherstellung besteht darin, für die Datenbank das vollständige Wiederherstellungsmodell festzulegen und eine Protokollsicherung zu versuchen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-141">A best practice for performing page restore is to set the database to the full recovery model, and try a log backup.</span></span> <span data-ttu-id="3e6b7-142">Wenn die Protokollsicherung ausgeführt werden kann, können Sie die Seitenwiederherstellung fortsetzen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-142">If the log backup works, you can continue with the page restore.</span></span> <span data-ttu-id="3e6b7-143">Wenn die Protokollsicherung fehlschlägt, geht entweder die Arbeit seit der letzten Protokollsicherung verloren, oder Sie müssen versuchen, DBCC mit der Option REPAIR_ALLOW_DATA_LOSS auszuführen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-143">If the log backup fails, you either have to lose work since the previous log backup or you have to try running DBCC must be run with the REPAIR_ALLOW_DATA_LOSS option.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="3e6b7-144">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="3e6b7-144">Recommendations</span></span>  
  
-   <span data-ttu-id="3e6b7-145">Szenarien für die Seitenwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="3e6b7-145">Page restore scenarios:</span></span>  
  
     <span data-ttu-id="3e6b7-146">Offlineseitenwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="3e6b7-146">Offline page restore</span></span>  
     <span data-ttu-id="3e6b7-147">In allen Editionen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] wird das Wiederherstellen von Seiten unterstützt, wenn die Datenbank offline ist.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-147">All editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] support restoring pages when the database is offline.</span></span> <span data-ttu-id="3e6b7-148">Bei einer Offlinewiederherstellung von Seiten ist die Datenbank offline, während beschädigte Seiten wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-148">In an offline page restore, the database is offline while damaged pages are restored.</span></span> <span data-ttu-id="3e6b7-149">Am Ende der Wiederherstellungssequenz wird die Datenbank wieder online geschaltet.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-149">At the end of the restore sequence, the database comes online.</span></span>  
  
     <span data-ttu-id="3e6b7-150">Onlineseitenwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="3e6b7-150">Online page restore</span></span>  
     [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="3e6b7-151">Enterprise Edition unterstützt Onlineseitenwiederherstellungen, es wird aber die Offlinewiederherstellung verwendet, wenn die Datenbank gerade offline ist.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-151">Enterprise edition supports online page restores, though they use offline restore if the database is currently offline.</span></span> <span data-ttu-id="3e6b7-152">In den meisten Fällen kann eine beschädigte Seite wiederhergestellt werden, wenn die Datenbank einschließlich der Dateigruppen, für die eine Seite wiederhergestellt wird, online bleibt.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-152">In most cases, a damaged page can be restored while the database remains online, including the filegroup to which a page is being restored.</span></span> <span data-ttu-id="3e6b7-153">Wenn die primäre Dateigruppe online ist, selbst wenn eine oder mehrere der sekundären Dateigruppen offline sind, werden Seitenwiederherstellungen in der Regel online durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-153">When the primary filegroup is online, even if one or more of its secondary filegroups are offline, page restores are usually performed online.</span></span> <span data-ttu-id="3e6b7-154">In Einzelfällen ist für beschädigte Seiten jedoch eine Offlinewiederherstellung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-154">Occasionally, however, a damaged page can require an offline restore.</span></span> <span data-ttu-id="3e6b7-155">Beispielsweise können Schäden an bestimmten, wichtigen Seiten dazu führen, dass die Datenbank nicht gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-155">For example, damage to certain critical pages might prevent the database from starting.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="3e6b7-156">Wenn auf beschädigten Seiten wichtige Datenbankmetadaten gespeichert sind, schlagen erforderliche Updates der Metadaten während einer Onlineseitenwiederherstellung möglicherweise fehl.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-156">If damaged pages are storing critical database metadata, required updates to metadata might fail during an online page restore attempt.</span></span> <span data-ttu-id="3e6b7-157">In diesem Fall können Sie eine Offlineseitenwiederherstellung durchführen, Sie müssen jedoch zuerst eine [Protokollfragmentsicherung](tail-log-backups-sql-server.md) erstellen (indem Sie das Transaktionsprotokoll mithilfe von RESTORE WITH NORECOVERY sichern).</span><span class="sxs-lookup"><span data-stu-id="3e6b7-157">In this case, you can perform an offline page restore, but first you must create a [tail log backup](tail-log-backups-sql-server.md) (by backing up the transaction log using RESTORE WITH NORECOVERY).</span></span>  
  
-   <span data-ttu-id="3e6b7-158">Bei der Seitenwiederherstellung werden die verbesserten Fehlerberichts- und Nachverfolgungsfunktionen auf Seitenebene (einschließlich Seitenprüfsummen) verwendet.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-158">Page restore takes advantage of the improved page-level error reporting (including page checksums) and tracking.</span></span> <span data-ttu-id="3e6b7-159">Seiten, die aufgrund der Prüfsumme beschädigt sein müssen oder für die ein unterbrochener Schreibvorgang festgestellt wurde, *beschädigte Seiten*, können durch einen Seitenwiederherstellungsvorgang wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-159">Pages that are detected as corrupted by check-summing or a torn write, *damaged pages*, can be restored by a page restore operation.</span></span> <span data-ttu-id="3e6b7-160">Es werden nur explizit angegebene Seiten wiederhergestellt.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-160">Only explicitly specified pages are restored.</span></span> <span data-ttu-id="3e6b7-161">Jede angegebene Seite wird durch die Kopie dieser Seite aus der angegebenen Datensicherung ersetzt.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-161">Each specified page is replaced by the copy of that page from the specified data backup.</span></span>  
  
     <span data-ttu-id="3e6b7-162">Wenn Sie die nachfolgenden Protokollsicherungen wiederherstellen, werden diese nur auf Datenbankdateien angewendet, die mindestens eine Seite enthalten, die wiederhergestellt wird.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-162">When you restore the subsequent log backups, they are applied only to database files that contain at least one page that is being recovered.</span></span> <span data-ttu-id="3e6b7-163">Es muss eine ununterbrochene Kette von Protokollsicherungen auf die letzte vollständige oder differenzielle Wiederherstellung angewendet werden, um die Dateigruppe, in der die Seite enthalten ist, auf den Stand der aktuellen Protokolldatei zu bringen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-163">An unbroken chain of log backups must be applied to the last full or differential restore to bring the filegroup that contains the page forward to the current log file.</span></span> <span data-ttu-id="3e6b7-164">Wie bei der Dateiwiederherstellung wird die Rollforwardgruppe auch bei der Seitenwiederherstellung durch einen einzelnen Protokollwiederholungsschritt weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-164">As in a file restore, the roll forward set is advanced with a single log redo pass.</span></span> <span data-ttu-id="3e6b7-165">Damit die Seitenwiederherstellung erfolgreich ist, müssen die wiederhergestellten Seiten zu einem Status wiederhergestellt werden, der mit der Datenbank konsistent ist.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-165">For a page restore to succeed, the restored pages must be recovered to a state consistent with the database.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="3e6b7-166">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="3e6b7-166">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="3e6b7-167">Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="3e6b7-167">Permissions</span></span>  
 <span data-ttu-id="3e6b7-168">Ist die wiederherzustellende Datenbank nicht vorhanden, muss der Benutzer über CREATE DATABASE-Berechtigungen verfügen, um RESTORE ausführen zu können.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-168">If the database being restored does not exist, the user must have CREATE DATABASE permissions to be able to execute RESTORE.</span></span> <span data-ttu-id="3e6b7-169">Ist die Datenbank vorhanden, werden RESTORE-Berechtigungen standardmäßig den Mitgliedern der festen Serverrollen **sysadmin** und **dbcreator** sowie dem Besitzer (**dbo**) der Datenbank erteilt (für die Option FROM DATABASE_SNAPSHOT ist die Datenbank immer vorhanden).</span><span class="sxs-lookup"><span data-stu-id="3e6b7-169">If the database exists, RESTORE permissions default to members of the **sysadmin** and **dbcreator** fixed server roles and the owner (**dbo**) of the database (for the FROM DATABASE_SNAPSHOT option, the database always exists).</span></span>  
  
 <span data-ttu-id="3e6b7-170">RESTORE-Berechtigungen werden Rollen erteilt, in denen Mitgliedsinformationen immer für den Server verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-170">RESTORE permissions are given to roles in which membership information is always readily available to the server.</span></span> <span data-ttu-id="3e6b7-171">Da die Mitgliedschaft in einer festen Datenbankrolle nur bei unbeschädigten und zugänglichen Datenbanken geprüft werden kann (was beim Ausführen von RESTORE nicht immer der Fall ist), verfügen Mitglieder der festen Datenbankrolle **db_owner** nicht über RESTORE-Berechtigungen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-171">Because fixed database role membership can be checked only when the database is accessible and undamaged, which is not always the case when RESTORE is executed, members of the **db_owner** fixed database role do not have RESTORE permissions.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="3e6b7-172">Verwenden von SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="3e6b7-172">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="3e6b7-173">Ab [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]unterstützt [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] Seitenwiederherstellungen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-173">Starting in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] supports page restores.</span></span>  
  
#### <a name="to-restore-pages"></a><span data-ttu-id="3e6b7-174">So stellen Sie Seiten wieder her</span><span class="sxs-lookup"><span data-stu-id="3e6b7-174">To restore pages</span></span>  
  
1.  <span data-ttu-id="3e6b7-175">Stellen Sie eine Verbindung mit der entsprechenden Instanz von [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]her, und klicken Sie im Objekt-Explorer auf den Servernamen, um die Serverstruktur zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-175">Connect to the appropriate instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], in Object Explorer, click the server name to expand the server tree.</span></span>  
  
2.  <span data-ttu-id="3e6b7-176">Erweitern Sie **Datenbanken**.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-176">Expand **Databases**.</span></span> <span data-ttu-id="3e6b7-177">Wählen Sie je nach Datenbank entweder eine Benutzerdatenbank aus, oder erweitern Sie **Systemdatenbanken**, und wählen Sie eine Systemdatenbank aus.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-177">Depending on the database, either select a user database or expand **System Databases**, and then select a system database.</span></span>  
  
3.  <span data-ttu-id="3e6b7-178">Klicken Sie mit der rechten Maustaste auf die Datenbank, zeigen Sie auf **Aufgaben**, zeigen Sie auf **Wiederherstellen**, und klicken Sie anschließend auf **Seite**. Daraufhin wird das Dialogfeld **Seite wiederherstellen** geöffnet.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-178">Right-click the database, point to **Tasks**, point to **Restore**, and then click **Page**, which opens the **Restore Page** dialog box.</span></span>  
  
     <span data-ttu-id="3e6b7-179">**Wiederherstellen**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-179">**Restore**</span></span>  
     <span data-ttu-id="3e6b7-180">Über diesen Abschnitt führen Sie die gleiche Funktion wie mit **Wiederherstellen in** unter [Datenbank wiederherstellen (Seite „Allgemein“)](../../integration-services/general-page-of-integration-services-designers-options.md)aus.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-180">This section performs the same function as that of **Restore to** on the [Restore Database (General Page)](../../integration-services/general-page-of-integration-services-designers-options.md).</span></span>  
  
     <span data-ttu-id="3e6b7-181">**Datenbank**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-181">**Database**</span></span>  
     <span data-ttu-id="3e6b7-182">Gibt die Datenbank an, die wiederhergestellt werden soll.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-182">Specifies the database to restore.</span></span> <span data-ttu-id="3e6b7-183">Sie können eine neue Datenbank eingeben oder eine vorhandene Datenbank aus der Dropdownliste auswählen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-183">You can enter a new database or select an existing database from the drop-down list.</span></span> <span data-ttu-id="3e6b7-184">Die Liste umfasst alle Datenbanken auf dem Server, mit Ausnahme der **master** -Datenbank und der **tempdb**-Datenbank.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-184">The list includes all databases on the server, except the system databases **master** and **tempdb**.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="3e6b7-185">Verwenden Sie die [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) -Anweisung, um eine kennwortgeschützte Sicherung wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-185">To restore a password-protected backup, you must use the [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement.</span></span>  
  
     <span data-ttu-id="3e6b7-186">**Sicherung des Protokollfragments**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-186">**Tail-Log backup**</span></span>  
     <span data-ttu-id="3e6b7-187">Geben Sie unter **Sicherungsmedium** den Namen der Datei ein, in der die Sicherung des Protokollfragments für die Datenbank gespeichert werden soll, oder wählen Sie diesen aus.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-187">Enter or select a file name in **Backup device** where there tail-log backup will be stored for the database.</span></span>  
  
     <span data-ttu-id="3e6b7-188">**Sicherungssätze**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-188">**Backup Sets**</span></span>  
     <span data-ttu-id="3e6b7-189">Dieser Abschnitt zeigt die an der Wiederherstellung beteiligten Sicherungssätze an.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-189">This section displays the backup sets involved in the restoration.</span></span>  
  
    |<span data-ttu-id="3e6b7-190">Header</span><span class="sxs-lookup"><span data-stu-id="3e6b7-190">Header</span></span>|<span data-ttu-id="3e6b7-191">Werte</span><span class="sxs-lookup"><span data-stu-id="3e6b7-191">Values</span></span>|  
    |------------|------------|  
    |<span data-ttu-id="3e6b7-192">**Name**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-192">**Name**</span></span>|<span data-ttu-id="3e6b7-193">Name des Sicherungssatzes.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-193">The name of the backup set.</span></span>|  
    |<span data-ttu-id="3e6b7-194">**Komponente**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-194">**Component**</span></span>|<span data-ttu-id="3e6b7-195">Die gesicherte Komponente: **Datenbank**, **Datei** oder **\<blank>** (bei Transaktionsprotokollen).</span><span class="sxs-lookup"><span data-stu-id="3e6b7-195">The backed-up component: **Database**, **File**, or **\<blank>** (for transaction logs).</span></span>|  
    |<span data-ttu-id="3e6b7-196">**Typ**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-196">**Type**</span></span>|<span data-ttu-id="3e6b7-197">Der Typ des ausgeführten Sicherungsvorgangs: **Vollständig**, **Differenziell** oder **Transaktionsprotokoll**.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-197">The type of backup performed: **Full**, **Differential**, or **Transaction Log**.</span></span>|  
    |<span data-ttu-id="3e6b7-198">**Server**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-198">**Server**</span></span>|<span data-ttu-id="3e6b7-199">Der Name der Instanz des [!INCLUDE[ssDE](../../includes/ssde-md.md)] s, von der der Sicherungsvorgang ausgeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-199">The name of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance that performed the backup operation.</span></span>|  
    |<span data-ttu-id="3e6b7-200">**Datenbank**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-200">**Database**</span></span>|<span data-ttu-id="3e6b7-201">Name der an der Sicherungsoperation beteiligten Datenbank.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-201">The name of the database involved in the backup operation.</span></span>|  
    |<span data-ttu-id="3e6b7-202">**Position**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-202">**Position**</span></span>|<span data-ttu-id="3e6b7-203">Position des Sicherungssatzes auf dem Volume.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-203">The position of the backup set in the volume.</span></span>|  
    |<span data-ttu-id="3e6b7-204">**Erste LSN**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-204">**First LSN**</span></span>|<span data-ttu-id="3e6b7-205">Die Protokollfolgenummer (Log Sequence Number, LSN) der ersten Transaktion im Sicherungssatz.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-205">The log sequence number (LSN) of the first transaction in the backup set.</span></span> <span data-ttu-id="3e6b7-206">Bei Dateisicherungen leer.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-206">Blank for file backups.</span></span>|  
    |<span data-ttu-id="3e6b7-207">**Erste LSN**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-207">**Last LSN**</span></span>|<span data-ttu-id="3e6b7-208">Die Protokollfolgenummer (Log Sequence Number, LSN) der letzten Transaktion im Sicherungssatz.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-208">The log sequence number (LSN) of the last transaction in the backup set.</span></span> <span data-ttu-id="3e6b7-209">Bei Dateisicherungen leer.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-209">Blank for file backups.</span></span>|  
    |<span data-ttu-id="3e6b7-210">**Prüfpunkt-LSN**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-210">**Checkpoint LSN**</span></span>|<span data-ttu-id="3e6b7-211">Protokollsequenznummer (LSN) des letzten Prüfpunkts zum Zeitpunkt der Erstellung der Sicherung.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-211">The log sequence number (LSN) of the most recent checkpoint at the time the backup was created.</span></span>|  
    |<span data-ttu-id="3e6b7-212">**Vollständige LSN**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-212">**Full LSN**</span></span>|<span data-ttu-id="3e6b7-213">Die Protokollfolgenummer (Log Sequence Number, LSN) der neuesten vollständigen Datenbanksicherung.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-213">The log sequence number (LSN) of the most recent full database backup.</span></span>|  
    |<span data-ttu-id="3e6b7-214">**Startdatum**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-214">**Start Date**</span></span>|<span data-ttu-id="3e6b7-215">Datum und Uhrzeit des Sicherungsbeginns, entsprechend den Ländereinstellungen des Clients.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-215">The date and time when the backup operation began, presented in the regional setting of the client.</span></span>|  
    |<span data-ttu-id="3e6b7-216">**Beendigungsdatum**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-216">**Finish Date**</span></span>|<span data-ttu-id="3e6b7-217">Datum und Uhrzeit des Endes des Sicherungsvorgangs, entsprechend den Ländereinstellungen des Clients.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-217">The date and time when the backup operation finished, presented in the regional setting of the client.</span></span>|  
    |<span data-ttu-id="3e6b7-218">**Größe**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-218">**Size**</span></span>|<span data-ttu-id="3e6b7-219">Größe des Sicherungssatzes in Byte.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-219">The size of the backup set in bytes.</span></span>|  
    |<span data-ttu-id="3e6b7-220">**Benutzername**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-220">**User Name**</span></span>|<span data-ttu-id="3e6b7-221">Name des Benutzers, der den Sicherungsvorgang ausgeführt hat.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-221">The name of the user who performed the backup operation.</span></span>|  
    |<span data-ttu-id="3e6b7-222">**Ablauf**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-222">**Expiration**</span></span>|<span data-ttu-id="3e6b7-223">Datum und Uhrzeit des Zeitpunkts, an dem der Sicherungssatz verfällt.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-223">The date and time the backup set expires.</span></span>|  
  
     <span data-ttu-id="3e6b7-224">Klicken Sie auf **Überprüfen** , um die Integrität der Sicherungsdateien zu überprüfen, die zum Ausführen der Seitenwiederherstellung benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-224">Click **Verify** to check the integrity of the backup files needed to perform the page restore operation.</span></span>  
  
4.  <span data-ttu-id="3e6b7-225">Klicken Sie auf **Datenbankseiten prüfen** , um beschädigte Seiten zu identifizieren, dabei muss das Kontrollkästchen **Datenbank**aktiviert sein.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-225">To identify corrupted pages, with the correct database selected in the **Database** box, click **Check Database Pages**.</span></span> <span data-ttu-id="3e6b7-226">Dieser Vorgang dauert lange.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-226">This is a long running operation.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="3e6b7-227">Klicken Sie auf **Hinzufügen** , und geben Sie die **Datei-ID** und **die Seiten-ID** der Seiten ein, die wiederhergestellt werden sollen, um bestimmte Seiten wiederherzustellen, die nicht beschädigt sind.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-227">To restore specific pages that are not corrupted, click **Add** and enter the **File ID** and **Page ID** of the pages to be restored.</span></span>  
  
5.  <span data-ttu-id="3e6b7-228">Das Seitenraster wird verwendet, um die wiederherzustellenden Seiten zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-228">The pages grid is used to identify the pages to be restored.</span></span> <span data-ttu-id="3e6b7-229">Zu Beginn wird dieses Raster von der Systemtabelle [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-229">Initially, this grid is populated from the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) system table.</span></span> <span data-ttu-id="3e6b7-230">Um Seiten aus dem Raster hinzuzufügen oder zu entfernen, klicken Sie auf **Hinzufügen** bzw. auf **Entfernen**.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-230">To add or remove pages from the grid, click **Add** or **Remove**.</span></span> <span data-ttu-id="3e6b7-231">Weitere Informationen finden Sie unter [Verwalten der suspect_pages-Tabelle &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md)wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-231">For more information, see [Manage the suspect_pages Table &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md).</span></span>  
  
6.  <span data-ttu-id="3e6b7-232">Im Raster **Sicherungssätze** sind die Sicherungssätze im Standardwiederherstellungsplan aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-232">The **Backup sets** grid lists the backup sets in the default restore plan.</span></span> <span data-ttu-id="3e6b7-233">Klicken Sie optional auf **Überprüfen** , um zu überprüfen, dass die Sicherungen lesbar die Sicherungssätze vollständig sind, ohne sie wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-233">Optionally, click **Verify** to verify that the backups are readable and that the backup sets are complete, without restoring them.</span></span> <span data-ttu-id="3e6b7-234">Weitere Informationen finden Sie unter [RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3e6b7-234">For more information, see [RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span></span>  
  
     <span data-ttu-id="3e6b7-235">**Seiten**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-235">**Pages**</span></span>  
  
7.  <span data-ttu-id="3e6b7-236">Um die im Seitenraster aufgeführten Seiten wiederherzustellen, klicken Sie auf **OK**.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-236">To restore the pages listed in the pages grid, click **OK**.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="3e6b7-237">Verwenden von Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="3e6b7-237">Using Transact-SQL</span></span>  
 <span data-ttu-id="3e6b7-238">Zum Angeben einer Seite in einer RESTORE DATABASE-Anweisung benötigen Sie die Datei-ID der Datei, die die Seite enthält, und die Seiten-ID der Seite.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-238">To specify a page in a RESTORE DATABASE statement, you need the file ID of the file containing the page and the page ID of the page.</span></span> <span data-ttu-id="3e6b7-239">Die erforderliche Syntax lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="3e6b7-239">The required syntax is as follows:</span></span>  
  
 `RESTORE DATABASE <database_name>`  
  
 `PAGE = '<file: page> [ ,... n ] ' [ ,... n ]`  
  
 `FROM <backup_device> [ ,... n ]`  
  
 `WITH NORECOVERY`  
  
 <span data-ttu-id="3e6b7-240">Weitere Informationen zu den in der Option PAGE verwendeten Parametern finden Sie unter [RESTORE-Argumente &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3e6b7-240">For more information about the parameters of the PAGE option, see [RESTORE Arguments &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql).</span></span> <span data-ttu-id="3e6b7-241">Weitere Informationen zur RESTORE DATABASE-Syntax finden Sie unter [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3e6b7-241">For more information about the RESTORE DATABASE syntax, see [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span></span>  
  
#### <a name="to-restore-pages"></a><span data-ttu-id="3e6b7-242">So stellen Sie Seiten wieder her</span><span class="sxs-lookup"><span data-stu-id="3e6b7-242">To restore pages</span></span>  
  
1.  <span data-ttu-id="3e6b7-243">Rufen Sie die Seiten-IDs der wiederherzustellenden beschädigten Seiten ab.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-243">Obtain the page IDs of the damaged pages to be restored.</span></span> <span data-ttu-id="3e6b7-244">Bei Prüfsummenfehlern oder einem unterbrochenen Schreibvorgang wird die Seiten-ID zurückgegeben, sodass die zum Angeben der Seiten benötigten Informationen zur Verfügung stehen.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-244">A checksum or torn write error returns page ID, providing the information required for specifying the pages.</span></span> <span data-ttu-id="3e6b7-245">Sie können die Seiten-ID einer beschädigten Seite mithilfe der folgenden Quellen ermitteln:</span><span class="sxs-lookup"><span data-stu-id="3e6b7-245">To look up page ID of a damaged page, use any of the following sources.</span></span>  
  
    |<span data-ttu-id="3e6b7-246">Quelle der Seiten-ID</span><span class="sxs-lookup"><span data-stu-id="3e6b7-246">Source of page ID</span></span>|<span data-ttu-id="3e6b7-247">Thema</span><span class="sxs-lookup"><span data-stu-id="3e6b7-247">Topic</span></span>|  
    |-----------------------|-----------|  
    |<span data-ttu-id="3e6b7-248">**msdb..suspect_pages**</span><span class="sxs-lookup"><span data-stu-id="3e6b7-248">**msdb..suspect_pages**</span></span>|[<span data-ttu-id="3e6b7-249">Verwalten der suspect_pages-Tabelle &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="3e6b7-249">Manage the suspect_pages Table &#40;SQL Server&#41;</span></span>](manage-the-suspect-pages-table-sql-server.md)|  
    |<span data-ttu-id="3e6b7-250">Fehlerprotokoll</span><span class="sxs-lookup"><span data-stu-id="3e6b7-250">Error log</span></span>|[<span data-ttu-id="3e6b7-251">Anzeigen des SQL Server-Fehlerprotokolls &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="3e6b7-251">View the SQL Server Error Log &#40;SQL Server Management Studio&#41;</span></span>](../../ssms/sql-server-management-studio-ssms.md)|  
    |<span data-ttu-id="3e6b7-252">Ereignisverfolgungen</span><span class="sxs-lookup"><span data-stu-id="3e6b7-252">Event traces</span></span>|[<span data-ttu-id="3e6b7-253">Überwachen und Reagieren auf Ereignisse</span><span class="sxs-lookup"><span data-stu-id="3e6b7-253">Monitor and Respond to Events</span></span>](../../ssms/agent/monitor-and-respond-to-events.md)|  
    |<span data-ttu-id="3e6b7-254">DBCC</span><span class="sxs-lookup"><span data-stu-id="3e6b7-254">DBCC</span></span>|[<span data-ttu-id="3e6b7-255">DBCC &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="3e6b7-255">DBCC &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/database-console-commands/dbcc-transact-sql)|  
    |<span data-ttu-id="3e6b7-256">WMI-Anbieter</span><span class="sxs-lookup"><span data-stu-id="3e6b7-256">WMI provider</span></span>|[<span data-ttu-id="3e6b7-257">Konzepte des WMI-Anbieters für Serverereignisse</span><span class="sxs-lookup"><span data-stu-id="3e6b7-257">WMI Provider for Server Events Concepts</span></span>](../wmi-provider-server-events/wmi-provider-for-server-events-concepts.md)|  
  
2.  <span data-ttu-id="3e6b7-258">Beginnen Sie die Seitenwiederherstellung mit einer vollständigen Datenbanksicherung, einer Dateisicherung oder einer Dateigruppensicherung, die die Seite enthält.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-258">Start a page restore with a full database, file, or filegroup backup that contains the page.</span></span> <span data-ttu-id="3e6b7-259">Listen Sie die Seiten-IDs der wiederherzustellenden Seiten mit der PAGE-Klausel der RESTORE DATABASE-Anweisung auf.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-259">In the RESTORE DATABASE statement, use the PAGE clause to list the page IDs of all of the pages to be restored.</span></span>  
  
3.  <span data-ttu-id="3e6b7-260">Wenden Sie die aktuellsten differenziellen Sicherungen an.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-260">Apply the most recent differentials .</span></span>  
  
4.  <span data-ttu-id="3e6b7-261">Wenden Sie die nachfolgenden Protokollsicherungen an.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-261">Apply the subsequent log backups.</span></span>  
  
5.  <span data-ttu-id="3e6b7-262">Erstellen Sie eine neue Protokollsicherung der Datenbank, die die letzte LSN der wiederhergestellten Seiten enthält, d. h. den Zeitpunkt, an dem die zuletzt wiederhergestellte Seite offline geschaltet wurde.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-262">Create a new log backup of the database that includes the final LSN of the restored pages, that is, the point at which the last restored page is taken offline.</span></span> <span data-ttu-id="3e6b7-263">Die letzte LSN, die im Rahmen der ersten Wiederherstellung innerhalb der Sequenz festgelegt wird, ist die Wiederholungsziel-LSN.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-263">The final LSN, which is set as part of the first restore in the sequence, is the redo target LSN.</span></span> <span data-ttu-id="3e6b7-264">Das Onlinerollforward der Datei, die die Seite enthält, kann an der Wiederholungsziel-LSN anhalten.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-264">Online roll forward of the file containing the page is able to stop at the redo target LSN.</span></span> <span data-ttu-id="3e6b7-265">Die aktuelle Wiederholungsziel-LSN einer Datei entnehmen Sie der **redo_target_lsn**-Spalte von **sys.master_files**.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-265">To learn the current redo target LSN of a file, see the **redo_target_lsn** column of **sys.master_files**.</span></span> <span data-ttu-id="3e6b7-266">Weitere Informationen finden Sie unter [sys.master_files &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-master-files-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3e6b7-266">For more information, see [sys.master_files &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-master-files-transact-sql).</span></span>  
  
6.  <span data-ttu-id="3e6b7-267">Stellen Sie die neue Protokollsicherung wieder her.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-267">Restore the new log backup.</span></span> <span data-ttu-id="3e6b7-268">Sobald diese neue Protokollsicherung angewendet wird, ist die Seitenwiederherstellung abgeschlossen, und die Seiten können verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-268">After this new log backup is applied, the page restore is completed and the pages are now usable.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="3e6b7-269">Diese Sequenz erfolgt analog zur Dateiwiederherstellungssequenz.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-269">This sequence is analogous to a file restore sequence.</span></span> <span data-ttu-id="3e6b7-270">Seiten- und Dateiwiederherstellungen können beide als Bestandteil derselben Sequenz ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-270">In fact, page restore and file restores can both be performed as part of the same sequence.</span></span>  
  
###  <a name="example-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="3e6b7-271">Beispiel (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="3e6b7-271">Example (Transact-SQL)</span></span>  
 <span data-ttu-id="3e6b7-272">Im folgenden Beispiel werden vier beschädigte Seiten der Datei `B` mit `NORECOVERY`wiederhergestellt.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-272">The following example restores four damaged pages of file `B` with `NORECOVERY`.</span></span> <span data-ttu-id="3e6b7-273">Anschließend werden zwei Protokollsicherungen mit `NORECOVERY`angewendet, gefolgt von der Sicherung des Protokollfragments, die mit `RECOVERY`wiederhergestellt wird.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-273">Next, two log backups are applied with `NORECOVERY`, followed with the tail-log backup, which is restored with `RECOVERY`.</span></span> <span data-ttu-id="3e6b7-274">Im folgenden Beispiel wird eine Onlinewiederherstellung ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-274">This example performs an online restore.</span></span> <span data-ttu-id="3e6b7-275">In diesem Beispiel lautet die Datei-ID der Datei `B` : `1`. Die Seiten-IDs der beschädigten Seiten lauten `57`, `202`, `916`und `1016`.</span><span class="sxs-lookup"><span data-stu-id="3e6b7-275">In the example, the file ID of file `B` is `1`, and the page IDs of the damaged pages are `57`, `202`, `916`, and `1016`.</span></span>  
  
```sql  
RESTORE DATABASE <database> PAGE='1:57, 1:202, 1:916, 1:1016'  
   FROM <file_backup_of_file_B>   
   WITH NORECOVERY;  
RESTORE LOG <database> FROM <log_backup>   
   WITH NORECOVERY;  
RESTORE LOG <database> FROM <log_backup>   
   WITH NORECOVERY;   
BACKUP LOG <database> TO <new_log_backup>;   
RESTORE LOG <database> FROM <new_log_backup> WITH RECOVERY;  
GO  
```  
  
## <a name="see-also"></a><span data-ttu-id="3e6b7-276">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="3e6b7-276">See Also</span></span>  
 <span data-ttu-id="3e6b7-277">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="3e6b7-277">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span></span>  
 <span data-ttu-id="3e6b7-278">[Anwenden von Transaktionsprotokollsicherungen &#40;SQL Server&#41;](transaction-log-backups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="3e6b7-278">[Apply Transaction Log Backups &#40;SQL Server&#41;](transaction-log-backups-sql-server.md) </span></span>  
 <span data-ttu-id="3e6b7-279">[Verwalten der suspect_pages-Tabelle &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="3e6b7-279">[Manage the suspect_pages Table &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md) </span></span>  
 [<span data-ttu-id="3e6b7-280">Sichern und Wiederherstellen von SQL Server-Datenbanken</span><span class="sxs-lookup"><span data-stu-id="3e6b7-280">Back Up and Restore of SQL Server Databases</span></span>](back-up-and-restore-of-sql-server-databases.md)  
  
  
