---
title: Sicherungsverlauf und Headerinformationen (SQL Server) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- backup headers [SQL Server]
- history tables [SQL Server]
- file restores [SQL Server], status information
- backup sets [SQL Server], status information
- listing backed up databases
- status information [SQL Server], backups
- backing up [SQL Server], viewing backup sets
- restoring [SQL Server], history tables
- restoring databases [SQL Server], status information
- backups [SQL Server], status information
- headers [SQL Server]
- media headers [SQL Server]
- backup history tables [SQL Server]
- viewing backup information
- restoring files [SQL Server], viewing backup information
- restoring databases [SQL Server], history tables
- displaying backup information
- restoring files [SQL Server], status information
- historical information [SQL Server], backups
- database restores [SQL Server], history tables
- restore history tables [SQL Server]
- listing backed up files
ms.assetid: 799b9934-0ec2-4f43-960b-5c9653f18374
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: ff1e75cc88e51de75af32bcd9d48860be52d5861
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87727002"
---
# <a name="backup-history-and-header-information-sql-server"></a><span data-ttu-id="ed351-102">Sicherungsverlauf und Headerinformationen (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="ed351-102">Backup History and Header Information (SQL Server)</span></span>
  <span data-ttu-id="ed351-103">Ein vollständiger Verlauf aller [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Sicherungs- und -Wiederherstellungsvorgänge auf einer Serverinstanz wird in der **msdb** -Datenbank gespeichert.</span><span class="sxs-lookup"><span data-stu-id="ed351-103">A complete history of all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backup and restore operations on a server instance is stored in the **msdb** database.</span></span> <span data-ttu-id="ed351-104">Dieses Thema stellt die Sicherungs- und Wiederherstellungsverlaufstabellen vor sowie die [!INCLUDE[tsql](../../includes/tsql-md.md)] -Anweisungen, die zum Zugreifen auf den Sicherungsverlauf verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ed351-104">This topic introduces the backup and restore history tables and also the [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that are used to access backup history.</span></span> <span data-ttu-id="ed351-105">In diesem Thema wird auch erläutert, wann die Auflistung von Datenbank- und Transaktionsprotokolldateien sinnvoll ist und wann Medienheaderinformationen bzw. Sicherungsheaderinformationen verwendet werden sollten.</span><span class="sxs-lookup"><span data-stu-id="ed351-105">The topic also discusses when listing database and transaction log files is useful and when to use media-header information compared to when to use backup-header information.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ed351-106">Sichern Sie **msdb** häufig, um das Risiko des Verlusts der aktuellen Änderungen am Sicherungs- und Wiederherstellungsverlauf zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="ed351-106">To manage the risk of losing recent changes to your backup and restore history, back up **msdb** frequently.</span></span> <span data-ttu-id="ed351-107">Informationen darüber, welche der Systemdatenbanken Sie sichern müssen, finden Sie unter [Sichern und Wiederherstellen von Systemdatenbanken & #40;SQL Server&#41;](back-up-and-restore-of-system-databases-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="ed351-107">For information about which of the system databases you must back up, see [Back Up and Restore of System Databases &#40;SQL Server&#41;](back-up-and-restore-of-system-databases-sql-server.md).</span></span>  
  
 <span data-ttu-id="ed351-108">**In diesem Thema:**</span><span class="sxs-lookup"><span data-stu-id="ed351-108">**In This Topic:**</span></span>  
  
-   [<span data-ttu-id="ed351-109">Tabellen mit Sicherungs- und Wiederherstellungsverlauf</span><span class="sxs-lookup"><span data-stu-id="ed351-109">Backup and Restore History Tables</span></span>](#BnRHistoryTables)  
  
-   [<span data-ttu-id="ed351-110">Transact-SQL-Anweisungen für den Zugriff auf den Sicherungsverlauf</span><span class="sxs-lookup"><span data-stu-id="ed351-110">Transact-SQL Statements for Accessing Backup History</span></span>](#TsqlStatementsForBackupHistory)  
  
-   [<span data-ttu-id="ed351-111">Datenbank- und Transaktionsprotokolldateien</span><span class="sxs-lookup"><span data-stu-id="ed351-111">Database and Transaction Log Files</span></span>](#ListDbTlogFiles)  
  
-   [<span data-ttu-id="ed351-112">Medienheaderinformationen</span><span class="sxs-lookup"><span data-stu-id="ed351-112">Media-Header Information</span></span>](#MediaHeader)  
  
-   [<span data-ttu-id="ed351-113">Sicherungsheaderinformationen</span><span class="sxs-lookup"><span data-stu-id="ed351-113">Backup-Header Information</span></span>](#BackupHeader)  
  
-   [<span data-ttu-id="ed351-114">Vergleich von Medienheader- und Sicherungsheaderinformationen</span><span class="sxs-lookup"><span data-stu-id="ed351-114">Comparison of Media-Header and Backup-Header Information</span></span>](#CompareMediaHeaderBackupHeader)  
  
-   [<span data-ttu-id="ed351-115">Sicherungsüberprüfung</span><span class="sxs-lookup"><span data-stu-id="ed351-115">Backup Verification</span></span>](#Verification)  
  
-   [<span data-ttu-id="ed351-116">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="ed351-116">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="backup-and-restore-history-tables"></a><a name="BnRHistoryTables"></a> <span data-ttu-id="ed351-117">Tabellen mit Sicherungs- und Wiederherstellungsverlauf</span><span class="sxs-lookup"><span data-stu-id="ed351-117">Backup and Restore History Tables</span></span>  
 <span data-ttu-id="ed351-118">In diesem Abschnitt werden die Verlaufstabellen der **msdb** -Datenbank vorgestellt, in denen die Metadaten für die Sicherung und Wiederherstellung gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="ed351-118">This section introduces the history tables that store backup and restore metadata in the **msdb** system database.</span></span>  
  
|<span data-ttu-id="ed351-119">Verlaufstabelle</span><span class="sxs-lookup"><span data-stu-id="ed351-119">History table</span></span>|<span data-ttu-id="ed351-120">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="ed351-120">Description</span></span>|  
|-------------------|-----------------|  
|[<span data-ttu-id="ed351-121">backupfile</span><span class="sxs-lookup"><span data-stu-id="ed351-121">backupfile</span></span>](/sql/relational-databases/system-tables/backupfile-transact-sql)|<span data-ttu-id="ed351-122">Enthält eine Zeile für jede Daten- oder Protokolldatei, die gesichert wird.</span><span class="sxs-lookup"><span data-stu-id="ed351-122">Contains one row for each data or log file that is backed up.</span></span>|  
|[<span data-ttu-id="ed351-123">backupfilegroup</span><span class="sxs-lookup"><span data-stu-id="ed351-123">backupfilegroup</span></span>](/sql/relational-databases/system-tables/backupfilegroup-transact-sql)|<span data-ttu-id="ed351-124">Enthält eine Reihe für jede Dateigruppe in einem Sicherungssatz.</span><span class="sxs-lookup"><span data-stu-id="ed351-124">Contains a row for each filegroup in a backup set.</span></span>|  
|[<span data-ttu-id="ed351-125">backupmediafamily</span><span class="sxs-lookup"><span data-stu-id="ed351-125">backupmediafamily</span></span>](/sql/relational-databases/system-tables/backupmediafamily-transact-sql)|<span data-ttu-id="ed351-126">Enthält eine Zeile für jede Medienfamilie.</span><span class="sxs-lookup"><span data-stu-id="ed351-126">Contains one row for each media family.</span></span> <span data-ttu-id="ed351-127">Wenn sich eine Medienfamilie in einem gespiegelten Mediensatz befindet, verfügt die Familie über eine separate Zeile für jede Spiegelung im Mediensatz.</span><span class="sxs-lookup"><span data-stu-id="ed351-127">If a media family resides in a mirrored media set, the family has a separate row for each mirror in the media set.</span></span>|  
|[<span data-ttu-id="ed351-128">backupmediaset</span><span class="sxs-lookup"><span data-stu-id="ed351-128">backupmediaset</span></span>](/sql/relational-databases/system-tables/backupmediaset-transact-sql)|<span data-ttu-id="ed351-129">Enthält eine Zeile für jeden Sicherungsmediensatz.</span><span class="sxs-lookup"><span data-stu-id="ed351-129">Contains one row for each backup media set.</span></span>|  
|[<span data-ttu-id="ed351-130">backupset</span><span class="sxs-lookup"><span data-stu-id="ed351-130">backupset</span></span>](/sql/relational-databases/system-tables/backupset-transact-sql)|<span data-ttu-id="ed351-131">Enthält eine Zeile für jeden Sicherungssatz.</span><span class="sxs-lookup"><span data-stu-id="ed351-131">Contains a row for each backup set.</span></span>|  
|[<span data-ttu-id="ed351-132">restorefile</span><span class="sxs-lookup"><span data-stu-id="ed351-132">restorefile</span></span>](/sql/relational-databases/system-tables/restorefile-transact-sql)|<span data-ttu-id="ed351-133">Enthält eine Zeile für jede wiederhergestellte Datei.</span><span class="sxs-lookup"><span data-stu-id="ed351-133">Contains one row for each restored file.</span></span> <span data-ttu-id="ed351-134">Dies gilt auch für Dateien, die indirekt nach Dateigruppennamen wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="ed351-134">This includes files restored indirectly by filegroup name.</span></span>|  
|[<span data-ttu-id="ed351-135">restorefilegroup</span><span class="sxs-lookup"><span data-stu-id="ed351-135">restorefilegroup</span></span>](/sql/relational-databases/system-tables/restorefilegroup-transact-sql)|<span data-ttu-id="ed351-136">Enthält eine Zeile für jede wiederhergestellte Dateigruppe.</span><span class="sxs-lookup"><span data-stu-id="ed351-136">Contains one row for each restored filegroup.</span></span>|  
|[<span data-ttu-id="ed351-137">restorehistory</span><span class="sxs-lookup"><span data-stu-id="ed351-137">restorehistory</span></span>](/sql/relational-databases/system-tables/restorehistory-transact-sql)|<span data-ttu-id="ed351-138">Enthält eine Zeile für jeden Wiederherstellungsvorgang.</span><span class="sxs-lookup"><span data-stu-id="ed351-138">Contains one row for each restore operation.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="ed351-139">Wenn eine Wiederherstellung ausgeführt wird, werden Änderungen an den Sicherungsverlaufstabellen und an den Wiederherstellungsverlaufstabellen vorgenommen.</span><span class="sxs-lookup"><span data-stu-id="ed351-139">When a restore is performed, backup history tables and restore history tables are modified.</span></span>  
  
##  <a name="transact-sql-statements-for-accessing-backup-history"></a><a name="TsqlStatementsForBackupHistory"></a> <span data-ttu-id="ed351-140">Transact-SQL-Anweisungen für den Zugriff auf den Sicherungsverlauf</span><span class="sxs-lookup"><span data-stu-id="ed351-140">Transact-SQL Statements for Accessing Backup History</span></span>  
 <span data-ttu-id="ed351-141">Die Anweisungen zu Wiederherstellungsinformationen korrespondieren mit Informationen, die in bestimmten Sicherungsverlaufstabellen gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="ed351-141">The restore information statements correspond with information stored in certain backup history tables.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ed351-142">Die Transact-SQL-Anweisungen RESTORE FILELISTONLY, RESTORE HEADERONLY, RESTORE LABELONLY und RESTORE VERIFYONLY erfordern die CREATE DATABASE-Berechtigung.</span><span class="sxs-lookup"><span data-stu-id="ed351-142">The RESTORE FILELISTONLY, RESTORE HEADERONLY, RESTORE LABELONLY, and RESTORE VERIFYONLY Transact-SQL statements require CREATE DATABASE permission.</span></span> <span data-ttu-id="ed351-143">Dadurch werden Ihre Sicherungsdateien und Sicherungsinformationen umfassender geschützt als in vorherigen Versionen.</span><span class="sxs-lookup"><span data-stu-id="ed351-143">This requirement secures your backup files and protects your backup information more fully than in previous versions.</span></span> <span data-ttu-id="ed351-144">Informationen über diese Berechtigung finden Sie unter [GRANT (Datenbankberechtigungen) &#40;Transact-SQL&#41;](/sql/t-sql/statements/grant-database-permissions-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="ed351-144">For information about this permission, see [GRANT Database Permissions &#40;Transact-SQL&#41;](/sql/t-sql/statements/grant-database-permissions-transact-sql).</span></span>  
  
|<span data-ttu-id="ed351-145">Informationsanweisung</span><span class="sxs-lookup"><span data-stu-id="ed351-145">Information statement</span></span>|<span data-ttu-id="ed351-146">Tabelle mit Sicherungsverläufen</span><span class="sxs-lookup"><span data-stu-id="ed351-146">Backup history table</span></span>|<span data-ttu-id="ed351-147">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="ed351-147">Description</span></span>|  
|---------------------------|--------------------------|-----------------|  
|[<span data-ttu-id="ed351-148">RESTORE FILELISTONLY</span><span class="sxs-lookup"><span data-stu-id="ed351-148">RESTORE FILELISTONLY</span></span>](/sql/t-sql/statements/restore-statements-filelistonly-transact-sql)|[<span data-ttu-id="ed351-149">backupfile</span><span class="sxs-lookup"><span data-stu-id="ed351-149">backupfile</span></span>](/sql/relational-databases/system-tables/backupfile-transact-sql)|<span data-ttu-id="ed351-150">Gibt ein Resultset mit einer Liste mit Datenbank- und Protokolldateien zurück, die im angegebenen Sicherungssatz enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="ed351-150">Returns a result set that has a list of the database and log files that are contained in the specified backup set.</span></span><br /><br /> <span data-ttu-id="ed351-151">Weitere Informationen finden Sie im Abschnitt "Auflisten der Datenbank- und Transaktionsprotokolldateien" weiter unten in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="ed351-151">For more information, see "Listing Database and Transaction Log Files," later in this topic.</span></span>|  
|[<span data-ttu-id="ed351-152">RESTORE HEADERONLY</span><span class="sxs-lookup"><span data-stu-id="ed351-152">RESTORE HEADERONLY</span></span>](/sql/t-sql/statements/restore-statements-headeronly-transact-sql)|[<span data-ttu-id="ed351-153">backupset</span><span class="sxs-lookup"><span data-stu-id="ed351-153">backupset</span></span>](/sql/relational-databases/system-tables/backupset-transact-sql)|<span data-ttu-id="ed351-154">Ruft alle Sicherungsheaderinformationen für alle Sicherungssätze auf einem bestimmten Sicherungsmedium ab.</span><span class="sxs-lookup"><span data-stu-id="ed351-154">Retrieves all the backup header information for all backup sets on a particular backup device.</span></span> <span data-ttu-id="ed351-155">Das Ergebnis der Ausführung von RESTORE HEADERONLY ist ein Resultset.</span><span class="sxs-lookup"><span data-stu-id="ed351-155">The result from executing RESTORE HEADERONLY is a result set.</span></span><br /><br /> <span data-ttu-id="ed351-156">Weitere Informationen finden Sie im Abschnitt "Anzeigen der Sicherungsheaderinformationen" weiter unten in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="ed351-156">For more information, see "Viewing the Backup-Header Information," later in this topic.</span></span>|  
|[<span data-ttu-id="ed351-157">RESTORE LABELONLY</span><span class="sxs-lookup"><span data-stu-id="ed351-157">RESTORE LABELONLY</span></span>](/sql/t-sql/statements/restore-statements-labelonly-transact-sql)|[<span data-ttu-id="ed351-158">backupmediaset</span><span class="sxs-lookup"><span data-stu-id="ed351-158">backupmediaset</span></span>](/sql/relational-databases/system-tables/backupmediaset-transact-sql)|<span data-ttu-id="ed351-159">Gibt ein Resultset mit Informationen zu den Sicherungsmedien für ein angegebenes Sicherungsmedium zurück.</span><span class="sxs-lookup"><span data-stu-id="ed351-159">Returns a result set that contains information about the backup media on a specified backup device.</span></span><br /><br /> <span data-ttu-id="ed351-160">Weitere Informationen finden Sie im Abschnitt "Anzeigen der Medienheaderinformationen" weiter unten in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="ed351-160">For more information, see "Viewing the Media-Header Information," later in this topic.</span></span>|  
  
##  <a name="database-and-transaction-log-files"></a><a name="ListDbTlogFiles"></a> <span data-ttu-id="ed351-161">Datenbank- und Transaktionsprotokolldateien</span><span class="sxs-lookup"><span data-stu-id="ed351-161">Database and Transaction Log Files</span></span>  
 <span data-ttu-id="ed351-162">Zu den Informationen, die in den Datenbank- und Transaktionsprotokolldateien in einer Sicherung aufgelistet werden, zählen der logische Name, der physische Name, der Dateityp (Datenbank oder Protokoll), die Mitgliedschaft in Dateigruppen, die Dateigröße (in Bytes), die maximal zulässige Dateigröße und die vordefinierte Größe der Dateivergrößerung (in Bytes).</span><span class="sxs-lookup"><span data-stu-id="ed351-162">Information that is displayed when the database and transaction log files are listed in a backup includes the logical name, physical name, file type (database or log), filegroup membership, file size (in bytes), the maximum allowed file size, and the predefined file growth size (in bytes).</span></span> <span data-ttu-id="ed351-163">Sie können diese nützlichen Informationen in folgenden Fällen verwenden, um die Namen der Dateien in einer Datenbanksicherung vor dem Wiederherstellen der Datenbanksicherung zu bestimmen:</span><span class="sxs-lookup"><span data-stu-id="ed351-163">This information is useful, in the following situations, to determine the names of the files in a database backup before you restore the database backup:</span></span>  
  
-   <span data-ttu-id="ed351-164">Sie haben einen Datenträger mit einer oder mehreren Dateien für eine Datenbank verloren.</span><span class="sxs-lookup"><span data-stu-id="ed351-164">You have lost a disk drive that contains one or more of the files for a database.</span></span>  
  
     <span data-ttu-id="ed351-165">Sie können die Dateien in der Datenbanksicherung auflisten, um zu bestimmen, welche Dateien betroffen sind, und anschließend bei der Wiederherstellung der gesamten Datenbank diese Dateien auf einem anderen Laufwerk wiederherstellen. Oder Sie stellen nur jene Dateien wieder her und wenden alle Transaktionsprotokollsicherungen an, die seit dem Sichern der Datenbank erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="ed351-165">You can list the files in the database backup to determine which files were affected, and then restore those files onto a different drive when you restore the whole database; or restore just those files and apply any transaction log backups created since the database was backed up.</span></span>  
  
-   <span data-ttu-id="ed351-166">Sie stellen eine Datenbank von einem Server auf einem anderen Server wieder her, aber die Zuordnung für Verzeichnisstrukturen und Laufwerke ist auf dem Server nicht vorhanden.</span><span class="sxs-lookup"><span data-stu-id="ed351-166">You are restoring a database from one server onto another server, but the directory structure and drive mapping does not exist on the server.</span></span>  
  
     <span data-ttu-id="ed351-167">Durch das Auflisten der gesicherten Dateien können Sie bestimmen, welche Dateien betroffen sind.</span><span class="sxs-lookup"><span data-stu-id="ed351-167">Listing the files in the backup let you determine which files are affected.</span></span> <span data-ttu-id="ed351-168">Die Sicherung enthält beispielsweise eine Datei, die auf Laufwerk E wiederhergestellt werden soll, doch der Zielserver weist kein Laufwerk E auf. Die Datei muss dann an einen anderen Speicherort (beispielsweise Laufwerk Z) verschoben werden, wenn sie wiederhergestellt wird.</span><span class="sxs-lookup"><span data-stu-id="ed351-168">For example, the backup contains a file that it has to restore to drive E, but the destination server does not have a drive E. The file must be relocated to another location, such as drive Z, when the file is restored.</span></span>  
  
##  <a name="media-header-information"></a><a name="MediaHeader"></a> <span data-ttu-id="ed351-169">Medienheaderinformationen</span><span class="sxs-lookup"><span data-stu-id="ed351-169">Media-Header Information</span></span>  
 <span data-ttu-id="ed351-170">Der Medienheader zeigt Informationen zum Medium selbst an, jedoch nicht zu den Sicherungen auf dem Medium.</span><span class="sxs-lookup"><span data-stu-id="ed351-170">Viewing the media header displays information about the media itself, instead of about the backups on the media.</span></span> <span data-ttu-id="ed351-171">Zu den angezeigten Medienheaderinformationen zählen Medienname, Beschreibung, Name der Software, mit der der Medienheader erstellt wurde, und das Erstellungsdatum des Medienheaders.</span><span class="sxs-lookup"><span data-stu-id="ed351-171">Media header information that is displayed includes the media name, description, name of the software that created the media header, and the date the media header was written.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ed351-172">Das Anzeigen des Medienheaders dauert nur kurze Zeit.</span><span class="sxs-lookup"><span data-stu-id="ed351-172">Viewing the media header is quick.</span></span>  
  
 <span data-ttu-id="ed351-173">Weitere Informationen finden Sie unter [Vergleich von Medienheader- und Sicherungsheaderinformationen](#CompareMediaHeaderBackupHeader)weiter unten in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="ed351-173">For more information, see [Comparison of Media-Header and Backup-Header Information](#CompareMediaHeaderBackupHeader), later in this topic.</span></span>  
  
##  <a name="backup-header-information"></a><a name="BackupHeader"></a> <span data-ttu-id="ed351-174">Sicherungsheaderinformationen</span><span class="sxs-lookup"><span data-stu-id="ed351-174">Backup-Header Information</span></span>  
 <span data-ttu-id="ed351-175">Mit dem Sicherungsheader werden Informationen zu allen [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Sicherungssätzen und zu allen Nicht-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Sicherungssätzen auf dem Medium angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ed351-175">Viewing the backup header displays information about all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backup sets on the media.</span></span> <span data-ttu-id="ed351-176">Zu den angezeigten Informationen zählen die Typen der verwendeten Sicherungsmedien, die Sicherungstypen (beispielsweise Datenbank, Transaktion, Datei oder differenzielle Datenbank) sowie Informationen zum Anfangs- und Enddatum als auch zur Anfangs- und Beendigungszeit der Sicherung.</span><span class="sxs-lookup"><span data-stu-id="ed351-176">Information that is displayed includes the types of backup devices that are used, the types of backup (for example, database, transaction, file, or differential database), and backup start and stop date/time information.</span></span> <span data-ttu-id="ed351-177">Diese Informationen sind dann nützlich, wenn Sie bestimmen müssen, welcher Sicherungssatz auf dem Band wiederhergestellt werden soll oder welche Sicherungen auf dem Medium enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="ed351-177">This information is useful when you have to determine which backup set on the tape to restore, or the backups that are contained on the media.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ed351-178">Das Anzeigen der Sicherungsheaderinformationen kann bei Bändern mit großen Kapazitäten einige Zeit in Anspruch nehmen, da das gesamte Medium gescannt werden muss, damit Informationen zu einzelnen Sicherungen auf dem Medium angezeigt werden können.</span><span class="sxs-lookup"><span data-stu-id="ed351-178">Viewing backup header information can take a long time for high-capacity tapes, because the whole media must be scanned to display information about each backup on the media.</span></span>  
  
 <span data-ttu-id="ed351-179">Weitere Informationen finden Sie unter [Vergleich von Medienheader- und Sicherungsheaderinformationen](#CompareMediaHeaderBackupHeader)weiter unten in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="ed351-179">For more information, see [Comparison of Media-Header and Backup-Header Information](#CompareMediaHeaderBackupHeader), later in this topic.</span></span>  
  
### <a name="which-backup-set-to-restore"></a><span data-ttu-id="ed351-180">Wiederherzustellender Sicherungssatz</span><span class="sxs-lookup"><span data-stu-id="ed351-180">Which Backup Set to Restore</span></span>  
 <span data-ttu-id="ed351-181">Anhand der Informationen im Sicherungsheader können Sie den wiederherzustellenden Sicherungssatz identifizieren.</span><span class="sxs-lookup"><span data-stu-id="ed351-181">You can use information in the backup header to identify which backup set to restore.</span></span> <span data-ttu-id="ed351-182">Die Datenbank-Engine nummeriert jeden Sicherungssatz auf den Sicherungsmedien.</span><span class="sxs-lookup"><span data-stu-id="ed351-182">The Database Engine numbers each backup set on the backup media.</span></span> <span data-ttu-id="ed351-183">Dadurch können Sie den wiederherzustellenden Sicherungssatz mithilfe seiner Position auf dem Medium identifizieren.</span><span class="sxs-lookup"><span data-stu-id="ed351-183">This lets you identify the backup set you want to restore by using its position on the media.</span></span> <span data-ttu-id="ed351-184">Beispielsweise enthalten die folgenden Medien drei Sicherungssätze.</span><span class="sxs-lookup"><span data-stu-id="ed351-184">For example, the following media contains three backup sets.</span></span>  
  
 <span data-ttu-id="ed351-185">![Sicherungsmedien mit SQL Server-Sicherungssätzen](../../database-engine/media/bnr-media-backup-sets.gif "Sicherungsmedien mit SQL Server-Sicherungssätzen")</span><span class="sxs-lookup"><span data-stu-id="ed351-185">![Backup media containing SQL Server backup sets](../../database-engine/media/bnr-media-backup-sets.gif "Backup media containing SQL Server backup sets")</span></span>  
  
 <span data-ttu-id="ed351-186">Um einen bestimmten Sicherungssatz wiederherzustellen, müssen Sie die Positionsnummer des wiederherzustellenden Sicherungssatzes angeben.</span><span class="sxs-lookup"><span data-stu-id="ed351-186">To restore a specific backup set, specify the position number of the backup set you want to restore.</span></span> <span data-ttu-id="ed351-187">Geben Sie beispielsweise 2 als wiederherzustellenden Sicherungssatz an, um den zweiten Sicherungssatz wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="ed351-187">For example, to restore the second backup set, specify 2 as the backup set to restore.</span></span>  
  
##  <a name="comparison-of-media-header-and-backup-header-information"></a><a name="CompareMediaHeaderBackupHeader"></a> <span data-ttu-id="ed351-188">Vergleich von Medienheader- und Sicherungsheaderinformationen</span><span class="sxs-lookup"><span data-stu-id="ed351-188">Comparison of Media-Header and Backup-Header Information</span></span>  
 <span data-ttu-id="ed351-189">Die folgende Abbildung stellt ein Beispiel für die Unterschiede beim Anzeigen von Sicherungsheader- und Medienheaderinformationen dar.</span><span class="sxs-lookup"><span data-stu-id="ed351-189">The following illustration provides an example of the differences between viewing backup-header and media-header information.</span></span> <span data-ttu-id="ed351-190">Für das Abrufen des Medienheaders ist lediglich das Auslesen von Informationen vom Anfang des Bands erforderlich.</span><span class="sxs-lookup"><span data-stu-id="ed351-190">Obtaining the media header requires retrieving information from only the start of the tape.</span></span> <span data-ttu-id="ed351-191">Dagegen ist für das Abrufen des Sicherungsheaders das Scannen des gesamten Bands erforderlich, damit der Header jedes Sicherungssatzes ausgelesen werden kann.</span><span class="sxs-lookup"><span data-stu-id="ed351-191">Obtaining the backup header requires scanning the whole tape to look at the header of every backup set.</span></span>  
  
 <span data-ttu-id="ed351-192">![Mediensatz mit drei SQL Server-Sicherungssätzen](../../database-engine/media/bnr-media-label.gif "Mediensatz mit drei SQL Server-Sicherungssätzen")</span><span class="sxs-lookup"><span data-stu-id="ed351-192">![Media set containing three SQL Server backup sets](../../database-engine/media/bnr-media-label.gif "Media set containing three SQL Server backup sets")</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ed351-193">Beim Verwenden von Mediensätzen mit mehreren Medienfamilien werden die Medienheader- und Sicherungssätze in alle Medienfamilien geschrieben.</span><span class="sxs-lookup"><span data-stu-id="ed351-193">When you use media sets that have multiple media families, the media header and backup set are written to all media families.</span></span> <span data-ttu-id="ed351-194">Darum ist es nur notwendig, eine einzelne Medienfamilie für diese Berichterstellungsvorgänge zur Verfügung zu stellen.</span><span class="sxs-lookup"><span data-stu-id="ed351-194">Therefore, you only have to provide a single media family for these reporting operations.</span></span>  
  
 <span data-ttu-id="ed351-195">Informationen zum Anzeigen des Medienheaders finden Sie im Abschnitt "Anzeigen der Medienheaderinformationen" weiter oben in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="ed351-195">For information about how to view the media-header, see "Viewing the Media-Header Information," earlier in this topic.</span></span>  
  
 <span data-ttu-id="ed351-196">Informationen zum Anzeigen der Sicherungsheaderinformationen für alle Sicherungssätze auf einem Sicherungsmedium finden Sie unter "Anzeigen der Sicherungsheaderinformationen" weiter oben in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="ed351-196">For information about how to view the backup header information for all backup sets on a backup device, see "Viewing the Backup-Header Information," earlier in this topic.</span></span>  
  
##  <a name="backup-verification"></a><a name="Verification"></a> <span data-ttu-id="ed351-197">Sicherungsüberprüfung</span><span class="sxs-lookup"><span data-stu-id="ed351-197">Backup Verification</span></span>  
 <span data-ttu-id="ed351-198">Das Überprüfen von Sicherungen ist zwar nicht erforderlich, aber nützlich.</span><span class="sxs-lookup"><span data-stu-id="ed351-198">Although not required, verifying a backup is a useful practice.</span></span> <span data-ttu-id="ed351-199">Beim Überprüfen einer Sicherung wird überprüft, ob die Sicherung physisch intakt ist, um sicherzustellen, dass alle Dateien der Sicherung lesbar sind und wiederhergestellt werden können, und ob Sie die Sicherung bei Bedarf wiederherstellen könnten.</span><span class="sxs-lookup"><span data-stu-id="ed351-199">Verifying a backup checks that the backup is intact physically, to ensure that all the files in the backup are readable and can be restored, and that you can restore your backup in the event you need to use it.</span></span> <span data-ttu-id="ed351-200">Es ist wichtig, zu wissen, dass beim Überprüfen einer Sicherung nicht die Struktur der Daten in der Sicherung überprüft wird.</span><span class="sxs-lookup"><span data-stu-id="ed351-200">It is important to understand that verifying a backup does not verify the structure of the data on the backup.</span></span> <span data-ttu-id="ed351-201">Wenn die Sicherung jedoch mit WITH CHECKSUMS erstellt wurde, kann das Überprüfen der Sicherung mit WITH CHECKSUMS gute Hinweise auf die Zuverlässigkeit der Daten in der Sicherung geben.</span><span class="sxs-lookup"><span data-stu-id="ed351-201">However, if the backup was created using WITH CHECKSUMS, verifying the backup using WITH CHECKSUMS can provide a good indication of the reliability of the data on the backup.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="ed351-202">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="ed351-202">Related Tasks</span></span>  
 <span data-ttu-id="ed351-203">**So löschen Sie alte Zeilen aus Sicherungs- und Wiederherstellungsverlaufstabellen**</span><span class="sxs-lookup"><span data-stu-id="ed351-203">**To delete old rows from backup and restore history tables**</span></span>  
  
-   [<span data-ttu-id="ed351-204">sp_delete_backuphistory &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-204">sp_delete_backuphistory &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-backuphistory-transact-sql)  
  
 <span data-ttu-id="ed351-205">**So löschen Sie alle Zeilen für eine bestimmte Datenbank aus Sicherungs- und Wiederherstellungsverlaufstabellen**</span><span class="sxs-lookup"><span data-stu-id="ed351-205">**To delete all rows for a specific database from backup and restore history tables**</span></span>  
  
-   [<span data-ttu-id="ed351-206">sp_delete_database_backuphistory &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-206">sp_delete_database_backuphistory &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-database-backuphistory-transact-sql)  
  
 <span data-ttu-id="ed351-207">**So zeigen Sie die Daten und Protokolldateien in einem Sicherungssatz an**</span><span class="sxs-lookup"><span data-stu-id="ed351-207">**To view the data and log files in a backup set**</span></span>  
  
-   [<span data-ttu-id="ed351-208">RESTORE FILELISTONLY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-208">RESTORE FILELISTONLY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/restore-statements-filelistonly-transact-sql)  
  
-   <span data-ttu-id="ed351-209"><xref:Microsoft.SqlServer.Management.Smo.Restore.ReadFileList%2A> (SMO)</span><span class="sxs-lookup"><span data-stu-id="ed351-209"><xref:Microsoft.SqlServer.Management.Smo.Restore.ReadFileList%2A> (SMO)</span></span>  
  
 <span data-ttu-id="ed351-210">**So zeigen Sie die Medienheaderinformationen an**</span><span class="sxs-lookup"><span data-stu-id="ed351-210">**To view media header information**</span></span>  
  
-   [<span data-ttu-id="ed351-211">RESTORE LABELONLY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-211">RESTORE LABELONLY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/restore-statements-labelonly-transact-sql)  
  
-   [<span data-ttu-id="ed351-212">Anzeigen der Eigenschaften und des Inhalts eines logischen Sicherungsmediums &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-212">View the Properties and Contents of a Logical Backup Device &#40;SQL Server&#41;</span></span>](view-the-properties-and-contents-of-a-logical-backup-device-sql-server.md)  
  
-   [<span data-ttu-id="ed351-213">Anzeigen der Inhalte eines Sicherungsbands oder einer -datei &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-213">View the Contents of a Backup Tape or File &#40;SQL Server&#41;</span></span>](view-the-contents-of-a-backup-tape-or-file-sql-server.md)  
  
-   <span data-ttu-id="ed351-214"><xref:Microsoft.SqlServer.Management.Smo.Restore.ReadMediaHeader%2A> (SMO)</span><span class="sxs-lookup"><span data-stu-id="ed351-214"><xref:Microsoft.SqlServer.Management.Smo.Restore.ReadMediaHeader%2A> (SMO)</span></span>  
  
 <span data-ttu-id="ed351-215">**So zeigen Sie die Sicherungsheaderinformationen an**</span><span class="sxs-lookup"><span data-stu-id="ed351-215">**To view backup header information**</span></span>  
  
-   [<span data-ttu-id="ed351-216">RESTORE HEADERONLY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-216">RESTORE HEADERONLY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/restore-statements-headeronly-transact-sql)  
  
-   [<span data-ttu-id="ed351-217">Anzeigen der Inhalte eines Sicherungsbands oder einer -datei &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-217">View the Contents of a Backup Tape or File &#40;SQL Server&#41;</span></span>](view-the-contents-of-a-backup-tape-or-file-sql-server.md)  
  
-   [<span data-ttu-id="ed351-218">Anzeigen der Eigenschaften und des Inhalts eines logischen Sicherungsmediums &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-218">View the Properties and Contents of a Logical Backup Device &#40;SQL Server&#41;</span></span>](view-the-properties-and-contents-of-a-logical-backup-device-sql-server.md)  
  
-   <span data-ttu-id="ed351-219"><xref:Microsoft.SqlServer.Management.Smo.Restore.ReadBackupHeader%2A> (SMO)</span><span class="sxs-lookup"><span data-stu-id="ed351-219"><xref:Microsoft.SqlServer.Management.Smo.Restore.ReadBackupHeader%2A> (SMO)</span></span>  
  
 <span data-ttu-id="ed351-220">**So löschen Sie alte Zeilen aus Sicherungs- und Wiederherstellungsverlaufstabellen**</span><span class="sxs-lookup"><span data-stu-id="ed351-220">**To delete old rows from backup and restore history tables**</span></span>  
  
-   [<span data-ttu-id="ed351-221">sp_delete_backuphistory &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-221">sp_delete_backuphistory &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-backuphistory-transact-sql)  
  
 <span data-ttu-id="ed351-222">**So löschen Sie alle Zeilen für eine bestimmte Datenbank aus Sicherungs- und Wiederherstellungsverlaufstabellen**</span><span class="sxs-lookup"><span data-stu-id="ed351-222">**To delete all rows for a specific database from backup and restore history tables**</span></span>  
  
-   [<span data-ttu-id="ed351-223">sp_delete_database_backuphistory &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-223">sp_delete_database_backuphistory &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-database-backuphistory-transact-sql)  
  
 <span data-ttu-id="ed351-224">**So zeigen Sie die Medienheaderinformationen an**</span><span class="sxs-lookup"><span data-stu-id="ed351-224">**To view media header information**</span></span>  
  
-   [<span data-ttu-id="ed351-225">RESTORE LABELONLY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-225">RESTORE LABELONLY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/restore-statements-labelonly-transact-sql)  
  
-   [<span data-ttu-id="ed351-226">Anzeigen der Eigenschaften und des Inhalts eines logischen Sicherungsmediums &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-226">View the Properties and Contents of a Logical Backup Device &#40;SQL Server&#41;</span></span>](view-the-properties-and-contents-of-a-logical-backup-device-sql-server.md)  
  
-   [<span data-ttu-id="ed351-227">Anzeigen der Inhalte eines Sicherungsbands oder einer -datei &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-227">View the Contents of a Backup Tape or File &#40;SQL Server&#41;</span></span>](view-the-contents-of-a-backup-tape-or-file-sql-server.md)  
  
-   <span data-ttu-id="ed351-228"><xref:Microsoft.SqlServer.Management.Smo.Restore.ReadMediaHeader%2A> (SMO)</span><span class="sxs-lookup"><span data-stu-id="ed351-228"><xref:Microsoft.SqlServer.Management.Smo.Restore.ReadMediaHeader%2A> (SMO)</span></span>  
  
 <span data-ttu-id="ed351-229">**So zeigen Sie die Sicherungsheaderinformationen an**</span><span class="sxs-lookup"><span data-stu-id="ed351-229">**To view backup header information**</span></span>  
  
-   [<span data-ttu-id="ed351-230">RESTORE HEADERONLY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-230">RESTORE HEADERONLY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/restore-statements-headeronly-transact-sql)  
  
-   [<span data-ttu-id="ed351-231">Anzeigen der Inhalte eines Sicherungsbands oder einer -datei &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-231">View the Contents of a Backup Tape or File &#40;SQL Server&#41;</span></span>](view-the-contents-of-a-backup-tape-or-file-sql-server.md)  
  
-   [<span data-ttu-id="ed351-232">Anzeigen der Eigenschaften und des Inhalts eines logischen Sicherungsmediums &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-232">View the Properties and Contents of a Logical Backup Device &#40;SQL Server&#41;</span></span>](view-the-properties-and-contents-of-a-logical-backup-device-sql-server.md)  
  
-   <span data-ttu-id="ed351-233"><xref:Microsoft.SqlServer.Management.Smo.Restore.ReadBackupHeader%2A> (SMO)</span><span class="sxs-lookup"><span data-stu-id="ed351-233"><xref:Microsoft.SqlServer.Management.Smo.Restore.ReadBackupHeader%2A> (SMO)</span></span>  
  
 <span data-ttu-id="ed351-234">**So zeigen Sie die Dateien in einem Sicherungssatz an**</span><span class="sxs-lookup"><span data-stu-id="ed351-234">**To view the files in a backup set**</span></span>  
  
-   [<span data-ttu-id="ed351-235">Anzeigen der Daten und Protokolldateien in einem Sicherungssatz &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-235">View the Data and Log Files in a Backup Set &#40;SQL Server&#41;</span></span>](view-the-data-and-log-files-in-a-backup-set-sql-server.md)  
  
-   [<span data-ttu-id="ed351-236">RESTORE HEADERONLY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-236">RESTORE HEADERONLY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/restore-statements-headeronly-transact-sql)  
  
 <span data-ttu-id="ed351-237">**So überprüfen Sie eine Sicherung**</span><span class="sxs-lookup"><span data-stu-id="ed351-237">**To verify a backup**</span></span>  
  
-   [<span data-ttu-id="ed351-238">RESTORE VERIFYONLY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-238">RESTORE VERIFYONLY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql)  
  
-   <span data-ttu-id="ed351-239"><xref:Microsoft.SqlServer.Management.Smo.Restore.SqlVerify%2A> (SMO)</span><span class="sxs-lookup"><span data-stu-id="ed351-239"><xref:Microsoft.SqlServer.Management.Smo.Restore.SqlVerify%2A> (SMO)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ed351-240">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="ed351-240">See Also</span></span>  
 <span data-ttu-id="ed351-241">[BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="ed351-241">[BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql) </span></span>  
 <span data-ttu-id="ed351-242">[Mediensätze, Medienfamilien und Sicherungssätze &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="ed351-242">[Media Sets, Media Families, and Backup Sets &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md) </span></span>  
 <span data-ttu-id="ed351-243">[Sicherungsmedien &#40;SQL Server&#41;](backup-devices-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="ed351-243">[Backup Devices &#40;SQL Server&#41;](backup-devices-sql-server.md) </span></span>  
 <span data-ttu-id="ed351-244">[Gespiegelte Sicherungsmediensätze &#40;SQL Server&#41;](mirrored-backup-media-sets-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="ed351-244">[Mirrored Backup Media Sets &#40;SQL Server&#41;](mirrored-backup-media-sets-sql-server.md) </span></span>  
 [<span data-ttu-id="ed351-245">Mögliche Medienfehler während der Sicherung und Wiederherstellung &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ed351-245">Possible Media Errors During Backup and Restore &#40;SQL Server&#41;</span></span>](possible-media-errors-during-backup-and-restore-sql-server.md)  
  
  
