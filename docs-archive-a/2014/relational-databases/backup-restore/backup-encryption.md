---
title: Verschlüsseln der Sicherung | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
ms.assetid: 334b95a8-6061-4fe0-9e34-b32c9f1706ce
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 6a78ae4969982fbfe5295ee4219855f48ac60793
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87727018"
---
# <a name="backup-encryption"></a><span data-ttu-id="c79eb-102">Verschlüsseln der Sicherung</span><span class="sxs-lookup"><span data-stu-id="c79eb-102">Backup Encryption</span></span>
  <span data-ttu-id="c79eb-103">Dieses Thema bietet eine Übersicht über die Verschlüsselungsoptionen für [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Sicherungen.</span><span class="sxs-lookup"><span data-stu-id="c79eb-103">This topic provides an overview of the encryption options for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups.</span></span> <span data-ttu-id="c79eb-104">Es enthält Details zur Verwendung, zu den Vorteilen und empfohlenen Vorgehensweisen beim Verschlüsseln bei der Sicherung.</span><span class="sxs-lookup"><span data-stu-id="c79eb-104">It includes details of the usage, benefits, and recommended practices for encrypting during backup.</span></span>  
  
  
##  <a name="overview"></a><a name="Overview"></a> <span data-ttu-id="c79eb-105">Übersicht</span><span class="sxs-lookup"><span data-stu-id="c79eb-105">Overview</span></span>  
 <span data-ttu-id="c79eb-106">Ab [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]verfügt SQL Server über die Möglichkeit, die Daten beim Erstellen einer Sicherung zu verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="c79eb-106">Starting in [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], SQL Server has the ability to encrypt the data while creating a backup.</span></span> <span data-ttu-id="c79eb-107">Durch das Angeben des Verschlüsselungsalgorithmus und der Verschlüsselung (ein Zertifikat oder ein asymmetrischer Schlüssel) beim Erstellen einer Sicherung können Sie eine verschlüsselte Sicherungsdatei anlegen.</span><span class="sxs-lookup"><span data-stu-id="c79eb-107">By specifying the encryption algorithm and the encryptor (a Certificate or Asymmetric Key) when creating a backup, you can create an encrypted backup file.</span></span> <span data-ttu-id="c79eb-108">Alle Speicherziele − lokaler und Windows Azure-Speicher − werden unterstützt.</span><span class="sxs-lookup"><span data-stu-id="c79eb-108">All storage destinations: on-premises and Window Azure storage are supported.</span></span> <span data-ttu-id="c79eb-109">Außerdem können Verschlüsselungsoptionen für [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] -Vorgänge konfiguriert werden. Dies ist eine neue Funktion, die in [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]eingeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="c79eb-109">In addition, encryption options can be configured for [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] operations, a new feature introduced in [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)].</span></span>  
  
 <span data-ttu-id="c79eb-110">Um während der Sicherung eine Verschlüsselung durchzuführen, müssen Sie einen Verschlüsselungsalgorithmus und eine Verschlüsselungsmethode angeben, um den Verschlüsselungsschlüssel zu sichern.</span><span class="sxs-lookup"><span data-stu-id="c79eb-110">To encrypt during backup, you must specify an encryption algorithm, and an encryptor to secure the encryption key.</span></span> <span data-ttu-id="c79eb-111">Folgende Verschlüsselungsoptionen werden unterstützt:</span><span class="sxs-lookup"><span data-stu-id="c79eb-111">The following are the supported encryption options:</span></span>  
  
-   <span data-ttu-id="c79eb-112">**Verschlüsselungsalgorithmus:** Die folgenden Verschlüsselungsalgorithmen werden unterstützt: AES 128, AES 192, AES 256 und Triple DES</span><span class="sxs-lookup"><span data-stu-id="c79eb-112">**Encryption Algorithm:** The supported encryption algorithms are: AES 128, AES 192, AES 256, and Triple DES</span></span>  
  
-   <span data-ttu-id="c79eb-113">**Verschlüsselung:** Ein Zertifikat oder asymmetrischer Schlüssel</span><span class="sxs-lookup"><span data-stu-id="c79eb-113">**Encryptor:** A certificate or asymmetric Key</span></span>  
  
> [!CAUTION]  
>  <span data-ttu-id="c79eb-114">Es ist sehr wichtig, das Zertifikat oder den asymmetrischen Schlüssel zu sichern – vorzugsweise an einem anderen Speicherort als die Sicherungsdatei, die zum Verschlüsseln verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="c79eb-114">It is very important to back up the certificate or asymmetric key, and preferably to a different location than the backup file it was used to encrypt.</span></span> <span data-ttu-id="c79eb-115">Ohne das Zertifikat oder den asymmetrischen Schlüssel können Sie keine Sicherung wiederherstellen, sodass die Sicherungsdatei unbrauchbar ist.</span><span class="sxs-lookup"><span data-stu-id="c79eb-115">Without the certificate or asymmetric key, you cannot restore the backup, rendering the backup file unusable.</span></span>  
  
 <span data-ttu-id="c79eb-116">**Wiederherstellen der verschlüsselten Sicherung:** Die SQL Server-Wiederherstellung erfordert keine Angabe von Verschlüsselungsparametern während der Wiederherstellung.</span><span class="sxs-lookup"><span data-stu-id="c79eb-116">**Restoring the encrypted backup:** SQL Server restore does not require any encryption parameters to be specified during restores.</span></span> <span data-ttu-id="c79eb-117">Sie setzt aber voraus, dass das Zertifikat oder der asymmetrische Schlüssel, die zum Verschlüsseln der Sicherungsdatei verwendet werden, in der Instanz verfügbar ist, auf der Sie die Wiederherstellung ausführen.</span><span class="sxs-lookup"><span data-stu-id="c79eb-117">It does require that the certificate or the asymmetric key used to encrypt the backup file be available on the instance that you are restoring to.</span></span> <span data-ttu-id="c79eb-118">Das Benutzerkonto, unter dem die Wiederherstellung ausgeführt wird, muss über `VIEW DEFINITION`-Berechtigungen für das Zertifikat oder den Schlüssel verfügen.</span><span class="sxs-lookup"><span data-stu-id="c79eb-118">The user account performing the restore must have `VIEW DEFINITION` permissions on the certificate or key.</span></span> <span data-ttu-id="c79eb-119">Wenn Sie die verschlüsselte Sicherung in einer anderen Instanz wiederherstellen, müssen Sie sicherstellen, dass das Zertifikat für diese Instanz verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="c79eb-119">If you are restoring the encrypted backup to a different instance, you must make sure that the certificate is available on that instance.</span></span>  
  
 <span data-ttu-id="c79eb-120">Wenn Sie eine Sicherung von einer TDE-verschlüsselten Datenbank wiederherstellen, sollte das TDE-Zertifikat auf der Instanz verfügbar sein, auf der die Wiederherstellung erfolgen soll.</span><span class="sxs-lookup"><span data-stu-id="c79eb-120">If you are restoring a backup from a TDE encrypted database, the TDE certificate should be available on the instance you are restoring to.</span></span>  
  
##  <a name="benefits"></a><a name="Benefits"></a> <span data-ttu-id="c79eb-121">Vorteile</span><span class="sxs-lookup"><span data-stu-id="c79eb-121">Benefits</span></span>  
  
1.  <span data-ttu-id="c79eb-122">Das Verschlüsseln der Datenbanksicherungen trägt zum Schutz der Daten bei: SQL Server bietet die Option, die Sicherungsdaten beim Erstellen einer Sicherung zu verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="c79eb-122">Encrypting the database backups helps secure the data: SQL Server provides the option to encrypt the backup data while creating a backup.</span></span>  
  
2.  <span data-ttu-id="c79eb-123">Verschlüsselung kann auch für Datenbanken verwendet werden, die mithilfe von TDE verschlüsselt werden.</span><span class="sxs-lookup"><span data-stu-id="c79eb-123">Encryption can also be used for databases that are encrypted using TDE.</span></span>  
  
3.  <span data-ttu-id="c79eb-124">Die Verschlüsselung wird für Sicherungen unterstützt, die von [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]durchgeführt werden, was zusätzliche Sicherheit für externe Sicherungen bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="c79eb-124">Encryption is supported for backups done by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)], which provides additional security for off-site backups.</span></span>  
  
4.  <span data-ttu-id="c79eb-125">Diese Funktion unterstützt mehrere Verschlüsselungsalgorithmen bis zu AES 256 Bit.</span><span class="sxs-lookup"><span data-stu-id="c79eb-125">This feature supports multiple encryption algorithms up to AES 256 bit.</span></span> <span data-ttu-id="c79eb-126">So können Sie einen Algorithmus auswählen, der Ihren Anforderungen entspricht.</span><span class="sxs-lookup"><span data-stu-id="c79eb-126">This gives you the option to select an algorithm that aligns with your requirements.</span></span>  
  
5.  <span data-ttu-id="c79eb-127">Sie können Verschlüsselungsschlüssel in EKM-Anbieter (Extended Key Management) integrieren.</span><span class="sxs-lookup"><span data-stu-id="c79eb-127">You can integrate encryption keys with Extended Key Management (EKM) providers.</span></span>  
  
  
##  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="c79eb-128">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="c79eb-128">Prerequisites</span></span>  
 <span data-ttu-id="c79eb-129">Voraussetzungen zum Verschlüsseln einer Sicherung:</span><span class="sxs-lookup"><span data-stu-id="c79eb-129">The following are prerequisites for encrypting a backup:</span></span>  
  
1.  <span data-ttu-id="c79eb-130">**Erstellen eines Datenbankhauptschlüssels für die Masterdatenbank:** Der Datenbank-Hauptschlüssel ist ein symmetrischer Schlüssel, der zum Schützen von privaten Schlüsseln der in der Datenbank vorhandenen Zertifikate und asymmetrischen Schlüssel verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="c79eb-130">**Create a Database Master Key for the master database:** The database master key is a symmetric key that is used to protect the private keys of certificates and asymmetric keys that are present in the database.</span></span> <span data-ttu-id="c79eb-131">Weitere Informationen finden Sie unter [Verschlüsselungsschlüssel für SQL Server und Datenbank &#40;Datenbank-Engine&#41;](../security/encryption/sql-server-and-database-encryption-keys-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="c79eb-131">For more information, see [SQL Server and Database Encryption Keys &#40;Database Engine&#41;](../security/encryption/sql-server-and-database-encryption-keys-database-engine.md).</span></span>  
  
2.  <span data-ttu-id="c79eb-132">Erstellen Sie ein Zertifikat oder einen asymmetrischen Schlüssel, der für die Sicherungsverschlüsselung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="c79eb-132">Create a certificate or asymmetric Key to use for backup encryption.</span></span> <span data-ttu-id="c79eb-133">Weitere Informationen zum Erstellen eines Zertifikats finden Sie unter [CREATE CERTIFICATE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-certificate-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c79eb-133">For more information on creating a certificate, see [CREATE CERTIFICATE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-certificate-transact-sql).</span></span> <span data-ttu-id="c79eb-134">Weitere Informationen zum Erstellen eines asymmetrischen Schlüssels finden Sie unter [CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c79eb-134">For more information on creating an asymmetric key, see [CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql).</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="c79eb-135">Nur asymmetrische Schlüssel, die sich in einer erweiterten Schlüsselverwaltung (Extended Key Management, EKM) befinden, werden unterstützt.</span><span class="sxs-lookup"><span data-stu-id="c79eb-135">Only asymmetric keys residing in an Extended Key Management (EKM) are supported.</span></span>  
  
##  <a name="restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="c79eb-136">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="c79eb-136">Restrictions</span></span>  
 <span data-ttu-id="c79eb-137">Folgende Einschränkungen gelten für die Verschlüsselungsoptionen:</span><span class="sxs-lookup"><span data-stu-id="c79eb-137">The following are restrictions that apply to the encryption options:</span></span>  
  
-   <span data-ttu-id="c79eb-138">Wenn Sie einen asymmetrischen Schlüssel verwenden, um die Sicherungsdaten zu verschlüsseln, werden nur asymmetrische Schlüssel, die sich im EKM-Anbieter befinden, unterstützt.</span><span class="sxs-lookup"><span data-stu-id="c79eb-138">If you are using asymmetric key to encrypt the backup data, only asymmetric keys residing in the EKM provider are supported.</span></span>  
  
-   <span data-ttu-id="c79eb-139">SQL Server Express und SQL Server Web unterstützen keine Verschlüsselung während der Sicherung.</span><span class="sxs-lookup"><span data-stu-id="c79eb-139">SQL Server Express and SQL Server Web do not support encryption during backup.</span></span> <span data-ttu-id="c79eb-140">Das Wiederherstellen von einer verschlüsselten Sicherung in eine SQL Server Express- oder SQL Server Web-Instanz wird allerdings unterstützt.</span><span class="sxs-lookup"><span data-stu-id="c79eb-140">However restoring from an encrypted backup to an instance of SQL Server Express or SQL Server Web is supported.</span></span>  
  
-   <span data-ttu-id="c79eb-141">Frühere Versionen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] können verschlüsselte Sicherungen nicht lesen.</span><span class="sxs-lookup"><span data-stu-id="c79eb-141">Previous versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cannot read encrypted backups.</span></span>  
  
-   <span data-ttu-id="c79eb-142">Das Anfügen an einen vorhandenen Sicherungssatz wird für verschlüsselte Sicherungen nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="c79eb-142">Appending to an existing backup set option is not supported for encrypted backups.</span></span>  
  
  
##  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="c79eb-143">Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="c79eb-143">Permissions</span></span>  
 <span data-ttu-id="c79eb-144">**So verschlüsseln Sie eine Sicherung oder stellen Daten aus einer verschlüsselten Sicherung wieder her:**</span><span class="sxs-lookup"><span data-stu-id="c79eb-144">**To encrypt a backup or to restore from an encrypted backup:**</span></span>  
  
 <span data-ttu-id="c79eb-145">`VIEW DEFINITION`-Berechtigung für das Zertifikat oder den asymmetrischen Schlüssel, der verwendet wird, um die Datenbanksicherung zu verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="c79eb-145">`VIEW DEFINITION` permission on the certificate or asymmetric key that is used to encrypt the database backup.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c79eb-146">Der Zugriff auf das TDE-Zertifikat ist nicht erforderlich, um eine durch TDE geschützte Datenbank zu sichern oder wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="c79eb-146">Access to the TDE certificate is not required to back up or restore a TDE protected database.</span></span>  
  
##  <a name="backup-encryption-methods"></a><a name="Methods"></a> <span data-ttu-id="c79eb-147">Methoden zur Sicherungsverschlüsselung</span><span class="sxs-lookup"><span data-stu-id="c79eb-147">Backup Encryption Methods</span></span>  
 <span data-ttu-id="c79eb-148">Die folgenden Abschnitte enthalten eine kurze Einführung in die Schritte zum Verschlüsseln der Daten während der Sicherung.</span><span class="sxs-lookup"><span data-stu-id="c79eb-148">The sections below provide a brief introduction to the steps to encrypting the data during backup.</span></span> <span data-ttu-id="c79eb-149">Eine vollständige exemplarische Vorgehensweise der einzelnen Schritte, die Sie beim Verschlüsseln der Sicherung mithilfe von Transact-SQL ausführen, finden Sie unter [Erstellen einer verschlüsselten Sicherung](create-an-encrypted-backup.md).</span><span class="sxs-lookup"><span data-stu-id="c79eb-149">For a complete walkthrough of the different steps of encrypting your backup using Transact-SQL, see [Create an Encrypted Backup](create-an-encrypted-backup.md).</span></span>  
  
### <a name="using-sql-server-management-studio"></a><span data-ttu-id="c79eb-150">Verwendung von SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="c79eb-150">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="c79eb-151">Sie können eine Sicherung verschlüsseln, wenn Sie die Datenbanksicherung in einem der folgenden Dialogfelder erstellen:</span><span class="sxs-lookup"><span data-stu-id="c79eb-151">You can encrypt a backup when creating the backup of a database in any of the following dialog boxes:</span></span>  
  
1.  <span data-ttu-id="c79eb-152">[Datenbank sichern &#40;Seite 'Sicherungsoptionen'&#41;](back-up-database-backup-options-page.md) – Auf der Seite **Sicherungsoptionen** können Sie **Verschlüsselung** auswählen und den Verschlüsselungsalgorithmus und das Zertifikat oder den asymmetrischen Schlüssel angeben, der für die Verschlüsselung verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="c79eb-152">[Back Up Database &#40;Backup Options Page&#41;](back-up-database-backup-options-page.md) On the **Backup Options** page, you can select **Encryption**, and specify the encryption algorithm and the certificate or asymmetric key to use for the encryption.</span></span>  
  
2.  <span data-ttu-id="c79eb-153">[Verwendung des Wartungsplanungs-Assistenten](../maintenance-plans/use-the-maintenance-plan-wizard.md#SSMSProcedure) – Wenn Sie einen Sicherungstask auswählen, können Sie auf der Registerkarte **Optionen** der Seite **Define Backup ()Task** (Sicherungstask () definieren) die Option **Sicherungsverschlüsselung**auswählen und den Verschlüsselungsalgorithmus und das Zertifikat oder den Schlüssel angeben, das bzw. der für die Verschlüsselung verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="c79eb-153">[Using Maintenance Plan Wizard](../maintenance-plans/use-the-maintenance-plan-wizard.md#SSMSProcedure) When you select a backup task, on the **Options** tab of the **Define Backup ()Task** page, you can select **Backup Encryption**, and specify the encryption algorithm and the certificate or key to use for the encryption.</span></span>  
  
### <a name="using-transact-sql"></a><span data-ttu-id="c79eb-154">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="c79eb-154">Using Transact SQL</span></span>  
 <span data-ttu-id="c79eb-155">Es folgt eine Transact-SQL-Beispielanweisung zum Verschlüsseln der Sicherungsdatei:</span><span class="sxs-lookup"><span data-stu-id="c79eb-155">Following is a sample Transact-SQL statement to encrypt the backup file:</span></span>  
  
```sql
BACKUP DATABASE [MYTestDB]  
TO DISK = N'C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Backup\MyTestDB.bak'  
WITH  
  COMPRESSION,  
  ENCRYPTION   
   (  
   ALGORITHM = AES_256,  
   SERVER CERTIFICATE = BackupEncryptCert  
   ),  
  STATS = 10  
GO
```  
  
 <span data-ttu-id="c79eb-156">Die vollständige Syntax der Transact-SQL-Anweisung finden Sie unter [BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c79eb-156">For the full Transact-SQL statement syntax, see [BACKUP &#40;Transact-SQL&#41;](/sql/t-sql/statements/backup-transact-sql).</span></span>  
  
### <a name="using-powershell"></a><span data-ttu-id="c79eb-157">PowerShell</span><span class="sxs-lookup"><span data-stu-id="c79eb-157">Using PowerShell</span></span>  
 <span data-ttu-id="c79eb-158">In diesem Beispiel werden die Verschlüsselungsoptionen erstellt und als Parameterwert im Cmdlet **Backup-SqlDatabase** verwendet, um eine verschlüsselte Sicherung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="c79eb-158">This example creates the encryption options and uses it as a parameter value in **Backup-SqlDatabase** cmdlet to create an encrypted backup.</span></span>  
  
```powershell
$encryptionOption = New-SqlBackupEncryptionOption -Algorithm Aes256 -EncryptorType ServerCertificate -EncryptorName "BackupCert"  
Backup-SqlDatabase -ServerInstance . -Database "MyTestDB" -BackupFile "MyTestDB.bak" -CompressionOption On -EncryptionOption $encryptionOption  
```  
  
##  <a name="recommended-practices"></a><a name="RecommendedPractices"></a> <span data-ttu-id="c79eb-159">Empfohlene Vorgehensweisen</span><span class="sxs-lookup"><span data-stu-id="c79eb-159">Recommended Practices</span></span>  
 <span data-ttu-id="c79eb-160">Erstellen Sie eine Sicherung des Verschlüsselungszertifikats und der Schlüssel an einem anderen Speicherort als dem lokalen Computer, auf dem die Instanz installiert ist.</span><span class="sxs-lookup"><span data-stu-id="c79eb-160">Create a backup of the encryption certificate and keys to a location other than your local machine where the instance is installed.</span></span> <span data-ttu-id="c79eb-161">Zur Wiederherstellung in Notfallszenarien sollten Sie eine Sicherung des Zertifikats oder des Schlüssels an einem anderen Ort aufbewahren.</span><span class="sxs-lookup"><span data-stu-id="c79eb-161">To account for disaster recovery scenarios, consider storing a backup of the certificate or key to an off-site location.</span></span> <span data-ttu-id="c79eb-162">Sie können eine verschlüsselte Sicherung nicht ohne das Zertifikat wiederherstellen, das verwendet wird, um die Sicherung zu verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="c79eb-162">You cannot restore an encrypted backup without the certificate used to encrypt the backup.</span></span>  
  
 <span data-ttu-id="c79eb-163">Zur Wiederherstellung einer verschlüsselten Sicherung sollte das ursprüngliche Zertifikat, das beim Erstellen der Sicherung mit übereinstimmendem Fingerabdruck verwendet wurde, auf der Instanz verfügbar sein, auf der die Wiederherstellung erfolgt.</span><span class="sxs-lookup"><span data-stu-id="c79eb-163">To restore an encrypted backup, the original certificate used when the backup was taken with the matching thumbprint should be available on the instance you are restoring to.</span></span> <span data-ttu-id="c79eb-164">Deshalb sollte das Zertifikat beim Ablauf nicht verlängert oder geändert werden.</span><span class="sxs-lookup"><span data-stu-id="c79eb-164">Therefore, the certificate should not be renewed on expiry or changed in any way.</span></span> <span data-ttu-id="c79eb-165">Die Verlängerung kann zum Aktualisieren des Zertifikats führen, was die Änderung des Fingerabdrucks auslöst, sodass das Zertifikat für die Sicherungsdatei ungültig wird.</span><span class="sxs-lookup"><span data-stu-id="c79eb-165">Renewal can result in updating the certificate triggering the change of the thumbprint, therefore making the certificate invalid for the backup file.</span></span> <span data-ttu-id="c79eb-166">Das Konto, unter dem die Wiederherstellung ausgeführt wird, sollte über die VIEW DEFINITION-Berechtigung für das Zertifikat oder den asymmetrischen Schlüssel verfügen, das bzw. der für die Verschlüsselung während der Sicherung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="c79eb-166">The account performing the restore should have VIEW DEFINITION permissions on the certificate or the asymmetric key used to encrypt during backup.</span></span>  
  
 <span data-ttu-id="c79eb-167">Sicherungen für Datenbanken in Verfügbarkeitsgruppen werden in der Regel auf dem bevorzugten Sicherungsreplikat ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="c79eb-167">Availability Group database backups are typically performed on the preferred backup replica.</span></span>  <span data-ttu-id="c79eb-168">Wenn eine Sicherung auf einem anderen Replikat als dem wiederhergestellt wird, von dem die Sicherung erstellt wurde, stellen Sie sicher, dass das ursprüngliche, für die Sicherung verwendete Zertifikat auf dem Replikat verfügbar ist, auf dem die Wiederherstellung erfolgt.</span><span class="sxs-lookup"><span data-stu-id="c79eb-168">If restoring a backup on a replica other than where the backup was taken from, ensure that the original certificate used for backup is available on the replica you are restoring to.</span></span>  
  
 <span data-ttu-id="c79eb-169">Wenn TDE für die Datenbank aktiviert wurde, wählen Sie andere Zertifikate oder asymmetrische Schlüssel zum Verschlüsseln der Datenbank und der Sicherung aus, um die Sicherheit zu erhöhen.</span><span class="sxs-lookup"><span data-stu-id="c79eb-169">If the database is TDE enabled, choose different certificates or asymmetric keys for encrypting the database and the backup to increase security.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="c79eb-170">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="c79eb-170">Related Tasks</span></span>  
  
|<span data-ttu-id="c79eb-171">Thema/Aufgabe</span><span class="sxs-lookup"><span data-stu-id="c79eb-171">Topic/Task</span></span>|<span data-ttu-id="c79eb-172">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="c79eb-172">Description</span></span>|  
|-----------------|-----------------|  
|[<span data-ttu-id="c79eb-173">Erstellen einer verschlüsselten Sicherung</span><span class="sxs-lookup"><span data-stu-id="c79eb-173">Create an Encrypted Backup</span></span>](create-an-encrypted-backup.md)|<span data-ttu-id="c79eb-174">Beschreibt die grundlegenden Schritte, die erforderlich sind, um eine verschlüsselte Sicherung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="c79eb-174">Describes the basic steps required to create an encrypted backup</span></span>|  
|[<span data-ttu-id="c79eb-175">Verwaltete SQL Server-Sicherung in Azure: Beibehaltungs- und Speichereinstellungen</span><span class="sxs-lookup"><span data-stu-id="c79eb-175">SQL Server Managed Backup to Azure - Retention and Storage Settings</span></span>](../../database-engine/sql-server-managed-backup-to-windows-azure-retention-and-storage-settings.md)|<span data-ttu-id="c79eb-176">Beschreibt die grundlegenden Schritte, die erforderlich sind, um [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] mit den angegebenen Verschlüsselungsoptionen zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="c79eb-176">Describes the basic steps required to configure [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] with the encryption options specified.</span></span>|  
|[<span data-ttu-id="c79eb-177">Erweiterbare Schlüsselverwaltung mit Azure Key Vault &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="c79eb-177">Extensible Key Management Using Azure Key Vault &#40;SQL Server&#41;</span></span>](../security/encryption/extensible-key-management-using-azure-key-vault-sql-server.md)|<span data-ttu-id="c79eb-178">Enthält ein Beispiel zum Erstellen einer verschlüsselten Sicherung, die durch Schlüssel im Azure-Schlüsseltresor geschützt ist.</span><span class="sxs-lookup"><span data-stu-id="c79eb-178">Provides an example of creating an encrypted backup protected by keys in the Azure Key Vault.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="c79eb-179">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="c79eb-179">See Also</span></span>  
 [<span data-ttu-id="c79eb-180">Übersicht über Sicherungen &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="c79eb-180">Backup Overview &#40;SQL Server&#41;</span></span>](backup-overview-sql-server.md)  
  
  
