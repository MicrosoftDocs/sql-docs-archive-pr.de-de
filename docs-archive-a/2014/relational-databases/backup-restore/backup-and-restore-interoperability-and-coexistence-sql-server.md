---
title: 'Sicherung und Wiederherstellung: Interoperabilität und gleichzeitige Verwendung (SQL Server) | Microsoft-Dokumentation'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- file restores [SQL Server], related features
- restoring [SQL Server], files
- restoring files [SQL Server], related features
- backups [SQL Server], files or filegroups
- file backups [SQL Server], related features
ms.assetid: 69f212b8-edcd-4c5d-8a8a-679ced33c128
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: cd78e5f1e85510ec7a14548280a616a9b32aec55
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87607855"
---
# <a name="backup-and-restore-interoperability-and-coexistence-sql-server"></a><span data-ttu-id="68cfb-102">Sichern und Wiederherstellen: Interoperabilität und Koexistenz (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="68cfb-102">Backup and Restore: Interoperability and Coexistence (SQL Server)</span></span>
  <span data-ttu-id="68cfb-103">In diesem Thema werden Überlegungen im Zusammenhang mit der Sicherung und Wiederherstellung für mehrere Funktionen in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]beschrieben.</span><span class="sxs-lookup"><span data-stu-id="68cfb-103">This topic describes backup-and-restore considerations for several features in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="68cfb-104">Diese Funktionen sind: Dateiwiederherstellung und Datenbankstart, Onlinewiederherstellung und deaktivierte Indizes, Datenbankspiegelung sowie schrittweise Wiederherstellung und Volltextindizes.</span><span class="sxs-lookup"><span data-stu-id="68cfb-104">These features include: file restore and database startup, online restore and disabled indexes, database mirroring, and piecemeal restore and full-text indexes.</span></span>  
  
 <span data-ttu-id="68cfb-105">**In diesem Thema:**</span><span class="sxs-lookup"><span data-stu-id="68cfb-105">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="68cfb-106">Dateiwiederherstellung und Starten einer Datenbank</span><span class="sxs-lookup"><span data-stu-id="68cfb-106">File Restore and Database Startup</span></span>](#FileRestoreAndDbStartup)  
  
-   [<span data-ttu-id="68cfb-107">Onlinewiederherstellung und deaktivierte Indizes</span><span class="sxs-lookup"><span data-stu-id="68cfb-107">Online Restore and Disabled Indexes</span></span>](#OnlineRestoreAndDisabledIndexes)  
  
-   [<span data-ttu-id="68cfb-108">Datenbankspiegelung und Sicherung/Wiederherstellung</span><span class="sxs-lookup"><span data-stu-id="68cfb-108">Database Mirroring and Backup and Restore</span></span>](#DbMandBnR)  
  
-   [<span data-ttu-id="68cfb-109">Schrittweise Wiederherstellung und Volltextindizes</span><span class="sxs-lookup"><span data-stu-id="68cfb-109">Piecemeal Restore and Full-Text Indexes</span></span>](#PiecemealAndFTIndexes)  
  
-   [<span data-ttu-id="68cfb-110">Dateisicherung und -wiederherstellung und die Komprimierung</span><span class="sxs-lookup"><span data-stu-id="68cfb-110">File Backup and Restore and Compression</span></span>](#FileBnRandCompression)  
  
-   [<span data-ttu-id="68cfb-111">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="68cfb-111">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="file-restore-and-database-startup"></a><a name="FileRestoreAndDbStartup"></a> <span data-ttu-id="68cfb-112">Dateiwiederherstellung und Starten einer Datenbank</span><span class="sxs-lookup"><span data-stu-id="68cfb-112">File Restore and Database Startup</span></span>  
 <span data-ttu-id="68cfb-113">Dieser Abschnitt betrifft nur [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Datenbanken mit mehreren Dateigruppen.</span><span class="sxs-lookup"><span data-stu-id="68cfb-113">This section is relevant only for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases that have multiple filegroups.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="68cfb-114">Wenn eine Datenbank gestartet wird, werden nur Dateigruppen, deren Dateien online waren, als die Datenbank geschlossen wurde, wiederhergestellt und online geschaltet.</span><span class="sxs-lookup"><span data-stu-id="68cfb-114">When a database is started, only filegroups whose files were online when the database was closed are recovered and brought online.</span></span>  
  
 <span data-ttu-id="68cfb-115">Falls beim Starten der Datenbank ein Problem auftritt, wird bei der Wiederherstellung ein Fehler gemeldet, und die Datenbank wird als SUSPECT gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="68cfb-115">If a problem is encountered during database startup, recovery fails, and the database is marked as SUSPECT.</span></span> <span data-ttu-id="68cfb-116">Wenn das Problem auf eine Datei oder mehrere Dateien isoliert werden kann, kann der Datenbankadministrator die Dateien offline schalten und versuchen, die Datenbank erneut zu starten.</span><span class="sxs-lookup"><span data-stu-id="68cfb-116">If the problem can be isolated to a file or files, the database administrator can take the files offline and try to restart the database.</span></span> <span data-ttu-id="68cfb-117">Sie können die folgende [ALTER DATABASE](/sql/t-sql/statements/alter-database-transact-sql) -Anweisung verwenden, um eine Datei offline zu schalten:</span><span class="sxs-lookup"><span data-stu-id="68cfb-117">To take a file offline, you can use the following [ALTER DATABASE](/sql/t-sql/statements/alter-database-transact-sql) statement:</span></span>  
  
 <span data-ttu-id="68cfb-118">ALTER DATABASE *database_name* Modify File (Name **= ' *`filename`* '**, offline)</span><span class="sxs-lookup"><span data-stu-id="68cfb-118">ALTER DATABASE *database_name* MODIFY FILE (NAME **='*`filename`*'**, OFFLINE)</span></span>  
  
 <span data-ttu-id="68cfb-119">Wenn der Start erfolgreich ist, bleibt jede Dateigruppe, die eine Offlinedatei enthält, offline.</span><span class="sxs-lookup"><span data-stu-id="68cfb-119">If startup succeeds, any filegroup that contains an offline file remains offline.</span></span>  
  
##  <a name="online-restore-and-disabled-indexes"></a><a name="OnlineRestoreAndDisabledIndexes"></a> <span data-ttu-id="68cfb-120">Onlinewiederherstellung und deaktivierte Indizes</span><span class="sxs-lookup"><span data-stu-id="68cfb-120">Online Restore and Disabled Indexes</span></span>  
 <span data-ttu-id="68cfb-121">Dieses Abschnitt betrifft nur Datenbanken mit mehreren Dateigruppen und für das einfache Wiederherstellungsmodell Datenbanken mit mindestens einer schreibgeschützten Dateigruppe.</span><span class="sxs-lookup"><span data-stu-id="68cfb-121">This section is relevant only for databases that have multiple filegroups and, for the simple recovery model, at least one read-only filegroup.</span></span>  
  
 <span data-ttu-id="68cfb-122">Wenn die Datenbank online ist, kann der Index in diesen Fällen nur erstellt, gelöscht, aktiviert oder deaktiviert werden, wenn alle Dateigruppen, die einen beliebigen Teil des Indexes enthalten, online sind.</span><span class="sxs-lookup"><span data-stu-id="68cfb-122">In these cases, when a database is online, the index can be created, dropped, enabled or disabled only if all filegroups holding any part of the index are online.</span></span>  
  
 <span data-ttu-id="68cfb-123">Informationen zum Wiederherstellen von Offlinedateigruppen finden Sie unter [Onlinewiederherstellung &#40;SQL Server&#41;](online-restore-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="68cfb-123">For information about restoring offline filegroups, see [Online Restore &#40;SQL Server&#41;](online-restore-sql-server.md).</span></span>  
  
##  <a name="database-mirroring-and-backup-and-restore"></a><a name="DbMandBnR"></a> <span data-ttu-id="68cfb-124">Datenbankspiegelung und Sicherung/Wiederherstellung</span><span class="sxs-lookup"><span data-stu-id="68cfb-124">Database Mirroring and Backup and Restore</span></span>  
 <span data-ttu-id="68cfb-125">Dieser Abschnitt betrifft nur Datenbanken mit mehreren Dateigruppen, für die das vollständige Wiederherstellungsmodell verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="68cfb-125">This section is relevant only for full-model databases that have multiple filegroups.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="68cfb-126">Die Datenbankspiegelungsfunktion wird in zukünftigen Versionen von Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]nicht mehr bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="68cfb-126">The database mirroring feature will be removed in a future version of Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="68cfb-127">Nutzen Sie diese Funktionen bei Neuentwicklungen nicht mehr, und planen Sie die Änderung von Anwendungen, die diese Funktion zurzeit verwenden.</span><span class="sxs-lookup"><span data-stu-id="68cfb-127">Avoid using this feature in new development work, and plan to modify applications that currently use this feature.</span></span> <span data-ttu-id="68cfb-128">Verwenden Sie stattdessen [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="68cfb-128">Use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] instead.</span></span>  
  
 <span data-ttu-id="68cfb-129">Die Datenbankspiegelung ist eine Lösung zum Verbessern der Datenbankverfügbarkeit.</span><span class="sxs-lookup"><span data-stu-id="68cfb-129">Database mirroring is a solution for increasing database availability.</span></span> <span data-ttu-id="68cfb-130">Die Datenbankspiegelung wird auf Datenbankbasis implementiert und ist nur für Datenbanken mit dem vollständigen Wiederherstellungsmodell geeignet.</span><span class="sxs-lookup"><span data-stu-id="68cfb-130">Mirroring is implemented on a per-database basis and works only with databases that use the full recovery model.</span></span> <span data-ttu-id="68cfb-131">Weitere Informationen finden Sie unter [Datenbankspiegelung &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="68cfb-131">For more information, see [Database Mirroring &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="68cfb-132">Verwenden Sie zum Verteilen von Kopien einer Teilmenge der Dateigruppen in einer Datenbank die Replikation: Replizieren Sie nur die Objekte in den Dateigruppen, die auf andere Server kopiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="68cfb-132">To distribute copies of a subset of the filegroups in a database, use replication: replicate only those objects in the filegroups you want to copy to other servers.</span></span> <span data-ttu-id="68cfb-133">Weitere Informationen über Replikation finden Sie unter [SQL Server-Replikation](../../relational-databases/replication/sql-server-replication.md).</span><span class="sxs-lookup"><span data-stu-id="68cfb-133">For more information about replication, see [SQL Server Replication](../../relational-databases/replication/sql-server-replication.md).</span></span>  
  
### <a name="creating-the-mirror-database"></a><span data-ttu-id="68cfb-134">Erstellen der Spiegeldatenbank</span><span class="sxs-lookup"><span data-stu-id="68cfb-134">Creating the Mirror Database</span></span>  
 <span data-ttu-id="68cfb-135">Die Spiegeldatenbank wird durch Dateiwiederherstellung (ohne Datenbankwiederherstellung) von Sicherungen der Prinzipaldatenbank auf dem Spiegelserver erstellt.</span><span class="sxs-lookup"><span data-stu-id="68cfb-135">The mirror database is created by restoring, WITH NORECOVERY, backups of the principal database on the mirror server.</span></span> <span data-ttu-id="68cfb-136">Bei der Wiederherstellung muss der Datenbankname beibehalten werden.</span><span class="sxs-lookup"><span data-stu-id="68cfb-136">The restore must keep the same database name.</span></span> <span data-ttu-id="68cfb-137">Weitere Informationen finden Sie unter [Vorbereiten einer Spiegeldatenbank auf die Spiegelung &#40;SQL Server&#41;](../../database-engine/database-mirroring/prepare-a-mirror-database-for-mirroring-sql-server.md)verwendet.</span><span class="sxs-lookup"><span data-stu-id="68cfb-137">For more information, see [Prepare a Mirror Database for Mirroring &#40;SQL Server&#41;](../../database-engine/database-mirroring/prepare-a-mirror-database-for-mirroring-sql-server.md).</span></span>  
  
 <span data-ttu-id="68cfb-138">Sie können die Spiegeldatenbank mithilfe einer schrittweisen Wiederherstellungssequenz erstellen, insofern dies unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="68cfb-138">You can create the mirror database by using use a piecemeal restore sequence, where supported.</span></span> <span data-ttu-id="68cfb-139">Sie können die Spiegelung jedoch erst starten, wenn Sie alle Dateigruppen und ggf. Protokollsicherungen wiederhergestellt haben, sodass die gespiegelte Datenbank zeitlich nicht zu weit von der Prinzipaldatenbank entfernt ist.</span><span class="sxs-lookup"><span data-stu-id="68cfb-139">However, you cannot start mirroring until you have restored all the filegroups and, typically, restored log backups to get the mirror database close enough in time with the principal database.</span></span> <span data-ttu-id="68cfb-140">Weitere Informationen finden Sie unter [Schrittweise Wiederherstellungen &#40;SQL Server&#41;](piecemeal-restores-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="68cfb-140">For more information, see [Piecemeal Restores &#40;SQL Server&#41;](piecemeal-restores-sql-server.md).</span></span>  
  
### <a name="restrictions-on-backup-and-restore-during-mirroring"></a><span data-ttu-id="68cfb-141">Einschränkungen bei der Sicherung und Wiederherstellung während der Spiegelung</span><span class="sxs-lookup"><span data-stu-id="68cfb-141">Restrictions on Backup and Restore During Mirroring</span></span>  
 <span data-ttu-id="68cfb-142">Während eine Datenbank-Spiegelungssitzung aktiv ist, gelten die folgenden Einschränkungen:</span><span class="sxs-lookup"><span data-stu-id="68cfb-142">While a database mirroring session is active, the following restrictions apply:</span></span>  
  
-   <span data-ttu-id="68cfb-143">Das Sichern und Wiederherstellen der Spiegeldatenbank ist nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="68cfb-143">Backup and restore of the mirror database are not allowed.</span></span>  
  
-   <span data-ttu-id="68cfb-144">Das Sichern der Prinzipaldatenbank ist zulässig, BACKUP LOG WITH NORECOVERY ist jedoch nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="68cfb-144">Backup of the principal database is allowed, but BACKUP LOG WITH NORECOVERY is not allowed.</span></span>  
  
-   <span data-ttu-id="68cfb-145">Das Wiederherstellen der Prinzipaldatenbank ist nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="68cfb-145">Restoring the principal database is not allowed.</span></span>  
  
##  <a name="piecemeal-restore-and-full-text-indexes"></a><a name="PiecemealAndFTIndexes"></a> <span data-ttu-id="68cfb-146">Schrittweise Wiederherstellung und Volltextindizes</span><span class="sxs-lookup"><span data-stu-id="68cfb-146">Piecemeal Restore and Full-Text Indexes</span></span>  
 <span data-ttu-id="68cfb-147">Dieser Abschnitt betrifft nur Datenbanken mit mehreren Dateigruppen und bei Datenbanken mit einfachem Modell nur schreibgeschützte Dateigruppen.</span><span class="sxs-lookup"><span data-stu-id="68cfb-147">This section is relevant only for databases that contain multiple filegroups and, for the simple-model databases, only for read-only filegroups.</span></span>  
  
 <span data-ttu-id="68cfb-148">Volltextindizes werden in Datenbankdateigruppen gespeichert und können von einer schrittweisen Wiederherstellung betroffen sein.</span><span class="sxs-lookup"><span data-stu-id="68cfb-148">Full-text indexes are stored in database filegroups and can be affected by a piecemeal restore.</span></span> <span data-ttu-id="68cfb-149">Wenn sich ein Volltextindex in derselben Dateigruppe befindet wie zugehörige Tabellendaten, wird die schrittweise Wiederherstellung ordnungsgemäß ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="68cfb-149">If the full-text index resides in the same filegroup as any of the associated table data, piecemeal restore works as expected.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="68cfb-150">Wählen Sie zum Anzeigen der Dateigruppen-ID der Dateigruppe, die einen Volltextindex enthält, die data_space_id-Spalte von [sys.fulltext_indexes](/sql/relational-databases/system-catalog-views/sys-fulltext-indexes-transact-sql)aus.</span><span class="sxs-lookup"><span data-stu-id="68cfb-150">To view the filegroup ID of the filegroup that contains a full-text index, select the data_space_id column of [sys.fulltext_indexes](/sql/relational-databases/system-catalog-views/sys-fulltext-indexes-transact-sql).</span></span>  
  
### <a name="full-text-indexes-and-tables-in-separate-filegroups"></a><span data-ttu-id="68cfb-151">Volltextindizes und -tabellen in separaten Dateigruppen</span><span class="sxs-lookup"><span data-stu-id="68cfb-151">Full-Text Indexes and Tables in Separate Filegroups</span></span>  
 <span data-ttu-id="68cfb-152">Wenn sich ein Volltextindex in einer separaten Dateigruppe getrennt von allen zugehörigen Tabellendaten befindet, hängt das Verhalten der schrittweisen Wiederherstellung davon ab, welche Dateigruppe zuerst wiederhergestellt und online geschaltet wird:</span><span class="sxs-lookup"><span data-stu-id="68cfb-152">If a full-text index resides in a separate filegroup from all of the associated table data, the behavior of piecemeal restore depends on which of the filegroups is restored and brought online first:</span></span>  
  
-   <span data-ttu-id="68cfb-153">Wenn die Dateigruppe, in der der Volltextindex enthalten ist, vor den Dateigruppen mit den zugehörigen Tabellendaten wiederhergestellt und online geschaltet wird, wird die Volltextsuche ordnungsgemäß ausgeführt, sobald der Volltextindex online ist.</span><span class="sxs-lookup"><span data-stu-id="68cfb-153">If the filegroup that contains the full-text index is restored and brought online before the filegroups that contain the associated table data, full-text search works as expected as soon as the full-text index is online.</span></span>  
  
-   <span data-ttu-id="68cfb-154">Wenn die Dateigruppe, in der die Tabellendaten enthalten sind, vor der Dateigruppe mit dem Volltextindex wiederhergestellt und online geschaltet wird, kann das Volltextverhalten davon betroffen sein.</span><span class="sxs-lookup"><span data-stu-id="68cfb-154">If the filegroup that contains the table data is restored and brought online before the filegroup that contains the full-text index, full-text behavior might be affected.</span></span> <span data-ttu-id="68cfb-155">Das liegt daran, dass [!INCLUDE[tsql](../../includes/tsql-md.md)] -Anweisungen, die eine Auffüllung auslösen oder den Katalog neu erstellen oder neu organisieren, so lange fehlschlagen, bis der Index online geschaltet wird.</span><span class="sxs-lookup"><span data-stu-id="68cfb-155">This is because [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that trigger a population, rebuild the catalog, or reorganize the catalog fail until the index is brought online.</span></span> <span data-ttu-id="68cfb-156">Zu diesen Anweisungen zählen CREATE FULLTEXT INDEX, ALTER FULLTEXT INDEX, DROP FULLTEXT INDEX und ALTER FULLTEXT CATALOG.</span><span class="sxs-lookup"><span data-stu-id="68cfb-156">These statements include CREATE FULLTEXT INDEX, ALTER FULLTEXT INDEX, DROP FULLTEXT INDEX, and ALTER FULLTEXT CATALOG.</span></span>  
  
     <span data-ttu-id="68cfb-157">In diesem Fall sind die folgenden Faktoren signifikant:</span><span class="sxs-lookup"><span data-stu-id="68cfb-157">In this case, the following factors are significant:</span></span>  
  
    -   <span data-ttu-id="68cfb-158">Wenn für den Volltextindex die Änderungsnachverfolgung aktiviert ist, schlagen die DML-Anweisungen des Benutzers so lange fehl, bis die Indexdateigruppe online geschaltet wird.</span><span class="sxs-lookup"><span data-stu-id="68cfb-158">If the full-text index has change tracking, user DML will fail until the index filegroup is brought online.</span></span> <span data-ttu-id="68cfb-159">Auch Löschvorgänge schlagen so lange fehl, bis die Indexdateigruppe online ist.</span><span class="sxs-lookup"><span data-stu-id="68cfb-159">Delete operation will also fail until the index filegroup is online.</span></span>  
  
    -   <span data-ttu-id="68cfb-160">Unabhängig von der Änderungsnachverfolgung wird bei Volltextabfragen ein Fehler gemeldet, weil der Index nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="68cfb-160">Regardless of change tracking, full-text queries fail because the index is not available.</span></span> <span data-ttu-id="68cfb-161">Wenn versucht wird, eine Volltextabfrage auszuführen, während die Dateigruppe mit dem Volltextindex offline ist, wird ein Fehler zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="68cfb-161">If a full-text query is tried when the filegroup that contains the full-text index is offline, an error is returned.</span></span>  
  
    -   <span data-ttu-id="68cfb-162">Statusfunktionen (z. B. FULLTEXTCATALOGPROPERTY) werden nur dann erfolgreich ausgeführt, wenn sie nicht auf den Volltextindex zugreifen müssen.</span><span class="sxs-lookup"><span data-stu-id="68cfb-162">Status functions (such as FULLTEXTCATALOGPROPERTY) succeed only when they do not have to access full-text index.</span></span> <span data-ttu-id="68cfb-163">Beispielsweise ist der Zugriff auf Online-Volltextmetadaten möglich, für **uniquekeycount, itemcount** wird jedoch ein Fehler ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="68cfb-163">For example, access to any online full-text metadata would succeed, but **uniquekeycount, itemcount** would fail.</span></span>  
  
     <span data-ttu-id="68cfb-164">Nachdem die Volltextindex-Dateigruppe wiederhergestellt und online geschaltet wurde, sind die Index- und Tabellendaten konsistent.</span><span class="sxs-lookup"><span data-stu-id="68cfb-164">After the full-text index filegroup is restored and brought online, the index data and table data are consistent.</span></span>  
  
 <span data-ttu-id="68cfb-165">Sobald sowohl die Tabellendateigruppe als auch die Volltextindex-Dateigruppe online sind, wird eine ggf. angehaltene Volltextauffüllung fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="68cfb-165">As soon as both the base table filegroup and the full-text index filegroup are online, any paused full-text population is resumed.</span></span>  
  
##  <a name="file-backup-and-restore-and-compression"></a><a name="FileBnRandCompression"></a> <span data-ttu-id="68cfb-166">Dateisicherung und -wiederherstellung und die Komprimierung</span><span class="sxs-lookup"><span data-stu-id="68cfb-166">File Backup and Restore and Compression</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="68cfb-167">unterstützt die NTFS-Dateisystemkomprimierung schreibgeschützter Dateigruppen und Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="68cfb-167">supports NTFS file system data compression of read-only filegroups and read-only databases.</span></span>  
  
 <span data-ttu-id="68cfb-168">Das Wiederherstellen von Dateien in einer schreibgeschützten Dateigruppe wird für komprimierte NTFS-Dateien unterstützt.</span><span class="sxs-lookup"><span data-stu-id="68cfb-168">Restoring files in a read-only filegroup is supported on compressed NTFS files.</span></span> <span data-ttu-id="68cfb-169">Das Sichern und Wiederherstellen dieser Dateigruppen erfolgt im Prinzip wie bei jeder anderen schreibgeschützten Dateigruppe, jedoch mit folgenden Ausnahmen:</span><span class="sxs-lookup"><span data-stu-id="68cfb-169">Backup and restore of these filegroups works essentially as it would for any read-only filegroup, with the following exceptions:</span></span>  
  
-   <span data-ttu-id="68cfb-170">Beim Wiederherstellen einer Datei mit Lese-/Schreibschutz (einschließlich der primären Dateien oder Protokolldateien einer Datenbank mit Lese-/Schreibschutz) in einem komprimierten Volume wird eine Fehlermeldung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="68cfb-170">Restoring a read-write file (including the primary or log files of a read-write database) to a compressed volume fails and displays an error.</span></span>  
  
-   <span data-ttu-id="68cfb-171">Das Wiederherstellen einer schreibgeschützten Datenbank in einem komprimierten Volume ist zulässig.</span><span class="sxs-lookup"><span data-stu-id="68cfb-171">Restoring a read-only database to a compressed volume is allowed.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="68cfb-172">Protokolldateien von Datenbanken mit Lese-/Schreibzugriff sollten unter keinen Umständen in komprimierten Dateisystemen gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="68cfb-172">Log files of read/write databases should never be placed on compressed file systems.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="68cfb-173">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="68cfb-173">Related Tasks</span></span>  
  
-   [<span data-ttu-id="68cfb-174">Vorbereiten einer Spiegeldatenbank auf die Spiegelung &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="68cfb-174">Prepare a Mirror Database for Mirroring &#40;SQL Server&#41;</span></span>](../../database-engine/database-mirroring/prepare-a-mirror-database-for-mirroring-sql-server.md)  
  
-   [<span data-ttu-id="68cfb-175">Sichern und Wiederherstellen von Volltextkatalogen und Indizes</span><span class="sxs-lookup"><span data-stu-id="68cfb-175">Back Up and Restore Full-Text Catalogs and Indexes</span></span>](../search/back-up-and-restore-full-text-catalogs-and-indexes.md)  
  
## <a name="see-also"></a><span data-ttu-id="68cfb-176">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="68cfb-176">See Also</span></span>  
 <span data-ttu-id="68cfb-177">[Sichern und Wiederherstellen von SQL Server-Datenbanken](back-up-and-restore-of-sql-server-databases.md) </span><span class="sxs-lookup"><span data-stu-id="68cfb-177">[Back Up and Restore of SQL Server Databases](back-up-and-restore-of-sql-server-databases.md) </span></span>  
 <span data-ttu-id="68cfb-178">[Sichern und Wiederherstellen von replizierten Datenbanken](../replication/administration/back-up-and-restore-replicated-databases.md) </span><span class="sxs-lookup"><span data-stu-id="68cfb-178">[Back Up and Restore Replicated Databases](../replication/administration/back-up-and-restore-replicated-databases.md) </span></span>  
 [<span data-ttu-id="68cfb-179">Aktive sekundäre Replikate: Sicherung auf sekundären Replikaten &#40;AlwaysOn-Verfügbarkeitsgruppen&#41;</span><span class="sxs-lookup"><span data-stu-id="68cfb-179">Active Secondaries: Backup on Secondary Replicas &#40;AlwaysOn Availability Groups&#41;</span></span>](../../database-engine/availability-groups/windows/active-secondaries-backup-on-secondary-replicas-always-on-availability-groups.md)  
  
  
