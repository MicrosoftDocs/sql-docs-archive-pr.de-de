---
title: Benutzerdefinierte Funktionen | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- user-defined functions [SQL Server], components
- user-defined functions [SQL Server], about user-defined functions
ms.assetid: d7ddafab-f5a6-44b0-81d5-ba96425aada4
author: rothja
ms.author: jroth
ms.openlocfilehash: c7e4b1a77f2fe5a13e21d8b3fe59e37931669b30
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87607592"
---
# <a name="user-defined-functions"></a><span data-ttu-id="fc1e5-102">Benutzerdefinierte Funktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-102">User-Defined Functions</span></span>
  <span data-ttu-id="fc1e5-103">Ebenso wie Funktionen in Programmiersprachen sind auch benutzerdefinierte Funktionen von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Routinen, die Parameter annehmen, eine Aktion ausführen (z. B. eine komplexe Berechnung) und das Ergebnis dieser Aktion als Wert zurückgeben können.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-103">Like functions in programming languages, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] user-defined functions are routines that accept parameters, perform an action, such as a complex calculation, and return the result of that action as a value.</span></span> <span data-ttu-id="fc1e5-104">Der Rückgabewert kann ein einzelner Skalarwert oder ein Resultset sein.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-104">The return value can either be a single scalar value or a result set.</span></span>  
  
 <span data-ttu-id="fc1e5-105">**In diesem Thema**</span><span class="sxs-lookup"><span data-stu-id="fc1e5-105">**In This Topic**</span></span>  
  
 [<span data-ttu-id="fc1e5-106">Vorteile von benutzerdefinierten Funktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-106">User-defined Function Benefits</span></span>](#Benefits)  
  
 [<span data-ttu-id="fc1e5-107">Funktionstypen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-107">Types of Functions</span></span>](#FunctionTypes)  
  
 [<span data-ttu-id="fc1e5-108">Richtlinien</span><span class="sxs-lookup"><span data-stu-id="fc1e5-108">Guidelines</span></span>](#Guidelines)  
  
 [<span data-ttu-id="fc1e5-109">Gültige Anweisungen in einer Funktion</span><span class="sxs-lookup"><span data-stu-id="fc1e5-109">Valid Statements in a Function</span></span>](#ValidStatements)  
  
 [<span data-ttu-id="fc1e5-110">Schemagebundene Funktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-110">Schema Bound Functions</span></span>](#SchemaBound)  
  
 [<span data-ttu-id="fc1e5-111">Angeben von Parametern</span><span class="sxs-lookup"><span data-stu-id="fc1e5-111">Specifying Parameters</span></span>](#Parameters)  
  
 [<span data-ttu-id="fc1e5-112">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="fc1e5-112">Related Tasks</span></span>](#Tasks)  
  
##  <a name="user-defined-function-benefits"></a><a name="Benefits"></a><span data-ttu-id="fc1e5-113">Vorteile von benutzerdefinierten Funktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-113">User-defined Function Benefits</span></span>  
 <span data-ttu-id="fc1e5-114">Benutzerdefinierte Funktionen bieten in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] die folgenden Vorteile:</span><span class="sxs-lookup"><span data-stu-id="fc1e5-114">The benefits of using user-defined functions in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are:</span></span>  
  
-   <span data-ttu-id="fc1e5-115">Modulare Programmierung.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-115">They allow modular programming.</span></span>  
  
     <span data-ttu-id="fc1e5-116">Sie können die Funktion einmal erstellen, sie dann in der Datenbank speichern und beliebig oft in einem Programm aufrufen.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-116">You can create the function once, store it in the database, and call it any number of times in your program.</span></span> <span data-ttu-id="fc1e5-117">Benutzerdefinierte Funktionen können unabhängig vom Programmquellcode geändert werden.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-117">User-defined functions can be modified independently of the program source code.</span></span>  
  
-   <span data-ttu-id="fc1e5-118">Schnellere Ausführung.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-118">They allow faster execution.</span></span>  
  
     <span data-ttu-id="fc1e5-119">Ähnlich wie gespeicherte Prozeduren verringern auch benutzerdefinierte Funktionen von [!INCLUDE[tsql](../../includes/tsql-md.md)] die Kompilierungskosten von [!INCLUDE[tsql](../../includes/tsql-md.md)] -Code, da die Pläne zwischengespeichert und für wiederholte Ausführungen erneut verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-119">Similar to stored procedures, [!INCLUDE[tsql](../../includes/tsql-md.md)] user-defined functions reduce the compilation cost of [!INCLUDE[tsql](../../includes/tsql-md.md)] code by caching the plans and reusing them for repeated executions.</span></span> <span data-ttu-id="fc1e5-120">Dies bedeutet, dass die benutzerdefinierte Funktion nicht für jede Verwendung neu analysiert und optimiert werden muss; aus diesem Umstand ergeben sich wesentlich schnellere Ausführungszeiten.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-120">This means the user-defined function does not need to be reparsed and reoptimized with each use resulting in much faster execution times.</span></span>  
  
     <span data-ttu-id="fc1e5-121">CLR-Funktionen bieten gegenüber [!INCLUDE[tsql](../../includes/tsql-md.md)] -Funktionen für Berechnungsaufgaben, Zeichenfolgebearbeitung und Geschäftslogik erhebliche Leistungsvorteile.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-121">CLR functions offer significant performance advantage over [!INCLUDE[tsql](../../includes/tsql-md.md)] functions for computational tasks, string manipulation, and business logic.</span></span> [!INCLUDE[tsql](../../includes/tsql-md.md)]<span data-ttu-id="fc1e5-122">-Funktionen sind besser für datenzugriffsintensive Programmlogik geeignet.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-122">functions are better suited for data-access intensive logic.</span></span>  
  
-   <span data-ttu-id="fc1e5-123">Reduzierung der Netzwerkverkehrs.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-123">They can reduce network traffic.</span></span>  
  
     <span data-ttu-id="fc1e5-124">Eine Operation, die Daten basierend auf einer komplexen Einschränkung filtert, die nicht als einzelner Skalarausdruck ausgedrückt werden kann, kann als Funktion definiert werden.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-124">An operation that filters data based on some complex constraint that cannot be expressed in a single scalar expression can be expressed as a function.</span></span> <span data-ttu-id="fc1e5-125">Diese Funktion kann anschließend in der WHERE-Klausel aufgerufen werden, um die Anzahl der Zeilen zu verringern, die an den Client gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-125">The function can then invoked in the WHERE clause to reduce the number or rows sent to the client.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fc1e5-126">Benutzerdefinierte [!INCLUDE[tsql](../../includes/tsql-md.md)]-Funktionen in Abfragen können nur auf einem einzelnen Thread (serieller Ausführungsplan) ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-126">[!INCLUDE[tsql](../../includes/tsql-md.md)] user-defined functions in queries can only be executed on a single thread (serial execution plan).</span></span>  
  
##  <a name="types-of-functions"></a><a name="FunctionTypes"></a><span data-ttu-id="fc1e5-127">Funktionstypen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-127">Types of Functions</span></span>  
 <span data-ttu-id="fc1e5-128">Skalarfunktion</span><span class="sxs-lookup"><span data-stu-id="fc1e5-128">Scalar Function</span></span>  
 <span data-ttu-id="fc1e5-129">Benutzerdefinierte Skalarfunktionen geben einen einzelnen Datenwert des definierten Datentyps in einer RETURNS-Klausel zurück.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-129">User-defined scalar functions return a single data value of the type defined in the RETURNS clause.</span></span> <span data-ttu-id="fc1e5-130">Bei einer Inlineskalarfunktion gibt es keinen Funktionshauptteil; der Skalarwert ist das Ergebnis einer einzelnen SELECT-Anweisung.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-130">For an inline scalar function, there is no function body; the scalar value is the result of a single statement.</span></span> <span data-ttu-id="fc1e5-131">Bei einer aus mehreren Anweisungen bestehenden Skalarfunktion enthält der in einem BEGIN…END-Block definierte Hauptteil der Funktion eine Reihe von [!INCLUDE[tsql](../../includes/tsql-md.md)] -Anweisungen, die den einzelnen Wert zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-131">For a multistatement scalar function, the function body, defined in a BEGIN...END block, contains a series of [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that return the single value.</span></span> <span data-ttu-id="fc1e5-132">Der Rückgabetyp kann ein beliebiger Datentypen mit Ausnahme von `text`, `ntext`, `image`, `cursor` und `timestamp` sein.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-132">The return type can be any data type except `text`, `ntext`, `image`, `cursor`, and `timestamp`.</span></span>  
  
 <span data-ttu-id="fc1e5-133">Table-Valued Functions</span><span class="sxs-lookup"><span data-stu-id="fc1e5-133">Table-Valued Functions</span></span>  
 <span data-ttu-id="fc1e5-134">Benutzerdefinierte Tabellenwertfunktionen geben einen `table`-Datentyp zurück.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-134">User-defined table-valued functions return a `table` data type.</span></span> <span data-ttu-id="fc1e5-135">Bei einer Inlinefunktion mit Tabellenrückgabe gibt es keinen Funktionshauptteil; die Tabelle ist das Resultset einer einzelnen SELECT-Anweisung.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-135">For an inline table-valued function, there is no function body; the table is the result set of a single SELECT statement.</span></span>  
  
 <span data-ttu-id="fc1e5-136">Systemfunktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-136">System Functions</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="fc1e5-137">stellt viele Systemfunktionen bereit, mit denen Sie eine Vielzahl von Vorgängen ausführen können.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-137">provides many system functions that you can use to perform a variety of operations.</span></span> <span data-ttu-id="fc1e5-138">Sie können nicht geändert werden.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-138">They cannot be modified.</span></span> <span data-ttu-id="fc1e5-139">Weitere Informationen finden Sie unter [Integrierte Funktionen &#40;Transact-SQL&#41;](/sql/t-sql/functions/functions), [Systemgespeicherte Funktionen &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/system-functions-for-transact-sql) und [Dynamische Verwaltungssichten und -funktionen &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/system-dynamic-management-views).</span><span class="sxs-lookup"><span data-stu-id="fc1e5-139">For more information, see [Built-in Functions &#40;Transact-SQL&#41;](/sql/t-sql/functions/functions), [System Stored Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/system-functions-for-transact-sql), and [Dynamic Management Views and Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/system-dynamic-management-views).</span></span>  
  
##  <a name="guidelines"></a><a name="Guidelines"></a> <span data-ttu-id="fc1e5-140">Richtlinien</span><span class="sxs-lookup"><span data-stu-id="fc1e5-140">Guidelines</span></span>  
 [!INCLUDE[tsql](../../includes/tsql-md.md)]<span data-ttu-id="fc1e5-141">-Fehler, die dazu führen, dass eine Anweisung abgebrochen und mit der nächsten Anweisung fortgefahren wird (z.B. Trigger oder gespeicherte Prozeduren), werden innerhalb einer Funktion anders behandelt.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-141">errors that cause a statement to be canceled and continue with the next statement in the module (such as triggers or stored procedures) are treated differently inside a function.</span></span> <span data-ttu-id="fc1e5-142">In Funktionen bewirken solche Fehler, dass die Ausführung der Funktion beendet wird.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-142">In functions, such errors cause the execution of the function to stop.</span></span> <span data-ttu-id="fc1e5-143">Dies hat wiederum zur Folge, dass die Anweisung abgebrochen wird, die die Funktion aufgerufen hat.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-143">This in turn causes the statement that invoked the function to be canceled.</span></span>  
  
 <span data-ttu-id="fc1e5-144">Die Anweisungen in einem BEGIN…END-Block dürfen keine Nebeneffekte haben.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-144">The statements in a BEGIN...END block cannot have any side effects.</span></span> <span data-ttu-id="fc1e5-145">Nebeneffekte von Funktionen sind dauerhafte Änderungen am Status einer Ressource, deren Gültigkeitsbereich außerhalb der Funktion liegt, wie z. B. Änderungen an einer Datenbanktabelle.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-145">Function side effects are any permanent changes to the state of a resource that has a scope outside the function such as a modification to a database table.</span></span> <span data-ttu-id="fc1e5-146">Die einzigen Änderungen, die von den Anweisungen in der Funktion vorgenommen werden dürfen, sind Änderungen an lokalen Objekten der Funktion, wie z. B. lokale Cursor oder Variablen.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-146">The only changes that can be made by the statements in the function are changes to objects local to the function, such as local cursors or variables.</span></span> <span data-ttu-id="fc1e5-147">Änderungen an Datenbanktabellen, Cursorvorgänge außerhalb der Funktion, das Senden von E-Mails, das Ausführen einer Katalogänderung und das Generieren eines Resultsets, das an den Benutzer zurückgegeben wird, sind Beispiele für Aktionen, die in einer Funktion nicht ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-147">Modifications to database tables, operations on cursors that are not local to the function, sending e-mail, attempting a catalog modification, and generating a result set that is returned to the user are examples of actions that cannot be performed in a function.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fc1e5-148">Wenn eine CREATE FUNCTION-Anweisung zu Nebeneffekten bei Ressourcen führt, die beim Ausgeben der CREATE FUNCTION-Anweisung nicht vorhanden sind, führt [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] die Anweisung aus.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-148">If a CREATE FUNCTION statement produces side effects against resources that do not exist when the CREATE FUNCTION statement is issued, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] executes the statement.</span></span> <span data-ttu-id="fc1e5-149">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] führt die Funktion jedoch beim Aufrufen nicht aus.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-149">However, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] does not execute the function when it is invoked.</span></span>  
  
 <span data-ttu-id="fc1e5-150">Wie oft eine in einer Abfrage angegebene Funktion tatsächlich ausgeführt wird, kann bei den vom Abfrageoptimierer erstellten Ausführungsplänen variieren.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-150">The number of times that a function specified in a query is actually executed can vary between execution plans built by the optimizer.</span></span> <span data-ttu-id="fc1e5-151">Ein Beispiel hierfür ist eine Funktion, die von einer Unterabfrage in einer WHERE-Klausel aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-151">An example is a function invoked by a subquery in a WHERE clause.</span></span> <span data-ttu-id="fc1e5-152">Wie oft die Unterabfrage und deren Funktion ausgeführt wird, kann bei den verschiedenen Zugriffsmethoden variieren, die der Abfrageoptimierer auswählt.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-152">The number of times the subquery and its function is executed can vary with different access paths chosen by the optimizer.</span></span>  
  
##  <a name="valid-statements-in-a-function"></a><a name="ValidStatements"></a><span data-ttu-id="fc1e5-153">Gültige Anweisungen in einer Funktion</span><span class="sxs-lookup"><span data-stu-id="fc1e5-153">Valid Statements in a Function</span></span>  
 <span data-ttu-id="fc1e5-154">Die folgenden Anweisungstypen sind in einer Funktion zulässig:</span><span class="sxs-lookup"><span data-stu-id="fc1e5-154">The types of statements that are valid in a function include:</span></span>  
  
-   <span data-ttu-id="fc1e5-155">DECLARE-Anweisungen zum Definieren von lokalen Datenvariablen und lokalen Cursorn für die Funktion.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-155">DECLARE statements can be used to define data variables and cursors that are local to the function.</span></span>  
  
-   <span data-ttu-id="fc1e5-156">Zuweisungen von Werten zu lokalen Objekten für die Funktion, wie z. B. das Zuweisen von Werten zu lokalen Skalar- und Tabellenwerten mithilfe von SET.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-156">Assignments of values to objects local to the function, such as using SET to assign values to scalar and table local variables.</span></span>  
  
-   <span data-ttu-id="fc1e5-157">Cursorvorgänge, die auf lokale Cursor verweisen, die in der Funktion deklariert, geöffnet, geschlossen und deren Zuordnungen aufgehoben werden.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-157">Cursor operations that reference local cursors that are declared, opened, closed, and deallocated in the function.</span></span> <span data-ttu-id="fc1e5-158">FETCH-Anweisungen, die Daten an den Client zurückgeben, sind nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-158">FETCH statements that return data to the client are not allowed.</span></span> <span data-ttu-id="fc1e5-159">Nur FETCH-Anweisungen, die lokalen Variablen Werte mithilfe der INTO-Klausel zuweisen, sind zulässig.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-159">Only FETCH statements that assign values to local variables using the INTO clause are allowed.</span></span>  
  
-   <span data-ttu-id="fc1e5-160">Anweisungen zur Ablaufsteuerung mit Ausnahme von TRY...CATCH-Anweisungen.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-160">Control-of-flow statements except TRY...CATCH statements.</span></span>  
  
-   <span data-ttu-id="fc1e5-161">SELECT-Anweisungen, die Auswahllisten mit Ausdrücken enthalten, in denen Werte Variablen zugewiesen werden, die in der Funktion lokal gelten.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-161">SELECT statements containing select lists with expressions that assign values to variables that are local to the function.</span></span>  
  
-   <span data-ttu-id="fc1e5-162">UPDATE-, INSERT- und DELETE-Anweisungen, die lokale Tabellenvariablen der Funktion ändern.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-162">UPDATE, INSERT, and DELETE statements modifying table variables that are local to the function.</span></span>  
  
-   <span data-ttu-id="fc1e5-163">EXECUTE-Anweisungen, die eine erweiterte gespeicherte Prozedur aufrufen.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-163">EXECUTE statements calling an extended stored procedure.</span></span>  
  
### <a name="built-in-system-functions"></a><span data-ttu-id="fc1e5-164">Integrierte Systemfunktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-164">Built-in System Functions</span></span>  
 <span data-ttu-id="fc1e5-165">Die folgenden nicht deterministischen integrierten Funktionen können in benutzerdefinierten Transact-SQL-Funktionen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-165">The following nondeterministic built-in functions can be used in Transact-SQL user-defined functions.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="fc1e5-166">CURRENT_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="fc1e5-166">CURRENT_TIMESTAMP</span></span>|<span data-ttu-id="fc1e5-167">@@MAX_CONNECTIONS</span><span class="sxs-lookup"><span data-stu-id="fc1e5-167">@@MAX_CONNECTIONS</span></span>|  
|<span data-ttu-id="fc1e5-168">GET_TRANSMISSION_STATUS</span><span class="sxs-lookup"><span data-stu-id="fc1e5-168">GET_TRANSMISSION_STATUS</span></span>|<span data-ttu-id="fc1e5-169">@@PACK_RECEIVED</span><span class="sxs-lookup"><span data-stu-id="fc1e5-169">@@PACK_RECEIVED</span></span>|  
|<span data-ttu-id="fc1e5-170">GETDATE</span><span class="sxs-lookup"><span data-stu-id="fc1e5-170">GETDATE</span></span>|<span data-ttu-id="fc1e5-171">@@PACK_SENT</span><span class="sxs-lookup"><span data-stu-id="fc1e5-171">@@PACK_SENT</span></span>|  
|<span data-ttu-id="fc1e5-172">GETUTCDATE</span><span class="sxs-lookup"><span data-stu-id="fc1e5-172">GETUTCDATE</span></span>|<span data-ttu-id="fc1e5-173">@@PACKET_ERRORS</span><span class="sxs-lookup"><span data-stu-id="fc1e5-173">@@PACKET_ERRORS</span></span>|  
|<span data-ttu-id="fc1e5-174">@@CONNECTIONS</span><span class="sxs-lookup"><span data-stu-id="fc1e5-174">@@CONNECTIONS</span></span>|<span data-ttu-id="fc1e5-175">@@TIMETICKS</span><span class="sxs-lookup"><span data-stu-id="fc1e5-175">@@TIMETICKS</span></span>|  
|<span data-ttu-id="fc1e5-176">@@CPU_BUSY</span><span class="sxs-lookup"><span data-stu-id="fc1e5-176">@@CPU_BUSY</span></span>|<span data-ttu-id="fc1e5-177">@@TOTAL_ERRORS</span><span class="sxs-lookup"><span data-stu-id="fc1e5-177">@@TOTAL_ERRORS</span></span>|  
|<span data-ttu-id="fc1e5-178">@@DBTS</span><span class="sxs-lookup"><span data-stu-id="fc1e5-178">@@DBTS</span></span>|<span data-ttu-id="fc1e5-179">@@TOTAL_READ</span><span class="sxs-lookup"><span data-stu-id="fc1e5-179">@@TOTAL_READ</span></span>|  
|<span data-ttu-id="fc1e5-180">@@IDLE</span><span class="sxs-lookup"><span data-stu-id="fc1e5-180">@@IDLE</span></span>|<span data-ttu-id="fc1e5-181">@@TOTAL_WRITE</span><span class="sxs-lookup"><span data-stu-id="fc1e5-181">@@TOTAL_WRITE</span></span>|  
|<span data-ttu-id="fc1e5-182">@@IO_BUSY</span><span class="sxs-lookup"><span data-stu-id="fc1e5-182">@@IO_BUSY</span></span>||  
  
 <span data-ttu-id="fc1e5-183">Die folgenden nicht deterministischen integrierten Funktionen können in benutzerdefinierten Transact-SQL-Funktionen nicht verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-183">The following nondeterministic built-in functions cannot be used in Transact-SQL user-defined functions.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="fc1e5-184">NEWID</span><span class="sxs-lookup"><span data-stu-id="fc1e5-184">NEWID</span></span>|<span data-ttu-id="fc1e5-185">RAND</span><span class="sxs-lookup"><span data-stu-id="fc1e5-185">RAND</span></span>|  
|<span data-ttu-id="fc1e5-186">NEWSEQUENTIALID</span><span class="sxs-lookup"><span data-stu-id="fc1e5-186">NEWSEQUENTIALID</span></span>|<span data-ttu-id="fc1e5-187">TEXTPTR</span><span class="sxs-lookup"><span data-stu-id="fc1e5-187">TEXTPTR</span></span>|  
  
 <span data-ttu-id="fc1e5-188">Eine Liste der deterministischen und nicht deterministischen integrierten Systemfunktionen finden Sie unter [Deterministische und nicht deterministische Funktionen](../user-defined-functions/deterministic-and-nondeterministic-functions.md).</span><span class="sxs-lookup"><span data-stu-id="fc1e5-188">For a list of deterministic and nondeterministic built-in system functions, see [Deterministic and Nondeterministic Functions](../user-defined-functions/deterministic-and-nondeterministic-functions.md).</span></span>  
  
##  <a name="schema-bound-functions"></a><a name="SchemaBound"></a><span data-ttu-id="fc1e5-189">Schema gebundene Funktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-189">Schema-Bound Functions</span></span>  
 <span data-ttu-id="fc1e5-190">CREATE FUNCTION unterstützt eine SCHEMABINDING-Klausel, die die Funktion an das Schema von Objekten bindet, auf die verwiesen wird, wie z. B. Tabellen, Sichten und andere benutzerdefinierte Funktionen.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-190">CREATE FUNCTION supports a SCHEMABINDING clause that binds the function to the schema of any objects it references, such as tables, views, and other user-defined functions.</span></span> <span data-ttu-id="fc1e5-191">Der Versuch, ein Objekt zu ändern oder zu löschen, auf das von einer schemagebundenen Funktion verwiesen wird, erzeugt einen Fehler.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-191">An attempt to alter or drop any object referenced by a schema-bound function fails.</span></span>  
  
 <span data-ttu-id="fc1e5-192">Die folgenden Bedingungen müssen erfüllt sein, um SCHEMABINDING in CREATE FUNCTION angeben zu können:</span><span class="sxs-lookup"><span data-stu-id="fc1e5-192">These conditions must be met before you can specify SCHEMABINDING in CREATE FUNCTION:</span></span>  
  
-   <span data-ttu-id="fc1e5-193">Alle Sichten und benutzerdefinierten Funktionen, auf die die Funktion verweist, müssen schemagebunden sein.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-193">All views and user-defined functions referenced by the function must be schema-bound.</span></span>  
  
-   <span data-ttu-id="fc1e5-194">Alle Objekte, auf die die Funktion verweist, müssen sich in derselben Datenbank wie die Funktion befinden.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-194">All objects referenced by the function must be in the same database as the function.</span></span> <span data-ttu-id="fc1e5-195">Auf die Objekte muss mit ein- oder zweiteiligen Namen verwiesen werden.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-195">The objects must be referenced using either one-part or two-part names.</span></span>  
  
-   <span data-ttu-id="fc1e5-196">Sie benötigen die REFERENCES-Berechtigung für alle Objekte (Tabellen, Sichten und benutzerdefinierte Funktion), auf die in der Funktion verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-196">You must have REFERENCES permission on all objects (tables, views, and user-defined functions) referenced in the function.</span></span>  
  
 <span data-ttu-id="fc1e5-197">Mit ALTER FUNCTION können Sie die Schemabindung entfernen.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-197">You can use ALTER FUNCTION to remove the schema binding.</span></span> <span data-ttu-id="fc1e5-198">Die ALTER FUNCTION-Anweisung sollte die Funktion neu definieren, ohne WITH SCHEMABINDING anzugeben.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-198">The ALTER FUNCTION statement should redefine the function without specifying WITH SCHEMABINDING.</span></span>  
  
##  <a name="specifying-parameters"></a><a name="Parameters"></a><span data-ttu-id="fc1e5-199">Angeben von Parametern</span><span class="sxs-lookup"><span data-stu-id="fc1e5-199">Specifying Parameters</span></span>  
 <span data-ttu-id="fc1e5-200">Eine benutzerdefinierte Funktion verwendet null oder mehr Eingabeparameter und gibt einen Skalarwert oder eine Tabelle zurück.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-200">A user-defined function takes zero or more input parameters and returns either a scalar value or a table.</span></span> <span data-ttu-id="fc1e5-201">Eine Funktion kann maximal 1024 Eingabeparameter haben.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-201">A function can have a maximum of 1024 input parameters.</span></span> <span data-ttu-id="fc1e5-202">Wenn ein Parameter der Funktion über einen Standardwert verfügt, muss beim Aufrufen der Funktion das DEFAULT-Schlüsselwort angegeben werden, um den Standardwert zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-202">When a parameter of the function has a default value, the keyword DEFAULT must be specified when calling the function to get the default value.</span></span> <span data-ttu-id="fc1e5-203">In diesem Punkt gibt es einen Unterschied zu den Parametern einer benutzerdefinierten gespeicherten Prozedur. Fehlt im Aufruf einer benutzerdefinierten gespeicherten Prozedur ein Parameter, der einen Standardwert hat, wird automatisch dieser Standardwert verwendet.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-203">This behavior is different from parameters with default values in user-defined stored procedures in which omitting the parameter also implies the default value.</span></span> <span data-ttu-id="fc1e5-204">Benutzerdefinierte Funktionen unterstützen keine Ausgabeparameter.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-204">User-defined functions do not support output parameters.</span></span>  
  
##  <a name="related-tasks"></a><a name="Tasks"></a> <span data-ttu-id="fc1e5-205">Verwandte Aufgaben</span><span class="sxs-lookup"><span data-stu-id="fc1e5-205">Related Tasks</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="fc1e5-206">**Taskbeschreibung**</span><span class="sxs-lookup"><span data-stu-id="fc1e5-206">**Task Description**</span></span>|<span data-ttu-id="fc1e5-207">**Thema**</span><span class="sxs-lookup"><span data-stu-id="fc1e5-207">**Topic**</span></span>|  
|<span data-ttu-id="fc1e5-208">Beschreibt, wie eine benutzerdefinierte Transact-SQL-Funktion erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-208">Describes how to create a Transact-SQL user-defined function.</span></span>|[<span data-ttu-id="fc1e5-209">Erstellen benutzerdefinierter Funktionen &#40;Datenbank-Engine&#41;</span><span class="sxs-lookup"><span data-stu-id="fc1e5-209">Create User-defined Functions &#40;Database Engine&#41;</span></span>](../user-defined-functions/create-user-defined-functions-database-engine.md)|  
|<span data-ttu-id="fc1e5-210">Beschreibt, wie eine CLR-Funktion erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-210">Describes how create a CLR function.</span></span>|[<span data-ttu-id="fc1e5-211">Erstellen von CLR-Funktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-211">Create CLR Functions</span></span>](../user-defined-functions/create-clr-functions.md)|  
|<span data-ttu-id="fc1e5-212">Beschreibt, wie eine benutzerdefinierte Aggregatfunktion erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-212">Describes how to create a user-defined aggregate function</span></span>|[<span data-ttu-id="fc1e5-213">Erstellen benutzerdefinierter Aggregate</span><span class="sxs-lookup"><span data-stu-id="fc1e5-213">Create User-defined Aggregates</span></span>](../user-defined-functions/create-user-defined-aggregates.md)|  
|<span data-ttu-id="fc1e5-214">Beschreibt, wie eine benutzerdefinierte Transact-SQL-Funktion geändert wird.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-214">Describes how to modify a Transact-SQL user-defined function.</span></span>|[<span data-ttu-id="fc1e5-215">Ändern benutzerdefinierter Funktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-215">Modify User-defined Functions</span></span>](../user-defined-functions/user-defined-functions.md)|  
|<span data-ttu-id="fc1e5-216">Beschreibt, wie eine benutzerdefinierte Funktion gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-216">Describes how to delete a user-defined function.</span></span>|[<span data-ttu-id="fc1e5-217">Löschen von benutzerdefinierten Funktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-217">Delete User-defined Functions</span></span>](../user-defined-functions/delete-user-defined-functions.md)|  
|<span data-ttu-id="fc1e5-218">Beschreibt, wie eine benutzerdefinierte Funktion ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-218">Describes how to execute a user-defined function.</span></span>|[<span data-ttu-id="fc1e5-219">Ausführen von benutzerdefinierten Funktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-219">Execute User-defined Functions</span></span>](../user-defined-functions/execute-user-defined-functions.md)|  
|<span data-ttu-id="fc1e5-220">Beschreibt, wie eine benutzerdefinierte Funktion umbenannt wird.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-220">Describes how to rename a user-defined function</span></span>|[<span data-ttu-id="fc1e5-221">Umbenennen von benutzerdefinierten Funktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-221">Rename User-defined Functions</span></span>](../user-defined-functions/rename-user-defined-functions.md)|  
|<span data-ttu-id="fc1e5-222">Beschreibt, wie die Definition einer benutzerdefinierten Funktion angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="fc1e5-222">Describes how to view the definition of a user-defined function.</span></span>|[<span data-ttu-id="fc1e5-223">Anzeigen benutzerdefinierter Funktionen</span><span class="sxs-lookup"><span data-stu-id="fc1e5-223">View User-defined Functions</span></span>](view-user-defined-functions.md)|  
  
  
