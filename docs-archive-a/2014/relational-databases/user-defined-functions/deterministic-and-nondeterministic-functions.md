---
title: Deterministische und nicht deterministische Funktionen | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- built-in functions [SQL Server]
- nondeterministic functions
- extended stored procedures [SQL Server], functions that call
- deterministic functions
- user-defined functions [SQL Server], deterministic
ms.assetid: 2f3ce5f5-c81c-4470-8141-8144d4f218dd
author: rothja
ms.author: jroth
ms.openlocfilehash: 9e755532e06d64e273408c7e81936a1c2d370697
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87724461"
---
# <a name="deterministic-and-nondeterministic-functions"></a><span data-ttu-id="7e9e9-102">Deterministische und nicht deterministische Funktionen</span><span class="sxs-lookup"><span data-stu-id="7e9e9-102">Deterministic and Nondeterministic Functions</span></span>
  <span data-ttu-id="7e9e9-103">Deterministische Funktionen geben bei jedem Aufrufen dasselbe Ergebnis zurück, wenn sie mit einem bestimmten Satz von Eingabewerten aufgerufen werden und die Datenbank denselben Status aufweist.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-103">Deterministic functions always return the same result any time they are called with a specific set of input values and given the same state of the database.</span></span> <span data-ttu-id="7e9e9-104">Nicht deterministische Funktionen können bei jedem Aufrufen unterschiedliche Ergebnisse zurückgeben, wenn sie mit einem bestimmten Satz von Eingabewerten aufgerufen werden – selbst wenn die Datenbank, auf die zugegriffen wird, immer denselben Status aufweist.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-104">Nondeterministic functions may return different results each time they are called with a specific set of input values even if the database state that they access remains the same.</span></span> <span data-ttu-id="7e9e9-105">Beispielsweise gibt die AVG-Funktion immer dasselbe Ergebnis zurück, sofern die zuvor genannten Bedingungen erfüllt sind. Die GETDATE-Funktion hingegen, die den aktuellen datetime-Wert liefert, gibt immer ein anderes Ergebnis zurück.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-105">For example, the function AVG always returns the same result given the qualifications stated above, but the GETDATE function, which returns the current datetime value, always returns a different result.</span></span>  
  
 <span data-ttu-id="7e9e9-106">Benutzerdefinierte Funktionen weisen eine Reihe von Eigenschaften auf, mit denen festgelegt wird, ob das [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] in der Lage ist, die Ergebnisse der Funktion zu indizieren – entweder durch Indizes für berechnete Spalten, die die Funktion aufrufen, oder durch indizierte Sichten, die auf die Funktion verweisen.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-106">There are several properties of user-defined functions that determine the ability of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] to index the results of the function, either through indexes on computed columns that call the function, or through indexed views that reference the function.</span></span> <span data-ttu-id="7e9e9-107">Der Determinismus einer Funktion ist eine solche Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-107">The determinism of a function is one such property.</span></span> <span data-ttu-id="7e9e9-108">Für eine Sicht kann z. B. kein gruppierter Index erstellt werden, falls die Sicht auf nicht deterministische Funktionen verweist.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-108">For example, a clustered index cannot be created on a view if the view references any nondeterministic functions.</span></span> <span data-ttu-id="7e9e9-109">Weitere Informationen zu Eigenschaften von Funktionen, einschließlich Determinismus, finden Sie unter [Benutzerdefinierte Funktionen](user-defined-functions.md).</span><span class="sxs-lookup"><span data-stu-id="7e9e9-109">For more information about the properties of functions, including determinism, see [User-Defined Functions](user-defined-functions.md).</span></span>  
  
 <span data-ttu-id="7e9e9-110">In diesem Thema werden der Determinismus integrierter Systemfunktionen und die Auswirkungen auf die deterministische Eigenschaft benutzerdefinierter Funktionen erläutert, wenn in dieser ein Aufruf erweiterter gespeicherter Prozeduren enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-110">This topic identifies the determinism of built-in system functions and the effect on the deterministic property of user-defined functions when it contains a call to extended stored procedures.</span></span>  
  
## <a name="built-in-function-determinism"></a><span data-ttu-id="7e9e9-111">Determinismus integrierter Funktionen</span><span class="sxs-lookup"><span data-stu-id="7e9e9-111">Built-in Function Determinism</span></span>  
 <span data-ttu-id="7e9e9-112">Der Determinismus integrierter Funktionen kann nicht beeinflusst werden.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-112">You cannot influence the determinism of any built-in function.</span></span> <span data-ttu-id="7e9e9-113">Jede integrierte Funktion ist abhängig von deren Implementierung durch [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]deterministisch oder nicht deterministisch.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-113">Each built-in function is deterministic or nondeterministic based on how the function is implemented by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="7e9e9-114">Wenn beispielsweise eine ORDER BY-Klausel in einer Abfrage angegeben wird, wird der Determinismus einer Funktion, die in der Abfrage verwendet wird, nicht geändert.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-114">For example, specifying an ORDER BY clause in a query does not change the determinism of a function that used in that query.</span></span>  
  
 <span data-ttu-id="7e9e9-115">Alle integrierten Zeichenfolgenfunktionen sind deterministisch.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-115">All of the string built-in functions are deterministic.</span></span> <span data-ttu-id="7e9e9-116">Eine Liste dieser Funktionen finden Sie unter [Zeichenfolgenfunktionen &#40;Transact-SQL&#41;](/sql/t-sql/functions/string-functions-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e9e9-116">For a list of these functions, see [String Functions &#40;Transact-SQL&#41;](/sql/t-sql/functions/string-functions-transact-sql).</span></span>  
  
 <span data-ttu-id="7e9e9-117">Die folgenden integrierten Funktionen aus Kategorien anderer integrierter Funktionen als Zeichenfolgenfunktionen sind immer deterministisch:</span><span class="sxs-lookup"><span data-stu-id="7e9e9-117">The following built-in functions from categories of built-in functions other than string functions are always deterministic.</span></span>  
  
||||  
|-|-|-|  
|<span data-ttu-id="7e9e9-118">ABS (ABS)</span><span class="sxs-lookup"><span data-stu-id="7e9e9-118">ABS</span></span>|<span data-ttu-id="7e9e9-119">DATEDIFF</span><span class="sxs-lookup"><span data-stu-id="7e9e9-119">DATEDIFF</span></span>|<span data-ttu-id="7e9e9-120">POWER</span><span class="sxs-lookup"><span data-stu-id="7e9e9-120">POWER</span></span>|  
|<span data-ttu-id="7e9e9-121">ACOS</span><span class="sxs-lookup"><span data-stu-id="7e9e9-121">ACOS</span></span>|<span data-ttu-id="7e9e9-122">DAY</span><span class="sxs-lookup"><span data-stu-id="7e9e9-122">DAY</span></span>|<span data-ttu-id="7e9e9-123">RADIANS</span><span class="sxs-lookup"><span data-stu-id="7e9e9-123">RADIANS</span></span>|  
|<span data-ttu-id="7e9e9-124">ASIN</span><span class="sxs-lookup"><span data-stu-id="7e9e9-124">ASIN</span></span>|<span data-ttu-id="7e9e9-125">DEGREES</span><span class="sxs-lookup"><span data-stu-id="7e9e9-125">DEGREES</span></span>|<span data-ttu-id="7e9e9-126">ROUND</span><span class="sxs-lookup"><span data-stu-id="7e9e9-126">ROUND</span></span>|  
|<span data-ttu-id="7e9e9-127">ATAN</span><span class="sxs-lookup"><span data-stu-id="7e9e9-127">ATAN</span></span>|<span data-ttu-id="7e9e9-128">EXP</span><span class="sxs-lookup"><span data-stu-id="7e9e9-128">EXP</span></span>|<span data-ttu-id="7e9e9-129">SIGN</span><span class="sxs-lookup"><span data-stu-id="7e9e9-129">SIGN</span></span>|  
|<span data-ttu-id="7e9e9-130">ATN2</span><span class="sxs-lookup"><span data-stu-id="7e9e9-130">ATN2</span></span>|<span data-ttu-id="7e9e9-131">FLOOR</span><span class="sxs-lookup"><span data-stu-id="7e9e9-131">FLOOR</span></span>|<span data-ttu-id="7e9e9-132">SIN</span><span class="sxs-lookup"><span data-stu-id="7e9e9-132">SIN</span></span>|  
|<span data-ttu-id="7e9e9-133">CEILING</span><span class="sxs-lookup"><span data-stu-id="7e9e9-133">CEILING</span></span>|<span data-ttu-id="7e9e9-134">ISNULL</span><span class="sxs-lookup"><span data-stu-id="7e9e9-134">ISNULL</span></span>|<span data-ttu-id="7e9e9-135">SQUARE</span><span class="sxs-lookup"><span data-stu-id="7e9e9-135">SQUARE</span></span>|  
|<span data-ttu-id="7e9e9-136">COALESCE</span><span class="sxs-lookup"><span data-stu-id="7e9e9-136">COALESCE</span></span>|<span data-ttu-id="7e9e9-137">ISNUMERIC</span><span class="sxs-lookup"><span data-stu-id="7e9e9-137">ISNUMERIC</span></span>|<span data-ttu-id="7e9e9-138">SQRT</span><span class="sxs-lookup"><span data-stu-id="7e9e9-138">SQRT</span></span>|  
|<span data-ttu-id="7e9e9-139">COS</span><span class="sxs-lookup"><span data-stu-id="7e9e9-139">COS</span></span>|<span data-ttu-id="7e9e9-140">PROTOKOLL</span><span class="sxs-lookup"><span data-stu-id="7e9e9-140">LOG</span></span>|<span data-ttu-id="7e9e9-141">TAN</span><span class="sxs-lookup"><span data-stu-id="7e9e9-141">TAN</span></span>|  
|<span data-ttu-id="7e9e9-142">COT</span><span class="sxs-lookup"><span data-stu-id="7e9e9-142">COT</span></span>|<span data-ttu-id="7e9e9-143">LOG10</span><span class="sxs-lookup"><span data-stu-id="7e9e9-143">LOG10</span></span>|<span data-ttu-id="7e9e9-144">YEAR</span><span class="sxs-lookup"><span data-stu-id="7e9e9-144">YEAR</span></span>|  
|<span data-ttu-id="7e9e9-145">DATALENGTH</span><span class="sxs-lookup"><span data-stu-id="7e9e9-145">DATALENGTH</span></span>|<span data-ttu-id="7e9e9-146">MONTH</span><span class="sxs-lookup"><span data-stu-id="7e9e9-146">MONTH</span></span>||  
|<span data-ttu-id="7e9e9-147">DATEADD</span><span class="sxs-lookup"><span data-stu-id="7e9e9-147">DATEADD</span></span>|<span data-ttu-id="7e9e9-148">NULLIF</span><span class="sxs-lookup"><span data-stu-id="7e9e9-148">NULLIF</span></span>||  
  
 <span data-ttu-id="7e9e9-149">Die folgenden Funktionen sind nicht immer deterministisch, können jedoch in indizierten Sichten oder Indizes für berechnete Spalten verwendet werden, wenn sie als deterministische Funktion angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-149">The following functions are not always deterministic, but can be used in indexed views or indexes on computed columns when they are specified in a deterministic manner.</span></span>  
  
|<span data-ttu-id="7e9e9-150">Funktion</span><span class="sxs-lookup"><span data-stu-id="7e9e9-150">Function</span></span>|<span data-ttu-id="7e9e9-151">Kommentare</span><span class="sxs-lookup"><span data-stu-id="7e9e9-151">Comments</span></span>|  
|--------------|--------------|  
|<span data-ttu-id="7e9e9-152">alle Aggregatfunktionen</span><span class="sxs-lookup"><span data-stu-id="7e9e9-152">all aggregate functions</span></span>|<span data-ttu-id="7e9e9-153">Alle Aggregatfunktionen sind deterministisch, es sei denn, sie werden mit den OVER- und ORDER BY-Klauseln angegeben.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-153">All aggregate functions are deterministic unless they are specified with the OVER and ORDER BY clauses.</span></span> <span data-ttu-id="7e9e9-154">Eine Liste dieser Funktionen finden Sie unter [Aggregatfunktionen &#40;Transact-SQL&#41;](/sql/t-sql/functions/aggregate-functions-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e9e9-154">For a list of these functions, see [Aggregate Functions &#40;Transact-SQL&#41;](/sql/t-sql/functions/aggregate-functions-transact-sql).</span></span>|  
|<span data-ttu-id="7e9e9-155">CAST</span><span class="sxs-lookup"><span data-stu-id="7e9e9-155">CAST</span></span>|<span data-ttu-id="7e9e9-156">Deterministisch, wenn nicht mit `datetime`, `smalldatetime` oder `sql_variant` verwendet.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-156">Deterministic unless used with `datetime`, `smalldatetime`, or `sql_variant`.</span></span>|  
|<span data-ttu-id="7e9e9-157">CONVERT</span><span class="sxs-lookup"><span data-stu-id="7e9e9-157">CONVERT</span></span>|<span data-ttu-id="7e9e9-158">Deterministisch, wenn nicht eine der folgenden Bedingungen vorliegt:</span><span class="sxs-lookup"><span data-stu-id="7e9e9-158">Deterministic unless one of these conditions exists:</span></span><br /><br /> <span data-ttu-id="7e9e9-159">Der Quelltyp ist `sql_variant`.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-159">Source type is `sql_variant`.</span></span><br /><br /> <span data-ttu-id="7e9e9-160">Der Zieltyp ist `sql_variant`, und der Quelltyp ist nicht deterministisch.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-160">Target type is `sql_variant` and its source type is nondeterministic.</span></span><br /><br /> <span data-ttu-id="7e9e9-161">Der Quell- oder Zieltyp ist `datetime` oder `smalldatetime`, der andere Quell- oder Zieltyp ist eine Zeichenfolge, und es wird ein nicht deterministisches Format angegeben.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-161">Source or target type is `datetime` or `smalldatetime`, the other source or target type is a character string, and a nondeterministic style is specified.</span></span> <span data-ttu-id="7e9e9-162">Ein deterministisches Format kann nur verwendet werden, wenn der style-Parameter konstant ist.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-162">To be deterministic, the style parameter must be a constant.</span></span> <span data-ttu-id="7e9e9-163">Wenn die Werte für "style" kleiner oder gleich 100 sind, sind sie nicht deterministisch, mit Ausnahme der style-Werte 20 und 21.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-163">Additionally, styles less than or equal to 100 are nondeterministic, except for styles 20 and 21.</span></span> <span data-ttu-id="7e9e9-164">style-Werte über 100 sind deterministisch, mit Ausnahme der style-Werte 106, 107, 109 und 113.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-164">Styles greater than 100 are deterministic, except for styles 106, 107, 109 and 113.</span></span>|  
|<span data-ttu-id="7e9e9-165">CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="7e9e9-165">CHECKSUM</span></span>|<span data-ttu-id="7e9e9-166">Deterministisch, mit Ausnahme von CHECKSUM(\*).</span><span class="sxs-lookup"><span data-stu-id="7e9e9-166">Deterministic, with the exception of CHECKSUM(\*).</span></span>|  
|<span data-ttu-id="7e9e9-167">ISDATE</span><span class="sxs-lookup"><span data-stu-id="7e9e9-167">ISDATE</span></span>|<span data-ttu-id="7e9e9-168">Nur deterministisch in Verbindung mit der CONVERT-Funktion, wenn der style-Parameter von CONVERT angegeben ist und "style" nicht den Wert 0, 100, 9 oder 109 aufweist.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-168">Deterministic only if used with the CONVERT function, the CONVERT style parameter is specified and style is not equal to 0, 100, 9, or 109.</span></span>|  
|<span data-ttu-id="7e9e9-169">RAND</span><span class="sxs-lookup"><span data-stu-id="7e9e9-169">RAND</span></span>|<span data-ttu-id="7e9e9-170">RAND ist nur deterministisch, wenn ein *seed* -Parameter angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-170">RAND is deterministic only when a *seed* parameter is specified.</span></span>|  
  
 <span data-ttu-id="7e9e9-171">Alle Konfigurations-, Cursor-, Metadaten-, Sicherheits- und statistischen Systemfunktionen sind nicht deterministisch.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-171">All the configuration, cursor, metadata, security, and system statistical functions are nondeterministic.</span></span> <span data-ttu-id="7e9e9-172">Eine Liste dieser Funktionen finden Sie unter [Konfigurationsfunktionen &#40;Transact-SQL&#41;](/sql/t-sql/functions/configuration-functions-transact-sql), [Cursorfunktionen &#40;Transact-SQL&#41;](/sql/t-sql/functions/cursor-functions-transact-sql), [Metadatenfunktionen &#40;Transact-SQL&#41;](/sql/t-sql/functions/metadata-functions-transact-sql), [Sicherheitsfunktionen &#40;Transact-SQL&#41;](/sql/t-sql/functions/security-functions-transact-sql) und [Statistische Systemfunktionen &#40;Transact-SQL&#41;](/sql/t-sql/functions/system-statistical-functions-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e9e9-172">For a list of these functions, see [Configuration Functions &#40;Transact-SQL&#41;](/sql/t-sql/functions/configuration-functions-transact-sql), [Cursor Functions &#40;Transact-SQL&#41;](/sql/t-sql/functions/cursor-functions-transact-sql), [Metadata Functions &#40;Transact-SQL&#41;](/sql/t-sql/functions/metadata-functions-transact-sql), [Security Functions &#40;Transact-SQL&#41;](/sql/t-sql/functions/security-functions-transact-sql), and [System Statistical Functions &#40;Transact-SQL&#41;](/sql/t-sql/functions/system-statistical-functions-transact-sql).</span></span>  
  
 <span data-ttu-id="7e9e9-173">Die folgenden integrierten Funktionen aus anderen Kategorien sind immer nicht deterministisch:</span><span class="sxs-lookup"><span data-stu-id="7e9e9-173">The following built-in functions from other categories are always nondeterministic.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="7e9e9-174">@@CONNECTIONS</span><span class="sxs-lookup"><span data-stu-id="7e9e9-174">@@CONNECTIONS</span></span>|<span data-ttu-id="7e9e9-175">GETDATE</span><span class="sxs-lookup"><span data-stu-id="7e9e9-175">GETDATE</span></span>|  
|<span data-ttu-id="7e9e9-176">@@CPU_BUSY</span><span class="sxs-lookup"><span data-stu-id="7e9e9-176">@@CPU_BUSY</span></span>|<span data-ttu-id="7e9e9-177">GETUTCDATE</span><span class="sxs-lookup"><span data-stu-id="7e9e9-177">GETUTCDATE</span></span>|  
|<span data-ttu-id="7e9e9-178">@@DBTS</span><span class="sxs-lookup"><span data-stu-id="7e9e9-178">@@DBTS</span></span>|<span data-ttu-id="7e9e9-179">GET_TRANSMISSION_STATUS</span><span class="sxs-lookup"><span data-stu-id="7e9e9-179">GET_TRANSMISSION_STATUS</span></span>|  
|<span data-ttu-id="7e9e9-180">@@IDLE</span><span class="sxs-lookup"><span data-stu-id="7e9e9-180">@@IDLE</span></span>|<span data-ttu-id="7e9e9-181">LAG</span><span class="sxs-lookup"><span data-stu-id="7e9e9-181">LAG</span></span>|  
|<span data-ttu-id="7e9e9-182">@@IO_BUSY</span><span class="sxs-lookup"><span data-stu-id="7e9e9-182">@@IO_BUSY</span></span>|<span data-ttu-id="7e9e9-183">LAST_VALUE</span><span class="sxs-lookup"><span data-stu-id="7e9e9-183">LAST_VALUE</span></span>|  
|<span data-ttu-id="7e9e9-184">@@MAX_CONNECTIONS</span><span class="sxs-lookup"><span data-stu-id="7e9e9-184">@@MAX_CONNECTIONS</span></span>|<span data-ttu-id="7e9e9-185">LEAD</span><span class="sxs-lookup"><span data-stu-id="7e9e9-185">LEAD</span></span>|  
|<span data-ttu-id="7e9e9-186">@@PACK_RECEIVED</span><span class="sxs-lookup"><span data-stu-id="7e9e9-186">@@PACK_RECEIVED</span></span>|<span data-ttu-id="7e9e9-187">MIN_ACTIVE_ROWVERSION</span><span class="sxs-lookup"><span data-stu-id="7e9e9-187">MIN_ACTIVE_ROWVERSION</span></span>|  
|<span data-ttu-id="7e9e9-188">@@PACK_SENT</span><span class="sxs-lookup"><span data-stu-id="7e9e9-188">@@PACK_SENT</span></span>|<span data-ttu-id="7e9e9-189">NEWID</span><span class="sxs-lookup"><span data-stu-id="7e9e9-189">NEWID</span></span>|  
|<span data-ttu-id="7e9e9-190">@@PACKET_ERRORS</span><span class="sxs-lookup"><span data-stu-id="7e9e9-190">@@PACKET_ERRORS</span></span>|<span data-ttu-id="7e9e9-191">NEWSEQUENTIALID</span><span class="sxs-lookup"><span data-stu-id="7e9e9-191">NEWSEQUENTIALID</span></span>|  
|<span data-ttu-id="7e9e9-192">@@TIMETICKS</span><span class="sxs-lookup"><span data-stu-id="7e9e9-192">@@TIMETICKS</span></span>|<span data-ttu-id="7e9e9-193">NEXT VALUE FOR</span><span class="sxs-lookup"><span data-stu-id="7e9e9-193">NEXT VALUE FOR</span></span>|  
|<span data-ttu-id="7e9e9-194">@@TOTAL_ERRORS</span><span class="sxs-lookup"><span data-stu-id="7e9e9-194">@@TOTAL_ERRORS</span></span>|<span data-ttu-id="7e9e9-195">NTILE</span><span class="sxs-lookup"><span data-stu-id="7e9e9-195">NTILE</span></span>|  
|<span data-ttu-id="7e9e9-196">@@TOTAL_READ</span><span class="sxs-lookup"><span data-stu-id="7e9e9-196">@@TOTAL_READ</span></span>|<span data-ttu-id="7e9e9-197">PARSENAME</span><span class="sxs-lookup"><span data-stu-id="7e9e9-197">PARSENAME</span></span>|  
|<span data-ttu-id="7e9e9-198">@@TOTAL_WRITE</span><span class="sxs-lookup"><span data-stu-id="7e9e9-198">@@TOTAL_WRITE</span></span>|<span data-ttu-id="7e9e9-199">PERCENTILE_CONT</span><span class="sxs-lookup"><span data-stu-id="7e9e9-199">PERCENTILE_CONT</span></span>|  
|<span data-ttu-id="7e9e9-200">CUME_DIST</span><span class="sxs-lookup"><span data-stu-id="7e9e9-200">CUME_DIST</span></span>|<span data-ttu-id="7e9e9-201">PERCENTILE_DISC</span><span class="sxs-lookup"><span data-stu-id="7e9e9-201">PERCENTILE_DISC</span></span>|  
|<span data-ttu-id="7e9e9-202">CURRENT_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="7e9e9-202">CURRENT_TIMESTAMP</span></span>|<span data-ttu-id="7e9e9-203">PERCENT_RANK</span><span class="sxs-lookup"><span data-stu-id="7e9e9-203">PERCENT_RANK</span></span>|  
|<span data-ttu-id="7e9e9-204">DENSE_RANK</span><span class="sxs-lookup"><span data-stu-id="7e9e9-204">DENSE_RANK</span></span>|<span data-ttu-id="7e9e9-205">RAND</span><span class="sxs-lookup"><span data-stu-id="7e9e9-205">RAND</span></span>|  
|<span data-ttu-id="7e9e9-206">FIRST_VALUE</span><span class="sxs-lookup"><span data-stu-id="7e9e9-206">FIRST_VALUE</span></span>|<span data-ttu-id="7e9e9-207">RANK</span><span class="sxs-lookup"><span data-stu-id="7e9e9-207">RANK</span></span>|  
||<span data-ttu-id="7e9e9-208">ROW_NUMBER</span><span class="sxs-lookup"><span data-stu-id="7e9e9-208">ROW_NUMBER</span></span>|  
||<span data-ttu-id="7e9e9-209">TEXTPTR</span><span class="sxs-lookup"><span data-stu-id="7e9e9-209">TEXTPTR</span></span>|  
  
## <a name="calling-extended-stored-procedures-from-functions"></a><span data-ttu-id="7e9e9-210">Aufrufen erweiterter gespeicherter Prozeduren aus Funktionen</span><span class="sxs-lookup"><span data-stu-id="7e9e9-210">Calling Extended Stored Procedures from Functions</span></span>  
 <span data-ttu-id="7e9e9-211">Funktionen, die erweiterte gespeicherte Prozeduren aufrufen, sind nicht deterministisch, da erweiterte gespeicherte Prozeduren Nebeneffekte im Hinblick auf die Datenbank verursachen können.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-211">Functions that call extended stored procedures are nondeterministic, because the extended stored procedures can cause side effects on the database.</span></span> <span data-ttu-id="7e9e9-212">Nebeneffekte sind Änderungen am globalen Status der Datenbank, wie z. B. ein Update einer Tabelle, oder an einer externen Ressource, wie z. B. einer Datei oder des Netzwerkes. Beispiel: Änderungen an einer Datei oder Senden einer E-Mail-Nachricht.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-212">Side effects are changes to a global state of the database, such as an update to a table, or to an external resource, such as a file or the network; for example, modifying a file or sending an e-mail message.</span></span> <span data-ttu-id="7e9e9-213">Sie sollten sich nicht auf die Rückgabe eines konsistenten Resultsets verlassen, wenn Sie eine erweiterte gespeicherte Prozedur von einer benutzerdefinierten Funktion aus ausführen.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-213">You should not rely on returning a consistent result set when executing an extended stored procedure from a user-defined function.</span></span> <span data-ttu-id="7e9e9-214">Die Verwendung benutzerdefinierter Funktionen, die zu Nebeneffekten hinsichtlich der Datenbank führen, wird nicht empfohlen.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-214">User-defined functions that create side effects on the database are not recommended.</span></span>  
  
 <span data-ttu-id="7e9e9-215">Wenn eine erweiterte gespeicherte Prozedur aus einer Funktion heraus aufgerufen wird, kann die Prozedur keine Resultsets an den Client zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-215">When called from inside a function, the extended stored procedure cannot return result sets to the client.</span></span> <span data-ttu-id="7e9e9-216">Jede Open Data Services-API, die Resultsets an den Client zurückgibt, weist den Rückgabecode FAIL auf.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-216">Any Open Data Services API that returns result sets to the client will have a return code of FAIL.</span></span>  
  
 <span data-ttu-id="7e9e9-217">Die erweiterte gespeicherte Prozedur kann erneut eine Verbindung mit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]herstellen.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-217">The extended stored procedure can connect back to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="7e9e9-218">Die Prozedur kann jedoch keine Verbindung mit derselben Transaktion wie die ursprüngliche Funktion herstellen, durch die die erweiterte gespeicherte Prozedur aufgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-218">However, the procedure cannot join the same transaction as the original function that invoked the extended stored procedure.</span></span>  
  
 <span data-ttu-id="7e9e9-219">Wie bei Aufrufen von einem Batch oder einer gespeicherten Prozedur aus wird die erweiterte gespeicherte Prozedur im Kontext des [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows-Sicherheitskontos ausgeführt, unter dem [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-219">Similar to invocations from a batch or stored procedure, the extended stored procedure is executed in the context of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows security account under which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running.</span></span> <span data-ttu-id="7e9e9-220">Der Besitzer der erweiterten gespeicherten Prozedur sollte dies berücksichtigen, wenn er anderen Benutzern Berechtigungen zum Ausführen der Prozedur erteilt.</span><span class="sxs-lookup"><span data-stu-id="7e9e9-220">The owner of the extended stored procedure should consider this when granting permissions to other users to execute the procedure.</span></span>  
  
  
