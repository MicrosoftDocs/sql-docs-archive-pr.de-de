---
title: Informationen zur Änderungsnachverfolgung (SQL Server) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- data changes [SQL Server]
- tracking data changes [SQL Server]
- change tracking [SQL Server], about change tracking
- change tracking [SQL Server]
- data [SQL Server], changing
ms.assetid: 5e0ef05a-8317-4c98-be20-b19d4cd78f12
author: rothja
ms.author: jroth
ms.openlocfilehash: 4e8a817421aeca7906d31e4a70c25a12b6af7c0d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87619693"
---
# <a name="about-change-tracking-sql-server"></a><span data-ttu-id="47fc7-102">Informationen zur Änderungsnachverfolgung (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="47fc7-102">About Change Tracking (SQL Server)</span></span>
  <span data-ttu-id="47fc7-103">Die Änderungsnachverfolgung ist eine einfache Lösung, die einen effizienten Änderungsnachverfolgungsmechanismus für Anwendungen bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="47fc7-103">Change tracking is a lightweight solution that provides an efficient change tracking mechanism for applications.</span></span> <span data-ttu-id="47fc7-104">Normalerweise mussten Anwendungsentwickler benutzerdefinierte Mechanismen zur Änderungsnachverfolgung implementieren, damit die Anwendungen Änderungen an Daten in einer Datenbank abfragen und auf Informationen im Zusammenhang mit den Änderungen zugreifen konnten.</span><span class="sxs-lookup"><span data-stu-id="47fc7-104">Typically, to enable applications to query for changes to data in a database and access information that is related to the changes, application developers had to implement custom change tracking mechanisms.</span></span> <span data-ttu-id="47fc7-105">Das Erstellen dieser Mechanismen umfasste in der Regel viel Arbeit und beteiligte häufig eine Kombination von `timestamp` Triggern, Spalten, neuen Tabellen zum Speichern von nach Verfolgungs Informationen und benutzerdefinierten Cleanupprozessen.</span><span class="sxs-lookup"><span data-stu-id="47fc7-105">Creating these mechanisms usually involved a lot of work and frequently involved using a combination of triggers, `timestamp` columns, new tables to store tracking information, and custom cleanup processes.</span></span>  
  
 <span data-ttu-id="47fc7-106">Die Anforderungen an die Menge erforderlicher Informationen zu den Änderungen variieren je nach Anwendungstyp.</span><span class="sxs-lookup"><span data-stu-id="47fc7-106">Different types of applications have different requirements for how much information they need about the changes.</span></span> <span data-ttu-id="47fc7-107">Anwendungen können die Änderungsnachverfolgung verwenden, um die folgenden Fragen zu den an einer Benutzertabelle vorgenommenen Änderungen zu beantworten:</span><span class="sxs-lookup"><span data-stu-id="47fc7-107">Applications can use change tracking to answer the following questions about the changes that have been made to a user table:</span></span>  
  
-   <span data-ttu-id="47fc7-108">Welche Zeilen wurden in einer Benutzertabelle geändert?</span><span class="sxs-lookup"><span data-stu-id="47fc7-108">What rows have changed for a user table?</span></span>  
  
    -   <span data-ttu-id="47fc7-109">Es ist nur die Tatsache von Belang, dass eine Zeile geändert wurde, nicht jedoch, wie oft die Zeile geändert wurde oder welche Werte bei Zwischenänderungen festgelegt wurden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-109">Only the fact that a row has changed is required, not how many times the row has changed or the values of any intermediate changes.</span></span>  
  
    -   <span data-ttu-id="47fc7-110">Die aktuellen Daten können direkt aus der nachverfolgten Tabelle abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-110">The latest data can be obtained directly from the table that is being tracked.</span></span>  
  
-   <span data-ttu-id="47fc7-111">Wurde eine Zeile geändert?</span><span class="sxs-lookup"><span data-stu-id="47fc7-111">Has a row changed?</span></span>  
  
    -   <span data-ttu-id="47fc7-112">Die Tatsache, dass eine Zeile geändert wurde, und Informationen zu der Änderung müssen verfügbar sein und zum Zeitpunkt der Änderung in derselben Transaktion aufgezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-112">The fact that a row has changed and information about the change must be available and recorded at the time that the change was made in the same transaction.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="47fc7-113">Wenn für eine Anwendung Informationen zu allen vorgenommenen Änderungen und die Zwischenwerte der geänderten Daten erforderlich sind, ist möglicherweise eher die Verwendung von Change Data Capture anstelle der Änderungsnachverfolgung zu empfehlen.</span><span class="sxs-lookup"><span data-stu-id="47fc7-113">If an application requires information about all the changes that were made and the intermediate values of the changed data, using change data capture, instead of change tracking, might be appropriate.</span></span> <span data-ttu-id="47fc7-114">Weitere Informationen finden Sie unter [Informationen zu Change Data Capture &#40;SQL Server&#41;](../track-changes/about-change-data-capture-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="47fc7-114">For more information, see [About Change Data Capture &#40;SQL Server&#41;](../track-changes/about-change-data-capture-sql-server.md).</span></span>  
  
## <a name="one-way-and-two-way-synchronization-applications"></a><span data-ttu-id="47fc7-115">Unidirektionale und bidirektionale Synchronisierungsanwendungen</span><span class="sxs-lookup"><span data-stu-id="47fc7-115">One-Way and Two-Way Synchronization Applications</span></span>  
 <span data-ttu-id="47fc7-116">Anwendungen, die Daten mit einer Instanz von [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] synchronisieren müssen, müssen in der Lage sein, Änderungen abzufragen.</span><span class="sxs-lookup"><span data-stu-id="47fc7-116">Applications that have to synchronize data with an instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] must be able to query for changes.</span></span> <span data-ttu-id="47fc7-117">Die Änderungsnachverfolgung kann sowohl als Grundlage für unidirektionale als auch für bidirektionale Synchronisierungsanwendungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-117">Change tracking can be used as a foundation for both one-way and two-way synchronization applications.</span></span>  
  
### <a name="one-way-synchronization-applications"></a><span data-ttu-id="47fc7-118">Unidirektionale Synchronisierungsanwendungen</span><span class="sxs-lookup"><span data-stu-id="47fc7-118">One-Way Synchronization Applications</span></span>  
 <span data-ttu-id="47fc7-119">Es können unidirektionale Synchronisierungsanwendungen, z. B. ein Client oder eine Zwischenspeicherungsanwendung auf der mittleren Ebene, erstellt werden, die die Änderungsnachverfolgung verwenden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-119">One-way synchronization applications, such as a client or mid-tier caching application, can be built that use change tracking.</span></span> <span data-ttu-id="47fc7-120">Wie in der folgenden Abbildung dargestellt, müssen für eine Zwischenspeicherungsanwendung Daten in [!INCLUDE[ssDE](../../includes/ssde-md.md)] gespeichert und in anderen Datenspeichern zwischengespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-120">As shown in the following illustration, a caching application requires data to be stored in the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and to be cached in other data stores.</span></span> <span data-ttu-id="47fc7-121">Die Anwendung muss in der Lage sein, den Cache auf dem aktuellen Stand zu halten, indem dieser mit allen an den Datenbanktabellen vorgenommenen Änderungen aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="47fc7-121">The application must be able to keep the cache up-to-date with any changes that have been made to the database tables.</span></span> <span data-ttu-id="47fc7-122">Es werden keine Änderungen zurück an [!INCLUDE[ssDE](../../includes/ssde-md.md)]übergeben.</span><span class="sxs-lookup"><span data-stu-id="47fc7-122">There are no changes to pass back to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
 <span data-ttu-id="47fc7-123">![Zeigt Anwendungen mit unidirektionaler Synchronisierung](../../database-engine/media/one-waysync.gif "Zeigt Anwendungen mit unidirektionaler Synchronisierung")</span><span class="sxs-lookup"><span data-stu-id="47fc7-123">![Shows one-way synchronization applications](../../database-engine/media/one-waysync.gif "Shows one-way synchronization applications")</span></span>  
  
### <a name="two-way-synchronization-applications"></a><span data-ttu-id="47fc7-124">Bidirektionale Synchronisierungsanwendungen</span><span class="sxs-lookup"><span data-stu-id="47fc7-124">Two-Way Synchronization Applications</span></span>  
 <span data-ttu-id="47fc7-125">Es können auch bidirektionale Synchronisierungsanwendungen erstellt werden, die die Änderungsnachverfolgung verwenden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-125">Two-way synchronization applications can also be built that use change tracking.</span></span> <span data-ttu-id="47fc7-126">In diesem Szenario werden die Daten in einer Instanz von [!INCLUDE[ssDE](../../includes/ssde-md.md)] mit mindestens einem Datenspeicher synchronisiert.</span><span class="sxs-lookup"><span data-stu-id="47fc7-126">In this scenario, the data in an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is synchronized with one or more data stores.</span></span> <span data-ttu-id="47fc7-127">Die Daten in diesen Speichern können aktualisiert werden, und die Änderungen müssen wieder mit [!INCLUDE[ssDE](../../includes/ssde-md.md)]synchronisiert werden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-127">The data in those stores can be updated and the changes must be synchronized back to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
 <span data-ttu-id="47fc7-128">![Zeigt Anwendungen mit bidirektionaler Synchronisierung](../../database-engine/media/two-waysync.gif "Zeigt Anwendungen mit bidirektionaler Synchronisierung")</span><span class="sxs-lookup"><span data-stu-id="47fc7-128">![Shows two-way synchronization applications](../../database-engine/media/two-waysync.gif "Shows two-way synchronization applications")</span></span>  
  
 <span data-ttu-id="47fc7-129">Ein gutes Beispiel für eine bidirektionale Synchronisierungsanwendung ist eine gelegentlich verbundene Anwendung.</span><span class="sxs-lookup"><span data-stu-id="47fc7-129">A good example of two-way synchronization application is an occasionally connected application.</span></span> <span data-ttu-id="47fc7-130">In einer Anwendung dieses Typs fragt eine Clientanwendung einen lokalen Speicher ab und aktualisiert diesen.</span><span class="sxs-lookup"><span data-stu-id="47fc7-130">In this type of application, a client application queries and updates a local store.</span></span> <span data-ttu-id="47fc7-131">Wenn eine Verbindung zwischen einem Client und einem Server verfügbar ist, führt die Anwendung die Synchronisierung mit einem Server aus, und geänderte Daten fließen in beide Richtungen.</span><span class="sxs-lookup"><span data-stu-id="47fc7-131">When a connection is available between a client and server, the application will synchronize with a server, and changed data flows in both directions.</span></span>  
  
 <span data-ttu-id="47fc7-132">Die bidirektionalen Synchronisierungsanwendungen müssen Konflikte erkennen können.</span><span class="sxs-lookup"><span data-stu-id="47fc7-132">The two-way synchronization applications must be able to detect conflicts.</span></span> <span data-ttu-id="47fc7-133">Zu einem Konflikt kommt es, wenn in der Zeit zwischen zwei Synchronisierungen die gleichen Daten in beiden Datenspeichern geändert wurden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-133">A conflict would occur if the same data was changed in both data stores in the time between synchronizations.</span></span> <span data-ttu-id="47fc7-134">Wenn eine Anwendung über die Fähigkeit zum Erkennen von Konflikten verfügt, kann sichergestellt werden, dass keine Änderungen verloren werden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-134">With the ability to detect conflicts, an application can make sure that changes are not lost.</span></span>  
  
## <a name="how-change-tracking-works"></a><span data-ttu-id="47fc7-135">Funktionsweise der Änderungsnachverfolgung</span><span class="sxs-lookup"><span data-stu-id="47fc7-135">How Change Tracking Works</span></span>  
 <span data-ttu-id="47fc7-136">Zum Konfigurieren der Änderungsnachverfolgung können Sie DDL-Anweisungen oder [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]verwenden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-136">To configure change tracking, you can use DDL statements or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="47fc7-137">Weitere Informationen finden Sie unter [Aktivieren und Deaktivieren der Änderungsnachverfolgung &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="47fc7-137">For more information, see [Enable and Disable Change Tracking &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md).</span></span> <span data-ttu-id="47fc7-138">Zum Nachverfolgen von Änderungen muss die Änderungsnachverfolgung zuerst für die Datenbank und dann für die Tabellen, die in dieser Datenbank nachverfolgt werden sollen, aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-138">To track changes, change tracking must first be enabled for the database and then enabled for the tables that you want to track within that database.</span></span> <span data-ttu-id="47fc7-139">Die Tabellendefinition muss in keiner Weise geändert werden, und es werden keine Trigger erstellt.</span><span class="sxs-lookup"><span data-stu-id="47fc7-139">The table definition does not have to be changed in any way, and no triggers are created.</span></span>  
  
 <span data-ttu-id="47fc7-140">Nachdem die Änderungsnachverfolgung für eine Tabelle konfiguriert wurde, werden bei der Verwendung einer DML-Anweisung, die sich auf die Zeilen in der Tabelle auswirkt, Änderungsinformationen für jede geänderte Zeile aufgezeichnet.</span><span class="sxs-lookup"><span data-stu-id="47fc7-140">After change tracking is configured for a table, any DML statement that affects rows in the table will cause change tracking information for each modified row to be recorded.</span></span> <span data-ttu-id="47fc7-141">Zum Abfragen von geänderten Zeilen und Informationen zu den Änderungen können Sie [Änderungsnachverfolgungsfunktionen](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql)verwenden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-141">To query for the rows that have changed and to obtain information about the changes, you can use [change tracking functions](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql).</span></span>  
  
 <span data-ttu-id="47fc7-142">Die Werte der Primärschlüsselspalte sind die einzigen Informationen aus der nachverfolgten Tabelle, die mit den Änderungsinformationen aufgezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-142">The values of the primary key column is only information from the tracked table that is recorded with the change information.</span></span> <span data-ttu-id="47fc7-143">Diese Werte identifizieren die Zeilen, die geändert wurden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-143">These values identify the rows that have been changed.</span></span> <span data-ttu-id="47fc7-144">Zum Abrufen der aktuellen Daten dieser Zeilen kann eine Anwendung die Werte der Primärschlüsselspalte verwenden, um die Quelltabelle mit der nachverfolgten Tabelle zu verknüpfen.</span><span class="sxs-lookup"><span data-stu-id="47fc7-144">To obtain the latest data for those rows, an application can use the primary key column values to join the source table with the tracked table.</span></span>  
  
 <span data-ttu-id="47fc7-145">Informationen zu den an den einzelnen Zeilen vorgenommenen Änderungen können auch mithilfe der Änderungsnachverfolgung abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-145">Information about the change that was made to each row can also be obtained by using change tracking.</span></span> <span data-ttu-id="47fc7-146">Dazu zählen z. B. der Typ des DML-Vorgangs, der die Änderung (Einfügung, Update oder Löschung) bewirkt hat, oder die Spalten, die im Rahmen eines Updatevorgangs geändert wurden.</span><span class="sxs-lookup"><span data-stu-id="47fc7-146">For example, the type of DML operation that caused the change (insert, update, or delete) or the columns that were changed as part of an update operation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="47fc7-147">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="47fc7-147">See Also</span></span>  
 <span data-ttu-id="47fc7-148">[Aktivieren und deaktivieren Sie Änderungsnachverfolgung &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="47fc7-148">[Enable and Disable Change Tracking &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md) </span></span>  
 <span data-ttu-id="47fc7-149">[Arbeiten Sie mit Änderungsnachverfolgung &#40;SQL Server&#41;](../track-changes/work-with-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="47fc7-149">[Work with Change Tracking &#40;SQL Server&#41;](../track-changes/work-with-change-tracking-sql-server.md) </span></span>  
 <span data-ttu-id="47fc7-150">[Verwalten Sie Änderungsnachverfolgung &#40;SQL Server&#41;](../track-changes/manage-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="47fc7-150">[Manage Change Tracking &#40;SQL Server&#41;](../track-changes/manage-change-tracking-sql-server.md) </span></span>  
 [<span data-ttu-id="47fc7-151">Nachverfolgen von Datenänderungen &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="47fc7-151">Track Data Changes &#40;SQL Server&#41;</span></span>](../track-changes/track-data-changes-sql-server.md)  
  
  
