---
title: Upgrade der Volltextsuche | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- full-text search [SQL Server], installing
- migrating full-text indexes [SQL Server]
- upgrading Full-Text Search
- installing Full-Text Search
- full-text search [SQL Server], upgrading
ms.assetid: 2fee4691-f2b5-472f-8ccc-fa625b654520
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: d2bdf0bdee452101bbafb8108426faf6604e7626
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87620258"
---
# <a name="upgrade-full-text-search"></a><span data-ttu-id="46daa-102">Upgrade der Volltextsuche</span><span class="sxs-lookup"><span data-stu-id="46daa-102">Upgrade Full-Text Search</span></span>
  <span data-ttu-id="46daa-103">Das Aktualisieren der Volltextsuche auf [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] erfolgt während des Setups und beim Anfügen, Wiederherstellen und Kopieren von Datenbankdateien und Volltextkatalogen aus einer älteren Version von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mithilfe des Assistenten zum Kopieren von Datenbanken.</span><span class="sxs-lookup"><span data-stu-id="46daa-103">Upgrading full-text search to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is done during setup and when database files and full-text catalogs from the earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are attached, restored, or copied using the Copy Database Wizard.</span></span>  
  
 <span data-ttu-id="46daa-104">In diesem Thema werden die folgenden Aspekte des Aktualisierens der Volltextsuche erläutert:</span><span class="sxs-lookup"><span data-stu-id="46daa-104">This topic discusses the following aspects of upgrading full-text search:</span></span>  
  
-   [<span data-ttu-id="46daa-105">Aktualisieren einer Serverinstanz</span><span class="sxs-lookup"><span data-stu-id="46daa-105">Upgrading a Server Instance</span></span>](#Upgrade_Server)  
  
-   [<span data-ttu-id="46daa-106">Volltext-Upgradeoptionen</span><span class="sxs-lookup"><span data-stu-id="46daa-106">Full-Text Upgrade Options</span></span>](#FT_Upgrade_Options)  
  
-   [<span data-ttu-id="46daa-107">Überlegungen zum Auswählen einer voll Text Upgrade-Option</span><span class="sxs-lookup"><span data-stu-id="46daa-107">Considerations for Choosing a Full-Text Upgrade Option</span></span>](#Choosing_Upgade_Option)  
  
-   [<span data-ttu-id="46daa-108">Migrieren von Volltextindizes beim Aktualisieren einer Datenbank auf SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="46daa-108">Migrating Full-Text Indexes When Upgrading a Database to SQL Server 2014</span></span>](#Upgrade_Db)  
  
-   [<span data-ttu-id="46daa-109">Überlegungen zum Wiederherstellen eines SQL Server 2005-Volltextkatalogs in SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="46daa-109">Considerations for Restoring a SQL Server 2005 Full-Text Catalog to SQL Server 2014</span></span>](#Considerations_for_Restore)  
  
-   [<span data-ttu-id="46daa-110">Anfügen einer SQL Server 2005-Datenbank an SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="46daa-110">Attaching a SQL Server 2005 database to SQL Server 2014</span></span>](#Attaching_2005_ft_catalogs)  
  
##  <a name="upgrading-a-server-instance"></a><a name="Upgrade_Server"></a><span data-ttu-id="46daa-111">Aktualisieren einer Server Instanz</span><span class="sxs-lookup"><span data-stu-id="46daa-111">Upgrading a Server Instance</span></span>  
 <span data-ttu-id="46daa-112">Bei einem direkten Upgrade wird eine Instanz von [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] parallel zur alten Version von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]installiert, und die Daten werden migriert.</span><span class="sxs-lookup"><span data-stu-id="46daa-112">For an in-place upgrade, an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is set up side-by-side with the old version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and data is migrated.</span></span> <span data-ttu-id="46daa-113">Wenn die Volltextsuche in der alten Version von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installiert war, wird automatisch eine neue Version der Volltextsuche installiert.</span><span class="sxs-lookup"><span data-stu-id="46daa-113">If the old version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] had full-text search installed, a new version of full-text search is automatically installed.</span></span> <span data-ttu-id="46daa-114">Eine parallele Installation bedeutet, dass jede der folgenden Komponenten auf der Instanzebene von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="46daa-114">Side-by-side install means that each of the following components exists at the instance-level of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="46daa-115">Wörtertrennung, Wortstammerkennung und Filter</span><span class="sxs-lookup"><span data-stu-id="46daa-115">Word breakers, stemmers, and filters</span></span>  
 <span data-ttu-id="46daa-116">Jede Instanz verwendet ihren eigenen Satz von Wörtertrennung, Wortstammerkennung und Filtern, anstatt auf die Betriebssystemversion dieser Komponenten zurückzugreifen.</span><span class="sxs-lookup"><span data-stu-id="46daa-116">Each instance now uses its own set of word breakers, stemmers, and filters, rather than relying on the operating system version of these components.</span></span> <span data-ttu-id="46daa-117">Diese Komponenten sind auf Instanzebene einfacher zu registrieren und zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="46daa-117">These components are also easier to register and configure at a per-instance level.</span></span> <span data-ttu-id="46daa-118">Weitere Informationen finden Sie unter [Konfigurieren und Verwalten von Wörtertrennungen und Wortstammerkennungen für die Suche](configure-and-manage-word-breakers-and-stemmers-for-search.md) und [Konfigurieren und Verwalten von Filtern für die Suche](configure-and-manage-filters-for-search.md).</span><span class="sxs-lookup"><span data-stu-id="46daa-118">For more information, see [Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md) and [Configure and Manage Filters for Search](configure-and-manage-filters-for-search.md).</span></span>  
  
 <span data-ttu-id="46daa-119">Filterdaemonhost</span><span class="sxs-lookup"><span data-stu-id="46daa-119">Filter daemon host</span></span>  
 <span data-ttu-id="46daa-120">Bei Volltext-Filterdaemonhosts handelt es sich um Prozesse, die erweiterbare externe Komponenten für Indizierung und Abfragen wie Wörtertrennung, Wortstammerkennung und Filter auf sichere Weise laden und ausführen, ohne die Integrität der Volltext-Engine zu gefährden.</span><span class="sxs-lookup"><span data-stu-id="46daa-120">The full-text filter daemon hosts are processes that safely load and drive extensible external components used for index and query, such as word breakers, stemmers, and filters, without compromising the integrity of the Full-Text Engine.</span></span> <span data-ttu-id="46daa-121">Eine Serverinstanz verwendet einen Multithreadprozess für alle Multithreadfilter und einen Singlethreadprozess für alle Filter mit einem einzigen Thread.</span><span class="sxs-lookup"><span data-stu-id="46daa-121">A server instance uses a multithreaded process for all multithreaded filters and a single-threaded process for all single-threaded filters.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] <span data-ttu-id="46daa-122">Mit wurde ein Dienstkonto für den FDHOST-Startdienst (MSSQLFDLauncher) eingeführt.</span><span class="sxs-lookup"><span data-stu-id="46daa-122">introduced a service account for the FDHOST Launcher service (MSSQLFDLauncher).</span></span> <span data-ttu-id="46daa-123">Dieser Dienst gibt die Dienstkontoinformationen an die Filterdaemonhost-Prozesse einer bestimmten Instanz von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]weiter.</span><span class="sxs-lookup"><span data-stu-id="46daa-123">This service propagates the service account information to the filter daemon host processes of a specific instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="46daa-124">Informationen zum Festlegen des Dienstkontos finden Sie unter [Festlegen des Dienstkontos für das Startprogramm des Volltextfilterdaemons](set-the-service-account-for-the-full-text-filter-daemon-launcher.md).</span><span class="sxs-lookup"><span data-stu-id="46daa-124">For information about setting the service account, see [Set the Service Account for the Full-text Filter Daemon Launcher](set-the-service-account-for-the-full-text-filter-daemon-launcher.md).</span></span>  
  
 <span data-ttu-id="46daa-125">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]befindet sich jeder Volltextindex in einem Volltextkatalog, der einer Dateigruppe angehört, über einen physischen Pfad verfügt und als Datenbankdatei behandelt wird.</span><span class="sxs-lookup"><span data-stu-id="46daa-125">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], each full-text index resides in a full-text catalog that belongs to a filegroup, has a physical path, and is treated as a database file.</span></span> <span data-ttu-id="46daa-126">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] und späteren Versionen ist ein Volltextkatalog ein logisches oder virtuelles Objekt, das eine Gruppe von Volltextindizes enthält.</span><span class="sxs-lookup"><span data-stu-id="46daa-126">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, a full-text catalog is a logical or virtual object that contains a group of full-text indexes.</span></span> <span data-ttu-id="46daa-127">Deshalb wird ein neuer Volltextkatalog nicht als Datenbankdatei mit einem physischen Pfad behandelt.</span><span class="sxs-lookup"><span data-stu-id="46daa-127">Therefore, a new full-text catalog is not treated as a database file with a physical path.</span></span> <span data-ttu-id="46daa-128">Wenn jedoch ein Volltextkatalog aktualisiert wird, der Datendateien enthält, wird auf demselben Datenträger jeweils eine neue Dateigruppe erstellt.</span><span class="sxs-lookup"><span data-stu-id="46daa-128">However, during upgrade of any full-text catalog that contains data files, a new filegroup is created on same disk.</span></span> <span data-ttu-id="46daa-129">Auf diese Weise wird nach dem Upgrade das alte Datenträger-E/A-Verhalten beibehalten.</span><span class="sxs-lookup"><span data-stu-id="46daa-129">This maintains the old disk I/O behavior after upgrade.</span></span> <span data-ttu-id="46daa-130">Jeder Volltextindex aus diesem Katalog wird in die neue Dateigruppe eingefügt, wenn der Stammpfad vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="46daa-130">Any full-text index from that catalog is placed in the new filegroup if the root path exists.</span></span> <span data-ttu-id="46daa-131">Falls der alte Volltextkatalogpfad ungültig ist, wird beim Upgrade der Volltextindex in derselben Dateigruppe wie die Basistabelle bzw. bei einer partitionierten Tabelle in der primären Dateigruppe beibehalten.</span><span class="sxs-lookup"><span data-stu-id="46daa-131">If the old full-text catalog path is invalid, the upgrade keeps the full-text index in the same filegroup as the base table or, for a partitioned table, in the primary filegroup.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]<span data-ttu-id="46daa-132">[!INCLUDE[tsql](../../includes/tsql-md.md)]DDL-Anweisungen, die voll Text Kataloge angeben, funktionieren weiterhin ordnungsgemäß.</span><span class="sxs-lookup"><span data-stu-id="46daa-132">[!INCLUDE[tsql](../../includes/tsql-md.md)] DDL statements that specify full-text catalogs continue to work correctly.</span></span>  
  
##  <a name="full-text-upgrade-options"></a><a name="FT_Upgrade_Options"></a><span data-ttu-id="46daa-133">Volltext-Upgradeoptionen</span><span class="sxs-lookup"><span data-stu-id="46daa-133">Full-Text Upgrade Options</span></span>  
 <span data-ttu-id="46daa-134">Beim Aktualisieren einer Serverinstanz auf [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]können Sie auf der Benutzeroberfläche eine der folgenden Volltextupgrade-Optionen wählen.</span><span class="sxs-lookup"><span data-stu-id="46daa-134">When upgrading a server instance to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the user interface allows you to choose one of the following full-text upgrade options.</span></span>  
  
 <span data-ttu-id="46daa-135">Importieren</span><span class="sxs-lookup"><span data-stu-id="46daa-135">Import</span></span>  
 <span data-ttu-id="46daa-136">Volltextkataloge werden importiert.</span><span class="sxs-lookup"><span data-stu-id="46daa-136">Full-text catalogs are imported.</span></span> <span data-ttu-id="46daa-137">Normalerweise ist der Import bedeutend schneller als eine Neuerstellung.</span><span class="sxs-lookup"><span data-stu-id="46daa-137">Typically, import is significantly faster than rebuild.</span></span> <span data-ttu-id="46daa-138">Wenn Sie zum Beispiel nur eine CPU verwenden, läuft ein Import etwa zehnmal schneller ab als eine Neuerstellung.</span><span class="sxs-lookup"><span data-stu-id="46daa-138">For example, when using only one CPU, import runs about 10 times faster than rebuild.</span></span> <span data-ttu-id="46daa-139">Ein importierter Volltextkatalog verwendet jedoch nicht die neuen mit der letzten Version von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]installierten Wörtertrennungen.</span><span class="sxs-lookup"><span data-stu-id="46daa-139">However, an imported full-text catalog does not use the new word breakers installed with the latest version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="46daa-140">Volltextkataloge müssen neu erstellt werden, um die Konsistenz in Abfrageergebnissen sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="46daa-140">To ensure consistency in query results, full-text catalogs have to be rebuilt.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="46daa-141">Sie können die Neuerstellung im Multithreadmodus ausführen. Wenn mehr als 10 CPUs verfügbar sind, ist die Neuerstellung ggf. schneller als der Import, falls dabei alle CPUs genutzt werden können.</span><span class="sxs-lookup"><span data-stu-id="46daa-141">Rebuild can run in multi-threaded mode, and if more than 10 CPUs are available, rebuild might run faster than import if you allow rebuild to use all of the CPUs.</span></span>  
  
 <span data-ttu-id="46daa-142">Wenn ein Volltextkatalog nicht verfügbar ist, werden die zugehörigen Volltextindizes neu erstellt.</span><span class="sxs-lookup"><span data-stu-id="46daa-142">If a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span> <span data-ttu-id="46daa-143">Diese Option ist nur für [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Datenbanken verfügbar.</span><span class="sxs-lookup"><span data-stu-id="46daa-143">This option is available for only [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] databases.</span></span>  
  
 <span data-ttu-id="46daa-144">Informationen zu den Auswirkungen eines Imports von Volltextindizes finden Sie unter "Überlegungen beim Auswählen einer Volltextupgrade-Option" weiter unten in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="46daa-144">For information about the impact of importing full-text index, see "Considerations for Choosing a Full-Text Upgrade Option," later in this topic.</span></span>  
  
 <span data-ttu-id="46daa-145">Neu erstellen</span><span class="sxs-lookup"><span data-stu-id="46daa-145">Rebuild</span></span>  
 <span data-ttu-id="46daa-146">Volltextkataloge werden mithilfe der neuen und verbesserten Worttrennmodule neu erstellt.</span><span class="sxs-lookup"><span data-stu-id="46daa-146">Full-text catalogs are rebuilt using the new and enhanced word breakers.</span></span> <span data-ttu-id="46daa-147">Das Neuerstellen von Indizes kann einige Zeit dauern, und nach dem Upgrade ist ggf. eine beträchtliche Menge an CPU-Leistung und Arbeitsspeicherkapazität erforderlich.</span><span class="sxs-lookup"><span data-stu-id="46daa-147">Rebuilding indexes can take a while, and a significant amount of CPU and memory might be required after the upgrade.</span></span>  
  
 <span data-ttu-id="46daa-148">Reset</span><span class="sxs-lookup"><span data-stu-id="46daa-148">Reset</span></span>  
 <span data-ttu-id="46daa-149">Volltextkataloge werden zurückgesetzt.</span><span class="sxs-lookup"><span data-stu-id="46daa-149">Full-text catalogs are reset.</span></span> <span data-ttu-id="46daa-150">Beim Aktualisieren von [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]werden Volltextkatalogdateien entfernt. Die Metadaten für die Volltextkataloge und die Volltextindizes bleiben jedoch erhalten.</span><span class="sxs-lookup"><span data-stu-id="46daa-150">When upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], full-text catalog files are removed, but the metadata for full-text catalogs and full-text indexes is retained.</span></span> <span data-ttu-id="46daa-151">Nach der Upgrade wird die Änderungsnachverfolgung für alle Volltextindizes deaktiviert, und Durchforstungen werden nicht automatisch gestartet.</span><span class="sxs-lookup"><span data-stu-id="46daa-151">After being upgraded, all full-text indexes are disabled for change tracking and crawls are not started automatically.</span></span> <span data-ttu-id="46daa-152">Der Katalog bleibt leer, bis Sie ihn nach Beendigung des Upgrades manuell vollständig auffüllen.</span><span class="sxs-lookup"><span data-stu-id="46daa-152">The catalog will remain empty until you manually issue a full population, after the upgrade completes.</span></span>  
  
##  <a name="considerations-for-choosing-a-full-text-upgrade-option"></a><a name="Choosing_Upgade_Option"></a><span data-ttu-id="46daa-153">Überlegungen zum Auswählen einer voll Text Upgrade-Option</span><span class="sxs-lookup"><span data-stu-id="46daa-153">Considerations for Choosing a Full-Text Upgrade Option</span></span>  
 <span data-ttu-id="46daa-154">Beachten Sie beim Auswählen der Aktualisierungsoption Folgendes:</span><span class="sxs-lookup"><span data-stu-id="46daa-154">When choosing the upgrade option for your upgrade, consider the following:</span></span>  
  
-   <span data-ttu-id="46daa-155">Ist die Konsistenz in Abfrageergebnissen erforderlich?</span><span class="sxs-lookup"><span data-stu-id="46daa-155">Do you require consistency in query results?</span></span>  
  
     [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="46daa-156">installiert neue Wörtertrennungen, die von der Volltextsuche und semantischen Suche verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="46daa-156">installs new word breakers for use by Full-Text and Semantic Search.</span></span> <span data-ttu-id="46daa-157">Die Wörtertrennungen werden sowohl bei der Indizierung als auch bei Abfragen verwendet.</span><span class="sxs-lookup"><span data-stu-id="46daa-157">The word breakers are used both at indexing time and at query time.</span></span> <span data-ttu-id="46daa-158">Wenn Sie die Volltextkataloge nicht neu erstellen, sind die Suchergebnisse möglicherweise inkonsistent.</span><span class="sxs-lookup"><span data-stu-id="46daa-158">If you do not rebuild the full-text catalogs, your search results may be inconsistent.</span></span> <span data-ttu-id="46daa-159">Wenn Sie eine Volltextabfrage senden, die nach einem Ausdruck sucht, der von der Wörtertrennung in einer früheren [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Version und der aktuellen Wörtertrennung unterschiedlich getrennt wird, können Dokumente oder Zeilen, in denen der Ausdruck enthalten ist, möglicherweise nicht abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="46daa-159">If you issue a full-text query that looks for a phrase that is broken differently by the word breaker in a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and the current word breaker, a document or row containing the phrase might not be retrieved.</span></span> <span data-ttu-id="46daa-160">Das liegt daran, dass die indizierten Ausdrücke anhand einer anderen Logik getrennt wurden als der von der Abfrage verwendeten Logik.</span><span class="sxs-lookup"><span data-stu-id="46daa-160">This is because the indexed phrases were broken using different logic than the query is using.</span></span> <span data-ttu-id="46daa-161">Die Lösung besteht darin, die Volltextkataloge mit den neuen Wörtertrennungen aufzufüllen (neu zu erstellen), damit das Verhalten bei der Indizierung und bei Abfragen gleich ist.</span><span class="sxs-lookup"><span data-stu-id="46daa-161">The solution is to repopulate (rebuild) the full-text catalogs with the new word breakers so that index time and query time behavior are identical.</span></span> <span data-ttu-id="46daa-162">Sie können dafür die Option zur Neuerstellung auswählen oder nach dem Auswählen der Option "Importieren" die Kataloge manuell neu erstellen.</span><span class="sxs-lookup"><span data-stu-id="46daa-162">You can choose the Rebuild option to accomplish this, or you can rebuild manually after choosing the Import option.</span></span>  
  
-   <span data-ttu-id="46daa-163">Wurden Volltextindizes basierend auf ganzzahligen Volltextschlüsselspalten erstellt?</span><span class="sxs-lookup"><span data-stu-id="46daa-163">Were any full-text indexes built on integer full-text key columns?</span></span>  
  
     <span data-ttu-id="46daa-164">Bei der Neuerstellung werden interne Optimierungen durchgeführt, die die Abfrageleistung des aktualisierten Volltextindex in einigen Fällen verbessern.</span><span class="sxs-lookup"><span data-stu-id="46daa-164">Rebuilding performs internal optimizations that improve the query performance of the upgraded full-text index in some cases.</span></span> <span data-ttu-id="46daa-165">Mit der Neuerstellung erzielen Sie nach dem Upgrade besonders dann eine optimale Leistung der Volltextabfragen, wenn Sie Volltextkataloge mit Volltextindizes verwenden, bei denen die Volltextschlüsselspalte der Basistabelle ein integer-Datentyp ist.</span><span class="sxs-lookup"><span data-stu-id="46daa-165">Specifically, if you have full-text catalogs that contain full-text indexes for which the full-text key column of the base table is an integer data type, rebuilding achieves ideal performance of full-text queries after upgrade.</span></span> <span data-ttu-id="46daa-166">In diesem Fall ist es sehr zu empfehlen, die Option **Neu erstellen** zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="46daa-166">In this case, we highly recommend you to use the **Rebuild** option.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="46daa-167">Für die Volltextindizes in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]ist es ratsam, dass es sich bei der Spalte, die als Volltextschlüssel dient, um einen ganzzahligen Datentyp handelt.</span><span class="sxs-lookup"><span data-stu-id="46daa-167">For full-text indexes in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], we recommend that the column serving as the full-text key be an integer data type.</span></span> <span data-ttu-id="46daa-168">Weitere Informationen finden Sie unter [Verbessern der Leistung von Volltextindizes](improve-the-performance-of-full-text-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="46daa-168">For more information, see [Improve the Performance of Full-Text Indexes](improve-the-performance-of-full-text-indexes.md).</span></span>  
  
-   <span data-ttu-id="46daa-169">Worauf liegt beim Herstellen der Onlineverfügbarkeit der Serverinstanz die Priorität?</span><span class="sxs-lookup"><span data-stu-id="46daa-169">What is the priority for getting your server instance online?</span></span>  
  
     <span data-ttu-id="46daa-170">Das Importieren bzw. das Neuerstellen während eines Upgrades belegt viele CPU-Ressourcen. Dies führt zu Verzögerungen beim Aktualisieren und Herstellen der Onlineverfügbarkeit des Rests der Serverinstanz.</span><span class="sxs-lookup"><span data-stu-id="46daa-170">Importing or rebuilding during upgrade takes a lot of CPU resources, which delays getting the rest of the server instance upgraded and online.</span></span> <span data-ttu-id="46daa-171">Wenn die schnellstmögliche Onlineverfügbarkeit der Serverinstanz wichtig und das manuelle Auffüllen nach dem Upgrade akzeptabel ist, eignet sich die Option **Zurücksetzen** .</span><span class="sxs-lookup"><span data-stu-id="46daa-171">If getting the server instance online as soon as possible is important and if you are willing to run a manual population after the upgrade, **Reset** is suitable.</span></span>  
  
## <a name="ensuring-consistent-query-results-after-importing-a-sql-server-2005-full-text-index"></a><span data-ttu-id="46daa-172">Sicherstellen von konsistenten Abfrageergebnissen nach dem Importieren eines SQL Server 2005-Volltextindexes</span><span class="sxs-lookup"><span data-stu-id="46daa-172">Ensuring Consistent Query Results after Importing a SQL Server 2005 Full-Text Index</span></span>  
 <span data-ttu-id="46daa-173">Wenn beim Upgrade einer [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Datenbank auf [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]ein Volltextkatalog importiert wurde, kann es in einigen Fällen zu Konflikten zwischen der Abfrage und dem Inhalt des Volltextindexes kommen, weil zwischen den alten und neuen Wörtertrennungen Unterschiede bestehen können.</span><span class="sxs-lookup"><span data-stu-id="46daa-173">If a full-text catalog was imported when upgrading a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], mismatches between the query and the full-text index content might occur because of differences in the behavior of the old and new word breakers.</span></span> <span data-ttu-id="46daa-174">Wählen Sie in diesem Fall eine der folgenden Optionen aus, um eine vollständige Übereinstimmung zwischen Abfragen und dem Inhalt des Volltextindexes sicherzustellen:</span><span class="sxs-lookup"><span data-stu-id="46daa-174">In this case, to guarantee a total match between queries and the full-text index content, choose one of the following options:</span></span>  
  
-   <span data-ttu-id="46daa-175">Erstellen Sie den Volltextkatalog neu, der den Volltextindex enthält ([ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)*catalog_name* REBUILD)</span><span class="sxs-lookup"><span data-stu-id="46daa-175">Rebuild the full-text catalog that contains the full-text index ([ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)*catalog_name* REBUILD)</span></span>  
  
-   <span data-ttu-id="46daa-176">Geben Sie eine FULL POPULATION für den Volltextindex aus ([ALTER FULLTEXT INDEX](/sql/t-sql/statements/alter-fulltext-index-transact-sql) ON *table_name* START FULL POPULATION).</span><span class="sxs-lookup"><span data-stu-id="46daa-176">Issue a FULL POPULATION on the full-text index ([ALTER FULLTEXT INDEX](/sql/t-sql/statements/alter-fulltext-index-transact-sql) ON *table_name* START FULL POPULATION).</span></span>  
  
 <span data-ttu-id="46daa-177">Weitere Informationen zur Wörtertrennung finden Sie unter [Konfigurieren und Verwalten von Wörtertrennungen und Wortstammerkennungen für die Suche](configure-and-manage-word-breakers-and-stemmers-for-search.md).</span><span class="sxs-lookup"><span data-stu-id="46daa-177">For more information about word breakers, see [Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md).</span></span>  
  
## <a name="upgrading-noise-word-files-to-stoplists"></a><span data-ttu-id="46daa-178">Aktualisieren von Füllwortdateien auf Stoplisten</span><span class="sxs-lookup"><span data-stu-id="46daa-178">Upgrading Noise-Word Files to Stoplists</span></span>  
 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]<span data-ttu-id="46daa-179">-Füllwörter wurden in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] und höheren Versionen durch Stoppwörter ersetzt.</span><span class="sxs-lookup"><span data-stu-id="46daa-179">noise words have been replaced by stopwords in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions.</span></span> <span data-ttu-id="46daa-180">Wenn eine Datenbank von [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] auf [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]aktualisiert wird, werden die Füllwortdateien nicht mehr verwendet.</span><span class="sxs-lookup"><span data-stu-id="46daa-180">When a database is upgraded to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the noise-word files are no longer used.</span></span> <span data-ttu-id="46daa-181">Die alten Füllwortdateien werden jedoch im Ordner "FTDATA\FTNoiseThesaurusBak" gespeichert, und Sie können sie später beim Aktualisieren oder Erstellen der entsprechenden [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] -Stopplisten verwenden.</span><span class="sxs-lookup"><span data-stu-id="46daa-181">However, the old noise-word files are stored in the FTDATA\ FTNoiseThesaurusBak folder, and you can use them later when updating or building the corresponding [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] stoplists.</span></span>  
  
 <span data-ttu-id="46daa-182">Nach dem Upgrade von [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="46daa-182">After upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span></span>  
  
-   <span data-ttu-id="46daa-183">Wenn Sie in Ihrer Installation von [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]keine Füllwortdateien hinzugefügt, geändert oder gelöscht haben, dürften die Systemstopplisten Ihren Anforderungen entsprechen.</span><span class="sxs-lookup"><span data-stu-id="46daa-183">If you never added, modified, or deleted any noise-word files in your installation of [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the system stoplist should meet your needs.</span></span>  
  
-   <span data-ttu-id="46daa-184">Wenn die Füllwortdateien in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]geändert wurden, gehen diese Änderungen während des Upgrades verloren.</span><span class="sxs-lookup"><span data-stu-id="46daa-184">If your noise-word files were modified in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], those modifications are lost during upgrade.</span></span> <span data-ttu-id="46daa-185">Wenn Sie die Updates erneut erstellen möchten, müssen Sie diese Änderungen in der entsprechenden [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]-Stoppliste manuell neu erstellen.</span><span class="sxs-lookup"><span data-stu-id="46daa-185">To re-create those updates, you must manually recreate those modifications in the corresponding [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] stoplist.</span></span> <span data-ttu-id="46daa-186">Weitere Informationen finden Sie unter [ALTER FULLTEXT STOPLIST &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="46daa-186">For more information, see [ALTER FULLTEXT STOPLIST &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql).</span></span>  
  
-   <span data-ttu-id="46daa-187">Wenn Sie auf die Volltextindizes keine Stoppwörter anwenden möchten (wenn Sie z. B. die Füllwortdateien in der [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]-Installation gelöscht haben), müssen Sie die Stopliste für jeden aktualisierten Volltextindex deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="46daa-187">If you do not want to apply any stopwords to your full-text indexes (for example, if you deleted or erased your noise-word files in your [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] installation), you must turn off the stoplist for each upgraded full-text index.</span></span> <span data-ttu-id="46daa-188">Führen Sie die folgende [!INCLUDE[tsql](../../includes/tsql-md.md)] -Anweisung aus ( *Datenbank* wird durch den Namen der aktualisierten Datenbank und *Tabelle* durch den Namen der *Tabelle*ersetzt):</span><span class="sxs-lookup"><span data-stu-id="46daa-188">Run the following [!INCLUDE[tsql](../../includes/tsql-md.md)] statement (replacing *database* with the name of the upgraded database and *table* with the name of the *table*):</span></span>  
  
    ```  
    Use database;   
    ALTER FULLTEXT INDEX ON table  
       SET STOPLIST OFF;  
    GO  
    ```  
  
     <span data-ttu-id="46daa-189">Die STOPLIST OFF-Klausel entfernt die Stoppwortfilterung und löst eine Auffüllung der Tabelle aus, ohne Wörter zu filtern, die als Füllwörter betrachtet werden.</span><span class="sxs-lookup"><span data-stu-id="46daa-189">The STOPLIST OFF clause removes stop-word filtering, and it will trigger a population of the table, without filtering any words considered to be noise.</span></span>  
  
## <a name="backup-and-imported-full-text-catalogs"></a><span data-ttu-id="46daa-190">Sichern und Importieren von Volltextkatalogen</span><span class="sxs-lookup"><span data-stu-id="46daa-190">Backup and Imported Full-Text Catalogs</span></span>  
 <span data-ttu-id="46daa-191">Für während des Upgrades neu erstellte oder zurückgesetzte Volltextkataloge (oder für neue Volltextkataloge) ist der Volltextkatalog ein logisches Konzept und nicht in einer Dateigruppe enthalten.</span><span class="sxs-lookup"><span data-stu-id="46daa-191">For full-text catalogs that are rebuilt or reset during upgrade (and for new full-text catalogs), the fulltext catalog is a logical concept and does not reside in a filegroup.</span></span> <span data-ttu-id="46daa-192">Um in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]einen Volltextkatalog zu sichern, müssen Sie daher jede Dateigruppe identifizieren, die einen Volltextindex des Katalogs enthält, und diese einzeln sichern.</span><span class="sxs-lookup"><span data-stu-id="46daa-192">Therefore, to back up a full-text catalog in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you must identify every filegroup that contains a full-text index of the catalog and back each of them up, one by one.</span></span> <span data-ttu-id="46daa-193">Weitere Informationen finden Sie unter [Sichern und Wiederherstellen von Volltextkatalogen und Indizes](back-up-and-restore-full-text-catalogs-and-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="46daa-193">For more information, see [Back Up and Restore Full-Text Catalogs and Indexes](back-up-and-restore-full-text-catalogs-and-indexes.md).</span></span>  
  
 <span data-ttu-id="46daa-194">Bei Volltextkatalogen, die aus [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]importiert werden, ist der Volltextkatalog immer noch eine Datenbankdatei in einer eigenen Dateigruppe.</span><span class="sxs-lookup"><span data-stu-id="46daa-194">For full-text catalogs that have been imported from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the full-text catalog is still a database file in its own filegroup.</span></span> <span data-ttu-id="46daa-195">Der Sicherungsprozess von [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] für Volltextkataloge gilt weiterhin, jedoch mit der Ausnahme, dass der MSFTESQL-Dienst in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]nicht vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="46daa-195">The [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] backup process for full-text catalogs still applies except that the MSFTESQL service does not exist in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="46daa-196">Weitere Informationen zum [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Prozess finden Sie unter [Sichern und Wiederherstellen von Volltextkatalogen](https://go.microsoft.com/fwlink/?LinkId=209154) in der SQL Server 2005-Onlinedokumentation.</span><span class="sxs-lookup"><span data-stu-id="46daa-196">For information about the [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] process, see [Backing Up and Restoring Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=209154) in SQL Server 2005 Books Online.</span></span>  
  
##  <a name="migrating-full-text-indexes-when-upgrading-a-database-to-sscurrent"></a><a name="Upgrade_Db"></a><span data-ttu-id="46daa-197">Migrieren von voll Text Indizes beim Aktualisieren einer Datenbank auf[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="46daa-197">Migrating Full-Text Indexes When Upgrading a Database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="46daa-198">Datenbankdateien und Volltextkataloge einer vorherigen Version von [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] können durch Anfügen, Wiederherstellen oder mithilfe des Assistenten zum Kopieren von Datenbanken auf eine vorhandene [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] -Serverinstanz aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="46daa-198">Database files and full-text catalogs from a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can be upgraded to an existing [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance by using attach, restore, or the Copy Database Wizard.</span></span> [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] <span data-ttu-id="46daa-199">-Volltextindizes werden, falls vorhanden, importiert, zurückgesetzt oder neu erstellt.</span><span class="sxs-lookup"><span data-stu-id="46daa-199">full-text indexes, if any, are either imported, reset, or rebuilt.</span></span> <span data-ttu-id="46daa-200">Die Servereigenschaft **upgrade_option** steuert, welche Volltextupgrade-Option die Serverinstanz während dieser Datenbankupgrades verwendet.</span><span class="sxs-lookup"><span data-stu-id="46daa-200">The **upgrade_option** server property controls which full-text upgrade option the server instance uses during these database upgrades.</span></span>  
  
 <span data-ttu-id="46daa-201">Nachdem Sie eine [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Datenbank in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]angehängt, wiederhergestellt oder kopiert haben, ist die Datenbank sofort verfügbar und wird automatisch aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="46daa-201">After you attach, restore, or copy any [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the database becomes available immediately and is then automatically upgraded.</span></span> <span data-ttu-id="46daa-202">Je nach Menge der indizierten Daten kann der Importvorgang mehrere Stunden dauern; die Neuerstellung sogar bis zu zehnmal länger.</span><span class="sxs-lookup"><span data-stu-id="46daa-202">Depending the amount of data being indexed, importing can take several hours, and rebuilding can take up to ten times longer.</span></span> <span data-ttu-id="46daa-203">Wenn die Upgradeoption auf "Importieren" festgelegt und kein Volltextkatalog verfügbar ist, werden die zugehörigen Volltextindizes neu erstellt.</span><span class="sxs-lookup"><span data-stu-id="46daa-203">Note also that when the upgrade option is set to import, if a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span>  
  
 <span data-ttu-id="46daa-204">**So ändern Sie das Verhalten des Volltextupgrades für eine Serverinstanz**</span><span class="sxs-lookup"><span data-stu-id="46daa-204">**To change full-text upgrade behavior on a server instance**</span></span>  
  
-   [!INCLUDE[tsql](../../includes/tsql-md.md)]<span data-ttu-id="46daa-205">: Verwenden Sie die [ \_ \_ Upgradeoption "SP FULLTEXT Service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql) ". \*\* \_ \*\*</span><span class="sxs-lookup"><span data-stu-id="46daa-205">: Use the **upgrade\_option** action of [sp\_fulltext\_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql)</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="46daa-206">**:** Verwenden Sie im Dialogfeld **Servereigenschaften** die **Volltextupgrade-Option** .</span><span class="sxs-lookup"><span data-stu-id="46daa-206">**:** Use the **Full-Text Upgrade Option** of the **Server Properties** dialog box.</span></span> <span data-ttu-id="46daa-207">Weitere Informationen finden Sie unter [Verwalten und Überwachen der Volltextsuche auf einer Serverinstanz](manage-and-monitor-full-text-search-for-a-server-instance.md).</span><span class="sxs-lookup"><span data-stu-id="46daa-207">For more information, see [Manage and Monitor Full-Text Search for a Server Instance](manage-and-monitor-full-text-search-for-a-server-instance.md).</span></span>  
  
##  <a name="considerations-for-restoring-a-ssversion2005-full-text-catalog-to-sscurrent"></a><a name="Considerations_for_Restore"></a> <span data-ttu-id="46daa-208">Überlegungen zum Wiederherstellen eines [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Volltextkatalogs auf [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="46daa-208">Considerations for Restoring a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Full-Text Catalog to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="46daa-209">Eine Möglichkeit zum Aktualisieren der Volltextdaten einer [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Datenbank auf [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] besteht darin, eine vollständige Datenbanksicherung für [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="46daa-209">One method of upgrading fulltext data from a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is to restore a full database backup to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
 <span data-ttu-id="46daa-210">Beim Importieren eines [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Volltextkatalogs können Sie die Datenbank und die Katalogdatei sichern und wiederherstellen.</span><span class="sxs-lookup"><span data-stu-id="46daa-210">While importing a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] full-text catalog, you can back up and restore the database and the catalog file.</span></span> <span data-ttu-id="46daa-211">Das Verhalten entspricht dem Verhalten in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="46daa-211">The behavior is the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span></span>  
  
-   <span data-ttu-id="46daa-212">Die vollständige Datenbanksicherung enthält den Volltextkatalog.</span><span class="sxs-lookup"><span data-stu-id="46daa-212">The full database backup will include the full-text catalog.</span></span> <span data-ttu-id="46daa-213">Verwenden Sie zum Verweisen auf den Volltextkatalog seinen [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Dateinamen: sysft_+*catalog_name*.</span><span class="sxs-lookup"><span data-stu-id="46daa-213">To refer to the full-text catalog, use its [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] file name, sysft_+*catalog-name*.</span></span>  
  
-   <span data-ttu-id="46daa-214">Wenn der Volltextkatalog offline ist, kann die Sicherung nicht ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="46daa-214">If the full-text catalog is offline, the backup will fail.</span></span>  
  
 <span data-ttu-id="46daa-215">Weitere Informationen zur Sicherung und Wiederherstellung von [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Volltextkatalogen finden Sie unter [Sichern und Wiederherstellen von Volltextkatalogen](https://go.microsoft.com/fwlink/?LinkId=121052) und [Dateisicherung und -wiederherstellung und Volltextkataloge](https://go.microsoft.com/fwlink/?LinkId=121053)in der [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Onlinedokumentation.</span><span class="sxs-lookup"><span data-stu-id="46daa-215">For more information about backing up and restoring [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] full-text catalogs, see [Backing Up and Restoring Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=121052) and [File Backup and Restore and Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=121053)in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Books Online.</span></span>  
  
 <span data-ttu-id="46daa-216">Wenn die Datenbank für [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]wiederhergestellt wird, wird für den Volltextkatalog eine neue Datenbankdatei erstellt.</span><span class="sxs-lookup"><span data-stu-id="46daa-216">When the database is restored on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], a new database file will be created for the full-text catalog.</span></span> <span data-ttu-id="46daa-217">Der Standardname dieser Datei lautet ftrow_*catalog-name*.ndf.</span><span class="sxs-lookup"><span data-stu-id="46daa-217">The default name of this file is ftrow_*catalog-name*.ndf.</span></span> <span data-ttu-id="46daa-218">Wenn Sie für *catalog-name* (Katalogname) zum Beispiel `cat1`verwenden, lautet der Standardname der [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] -Datenbankdatei `ftrow_cat1.ndf`.</span><span class="sxs-lookup"><span data-stu-id="46daa-218">For example, if you *catalog-name* is `cat1`, the default name of the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] database file would be `ftrow_cat1.ndf`.</span></span> <span data-ttu-id="46daa-219">Wenn der Standardname im Zielverzeichnis jedoch bereits verwendet wird, wird die neue Datenbankdatei mit dem Namen `ftrow_` *catalog-Name* `{` *GUID*benannt `}.ndf` , wobei *GUID* der Global eindeutige Bezeichner der neuen Datei ist.</span><span class="sxs-lookup"><span data-stu-id="46daa-219">But if the default name is already being used in the target directory, the new database file would be named `ftrow_`*catalog-name*`{`*GUID*`}.ndf`, where *GUID* is the Globally Unique Identifier of the new file.</span></span>  
  
 <span data-ttu-id="46daa-220">Nach dem Importieren der Kataloge werden die Dateien **sys.database_files** und **sys.master_file**aktualisiert, um die Katalogeinträge zu entfernen, und die Spalte **path** in der Datei **sys.fulltext_catalogs** wird auf NULL festgelegt.</span><span class="sxs-lookup"><span data-stu-id="46daa-220">After the catalogs have been imported, the **sys.database_files** and **sys.master_file**s are updated to remove the catalog entries and the **path** column in **sys.fulltext_catalogs** is set to NULL.</span></span>  
  
 <span data-ttu-id="46daa-221">**So sichern Sie eine Datenbank**</span><span class="sxs-lookup"><span data-stu-id="46daa-221">**To back up a database**</span></span>  
  
-   [<span data-ttu-id="46daa-222">Vollständige Datenbanksicherungen &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="46daa-222">Full Database Backups &#40;SQL Server&#41;</span></span>](../backup-restore/full-database-backups-sql-server.md)  
  
-   <span data-ttu-id="46daa-223">[Transaktionsprotokollsicherungen &#40;SQL Server&#41;](../backup-restore/transaction-log-backups-sql-server.md) (nur vollständiges Wiederherstellungsmodell)</span><span class="sxs-lookup"><span data-stu-id="46daa-223">[Transaction Log Backups &#40;SQL Server&#41;](../backup-restore/transaction-log-backups-sql-server.md) (full recovery model only)</span></span>  
  
 <span data-ttu-id="46daa-224">**So stellen Sie eine Datenbanksicherung wieder her**</span><span class="sxs-lookup"><span data-stu-id="46daa-224">**To restore a database backup**</span></span>  
  
-   [<span data-ttu-id="46daa-225">Vollständige Datenbankwiederherstellungen &#40;einfaches Wiederherstellungsmodell&#41;</span><span class="sxs-lookup"><span data-stu-id="46daa-225">Complete Database Restores &#40;Simple Recovery Model&#41;</span></span>](../backup-restore/complete-database-restores-simple-recovery-model.md)  
  
-   [<span data-ttu-id="46daa-226">Vollständige Datenbankwiederherstellungen &#40;vollständiges Wiederherstellungsmodell&#41;</span><span class="sxs-lookup"><span data-stu-id="46daa-226">Complete Database Restores &#40;Full Recovery Model&#41;</span></span>](../backup-restore/complete-database-restores-full-recovery-model.md)  
  
### <a name="example"></a><span data-ttu-id="46daa-227">Beispiel</span><span class="sxs-lookup"><span data-stu-id="46daa-227">Example</span></span>  
 <span data-ttu-id="46daa-228">Im folgenden Beispiel wird die MOVE-Klausel in der [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) -Anweisung verwendet, um eine [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Datenbank mit dem Namen `ftdb1`wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="46daa-228">The following example uses the MOVE clause in the [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement, to restore a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database named `ftdb1`.</span></span> <span data-ttu-id="46daa-229">Die [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Datenbankdateien, -Protokolldateien und -Katalogdateien werden wie folgt an neue Speicherorte auf der [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] -Serverinstanz verschoben:</span><span class="sxs-lookup"><span data-stu-id="46daa-229">The [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database, log, and catalog files are moved to new locations on the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance, as follows:</span></span>  
  
-   <span data-ttu-id="46daa-230">Die Datenbankdatei `ftdb1.mdf`wird an den Speicherort `C:\Program Files\Microsoft SQL Server\MSSQL.1MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf`verschoben.</span><span class="sxs-lookup"><span data-stu-id="46daa-230">The database file, `ftdb1.mdf`, is moved to `C:\Program Files\Microsoft SQL Server\MSSQL.1MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf`.</span></span>  
  
-   <span data-ttu-id="46daa-231">Die Protokolldatei `ftdb1_log.ldf` wird in ein Protokoll Verzeichnis auf Ihrem Protokoll Laufwerk verschoben, *log_drive* `:\` *log_directory* `\ftdb1_log.ldf` .</span><span class="sxs-lookup"><span data-stu-id="46daa-231">The log file, `ftdb1_log.ldf`, is moved to a log directory on your log disk drive, *log_drive*`:\`*log_directory*`\ftdb1_log.ldf`.</span></span>  
  
-   <span data-ttu-id="46daa-232">Die Katalogdateien, die dem Katalog `sysft_cat90` entsprechen, werden in `C:\temp`verschoben.</span><span class="sxs-lookup"><span data-stu-id="46daa-232">The catalog files that correspond to the `sysft_cat90` catalog are moved to `C:\temp`.</span></span> <span data-ttu-id="46daa-233">Nachdem die Volltextindizes importiert wurden, werden diese automatisch in eine Datenbankdatei mit dem Namen C:\ftrow_sysft_cat90.ndf eingefügt, und das Verzeichnis C:\temp wird gelöscht.</span><span class="sxs-lookup"><span data-stu-id="46daa-233">After the full-text indexes are imported, they will automatically be placed in a database file, C:\ftrow_sysft_cat90.ndf, and the C:\temp will be deleted.</span></span>  
  
```  
RESTORE DATABASE [ftdb1] FROM  DISK = N'C:\temp\ftdb1.bak' WITH  FILE = 1,  
   MOVE N'ftdb1' TO N'C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf',  
    MOVE N'ftdb1_log' TO N'log_drive:\log_directory\ftdb1_log.ldf',  
    MOVE N'sysft_cat90' TO N'C:\temp';  
```  
  
##  <a name="attaching-a-sql-server-2005-database-to-sscurrent"></a><a name="Attaching_2005_ft_catalogs"></a><span data-ttu-id="46daa-234">Anfügen einer SQL Server 2005-Datenbank an[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="46daa-234">Attaching a SQL Server 2005 Database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="46daa-235">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] und höheren Versionen ist ein Volltextkatalog ein logisches Konzept, bei dem eine Gruppe von Volltextindizes verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="46daa-235">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, a full-text catalog is a logical concept that refers to a group of full-text indexes.</span></span> <span data-ttu-id="46daa-236">Ein Volltextkatalog ist ein virtuelles Objekt und gehört keiner Dateigruppe an.</span><span class="sxs-lookup"><span data-stu-id="46daa-236">The full-text catalog is a virtual object that does not belong to any filegroup.</span></span> <span data-ttu-id="46daa-237">Wenn Sie jedoch eine [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] -Datenbank mit Volltextkatalogdateien an eine [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] -Serverinstanz anfügen, werden die Katalogdateien von ihrem vorherigen Speicherort aus zusammen mit den anderen Datenbankdateien angefügt. Dies entspricht der Vorgehensweise für [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="46daa-237">However, when you attach a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database that contains full-text catalog files onto a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance, the catalog files are attached from their previous location along with the other database files, the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span>  
  
 <span data-ttu-id="46daa-238">Der Status der einzelnen angefügten Volltextkataloge von [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] entspricht dem Status beim Trennen der Datenbank von [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="46daa-238">The state of each attached full-text catalog on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is the same as when the database was detached from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span> <span data-ttu-id="46daa-239">Wenn beim Trennvorgang eine Auffüllung des Volltextindex unterbrochen wurde, wird die Auffüllung in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]wieder aufgenommen, und der Volltextindex ist für die Volltextsuche verfügbar.</span><span class="sxs-lookup"><span data-stu-id="46daa-239">If any full-text index population was suspended by the detach operation, the population is resumed on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], and the full-text index becomes available for full-text search.</span></span>  
  
 <span data-ttu-id="46daa-240">Wenn [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] keine Volltextkatalogdatei finden kann oder wenn die Volltextdatei während des Anfügens verschoben und ein neuer Speicherort angegeben wurde, ist das Verhalten von der gewählten Volltextupgrade-Option abhängig.</span><span class="sxs-lookup"><span data-stu-id="46daa-240">If [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] cannot find a full-text catalog file or if the full-text file was moved during the attach operation without specifying a new location, the behavior depends on the selected full-text upgrade option.</span></span> <span data-ttu-id="46daa-241">Wenn die Volltextupgrade-Option **Importieren** oder **Neu erstellen**lautet, wird der angefügte Volltextkatalog neu erstellt.</span><span class="sxs-lookup"><span data-stu-id="46daa-241">If the full-text upgrade option is **Import** or **Rebuild**, the attached full-text catalog is rebuilt.</span></span> <span data-ttu-id="46daa-242">Wenn die Volltextupgrade-Option **Zurücksetzen** lautet, wird der angefügte Volltextkatalog zurückgesetzt.</span><span class="sxs-lookup"><span data-stu-id="46daa-242">If the full-text upgrade option is **Reset**, the attached full-text catalog is reset.</span></span>  
  
 <span data-ttu-id="46daa-243">Weitere Informationen zum Trennen oder Anfügen einer Datenbank finden Sie unter [Anfügen und Trennen von Datenbanken &#40;SQL Server&#41;](../databases/database-detach-and-attach-sql-server.md), [CREATE DATABASE &#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql), [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql), und [sp_detach_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="46daa-243">For more information about detaching and attaching a database, see [Database Detach and Attach &#40;SQL Server&#41;](../databases/database-detach-and-attach-sql-server.md), [CREATE DATABASE &#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql), [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql), and [sp_detach_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="46daa-244">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="46daa-244">See Also</span></span>  
 <span data-ttu-id="46daa-245">[Erste Schritte mit der Volltextsuche](get-started-with-full-text-search.md) </span><span class="sxs-lookup"><span data-stu-id="46daa-245">[Get Started with Full-Text Search](get-started-with-full-text-search.md) </span></span>  
 <span data-ttu-id="46daa-246">[Konfigurieren und Verwalten von Wörter Trennungen und Wort Stamm Erkennungen für die Suche](configure-and-manage-word-breakers-and-stemmers-for-search.md) </span><span class="sxs-lookup"><span data-stu-id="46daa-246">[Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md) </span></span>  
 [<span data-ttu-id="46daa-247">Konfigurieren und Verwalten von Filtern für die Suche</span><span class="sxs-lookup"><span data-stu-id="46daa-247">Configure and Manage Filters for Search</span></span>](configure-and-manage-filters-for-search.md)  
  
  
