---
title: Beheben von OOM-Problemen (nicht genügend Arbeitsspeicher) | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
ms.assetid: f855e931-7502-44bd-8a8b-b8543645c7f4
author: CarlRabeler
ms.author: carlrab
ms.openlocfilehash: f5f57725d559b0cd62679550e2bb7c04dbd7e2bd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87616555"
---
# <a name="resolve-out-of-memory-issues"></a><span data-ttu-id="56f72-102">Beheben von OOM-Problemen (nicht genügend Arbeitsspeicher)</span><span class="sxs-lookup"><span data-stu-id="56f72-102">Resolve Out Of Memory Issues</span></span>
  [!INCLUDE[hek_1](../../includes/hek-1-md.md)] <span data-ttu-id="56f72-103">verwendet mehr Arbeitsspeicher und nutzt diesen auf andere Weise als [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="56f72-103">uses more memory and in different ways than does [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="56f72-104">Es kann vorkommen, dass der installierte, [!INCLUDE[hek_2](../../includes/hek-2-md.md)] zugeordnete Arbeitsspeicher Ihren wachsenden Anforderungen nicht mehr gerecht wird,</span><span class="sxs-lookup"><span data-stu-id="56f72-104">It is possible that the amount of memory you installed and allocated for [!INCLUDE[hek_2](../../includes/hek-2-md.md)] becomes inadequate for your growing needs.</span></span> <span data-ttu-id="56f72-105">sodass kein ausreichender Arbeitsspeicher zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="56f72-105">If so, you could run out of memory.</span></span> <span data-ttu-id="56f72-106">In diesem Thema erfahren Sie, wie Sie OOM-Situationen (Out of Memory, nicht genügend Arbeitsspeicher) beheben.</span><span class="sxs-lookup"><span data-stu-id="56f72-106">This topic covers how to recover from an OOM situation.</span></span> <span data-ttu-id="56f72-107">Weitere Hinweise zur Vermeidung von Situationen mit unzureichendem Arbeitsspeicher finden Sie auch unter dem Thema [Überwachung und Problembehebung bei der Arbeitsspeichernutzung](monitor-and-troubleshoot-memory-usage.md) .</span><span class="sxs-lookup"><span data-stu-id="56f72-107">See [Monitor and Troubleshoot Memory Usage](monitor-and-troubleshoot-memory-usage.md) for guidance that can help you avoid many OOM situations.</span></span>  
  
## <a name="covered-in-this-topic"></a><span data-ttu-id="56f72-108">In diesem Thema</span><span class="sxs-lookup"><span data-stu-id="56f72-108">Covered in this topic</span></span>  
  
|<span data-ttu-id="56f72-109">Thema</span><span class="sxs-lookup"><span data-stu-id="56f72-109">Topic</span></span>|<span data-ttu-id="56f72-110">Übersicht</span><span class="sxs-lookup"><span data-stu-id="56f72-110">Overview</span></span>|  
|-----------|--------------|  
| [<span data-ttu-id="56f72-111">Beheben von Fehlern aufgrund von OOM-Bedingungen bei der Datenbankwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="56f72-111">Resolve database restore failures due to OOM</span></span>](#resolve-database-restore-failures-due-to-oom) |<span data-ttu-id="56f72-112">Erläutert, wie Sie bei der Fehlermeldung „Fehler beim Wiederherstellungsvorgang für Datenbank ' *\<databaseName>* ' aufgrund von unzureichendem Arbeitsspeicher im Ressourcenpool ' *\<resourcePoolName>* '“ vorgehen.</span><span class="sxs-lookup"><span data-stu-id="56f72-112">What to do if you get the error message, "Restore operation failed for database '*\<databaseName>*' due to insufficient memory in the resource pool '*\<resourcePoolName>*'."</span></span>|  
| [<span data-ttu-id="56f72-113">Beheben von Beeinträchtigungen der Arbeitsauslastung durch wenig oder unzureichenden Arbeitsspeicher</span><span class="sxs-lookup"><span data-stu-id="56f72-113">Resolve impact of low memory or OOM conditions on the workload</span></span>](#resolve-impact-of-low-memory-or-oom-conditions-on-the-workload)|<span data-ttu-id="56f72-114">Erläutert, wie Sie vorgehen, wenn die Leistung durch unzureichenden Arbeitsspeicher beeinträchtigt wird.</span><span class="sxs-lookup"><span data-stu-id="56f72-114">What to do if you find low memory issues are negatively impacting performance.</span></span>|  
| [<span data-ttu-id="56f72-115">Beheben von Seitenzuordnungsfehlern aufgrund von unzureichendem Arbeitsspeicher, obwohl ausreichend Arbeitsspeicher verfügbar ist</span><span class="sxs-lookup"><span data-stu-id="56f72-115">Resolve page allocation failures due to insufficient memory when sufficient memory is available</span></span>](#resolve-page-allocation-failures-due-to-insufficient-memory-when-sufficient-memory-is-available) |<span data-ttu-id="56f72-116">Erläutert, wie Sie bei der Fehlermeldung „Seitenzuordnungen für die Datenbank ' *\<databaseName>* ' wird aufgrund von unzureichendem Arbeitsspeicher im Ressourcenpool ' *\<resourcePoolName>* '“ vorgehen.</span><span class="sxs-lookup"><span data-stu-id="56f72-116">What to do if you get the error message, "Disallowing page allocations for database '*\<databaseName>*' due to insufficient memory in the resource pool '*\<resourcePoolName>*'.</span></span> <span data-ttu-id="56f72-117">… nicht zugelassen“ vorgehen, wenn ausreichend Arbeitsspeicher für den Vorgang verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="56f72-117">..." when available memory is sufficient for the operation.</span></span>|  
  
## <a name="resolve-database-restore-failures-due-to-oom"></a><span data-ttu-id="56f72-118">Beheben von Fehlern aufgrund von OOM-Bedingungen bei der Datenbankwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="56f72-118">Resolve database restore failures due to OOM</span></span>  
 <span data-ttu-id="56f72-119">Wenn Sie versuchen, eine Datenbank wiederherzustellen, erhalten Sie möglicherweise die folgende Fehlermeldung: "Fehler beim Wiederherstellungs Vorgang für die Datenbank ' *\<databaseName>* ' aufgrund von unzureichendem Arbeitsspeicher im Ressourcenpool ' *\<resourcePoolName>* '." Bevor Sie die Datenbank erfolgreich wiederherstellen können, müssen Sie das Problem beim unzureichenden Arbeitsspeicher beheben, indem Sie mehr Arbeitsspeicher zur Verfügung stellen.</span><span class="sxs-lookup"><span data-stu-id="56f72-119">When you attempt to restore a database you may get the error message: "Restore operation failed for database '*\<databaseName>*' due to insufficient memory in the resource pool '*\<resourcePoolName>*'." Before you can successfully restore the database you must resolve the insufficient memory issue by making more memory available.</span></span>  
  
 <span data-ttu-id="56f72-120">Um Wiederherstellungsfehler aufgrund von OOM-Bedingungen zu beheben, erhöhen Sie den verfügbaren Arbeitsspeicher durch einige oder alle diese Maßnahmen zum vorübergehenden Erhöhen des für den Wiederherstellungsvorgang verfügbaren Arbeitsspeichers.</span><span class="sxs-lookup"><span data-stu-id="56f72-120">To resolve recovery failure due to OOM increase available memory using any or al of these means to temporarily increase memory available for the recovery operation.</span></span>  
  
-   <span data-ttu-id="56f72-121">Schließen Sie ausgeführte Anwendungen vorübergehend.</span><span class="sxs-lookup"><span data-stu-id="56f72-121">Temporarily close running applications.</span></span>   
    <span data-ttu-id="56f72-122">Indem Sie eine oder mehrere ausgeführte Anwendungen, wie Visual Studio, Internet Explorer, OneNote und andere, schließen, geben Sie den von den Anwendungen belegten Arbeitsspeicher für den Wiederherstellungsvorgang frei.</span><span class="sxs-lookup"><span data-stu-id="56f72-122">By closing one or more running applications, such as Visual Studio, Internet Explorer, OneNote, and others, you make the memory they were using available for the restore operation.</span></span> <span data-ttu-id="56f72-123">Nach der erfolgreichen Wiederherstellung können Sie sie wieder starten.</span><span class="sxs-lookup"><span data-stu-id="56f72-123">You can restart them following the successful restore.</span></span>  
  
-   <span data-ttu-id="56f72-124">Erhöhen Sie den Wert von MAX_MEMORY_PERCENT.</span><span class="sxs-lookup"><span data-stu-id="56f72-124">Increase the value of MAX_MEMORY_PERCENT.</span></span>   
    <span data-ttu-id="56f72-125">In diesem Codeausschnitt wird MAX_MEMORY_PERCENT für den PoolHk-Ressourcenpool in 70 % des installierten Arbeitsspeichers geändert.</span><span class="sxs-lookup"><span data-stu-id="56f72-125">This code snippet changes MAX_MEMORY_PERCENT for the resource pool PoolHk to 70% of installed memory.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="56f72-126">Wenn der Server auf einem virtuellen Computer ausgeführt wird und nicht dediziert ist, legen Sie den Wert von MIN_MEMORY_PERCENT auf denselben Wert wie MAX_MEMORY_PERCENT fest.</span><span class="sxs-lookup"><span data-stu-id="56f72-126">If the server is running on a VM and is not dedicated, set the value of MIN_MEMORY_PERCENT to the same value as MAX_MEMORY_PERCENT.</span></span>   
    > <span data-ttu-id="56f72-127">Weitere Informationen finden Sie im Thema [Bewährte Methoden: Verwenden von In-Memory-OLTP in einer VM-Umgebung](../../database-engine/using-in-memory-oltp-in-a-vm-environment.md).</span><span class="sxs-lookup"><span data-stu-id="56f72-127">See the topic [Best Practices: Using In-Memory OLTP in a VM environment](../../database-engine/using-in-memory-oltp-in-a-vm-environment.md) for more information.</span></span>  
  
    ```sql  
  
    -- disable resource governor  
    ALTER RESOURCE GOVERNOR DISABLE  
  
    -- change the value of MAX_MEMORY_PERCENT  
    ALTER RESOURCE POOL PoolHk  
    WITH  
         ( MAX_MEMORY_PERCENT = 70 )  
    GO  
  
    -- reconfigure the Resource Governor  
    --    RECONFIGURE enables resource governor  
    ALTER RESOURCE GOVERNOR RECONFIGURE  
    GO  
  
    ```  
  
     <span data-ttu-id="56f72-128">Informationen zu den maximalen Werten für MAX_MEMORY_PERCENT finden Sie im Abschnitt [Prozentsatz des verfügbaren Arbeitsspeichers für Speicher optimierte Tabellen und Indizes](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md#percent-of-memory-available-for-memory-optimized-tables-and-indexes) .</span><span class="sxs-lookup"><span data-stu-id="56f72-128">For information on maximum values for MAX_MEMORY_PERCENT see the topic section [Percent of memory available for memory-optimized tables and indexes](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md#percent-of-memory-available-for-memory-optimized-tables-and-indexes)</span></span>
  
-   <span data-ttu-id="56f72-129">Konfigurieren Sie **Max. Serverarbeitsspeicher** neu.</span><span class="sxs-lookup"><span data-stu-id="56f72-129">Reconfigure **max server memory**.</span></span>  
    <span data-ttu-id="56f72-130">Informationen zum Konfigurieren von **Max. Serverarbeitsspeicher** finden Sie unter dem Thema [Optimieren der Serverleistung mithilfe von Speicherkonfigurationsoptionen](https://technet.microsoft.com/library/ms177455\(v=SQL.105\).aspx).</span><span class="sxs-lookup"><span data-stu-id="56f72-130">For information on configuring **max server memory** see the topic [Optimizing Server Performance Using Memory Configuration Options](https://technet.microsoft.com/library/ms177455\(v=SQL.105\).aspx).</span></span>  
  
## <a name="resolve-impact-of-low-memory-or-oom-conditions-on-the-workload"></a><span data-ttu-id="56f72-131">Beheben von Beeinträchtigungen der Arbeitsauslastung durch wenig oder unzureichenden Arbeitsspeicher</span><span class="sxs-lookup"><span data-stu-id="56f72-131">Resolve impact of low memory or OOM conditions on the workload</span></span>  
 <span data-ttu-id="56f72-132">Grundsätzlich sind Situationen mit wenig oder unzureichendem Arbeitsspeicher zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="56f72-132">Obviously, it is best to not get into a low memory or OOM (Out of Memory) situation.</span></span> <span data-ttu-id="56f72-133">Häufig lassen sich OOM-Situationen durch eine durchdachte Planung und Überwachung vermeiden.</span><span class="sxs-lookup"><span data-stu-id="56f72-133">Good planning and monitoring can help avoid OOM situations.</span></span> <span data-ttu-id="56f72-134">Aber auch die beste Planung schützt nicht vor unvorhersehbaren Ereignissen, die zu knappem oder unzureichendem Arbeitsspeicher führen können.</span><span class="sxs-lookup"><span data-stu-id="56f72-134">Still, the best planning does not always foresee what actually happens and you might end up with low memory or OOM.</span></span> <span data-ttu-id="56f72-135">Eine OOM-Bedingung kann in zwei Schritten behoben werden:</span><span class="sxs-lookup"><span data-stu-id="56f72-135">There are two steps to recovering from OOM:</span></span>  
  
1.  [<span data-ttu-id="56f72-136">Öffnen einer DAC (dedizierte Administratorverbindung)</span><span class="sxs-lookup"><span data-stu-id="56f72-136">Open a DAC (Dedicated Administrator Connection)</span></span>](#open-a-dac-dedicated-administrator-connection) 
  
2.  [<span data-ttu-id="56f72-137">Korrekturmaßnahme</span><span class="sxs-lookup"><span data-stu-id="56f72-137">Take corrective action</span></span>](#take-corrective-action) 
  
### <a name="open-a-dac-dedicated-administrator-connection"></a><span data-ttu-id="56f72-138">Öffnen einer DAC (dedizierte Administratorverbindung)</span><span class="sxs-lookup"><span data-stu-id="56f72-138">Open a DAC (Dedicated Administrator Connection)</span></span>  
 <span data-ttu-id="56f72-139">Microsoft SQL Server bietet eine dedizierte Administratorverbindung (Dedicated Administrator Connection, DAC).</span><span class="sxs-lookup"><span data-stu-id="56f72-139">Microsoft SQL Server provides a dedicated administrator connection (DAC).</span></span> <span data-ttu-id="56f72-140">Mit der DAC können Administratoren auf eine ausgeführte Instanz der SQL Server-Datenbank-Engine zugreifen, um Probleme auf dem Server zu beheben, selbst wenn der Server auf andere Clientverbindungen nicht reagiert.</span><span class="sxs-lookup"><span data-stu-id="56f72-140">The DAC allows an administrator to access a running instance of SQL Server Database Engine to troubleshoot problems on the server-even when the server is unresponsive to other client connections.</span></span> <span data-ttu-id="56f72-141">Die DAC ist über das `sqlcmd` -Hilfsprogramm und SQL Server Management Studio (SSMS) verfügbar.</span><span class="sxs-lookup"><span data-stu-id="56f72-141">The DAC is available through the `sqlcmd` utility and SQL Server Management Studio (SSMS).</span></span>  
  
 <span data-ttu-id="56f72-142">Anweisungen zur Verwendung von `sqlcmd` und einer DAC finden Sie unter [Verwenden einer dedizierten Administratorverbindung](../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).</span><span class="sxs-lookup"><span data-stu-id="56f72-142">For guidance on using `sqlcmd` and DAC see [Using a Dedicated Administrator Connection](../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).</span></span> <span data-ttu-id="56f72-143">Anweisungen zur Verwendung der DAC über SSMS finden Sie unter [Vorgehensweise: Verwenden der dedizierten Administratorverbindung mit SQL Server Management Studio](https://msdn.microsoft.com/library/ms178068.aspx).</span><span class="sxs-lookup"><span data-stu-id="56f72-143">For guidance on using DAC through SSMS see [How to: Use the Dedicated Administrator Connection with SQL Server Management Studio](https://msdn.microsoft.com/library/ms178068.aspx).</span></span>  
  
### <a name="take-corrective-action"></a><span data-ttu-id="56f72-144">Korrekturmaßnahme</span><span class="sxs-lookup"><span data-stu-id="56f72-144">Take corrective action</span></span>  
 <span data-ttu-id="56f72-145">Um die OOM-Bedingung zu beheben, müssen Sie entweder vorhandenen Arbeitsspeicher freigeben, indem Sie die Arbeitsspeichernutzung reduzieren, oder den Tabellen im Arbeitsspeicher mehr Arbeitsspeicherkapazität zur Verfügung stellen.</span><span class="sxs-lookup"><span data-stu-id="56f72-145">To resolve your OOM condition you need to either free up existing memory by reducing usage, or make more memory available to your in-memory tables.</span></span>  
  
#### <a name="free-up-existing-memory"></a><span data-ttu-id="56f72-146">Freigeben von vorhandenem Arbeitsspeicher</span><span class="sxs-lookup"><span data-stu-id="56f72-146">Free up existing memory</span></span>  
  
##### <a name="delete-non-essential-memory-optimized-table-rows-and-wait-for-garbage-collection"></a><span data-ttu-id="56f72-147">Löschen unwichtiger Zeilen aus speicheroptimierten Tabellen und Abwarten der Garbage Collection</span><span class="sxs-lookup"><span data-stu-id="56f72-147">Delete non-essential memory optimized table rows and wait for garbage collection</span></span>  
 <span data-ttu-id="56f72-148">Sie können unbedeutende Zeilen aus einer speicheroptimierten Tabelle entfernen.</span><span class="sxs-lookup"><span data-stu-id="56f72-148">You can remove non-essential rows from a memory optimized table.</span></span> <span data-ttu-id="56f72-149">Der Garbage Collector gibt den von diesen Zeilen belegten Speicher wieder an den verfügbaren Arbeitsspeicher zurück.</span><span class="sxs-lookup"><span data-stu-id="56f72-149">The garbage collector returns the memory used by these rows to available memory.</span></span> <span data-ttu-id="56f72-150">.</span><span class="sxs-lookup"><span data-stu-id="56f72-150">.</span></span> <span data-ttu-id="56f72-151">Garbage-Zeilen werden von der In-Memory-OLTP-Engine auf aggressive Weise gesammelt.</span><span class="sxs-lookup"><span data-stu-id="56f72-151">In-memory OLTP engine collects garbage rows aggressively.</span></span> <span data-ttu-id="56f72-152">Allerdings kann die Garbage Collection durch eine Transaktion mit langer Ausführungszeit verhindert werden.</span><span class="sxs-lookup"><span data-stu-id="56f72-152">However, a long running transaction can prevent garbage collection.</span></span> <span data-ttu-id="56f72-153">Beispiel: Bei einer Transaktion, die fünf Minuten ausgeführt wird, kann für Zeilenversionen, die aufgrund von Update-/Löschvorgängen erstellt wurden, während die Transaktion aktiv war, keine Garbage Collection ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="56f72-153">For example, if you have a transaction that runs for 5 minutes, any row versions created due to update/delete operations while the transaction was active can't be garbage collected.</span></span>  
  
##### <a name="move-one-or-more-rows-to-a-disk-based-table"></a><span data-ttu-id="56f72-154">Verschieben einer oder mehrerer Zeilen in eine datenträgerbasierte Tabelle</span><span class="sxs-lookup"><span data-stu-id="56f72-154">Move one or more rows to a disk-based table</span></span>  
 <span data-ttu-id="56f72-155">In den folgenden TechNet-Artikeln finden Sie Richtlinien zum Verschieben von Zeilen aus einer speicheroptimierten Tabelle in eine datenträgerbasierte Tabelle.</span><span class="sxs-lookup"><span data-stu-id="56f72-155">The following TechNet articles provide guidance on moving rows from a memory-optimized table to a disk-based table.</span></span>  
  
-   <span data-ttu-id="56f72-156">[Partitionierung auf Anwendungsebene](https://technet.microsoft.com/library/dn296452\(v=sql.120\).aspx)</span><span class="sxs-lookup"><span data-stu-id="56f72-156">[Application-Level Partitioning](https://technet.microsoft.com/library/dn296452\(v=sql.120\).aspx)</span></span>  
  
-   <span data-ttu-id="56f72-157">[Anwendungsmuster zur Partitionierung von speicheroptimierten Tabellen](https://technet.microsoft.com/library/dn133171\(v=sql.120\).aspx)</span><span class="sxs-lookup"><span data-stu-id="56f72-157">[Application Pattern for Partitioning Memory-Optimized Tables](https://technet.microsoft.com/library/dn133171\(v=sql.120\).aspx)</span></span>  
  
#### <a name="increase-available-memory"></a><span data-ttu-id="56f72-158">Erhöhen der verfügbaren Arbeitsspeicherkapazität</span><span class="sxs-lookup"><span data-stu-id="56f72-158">Increase available memory</span></span>  
  
##### <a name="increase-value-of-max_memory_percent-on-the-resource-pool"></a><span data-ttu-id="56f72-159">Erhöhen des MAX_MEMORY_PERCENT-Werts für den Ressourcenpool</span><span class="sxs-lookup"><span data-stu-id="56f72-159">Increase value of MAX_MEMORY_PERCENT on the resource pool</span></span>  
 <span data-ttu-id="56f72-160">Wenn Sie keinen benannten Ressourcenpool für die Tabellen im Arbeitsspeicher erstellt haben, sollten Sie dies nachholen und die [!INCLUDE[hek_2](../../includes/hek-2-md.md)] -Datenbanken daran binden.</span><span class="sxs-lookup"><span data-stu-id="56f72-160">If you have not created a named resource pool for your in-memory tables you should do that and bind your [!INCLUDE[hek_2](../../includes/hek-2-md.md)] databases to it.</span></span> <span data-ttu-id="56f72-161">Im Thema [Binden einer Datenbank mit speicheroptimierten Tabellen an einen Ressourcenpool](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md) finden Sie eine Anleitung zum Erstellen und Binden Ihrer [!INCLUDE[hek_2](../../includes/hek-2-md.md)] -Datenbanken an einen Ressourcenpool.</span><span class="sxs-lookup"><span data-stu-id="56f72-161">See the topic [Bind a Database with Memory-Optimized Tables to a Resource Pool](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md) for guidance on creating and binding your [!INCLUDE[hek_2](../../includes/hek-2-md.md)] databases to a resource pool.</span></span>  
  
 <span data-ttu-id="56f72-162">Wenn die [!INCLUDE[hek_2](../../includes/hek-2-md.md)] -Datenbank an einen Ressourcenpool gebunden ist, können Sie den Arbeitsspeicheranteil, auf den der Pool zugreifen kann, erhöhen.</span><span class="sxs-lookup"><span data-stu-id="56f72-162">If your [!INCLUDE[hek_2](../../includes/hek-2-md.md)] database is bound to a resource pool you may be able to increase the percent of memory the pool can access.</span></span> <span data-ttu-id="56f72-163">Im Unterabschnitt [Ändern von MIN_MEMORY_PERCENT und MAX_MEMORY_PERCENT für einen vorhandenen Pool](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md#change-min-memory-percent-and-max-memory-percent-on-an-existing-pool) finden Sie entsprechende Anleitungen zum Ändern.</span><span class="sxs-lookup"><span data-stu-id="56f72-163">See the sub-topic [Change MIN_MEMORY_PERCENT and MAX_MEMORY_PERCENT on an existing pool](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md#change-min-memory-percent-and-max-memory-percent-on-an-existing-pool) for guidance on changing the value of MIN_MEMORY_PERCENT and MAX_MEMORY_PERCENT for a resource pool.</span></span>  
  
 <span data-ttu-id="56f72-164">Erhöhen Sie den Wert von MAX_MEMORY_PERCENT.</span><span class="sxs-lookup"><span data-stu-id="56f72-164">Increase the value of MAX_MEMORY_PERCENT.</span></span>   
<span data-ttu-id="56f72-165">In diesem Codeausschnitt wird MAX_MEMORY_PERCENT für den PoolHk-Ressourcenpool in 70 % des installierten Arbeitsspeichers geändert.</span><span class="sxs-lookup"><span data-stu-id="56f72-165">This code snippet changes MAX_MEMORY_PERCENT for the resource pool PoolHk to 70% of installed memory.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="56f72-166">Wenn der Server auf einem virtuellen Computer ausgeführt wird und nicht dediziert ist, legen Sie den Wert von MIN_MEMORY_PERCENT und MAX_MEMORY_PERCENT auf denselben Wert fest.</span><span class="sxs-lookup"><span data-stu-id="56f72-166">If the server is running on a VM and is not dedicated, set the value of MIN_MEMORY_PERCENT and MAX_MEMORY_PERCENT to the same value.</span></span>   
> <span data-ttu-id="56f72-167">Weitere Informationen finden Sie im Thema [Bewährte Methoden: Verwenden von In-Memory-OLTP in einer VM-Umgebung](../../database-engine/using-in-memory-oltp-in-a-vm-environment.md).</span><span class="sxs-lookup"><span data-stu-id="56f72-167">See the topic [Best Practices: Using In-Memory OLTP in a VM environment](../../database-engine/using-in-memory-oltp-in-a-vm-environment.md) for more information.</span></span>  
  
```sql  
  
-- disable resource governor  
ALTER RESOURCE GOVERNOR DISABLE  
  
-- change the value of MAX_MEMORY_PERCENT  
ALTER RESOURCE POOL PoolHk  
WITH  
     ( MAX_MEMORY_PERCENT = 70 )  
GO  
  
-- reconfigure the Resource Governor  
--    RECONFIGURE enables resource governor  
ALTER RESOURCE GOVERNOR RECONFIGURE  
GO  
  
```  
  
 <span data-ttu-id="56f72-168">Weitere Informationen zu maximalen Werten für MAX_MEMORY_PERCENT finden Sie im Themenabschnitt [Prozentsatz des für speicheroptimierte Tabellen und Indizes verfügbaren Arbeitsspeichers](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md#percent-of-memory-available-for-memory-optimized-tables-and-indexes).</span><span class="sxs-lookup"><span data-stu-id="56f72-168">For information on maximum values for MAX_MEMORY_PERCENT see the topic section [Percent of memory available for memory-optimized tables and indexes](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md#percent-of-memory-available-for-memory-optimized-tables-and-indexes).</span></span>  
  
##### <a name="install-additional-memory"></a><span data-ttu-id="56f72-169">Installieren zusätzlichen Arbeitsspeichers</span><span class="sxs-lookup"><span data-stu-id="56f72-169">Install additional memory</span></span>  
 <span data-ttu-id="56f72-170">Die beste Lösung besteht letztendlich darin, falls möglich, zusätzlichen physischen Arbeitsspeicher zu installieren.</span><span class="sxs-lookup"><span data-stu-id="56f72-170">Ultimately the best solution, if possible, is to install additional physical memory.</span></span> <span data-ttu-id="56f72-171">In diesem Fall sollten Sie bedenken, dass Sie möglicherweise auch den Wert von MAX_MEMORY_PERCENT erhöhen können (siehe Unterabschnitt [Ändern von MIN_MEMORY_PERCENT und MAX_MEMORY_PERCENT für einen vorhandenen Pool](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md#change-min-memory-percent-and-max-memory-percent-on-an-existing-pool)), da [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] wahrscheinlich nicht mehr Arbeitsspeicher benötigen wird, und Sie einen großen bzw. den gesamten Teil des neu installierten Arbeitsspeichers dem Ressourcenpool zur Verfügung stellen können.</span><span class="sxs-lookup"><span data-stu-id="56f72-171">If you do this, remember that you will probably be able to also increase the value of MAX_MEMORY_PERCENT (see the sub-topic [Change MIN_MEMORY_PERCENT and MAX_MEMORY_PERCENT on an existing pool](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md#change-min-memory-percent-and-max-memory-percent-on-an-existing-pool)) since [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] won't likely need more memory, allowing you to make most if not all of the newly installed memory available to the resource pool.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="56f72-172">Wenn der Server auf einem virtuellen Computer ausgeführt wird und nicht dediziert ist, legen Sie den Wert von MIN_MEMORY_PERCENT und MAX_MEMORY_PERCENT auf denselben Wert fest.</span><span class="sxs-lookup"><span data-stu-id="56f72-172">If the server is running on a VM and is not dedicated, set the value of MIN_MEMORY_PERCENT and MAX_MEMORY_PERCENT to the same value.</span></span>   
> <span data-ttu-id="56f72-173">Weitere Informationen finden Sie im Thema [Bewährte Methoden: Verwenden von In-Memory-OLTP in einer VM-Umgebung](../../database-engine/using-in-memory-oltp-in-a-vm-environment.md).</span><span class="sxs-lookup"><span data-stu-id="56f72-173">See the topic [Best Practices: Using In-Memory OLTP in a VM environment](../../database-engine/using-in-memory-oltp-in-a-vm-environment.md) for more information.</span></span>  
  
## <a name="resolve-page-allocation-failures-due-to-insufficient-memory-when-sufficient-memory-is-available"></a><span data-ttu-id="56f72-174">Beheben von Seitenzuordnungsfehlern aufgrund von unzureichendem Arbeitsspeicher, obwohl ausreichend Arbeitsspeicher verfügbar ist</span><span class="sxs-lookup"><span data-stu-id="56f72-174">Resolve page allocation failures due to insufficient memory when sufficient memory is available</span></span>  
 <span data-ttu-id="56f72-175">Wenn Sie die Fehlermeldung "Seiten Zuordnungen für die Datenbank ' ' wird *\<databaseName>* aufgrund von unzureichendem Arbeitsspeicher im Ressourcenpool ' ' nicht zugelassen *\<resourcePoolName>* .</span><span class="sxs-lookup"><span data-stu-id="56f72-175">If you get the error message, "Disallowing page allocations for database '*\<databaseName>*' due to insufficient memory in the resource pool '*\<resourcePoolName>*'.</span></span> <span data-ttu-id="56f72-176">Weitere Informationen finden Sie unter "" <https://go.microsoft.com/fwlink/?LinkId=330673> .</span><span class="sxs-lookup"><span data-stu-id="56f72-176">See '<https://go.microsoft.com/fwlink/?LinkId=330673>' for more information."</span></span> <span data-ttu-id="56f72-177">im Fehlerprotokoll erhalten, obwohl der verfügbare physische Arbeitsspeicher zum Zuordnen der Seite ausreichend ist, kann dies daran liegen, dass die Ressourcenkontrolle deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="56f72-177">in the error log when the available physical memory is sufficient to allocate the page, it may be due to a disabled Resource Governor.</span></span> <span data-ttu-id="56f72-178">Wenn die Ressourcenkontrolle deaktiviert ist, führt MEMORYBROKER_FOR_RESERVE zu einem künstlichen Mangel an Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="56f72-178">When the Resource Governor is disabled MEMORYBROKER_FOR_RESERVE induces artificial memory pressure.</span></span>  
  
 <span data-ttu-id="56f72-179">Um dieses Problem zu beheben, müssen Sie die Ressourcenkontrolle aktivieren.</span><span class="sxs-lookup"><span data-stu-id="56f72-179">To resolve this you need to enable the Resource Governor.</span></span>  
  
 <span data-ttu-id="56f72-180">Weitere Informationen zu Einschränkungen sowie Anweisungen zum Aktivieren des Resource Governors mit dem Objekt-Explorer, über Eigenschaften des Resource Governors oder mit Transact-SQL finden Sie unter [Aktivieren des Resource Governors](https://technet.microsoft.com/library/bb895149.aspx) .</span><span class="sxs-lookup"><span data-stu-id="56f72-180">See [Enable Resource Governor](https://technet.microsoft.com/library/bb895149.aspx) for information on Limits and Restrictions as well as guidance on enabling Resource Governor using Object Explorer, Resource Governor properties, or Transact-SQL.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="56f72-181">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="56f72-181">See Also</span></span>  
 <span data-ttu-id="56f72-182">[Verwalten des Arbeitsspeichers für In-Memory OLTP](../../database-engine/managing-memory-for-in-memory-oltp.md) </span><span class="sxs-lookup"><span data-stu-id="56f72-182">[Managing Memory for In-Memory OLTP](../../database-engine/managing-memory-for-in-memory-oltp.md) </span></span>  
 <span data-ttu-id="56f72-183">[Überwachung und Problembehebung bei der Arbeitsspeichernutzung](monitor-and-troubleshoot-memory-usage.md) </span><span class="sxs-lookup"><span data-stu-id="56f72-183">[Monitor and Troubleshoot Memory Usage](monitor-and-troubleshoot-memory-usage.md) </span></span>  
 <span data-ttu-id="56f72-184">[Binden einer Datenbank mit speicheroptimierten Tabellen an einen Ressourcenpool](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md) </span><span class="sxs-lookup"><span data-stu-id="56f72-184">[Bind a Database with Memory-Optimized Tables to a Resource Pool](bind-a-database-with-memory-optimized-tables-to-a-resource-pool.md) </span></span>  
 [<span data-ttu-id="56f72-185">Bewährte Methoden: Verwenden von in-Memory-OLTP in einer VM-Umgebung</span><span class="sxs-lookup"><span data-stu-id="56f72-185">Best Practices: Using In-Memory OLTP in a VM environment</span></span>](../../database-engine/using-in-memory-oltp-in-a-vm-environment.md)  
  
  
