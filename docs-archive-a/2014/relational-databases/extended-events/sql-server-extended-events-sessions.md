---
title: Sitzungen für erweiterte Ereignisse von SQL Server | Microsoft-Dokumentation
ms.custom: ''
ms.date: 05/26/2020
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xevents
ms.topic: conceptual
helpviewer_keywords:
- xe
- sessions
- extend events [SQL Server]
ms.assetid: c3c92544-351a-4bce-a06a-1f2a47e494e9
author: rothja
ms.author: jroth
ms.openlocfilehash: 3aab8c57a578ea60829514b575e168bc5a1dd8c7
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87608656"
---
# <a name="sql-server-extended-events-sessions"></a><span data-ttu-id="cae5d-102">SQL Server Extended Events Sessions</span><span class="sxs-lookup"><span data-stu-id="cae5d-102">SQL Server Extended Events Sessions</span></span>
  <span data-ttu-id="cae5d-103">Eine [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Sitzung für erweiterte Ereignisse wird in dem [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Prozess erstellt, der die Engine für erweiterte Ereignisse hostet.</span><span class="sxs-lookup"><span data-stu-id="cae5d-103">A [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Extended Events session is created in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] process hosting the Extended Events engine.</span></span> <span data-ttu-id="cae5d-104">Die folgenden Aspekte einer Sitzung für erweiterte Ereignisse bieten grundlegende Informationen zur Extended Events-Infrastruktur und zur allgemeinen Verarbeitung, die stattfindet:</span><span class="sxs-lookup"><span data-stu-id="cae5d-104">The following aspects of an Extended Events session provide a context for understanding the Extended Events infrastructure and the general processing that takes place:</span></span>  
  
-   <span data-ttu-id="cae5d-105">Sitzungsstatus.</span><span class="sxs-lookup"><span data-stu-id="cae5d-105">Session states.</span></span> <span data-ttu-id="cae5d-106">Die verschiedenen Status, in denen sich eine Sitzung für erweiterte Ereignisse befindet, wenn die Anweisungen CREATE EVENT SESSION und ALTER EVENT SESSION ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="cae5d-106">The different states that an Extended Events session is in when CREATE EVENT SESSION and ALTER EVENT SESSION statements are executed.</span></span>  
  
-   <span data-ttu-id="cae5d-107">Sitzungsinhalt und -eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="cae5d-107">Session content and characteristics.</span></span> <span data-ttu-id="cae5d-108">Der Inhalt einer Sitzung für erweiterte Ereignisse, z. B. Ziele und Ereignisse, und wie die Objekte in einer Sitzung oder zwischen Sitzungen miteinander verbunden sind.</span><span class="sxs-lookup"><span data-stu-id="cae5d-108">The content of an Extended Events session, such as targets and events, and how these objects are related in a session or between sessions.</span></span>  
  
## <a name="session-states"></a><span data-ttu-id="cae5d-109">Sitzungsstatus</span><span class="sxs-lookup"><span data-stu-id="cae5d-109">Session States</span></span>  
 <span data-ttu-id="cae5d-110">Im Folgenden werden die verschiedenen Status einer Sitzung für erweiterte Ereignisse veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="cae5d-110">The following illustration shows the various states of an Extended Events session.</span></span>  

<span data-ttu-id="cae5d-111">![Sitzung für erweiterte Ereignisse – Status](../../database-engine/media/xesessionstate.png "Sitzung für erweiterte Ereignisse – Status")</span><span class="sxs-lookup"><span data-stu-id="cae5d-111">![Extended event session state](../../database-engine/media/xesessionstate.png "Extended event session state")</span></span>

 <span data-ttu-id="cae5d-112">In Bezug auf die vorangehende Abbildung müssen Sie beachten, dass sich der Sitzungsstatus ändert, wenn die verschiedenen DDL-Befehle für eine Ereignissitzung ausgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="cae5d-112">Referring to the preceding figure, note that session state changes as the different DDL commands are issued for an event session.</span></span> <span data-ttu-id="cae5d-113">Eine Beschreibung dieser Statusänderungen finden Sie in der folgenden Tabelle.</span><span class="sxs-lookup"><span data-stu-id="cae5d-113">The following table describes these changes in state.</span></span>  
  
|<span data-ttu-id="cae5d-114">Bezeichnung in der Abbildung</span><span class="sxs-lookup"><span data-stu-id="cae5d-114">Illustration label</span></span>|<span data-ttu-id="cae5d-115">DDL-Anweisung</span><span class="sxs-lookup"><span data-stu-id="cae5d-115">DDL statement</span></span>|<span data-ttu-id="cae5d-116">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="cae5d-116">Description</span></span>|  
|------------------------|-------------------|-----------------|  
|<span data-ttu-id="cae5d-117">Erstellen</span><span class="sxs-lookup"><span data-stu-id="cae5d-117">Create</span></span>|<span data-ttu-id="cae5d-118">CREATE EVENT SESSION</span><span class="sxs-lookup"><span data-stu-id="cae5d-118">CREATE EVENT SESSION</span></span>|<span data-ttu-id="cae5d-119">Der Hostprozess erstellt ein Sitzungsobjekt, das die durch CREATE EVENT SESSION bereitgestellten Metadaten enthält.</span><span class="sxs-lookup"><span data-stu-id="cae5d-119">The host process creates a session object that contains the metadata provided by CREATE EVENT SESSION.</span></span> <span data-ttu-id="cae5d-120">Der Hostprozess überprüft die Sitzungsdefinition und die Benutzerberechtigungsebene und speichert die Metadaten in der master-Datenbank.</span><span class="sxs-lookup"><span data-stu-id="cae5d-120">The host process validates the session definition, validates the user permission level, and stores the metadata in the master database.</span></span> <span data-ttu-id="cae5d-121">Zu diesem Zeitpunkt ist die Sitzung nicht aktiv.</span><span class="sxs-lookup"><span data-stu-id="cae5d-121">At this point the session is not active.</span></span>|  
|<span data-ttu-id="cae5d-122">Ändern</span><span class="sxs-lookup"><span data-stu-id="cae5d-122">Alter</span></span>|<span data-ttu-id="cae5d-123">ALTER EVENT SESSION, STATE=START</span><span class="sxs-lookup"><span data-stu-id="cae5d-123">ALTER EVENT SESSION, STATE=START</span></span>|<span data-ttu-id="cae5d-124">Der Hostprozess startet die Sitzung.</span><span class="sxs-lookup"><span data-stu-id="cae5d-124">The host process starts the session.</span></span> <span data-ttu-id="cae5d-125">Der Hostprozess liest die gespeicherten Metadaten, überprüft die Sitzungsdefinition und die Benutzerberechtigungsebene und erstellt die Sitzung.</span><span class="sxs-lookup"><span data-stu-id="cae5d-125">The host process reads the stored metadata, validates the session definition, verifies the level of user permission level, and creates the session.</span></span> <span data-ttu-id="cae5d-126">Sitzungsobjekte wie Ereignisse und Ziele werden geladen, und die Ereignisbehandlung ist aktiv.</span><span class="sxs-lookup"><span data-stu-id="cae5d-126">Session objects, such as events and targets, are loaded and event handling is active.</span></span>|  
|<span data-ttu-id="cae5d-127">Ändern</span><span class="sxs-lookup"><span data-stu-id="cae5d-127">Alter</span></span>|<span data-ttu-id="cae5d-128">ALTER EVENT SESSION, STATE=STOP</span><span class="sxs-lookup"><span data-stu-id="cae5d-128">ALTER EVENT SESSION, STATE=STOP</span></span>|<span data-ttu-id="cae5d-129">Der Hostprozess beendet die aktive Sitzung, behält jedoch die Metadaten.</span><span class="sxs-lookup"><span data-stu-id="cae5d-129">The host process stops the active session but retains the metadata.</span></span>|  
|<span data-ttu-id="cae5d-130">Verwerfen</span><span class="sxs-lookup"><span data-stu-id="cae5d-130">Drop</span></span>|<span data-ttu-id="cae5d-131">DROP EVENT SESSION</span><span class="sxs-lookup"><span data-stu-id="cae5d-131">DROP EVENT SESSION</span></span>|<span data-ttu-id="cae5d-132">Abhängig davon, ob die Sitzung aktiv oder nicht aktiv ist, löscht Drop (DROP SESSION) die Metadaten und schließt die aktive Sitzung, oder die Sitzungsmetadaten werden gelöscht.</span><span class="sxs-lookup"><span data-stu-id="cae5d-132">Depending on whether or not the session is active, Drop (DROP SESSION) will delete the metadata and close the active session, or delete the session metadata.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="cae5d-133">Sowohl ALTER EVENT SESSION als auch DROP EVENT SESSION können auf die Metadaten oder auf eine aktive Sitzung und die Metadaten angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="cae5d-133">Both ALTER EVENT SESSION and DROP EVENT SESSION can be applied to the metadata or to an active session and the metadata.</span></span>  
  
## <a name="session-content-and-characteristics"></a><span data-ttu-id="cae5d-134">Sitzungsinhalt und -eigenschaften</span><span class="sxs-lookup"><span data-stu-id="cae5d-134">Session Content and Characteristics</span></span>  
 <span data-ttu-id="cae5d-135">Extended Event-Sitzungen weisen insofern implizite Grenzen auf, als durch die Konfiguration einer Sitzung nicht die Konfiguration einer anderen Sitzung geändert wird.</span><span class="sxs-lookup"><span data-stu-id="cae5d-135">Extended Event sessions have implied boundaries in that the configuration of one session does not change the configuration of another session.</span></span> <span data-ttu-id="cae5d-136">Allerdings kann dadurch nicht verhindert werden, dass ein Ereignis oder ein Ziel in mehr als einer Sitzung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="cae5d-136">However, these boundaries do not prevent an event or target from being used in more than one session.</span></span>  
  
 <span data-ttu-id="cae5d-137">In der folgenden Abbildung werden der Sitzungsinhalt und die Beziehung zwischen Paketen und Sitzungen veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="cae5d-137">The following illustration shows session content and the relationship between packages and sessions.</span></span>  
  
 <span data-ttu-id="cae5d-138">![Objektkoexistenz und -freigabe in Sitzungen](../../database-engine/media/xesessions.gif "Objektkoexistenz und -freigabe in Sitzungen")</span><span class="sxs-lookup"><span data-stu-id="cae5d-138">![Object co-existance and sharing in sessions.](../../database-engine/media/xesessions.gif "Object co-existance and sharing in sessions.")</span></span>  
  
 <span data-ttu-id="cae5d-139">Beachten Sie in Bezug auf die vorangegangene Abbildung Folgendes:</span><span class="sxs-lookup"><span data-stu-id="cae5d-139">Referring to the preceding illustration, note that:</span></span>  
  
-   <span data-ttu-id="cae5d-140">Die Zuordnung zwischen Paketobjekten und Sitzungen lautet m:n. Das bedeutet, dass ein Objekt in mehreren Sitzungen vertreten sein kann und eine Sitzung mehrere Objekte aufweisen kann.</span><span class="sxs-lookup"><span data-stu-id="cae5d-140">The mapping between package objects and sessions is many to many, which means that an object can appear in several sessions, and a session can contain several objects.</span></span>  
  
-   <span data-ttu-id="cae5d-141">Ein Ereignis (Ereignis 1) oder Ziel (Ziel 1) kann in mehreren Sitzungen aktiviert sein.</span><span class="sxs-lookup"><span data-stu-id="cae5d-141">The same event (Event 1) or target (Target 1) can be enabled in more than one session.</span></span>  
  
 <span data-ttu-id="cae5d-142">Sitzungen besitzen die folgenden Eigenschaften:</span><span class="sxs-lookup"><span data-stu-id="cae5d-142">Sessions have the following characteristics:</span></span>  
  
-   <span data-ttu-id="cae5d-143">Aktionen und Prädikate sind für eine Sitzung an Ereignisse gebunden.</span><span class="sxs-lookup"><span data-stu-id="cae5d-143">Actions and predicates are bound to events on a per-session basis.</span></span> <span data-ttu-id="cae5d-144">Wenn Ereignis 1 in Sitzung A mit Aktion 1 und Prädikat Z vorkommt, hat dies keinerlei Auswirkungen auf Ereignis 1 in Sitzung B mit Aktion 2 und Aktion 3 ohne Prädikat.</span><span class="sxs-lookup"><span data-stu-id="cae5d-144">If you have Event 1 in Session A with Action 1 and Predicate Z, this will not in any way affect having Event 1 in Session B with Action 2 and Action 3 with no predicate.</span></span>  
  
-   <span data-ttu-id="cae5d-145">Richtlinien werden an Sitzungen zum Zweck der Behandlung von Pufferung und Verteilung sowie zur Kausalitätsverfolgung angefügt.</span><span class="sxs-lookup"><span data-stu-id="cae5d-145">Policies are attached to sessions to handle buffering and dispatch, and causality tracking.</span></span>  
  
 <span data-ttu-id="cae5d-146">**Pufferung und Verteilung**</span><span class="sxs-lookup"><span data-stu-id="cae5d-146">**Buffering and dispatch**</span></span>  
  
 <span data-ttu-id="cae5d-147">Pufferung bezieht sich auf das Speichern von Ereignisdaten beim Ausführen einer Ereignissitzung.</span><span class="sxs-lookup"><span data-stu-id="cae5d-147">Buffering refers to how event data is stored while an event session is running.</span></span>  <span data-ttu-id="cae5d-148">In Richtlinien für die Pufferung wird neben dem Arbeitsspeicher für Ereignisdaten die Verlustrichtlinie für die Ereignisse angegeben.</span><span class="sxs-lookup"><span data-stu-id="cae5d-148">Buffering policies specify how much memory to use for event data, and the loss policy for the events.</span></span> <span data-ttu-id="cae5d-149">Verteilung bezieht sich auf die Dauer, für die Ereignisse in Puffern verbleiben, bevor sie zum Verarbeiten an Ziele gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="cae5d-149">Dispatch refers to the amount of time events will stay in buffers before being served to targets for processing.</span></span>  
  
 <span data-ttu-id="cae5d-150">**Kausalitätsverfolgung**</span><span class="sxs-lookup"><span data-stu-id="cae5d-150">**Causality tracking**</span></span>  
  
 <span data-ttu-id="cae5d-151">Die Kausalitätsverfolgung ermöglicht das Nachverfolgen der Arbeit über mehrere Tasks.</span><span class="sxs-lookup"><span data-stu-id="cae5d-151">Causality tracking provides the ability to track work across multiple tasks.</span></span> <span data-ttu-id="cae5d-152">Wenn die Kausalitätsverfolgung aktiviert ist, verfügt jedes ausgelöste Ereignis systemweit über eine eindeutige Aktivitäts-ID.</span><span class="sxs-lookup"><span data-stu-id="cae5d-152">When causality tracking is enabled, each event fired has a unique activity ID across the system.</span></span> <span data-ttu-id="cae5d-153">Die Aktivitäts-ID setzt sich aus einem GUID-Wert, der für alle Ereignisse in Bezug auf einen Task konstant bleibt, und einer Sequenznummer zusammen, die bei jeder Ereignisauslösung erhöht wird.</span><span class="sxs-lookup"><span data-stu-id="cae5d-153">The activity ID is a combination of a GUID value that remains constant across all events for a task, and a sequence number that is incremented each time an event is fired.</span></span> <span data-ttu-id="cae5d-154">Wenn ein Task das Ausführen eines anderen Tasks verursacht, wird die Aktivitäts-ID des übergeordneten Tasks an den untergeordneten Task gesendet.</span><span class="sxs-lookup"><span data-stu-id="cae5d-154">When one task causes work to be done on another, the activity ID of the parent is sent to the child task.</span></span> <span data-ttu-id="cae5d-155">Der untergeordnete Task gibt beim ersten Auslösen eines Ereignisses die Aktivitäts-ID des übergeordneten Tasks aus.</span><span class="sxs-lookup"><span data-stu-id="cae5d-155">The child task outputs the parent's activity ID the first time it fires an event.</span></span>  
  
 <span data-ttu-id="cae5d-156">Die Architektur für erweiterte Ereignisse stellt ein flexibles System bereit, in dem eine Vielzahl von Objekten zusammen verwendet werden kann, um bestimmte Probleme zu beheben.</span><span class="sxs-lookup"><span data-stu-id="cae5d-156">The Extended Events architecture provides a flexible system that allows a variety of objects to be used together to solve specific problems.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cae5d-157">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="cae5d-157">See Also</span></span>  
 [<span data-ttu-id="cae5d-158">Erweiterte Ereignisse</span><span class="sxs-lookup"><span data-stu-id="cae5d-158">Extended Events</span></span>](extended-events.md)  
  
  
