---
title: Verwenden von Reporting Services-Richtliniendateien | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- code groups [Reporting Services]
- CodeGroup elements
- configuration files [Reporting Services]
- code access security [Reporting Services], security policies
- security policies [Reporting Services]
- security configuration files [Reporting Services]
- named permission sets [Reporting Services]
ms.assetid: 2280fff6-3de7-44b1-87da-5db0ec975928
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 15c5422741137505bc29a2de861fca1420e455d8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87622436"
---
# <a name="using-reporting-services-security-policy-files"></a><span data-ttu-id="ee27f-102">Verwenden von Reporting Services-Sicherheitsrichtliniendateien</span><span class="sxs-lookup"><span data-stu-id="ee27f-102">Using Reporting Services Security Policy Files</span></span>
  [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] <span data-ttu-id="ee27f-103">speichert Informationen zu Komponentensicherheitsrichtlinien in drei Konfigurationsdateien, die bei der Installation in das Dateisystem kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="ee27f-103">stores component security policy information in three configuration files that are copied to the file system during setup.</span></span> <span data-ttu-id="ee27f-104">Diese Konfigurationsdateien können eine Kombination aus nur intern verwendeten und benutzerdefinierten Sicherheitsrichtlinien für Codeassemblys in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] enthalten.</span><span class="sxs-lookup"><span data-stu-id="ee27f-104">These configuration files can contain a combination of internal-use and user-defined security policies for code assemblies in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="ee27f-105">Die drei Konfigurationsdateien entsprechen drei sicherungsfähigen Komponenten in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]: Berichtsserver und Windows-Dienst, Berichts-Manager-Webanwendung und Vorschaufenster des Berichts-Designers.</span><span class="sxs-lookup"><span data-stu-id="ee27f-105">The three configuration files correspond to three securable components in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]: The report server and Windows service, the Report Manager Web application, and the Report Designer preview window.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ee27f-106">Es stehen zwei Vorschaumodi für den Berichts-Designer zur Verfügung: die Registerkarte „Vorschau“ und das Popup-Vorschaufenster, das beim Start Ihres Berichtsprojekts im **DebugLocal**-Modus aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="ee27f-106">There are two preview modes for Report Designer: the preview tab and the pop-up preview window that is launched when your Report Project is started in **DebugLocal** mode.</span></span> <span data-ttu-id="ee27f-107">Die Registerkarte **Vorschau** ist keine sicherungsfähige Komponente und übernimmt keine Sicherheitsrichtlinieneinstellungen.</span><span class="sxs-lookup"><span data-stu-id="ee27f-107">The **Preview** tab is not a securable component and does not apply security policy settings.</span></span> <span data-ttu-id="ee27f-108">Im Vorschaufenster sollen die Berichtsserverfunktionen simuliert werden. Es enthält daher eine Richtlinienkonfigurationsdatei, die von Ihnen oder einem Administrator verändert werden muss, um benutzerdefinierte Assemblys und benutzerdefinierte Erweiterungen im Berichts-Designer zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="ee27f-108">The preview window is meant to simulate the report server functionality and therefore has a policy configuration file that you or an administrator must modify to use custom assemblies and custom extensions in Report Designer.</span></span>  
  
 <span data-ttu-id="ee27f-109">Die Sicherheitsrichtlinien-Konfigurationsdateien enthalten Informationen zu Sicherheitsklassen, einige benannte Standardberechtigungssätze und die Codegruppen für Assemblys in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ee27f-109">The security policy configuration files contain security class information, some default named permission sets, and the code groups for assemblies in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="ee27f-110">Die Richtlinien-Konfigurationsdateien von [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] weisen Ähnlichkeiten mit der Security.config-Datei auf, in der die Codegruppenhierarchie und die Berechtigungssätze für Richtlinien auf Computer- und Unternehmensebene in [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="ee27f-110">The policy configuration files of [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] are similar to the Security.config file that determines the code group hierarchy and permission sets associated with machine and enterprise level policies in the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)].</span></span> <span data-ttu-id="ee27f-111">Der Speicherort dieser Datei ist C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727\CONFIG\security.config.</span><span class="sxs-lookup"><span data-stu-id="ee27f-111">The location of this file is C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727\CONFIG\security.config.</span></span>  
  
## <a name="policy-files-in-reporting-services"></a><span data-ttu-id="ee27f-112">Richtliniendateien in Reporting Services</span><span class="sxs-lookup"><span data-stu-id="ee27f-112">Policy Files in Reporting Services</span></span>  
 <span data-ttu-id="ee27f-113">In der nachstehenden Tabelle werden die Richtlinienkonfigurationsdateien in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], ihre Speicherorte (bei einer Standardinstallation) und die entsprechenden Funktionen aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="ee27f-113">The following table lists the policy configuration files in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], their locations (assuming a default installation), and their respective functions.</span></span>  
  
|<span data-ttu-id="ee27f-114">Dateiname</span><span class="sxs-lookup"><span data-stu-id="ee27f-114">File name</span></span>|<span data-ttu-id="ee27f-115">Speicherort (Standardinstallation)</span><span class="sxs-lookup"><span data-stu-id="ee27f-115">Location (default installation)</span></span>|<span data-ttu-id="ee27f-116">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="ee27f-116">Description</span></span>|  
|---------------|---------------------------------------|-----------------|  
|<span data-ttu-id="ee27f-117">rssrvpolicy.config</span><span class="sxs-lookup"><span data-stu-id="ee27f-117">rssrvpolicy.config</span></span>|<span data-ttu-id="ee27f-118">C:\Programme\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer</span><span class="sxs-lookup"><span data-stu-id="ee27f-118">C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer</span></span>|<span data-ttu-id="ee27f-119">Die Berichtsserverrichtlinien-Konfigurationsdatei.</span><span class="sxs-lookup"><span data-stu-id="ee27f-119">The report server policy configuration file.</span></span> <span data-ttu-id="ee27f-120">Diese Sicherheitsrichtlinien wirken sich vorwiegend auf Berichtsausdrücke und benutzerdefinierte Assemblys aus, nachdem ein Bericht für einen Berichtsserver bereitgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="ee27f-120">These security policies primarily affect report expressions and custom assemblies once a report is deployed to a report server.</span></span> <span data-ttu-id="ee27f-121">Diese Richtliniendatei beeinflusst auch benutzerdefinierte Daten, Übermittlung, Rendering und Sicherheitserweiterungen, die für den Berichtsserver bereitgestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="ee27f-121">This policy file also affects custom data, delivery, rendering and security extensions deployed to the report server.</span></span>|  
|<span data-ttu-id="ee27f-122">rsmgrpolicy.config</span><span class="sxs-lookup"><span data-stu-id="ee27f-122">rsmgrpolicy.config</span></span>|<span data-ttu-id="ee27f-123">C:\Programme\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportManager</span><span class="sxs-lookup"><span data-stu-id="ee27f-123">C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportManager</span></span>|<span data-ttu-id="ee27f-124">Richtlinienkonfigurationsdatei des Berichts-Managers.</span><span class="sxs-lookup"><span data-stu-id="ee27f-124">Report Manager policy configuration file.</span></span> <span data-ttu-id="ee27f-125">Diese Sicherheitsrichtlinien wirken sich auf alle Assemblys aus, die eine Erweiterung für den Berichts-Manager darstellen, wie zum Beispiel Abonnementbenutzeroberflächen-Erweiterungen für benutzerdefinierte Übermittlung.</span><span class="sxs-lookup"><span data-stu-id="ee27f-125">These security policies affect all assemblies that extend Report Manager; for example, subscription user interface extensions for custom delivery.</span></span>|  
|<span data-ttu-id="ee27f-126">rspreviewpolicy.config</span><span class="sxs-lookup"><span data-stu-id="ee27f-126">rspreviewpolicy.config</span></span>|<span data-ttu-id="ee27f-127">C:\Programme\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies</span><span class="sxs-lookup"><span data-stu-id="ee27f-127">C:\Program Files\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies</span></span>|<span data-ttu-id="ee27f-128">Der Berichts-Designer enthält eine eigenständige Vorschaurichtlinien-Konfigurationsdatei.</span><span class="sxs-lookup"><span data-stu-id="ee27f-128">The Report Designer stand-alone preview policy configuration file.</span></span> <span data-ttu-id="ee27f-129">Diese Sicherheitsrichtlinien wirken sich auf Berichtsausdrücke und benutzerdefinierte Assemblys aus, die während der Vorschau und der Entwicklung in Berichten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ee27f-129">These security policies affect custom assemblies and report expressions that are used in reports during preview and development.</span></span> <span data-ttu-id="ee27f-130">Diese Richtlinien beeinflussen auch benutzerdefinierte Erweiterungen, z. B. Datenverarbeitungserweiterungen, die für den Berichts-Designer bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="ee27f-130">These policies also affect custom extensions, such as data processing extensions, that are deployed to Report Designer.</span></span>|  
  
## <a name="modifying-configuration-files"></a><span data-ttu-id="ee27f-131">Ändern der Konfigurationsdateien</span><span class="sxs-lookup"><span data-stu-id="ee27f-131">Modifying Configuration Files</span></span>  
 <span data-ttu-id="ee27f-132">Konfigurationseinstellungen werden als XML-Elemente oder -Attribute angegeben.</span><span class="sxs-lookup"><span data-stu-id="ee27f-132">Configuration settings are specified as either XML elements or attributes.</span></span> <span data-ttu-id="ee27f-133">Wenn Sie sich mit XML und Konfigurationsdateien auskennen, können Sie mit einem Text- oder Code-Editor benutzerdefinierbare Einstellungen ändern.</span><span class="sxs-lookup"><span data-stu-id="ee27f-133">If you understand XML and configuration files, you can use a text or code editor to modify user-definable settings.</span></span> <span data-ttu-id="ee27f-134">Sicherheitskonfigurationsdateien enthalten Informationen zur Codegruppenhierarchie und zu Berechtigungssätzen, die in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] einer Richtlinienebene zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="ee27f-134">Security configuration files contain information about the code group hierarchy and permission sets associated with a policy level in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="ee27f-135">Es wird empfohlen, mithilfe des .NET Framework Configuration Utility (Mscorcfg.msc) oder des Sicherheitsrichtlinienhilfsprogramms für den Codezugriff (Caspol.exe) die Sicherheitsrichtlinie in der Security.config-Datei zuerst dahingehend zu ändern, dass Richtlinienänderungen gültigen XML-Konfigurationselementen für Richtliniendateien entsprechen.</span><span class="sxs-lookup"><span data-stu-id="ee27f-135">It is recommended that you use the .NET Framework Configuration Utility (Mscorcfg.msc) or Code Access Security Policy Utility (Caspol.exe) to modify security policies in the Security.config file first, so that policy changes correspond to valid XML configuration elements for policy files.</span></span> <span data-ttu-id="ee27f-136">Anschließend können Sie die neuen Codegruppen und Berechtigungssätze aus Security.config ausschneiden und in die Richtliniendatei für die Komponente kopieren, der Sie Codeberechtigungen hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ee27f-136">Once you have done that, you can cut and paste the new code groups and permission sets from Security.config to the policy file for the component to which you are adding code permissions.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ee27f-137">Erstellen Sie vor der Durchführung von Änderungen eine Sicherungskopie Ihrer Richtlinienkonfigurationsdateien.</span><span class="sxs-lookup"><span data-stu-id="ee27f-137">You should backup your policy configuration files prior to making any changes.</span></span>  
  
 <span data-ttu-id="ee27f-138">Mit diesem Ansatz können Sie zwei Ziele verfolgen.</span><span class="sxs-lookup"><span data-stu-id="ee27f-138">Using this approach accomplishes two things.</span></span> <span data-ttu-id="ee27f-139">Erstens: Sie können ein visuelles Tool zur Erstellung Ihrer Codegruppen und Berechtigungssätze für [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] verwenden.</span><span class="sxs-lookup"><span data-stu-id="ee27f-139">First, it enables you to use a visual tool to build your code groups and permission sets for [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="ee27f-140">Dies ist wesentlich einfacher als das Neuschreiben von XML-Konfigurationselementen.</span><span class="sxs-lookup"><span data-stu-id="ee27f-140">This is much easier than writing XML configuration elements from scratch.</span></span> <span data-ttu-id="ee27f-141">Zweitens wird sichergestellt, dass die Sicherheitsrichtlinien-Konfigurationsdateien nicht mit fehlerhaften XML-Elementen und Attributen beschädigt werden.</span><span class="sxs-lookup"><span data-stu-id="ee27f-141">Secondly, it ensures that you do not corrupt the security policy configuration files with malformed XML elements and attributes.</span></span> <span data-ttu-id="ee27f-142">Weitere Informationen über das Code Access Security Policy Utility entnehmen Sie dem Artikel zur Verwendung von Reporting Services-Sicherheitsrichtliniendateien auf MSDN.</span><span class="sxs-lookup"><span data-stu-id="ee27f-142">For more information about the Code Access Security Policy Utility, see Using Reporting Services Security Policy Files on MSDN.</span></span>  
  
 <span data-ttu-id="ee27f-143">Vor dem Ändern von Richtlinienkonfigurationsdateien empfiehlt es sich, alle in diesem Abschnitt und unter verwandten Themen vorhandenen Informationen zu lesen.</span><span class="sxs-lookup"><span data-stu-id="ee27f-143">Before modifying policy configuration files, you should read all the information available in this section and related topics.</span></span> <span data-ttu-id="ee27f-144">Eine Veränderung der Richtlinienkonfiguration von [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] kann sich erheblich auf die Sicherheit bei der Ausführung von externen Codemodulen durch [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]-Komponenten auswirken.</span><span class="sxs-lookup"><span data-stu-id="ee27f-144">Modifying the policy configuration of [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] can have a significant security impact on how [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] components execute external code modules.</span></span>  
  
## <a name="placement-of-codegroup-elements-for-extensions"></a><span data-ttu-id="ee27f-145">Platzierung von CodeGroup-Elementen für Erweiterungen</span><span class="sxs-lookup"><span data-stu-id="ee27f-145">Placement of CodeGroup Elements for Extensions</span></span>  
 <span data-ttu-id="ee27f-146">Die Platzierung von CodeGroup-Elementen in einer Sicherheitsrichtliniendatei ist wichtig.</span><span class="sxs-lookup"><span data-stu-id="ee27f-146">The placement of CodeGroup elements in a security policy file is important.</span></span> <span data-ttu-id="ee27f-147">Für von Ihnen entwickelte Erweiterungen und benutzerdefinierte Assemblys sollten Sie nach Möglichkeit Ihre benutzerdefinierten Codegruppen direkt unter dem vorhandenen Eintrag für die URL-Mitgliedschaft "$CodeGen$/\*" platzieren, wie im Folgenden angegeben:</span><span class="sxs-lookup"><span data-stu-id="ee27f-147">For extensions and custom assemblies that you develop, it is recommended that you place your custom code groups directly below the existing entry for the URL membership "$CodeGen$/\*", as indicated by the following:</span></span>  
  
```  
<CodeGroup  
    class="UnionCodeGroup"  
    version="1"  
    PermissionSetName="FullTrust">  
    <IMembershipCondition   
        class="UrlMembershipCondition"  
        version="1"  
        Url="$CodeGen$/*"  
    />  
</CodeGroup>  
<CodeGroup   
    class="UnionCodeGroup"  
    version="1"  
    PermissionSetName="FullTrust"  
    Name="MyCustomCodeGroup"  
    Description="Code group for my custom extension">  
        <IMembershipCondition class="UrlMembershipCondition"  
        version="1"  
        Url="C:\Program Files\Microsoft SQL Server\MSSQL\Reporting Services\ReportServer\bin\MyAssembly.dll"  
        />  
</CodeGroup>  
```  
  
 <span data-ttu-id="ee27f-148">Zusätzliche Codegruppen können nacheinander hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="ee27f-148">Additional code groups can be added one after another.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ee27f-149">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="ee27f-149">See Also</span></span>  
 [<span data-ttu-id="ee27f-150">Understanding Security Policies (Grundlegendes zu Sicherheitsrichtlinien)</span><span class="sxs-lookup"><span data-stu-id="ee27f-150">Understanding Security Policies</span></span>](understanding-security-policies.md)  
  
  
