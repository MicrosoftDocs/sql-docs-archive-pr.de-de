---
title: Upgraden der Berichtsserver-Datenbank | Microsoft-Dokumentation
ms.custom: ''
ms.date: 08/10/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- upgrading databases
- report server database
- upgrading Reporting Services
ms.assetid: 4091cf87-9d97-4048-a393-67f1f9207401
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 28e382de505781f4155204fcc652d1308dacce76
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87622434"
---
# <a name="upgrade-a-report-server-database"></a><span data-ttu-id="64c38-102">Aktualisieren der Berichtsserver-Datenbank</span><span class="sxs-lookup"><span data-stu-id="64c38-102">Upgrade a Report Server Database</span></span>
  <span data-ttu-id="64c38-103">Die Berichtsserver-Datenbank ermöglicht die Speicherung für mindestens eine Berichtsserverinstanz.</span><span class="sxs-lookup"><span data-stu-id="64c38-103">The report server database provides storage for one or more report server instances.</span></span> <span data-ttu-id="64c38-104">Da sich das Berichtsserver-Datenbankschema mit jeder neuen Version von [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]ändern kann, muss die Datenbankversion mit der Version der verwendeten Berichtsserverinstanz übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="64c38-104">Because the report server database schema can change with each new release of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], it is required that the database version match the version of the report server instance you are using.</span></span> <span data-ttu-id="64c38-105">In den meisten Fällen kann eine Berichtsserver-Datenbank automatisch aktualisiert werden, ohne dass Sie aktiv werden müssen.</span><span class="sxs-lookup"><span data-stu-id="64c38-105">In most cases, a report server database can be upgraded automatically with no specific action on your part.</span></span>  
  
 <span data-ttu-id="64c38-106">Einheitlicher **Modus:** Im einheitlichen [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Modus besteht die Berichts Server-Datenbank tatsächlich aus zwei Datenbanken mit den Standardnamen "Report Server" und "ReportServerTempDB".</span><span class="sxs-lookup"><span data-stu-id="64c38-106">**Native Mode:** In [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native mode, the report server database is actually comprised of two database that have default names of "ReportServer and ReportServerTempDB".</span></span>  
  
 <span data-ttu-id="64c38-107">**SharePoint-Modus:** Im [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint-Modus handelt es sich bei der Berichts Server-Datenbank um eine Sammlung von Datenbanken, die für jede Instanz der [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Dienst Anwendung erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="64c38-107">**SharePoint mode:** In [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)][!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode the report server database is actually a collection of databases that is created for each instance of the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service application.</span></span>  
  
## <a name="ways-to-upgrade-a-native-mode-report-server-database"></a><span data-ttu-id="64c38-108">Methoden zum Aktualisieren einer Berichtsserver-Datenbank im einheitlichen Modus</span><span class="sxs-lookup"><span data-stu-id="64c38-108">Ways to Upgrade a Native Mode Report Server Database</span></span>  
 <span data-ttu-id="64c38-109">Die folgende Liste gibt die Bedingungen an, unter denen ein Upgrade einer Berichtsserver-Datenbank durchgeführt wird:</span><span class="sxs-lookup"><span data-stu-id="64c38-109">The following list identifies the conditions under which a report server database is upgraded:</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="64c38-110">Das Setup aktualisiert eine einzelne Instanz eines Berichtsservers.</span><span class="sxs-lookup"><span data-stu-id="64c38-110">Setup upgrades a single instance of a report server.</span></span> <span data-ttu-id="64c38-111">Das Berichtsserver-Datenbankschema wird automatisch aktualisiert, nachdem der Dienst gestartet und vom Berichtsserver festgestellt wurde, dass die Datenbankschemaversion nicht mit der Serverversion übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="64c38-111">The report server database schema is automatically upgraded after service startup and the report server determines that the database schema version does not match the server version.</span></span>  
  
     <span data-ttu-id="64c38-112">Bei Dienststart überprüft der Berichtsserver die Datenbankschemaversion, um zu verifizieren, dass sie mit der Serverversion übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="64c38-112">At service startup, the report server checks the database schema version to verify that it matches the server version.</span></span> <span data-ttu-id="64c38-113">Falls die Datenbankschemaversion in einer älteren Version vorliegt, wird sie automatisch auf die Schemaversion aktualisiert, die der Berichtsserver benötigt.</span><span class="sxs-lookup"><span data-stu-id="64c38-113">If the database schema version is an older version, it is automatically upgraded to the schema version that is required by the report server.</span></span> <span data-ttu-id="64c38-114">Das automatische Upgrade ist besonders nützlich, wenn Sie eine ältere Berichtsserver-Datenbank wiederhergestellt oder angefügt haben.</span><span class="sxs-lookup"><span data-stu-id="64c38-114">Automatic upgrade is especially useful if you restored or attached an older report server database.</span></span> <span data-ttu-id="64c38-115">Eine Meldung wird in die Ablaufverfolgungsprotokolldatei des Berichtsservers eingegeben, die angibt, dass die Datenbankschemaversion aktualisiert wurde.</span><span class="sxs-lookup"><span data-stu-id="64c38-115">A message is entered in the report server trace log file indicating that the database schema version was upgraded.</span></span>  
  
-   <span data-ttu-id="64c38-116">Der [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] -Konfigurations-Manager aktualisiert eine lokale oder Remoteberichtsserver-Datenbank, wenn Sie eine ältere Version mit einer neueren Berichtsserver-Instanz verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="64c38-116">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager upgrades a local or remote report server database when you select an older version to use with a newer report server instance.</span></span> <span data-ttu-id="64c38-117">In diesem Fall müssen Sie die Upgradeaktion bestätigen, bevor dieser Vorgang ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="64c38-117">In this case, you must confirm the upgrade action before it happens.</span></span>  
  
     <span data-ttu-id="64c38-118">Der [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] -Konfigurations-Manager stellt keine separate Schaltfläche zum Aktualisieren und kein Upgradeskript mehr bereit.</span><span class="sxs-lookup"><span data-stu-id="64c38-118">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager no longer provides a separate Upgrade button or upgrade script.</span></span> <span data-ttu-id="64c38-119">Diese Funktionen sind beginnend mit [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] aufgrund der Funktion zum automatischen Upgrade des Berichtsserverdiensts veraltet.</span><span class="sxs-lookup"><span data-stu-id="64c38-119">Those features are obsolete starting with [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] due to the automatic upgrade feature of the Report Server service.</span></span>  
  
 <span data-ttu-id="64c38-120">Nach Upgrade des Schemas können Sie kein Rollback zum Upgrade einer früheren Version ausführen.</span><span class="sxs-lookup"><span data-stu-id="64c38-120">After the schema is updated, you cannot rollback the upgrade to an earlier version.</span></span> <span data-ttu-id="64c38-121">Sichern Sie immer die Berichtsserver-Datenbank für den Fall, dass Sie eine vorherige Installation wiederherstellen müssen.</span><span class="sxs-lookup"><span data-stu-id="64c38-121">Always backup the report server database in case you need to recreate a previous installation.</span></span>  
  
## <a name="how-the-schema-metadata-and-report-server-content-is-updated"></a><span data-ttu-id="64c38-122">Aktualisieren von Schema, Metadaten und Berichtsserverinhalt</span><span class="sxs-lookup"><span data-stu-id="64c38-122">How the Schema, Metadata, and Report Server Content is Updated</span></span>  
 <span data-ttu-id="64c38-123">Die Berichtsserver-Datenbank wird in drei Phasen aktualisiert:</span><span class="sxs-lookup"><span data-stu-id="64c38-123">The report server database is upgraded in three stages:</span></span>  
  
1.  <span data-ttu-id="64c38-124">Das Schema wird nach dem Setup und dem Starten des Diensts oder bei Auswahl einer [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Berichtsserver-Datenbank im einheitlichen Modus im [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] -Konfigurations-Manager, die in einer älteren Version vorliegt, automatisch aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="64c38-124">The schema is upgraded automatically after setup and service startup, or when you select a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native mode report server database in the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager that is an older version.</span></span> <span data-ttu-id="64c38-125">Außerdem überprüft der Berichtsserverdienst die Datenbankversion beim Start.</span><span class="sxs-lookup"><span data-stu-id="64c38-125">In addition, the Report Server service checks the database version at startup.</span></span> <span data-ttu-id="64c38-126">Wenn der Berichtsserver mit einer Datenbank einer früheren Version verbunden wird, aktualisiert der Berichtsserver die Datenbank beim Start.</span><span class="sxs-lookup"><span data-stu-id="64c38-126">If the report server is connected to a database that is an earlier version, the report server will update the database during startup.</span></span>  
  
2.  <span data-ttu-id="64c38-127">Sicherheitsbeschreibungen werden bei der ersten Verwendung der Berichtsserver-Datenbank nach der Aktualisierung des Schemas aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="64c38-127">Security descriptors are upgraded on first use of the report server database after the schema is updated.</span></span>  
  
3.  <span data-ttu-id="64c38-128">Veröffentlichte Berichte und kompilierte Berichtsmomentaufnahmen werden bei der ersten Verwendung aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="64c38-128">Published reports and compiled report snapshots are updated on first use.</span></span> <span data-ttu-id="64c38-129">Weitere Informationen finden Sie unter [Upgrade Reports](upgrade-reports.md).</span><span class="sxs-lookup"><span data-stu-id="64c38-129">For more information, see [Upgrade Reports](upgrade-reports.md).</span></span>  
  
 <span data-ttu-id="64c38-130">Neben der Berichtsserver-Datenbank verwendet ein Berichtsserver auch eine temporäre Datenbank.</span><span class="sxs-lookup"><span data-stu-id="64c38-130">In addition to the report server database, a report server also uses a temporary database.</span></span> <span data-ttu-id="64c38-131">Die temporäre Datenbank wird automatisch aktualisiert, wenn Sie die Berichtsserver-Datenbank aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="64c38-131">The temporary database is upgraded automatically when you upgrade the report server database.</span></span>  
  
## <a name="permissions-required-to-upgrade-a-report-server-database"></a><span data-ttu-id="64c38-132">Erforderliche Berechtigungen, um eine Berichtsserverdatenbank zu aktualisieren</span><span class="sxs-lookup"><span data-stu-id="64c38-132">Permissions required to upgrade a Report Server Database</span></span>  
 <span data-ttu-id="64c38-133">Wenn Sie eine [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] -Installation aktualisieren, die eine Berichtsserver-Datenbank enthält, wird möglicherweise eine Fehlermeldung angezeigt, wenn das Datenbankupgrade mit ungenügenden Berechtigungen ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="64c38-133">If you are upgrading a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation that includes a report server database, you may see an error message if the database upgrade is performed with insufficient permissions.</span></span> <span data-ttu-id="64c38-134">Standardmäßig wird vom Setup das Sicherheitstoken des Benutzers, der das Setupprogramm ausführt, verwendet, um eine Verbindung mit der [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Remoteinstanz herzustellen und das Schema zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="64c38-134">By default, Setup uses the security token of the user who is running the Setup program to connect to the remote [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance and update the schema.</span></span> <span data-ttu-id="64c38-135">Wenn Sie in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] über **sysadmin**-Berechtigungen für den Datenbankserver verfügen, der die Berichtsserver-Datenbanken hostet, wird das Upgrade für die Datenbank erfolgreich durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="64c38-135">If you have [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **sysadmin** permissions on the database server that hosts the report server databases, the database upgrade will succeed.</span></span> <span data-ttu-id="64c38-136">Wenn Sie das Setup von der Eingabeaufforderung ausführen und die Argumente RSUPGRADEDATABASEACCOUNT und RSUPGRADEPASSWORD für ein Konto angeben, das über die **sysadmin** -Berechtigung zum Ändern des Schemas auf dem Remotecomputer verfügt, kann das Datenbankupgrade ebenfalls erfolgreich ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="64c38-136">Similarly, if you run Setup from the command prompt and specify the RSUPGRADEDATABASEACCOUNT and RSUPGRADEPASSWORD arguments for an account that has **sysadmin** permission to modify the schema on the remote computer, the database upgrade will succeed.</span></span>  
  
 <span data-ttu-id="64c38-137">Wenn Sie jedoch keine **sysadmin** -Berechtigung für die Datenbank auf dem Remotecomputer haben, wird die Verbindung mit folgender Fehlermeldung abgelehnt:</span><span class="sxs-lookup"><span data-stu-id="64c38-137">However, if you do not have **sysadmin** permission to the database on the remote computer, the connection will be refused with the following error:</span></span>  
  
 `"Setup was not able to upgrade the report server database schema. You must update the database schema manually after setup is finished. To update the schema, run the Reporting Services Configuration Manager, open the Database Setup page, re-select the database, and click Apply. The database will be upgraded automatically."`  
  
 <span data-ttu-id="64c38-138">Zu diesem Zeitpunkt werden die Berichtsserver-Programmdateien aktualisiert, aber die Berichtsserver-Datenbank behält das Format der vorherigen Version bei.</span><span class="sxs-lookup"><span data-stu-id="64c38-138">At this point, the report server program files will be upgraded, but the report server database will be in the format of the previous version.</span></span> <span data-ttu-id="64c38-139">Der Berichtsserver ist nicht verfügbar, bis Sie den Upgradevorgang beenden, indem Sie ein Upgrade der Datenbank manuell durchführen.</span><span class="sxs-lookup"><span data-stu-id="64c38-139">The report server will be unavailable until you finish the upgrade process by upgrading the database manually.</span></span>  
  
#### <a name="to-upgrade-a-native-mode-database-with-scripts"></a><span data-ttu-id="64c38-140">So aktualisieren Sie eine Datenbank im einheitlichen Modus mithilfe von Skripts</span><span class="sxs-lookup"><span data-stu-id="64c38-140">To upgrade a Native Mode database With Scripts</span></span>  
 <span data-ttu-id="64c38-141">Sie können mithilfe von WMI-Skripts eine Berichtsserverdatenbank aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="64c38-141">You can use WMI scripts to upgrade a report server database.</span></span> <span data-ttu-id="64c38-142">Weitere Informationen finden Sie unter [GenerateDatabaseUpgradeScript Method &#40;WMI MSReportServer_ConfigurationSetting&#41;](../wmi-provider-library-reference/configurationsetting-method-generatedatabaseupgradescript.md).</span><span class="sxs-lookup"><span data-stu-id="64c38-142">For more information, see [GenerateDatabaseUpgradeScript Method &#40;WMI MSReportServer_ConfigurationSetting&#41;](../wmi-provider-library-reference/configurationsetting-method-generatedatabaseupgradescript.md)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="64c38-143">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="64c38-143">See Also</span></span>  
 <span data-ttu-id="64c38-144">[Reporting Services-Konfigurations-Manager &#40;einheitlicher Modus&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="64c38-144">[Reporting Services Configuration Manager &#40;Native Mode&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md) </span></span>  
 <span data-ttu-id="64c38-145">[Erstellen einer Berichts Server-Datenbank &#40;SSRS-Configuration Manager&#41;](../../sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="64c38-145">[Create a Report Server Database  &#40;SSRS Configuration Manager&#41;](../../sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md) </span></span>  
 <span data-ttu-id="64c38-146">[Assistent zum Ändern der Datenbank &#40;SSRS im einheitlichen Modus&#41;](../../sql-server/install/change-database-wizard-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="64c38-146">[Change Database Wizard &#40;SSRS Native Mode&#41;](../../sql-server/install/change-database-wizard-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="64c38-147">[Aktualisieren und Migrieren von Reporting Services](upgrade-and-migrate-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="64c38-147">[Upgrade and Migrate Reporting Services](upgrade-and-migrate-reporting-services.md) </span></span>  
 [<span data-ttu-id="64c38-148">Migrieren einer Reporting Services-Installation &#40;einheitlicher Modus&#41;</span><span class="sxs-lookup"><span data-stu-id="64c38-148">Migrate a Reporting Services Installation &#40;Native Mode&#41;</span></span>](migrate-a-reporting-services-installation-native-mode.md)  
  
  
