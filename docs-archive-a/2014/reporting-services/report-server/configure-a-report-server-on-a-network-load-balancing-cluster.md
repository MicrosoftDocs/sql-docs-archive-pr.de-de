---
title: Konfigurieren eines Berichtsservers in einem Netzwerklastenausgleichcluster | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- report servers [Reporting Services], network load balancing
ms.assetid: 6bfa5698-de65-43c3-b940-044f41c162d3
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 5de36ab620db63294d2a5ec98fad6c45af201d26
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87619604"
---
# <a name="configure-a-report-server-on-a-network-load-balancing-cluster"></a><span data-ttu-id="fac7c-102">Konfigurieren eines Berichtsservers in einem NLB-Cluster (Network Load Balancing, Netzwerklastenausgleich)</span><span class="sxs-lookup"><span data-stu-id="fac7c-102">Configure a Report Server on a Network Load Balancing Cluster</span></span>
  <span data-ttu-id="fac7c-103">Wenn Sie einen Berichtsserver für horizontales Skalieren für die Ausführung in einem NLB-Cluster (Network Load Balancing, Netzwerklastenausgleich) konfigurieren möchten, müssen Sie folgende Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="fac7c-103">If you are configuring a report server scale-out to run on a Network Load Balancing (NLB) cluster, you must do the following:</span></span>  
  
-   <span data-ttu-id="fac7c-104">Stellen Sie sicher, dass der Zugriff auf den NLB-Cluster über den Namen eines virtuellen Servers möglich ist, der der IP-Adresse des virtuellen Servers zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="fac7c-104">Ensure that the NLB cluster is accessible through a virtual server name that maps to the virtual server IP address.</span></span> <span data-ttu-id="fac7c-105">Der Name eines virtuellen Servers ist erforderlich, damit Sie einen einzelnen Zugriffspunkt für den NLB-Cluster konfigurieren können.</span><span class="sxs-lookup"><span data-stu-id="fac7c-105">A virtual server name is necessary so that you can configure a single point of entry to the NLB cluster.</span></span> <span data-ttu-id="fac7c-106">Wenn Sie für jede Berichtsserverinstanz eine URL konfigurieren, geben Sie den Namen des virtuellen Servers als Host an.</span><span class="sxs-lookup"><span data-stu-id="fac7c-106">When you configure a URL for each report server instance, you will specify the virtual server name as the host.</span></span>  
  
-   <span data-ttu-id="fac7c-107">Konfigurieren Sie die Anzeigestatusüberprüfung, um das Anzeigen interaktiver Berichte zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-107">Configure view state validation to support interactive report viewing.</span></span> <span data-ttu-id="fac7c-108">Interaktive Berichte werden i. d. R. in einer Benutzersitzung mehrfach gerendert, um als Reaktion auf Benutzeraktionen neue oder andere Daten anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-108">Interactive reports are typically rendered numerous times during a single user session to visualize new or different data in response to user actions.</span></span> <span data-ttu-id="fac7c-109">Durch das Konfigurieren der Anzeigestatusüberprüfung wird die Kontinuität in Benutzersitzungen unabhängig davon gewahrt, welcher Berichtsserver die Anforderung tatsächlich bearbeitet.</span><span class="sxs-lookup"><span data-stu-id="fac7c-109">By configuring view state validation, continuity is preserved within the user session regardless of which report server services the actual request.</span></span>  
  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="fac7c-110">bietet keine Funktionalität für den Lastenausgleich einer Bereitstellung für horizontales Skalieren oder zum Definieren eines einzelnen Zugriffspunkts über eine freigegebene URL.</span><span class="sxs-lookup"><span data-stu-id="fac7c-110">does not provide functionality for load balancing a scale-out deployment or for defining a single point of access through a shared URL.</span></span> <span data-ttu-id="fac7c-111">Sie müssen eine separate Software oder eine Hardware-NLB-Clusterlösung implementieren, um eine [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] -Bereitstellung für horizontales Skalieren zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-111">You must implement a separate software or hardware NLB cluster solution to support a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] scale-out deployment.</span></span>  
  
 <span data-ttu-id="fac7c-112">Sie können [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] auf Knoten installieren, die bereits zu einem NLB-Cluster gehören, oder Sie können eine Bereitstellung für horizontales Skalieren konfigurieren und anschließend die Clustersoftware installieren.</span><span class="sxs-lookup"><span data-stu-id="fac7c-112">You can install [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] on nodes that are already part of an NLB cluster, or you can configure a scale-out deployment first and then install cluster software.</span></span>  
  
## <a name="steps-for-report-server-deployment-on-an-nlb-cluster"></a><span data-ttu-id="fac7c-113">Schritte zur Berichtsserverbereitstellung in einem NLB-Cluster</span><span class="sxs-lookup"><span data-stu-id="fac7c-113">Steps for Report Server Deployment on an NLB Cluster</span></span>  
 <span data-ttu-id="fac7c-114">Beachten Sie beim Installieren und Konfigurieren der Bereitstellung die folgenden Richtlinien:</span><span class="sxs-lookup"><span data-stu-id="fac7c-114">Use the following guidelines to install and configure your deployment:</span></span>  
  
|<span data-ttu-id="fac7c-115">Schritt</span><span class="sxs-lookup"><span data-stu-id="fac7c-115">Step</span></span>|<span data-ttu-id="fac7c-116">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="fac7c-116">Description</span></span>|<span data-ttu-id="fac7c-117">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="fac7c-117">More information</span></span>|  
|----------|-----------------|----------------------|  
|<span data-ttu-id="fac7c-118">1</span><span class="sxs-lookup"><span data-stu-id="fac7c-118">1</span></span>|<span data-ttu-id="fac7c-119">Überprüfen Sie vor der Installation von Reporting Services auf Serverknoten in einem NLB-Cluster die Anforderungen für die Bereitstellung für horizontales Skalieren.</span><span class="sxs-lookup"><span data-stu-id="fac7c-119">Before you install Reporting Services on server nodes in an NLB cluster, check the requirements for scale-out deployment.</span></span>|<span data-ttu-id="fac7c-120">[Konfigurieren eines Berichts Servers im einheitlichen Modus für die Bereitstellung für horizontales Skalieren &#40;SSRS-Configuration Manager&#41;](../install-windows/configure-a-native-mode-report-server-scale-out-deployment.md) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Online Dokumentation</span><span class="sxs-lookup"><span data-stu-id="fac7c-120">[Configure a Native Mode Report Server Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../install-windows/configure-a-native-mode-report-server-scale-out-deployment.md) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online</span></span>|  
|<span data-ttu-id="fac7c-121">2</span><span class="sxs-lookup"><span data-stu-id="fac7c-121">2</span></span>|<span data-ttu-id="fac7c-122">Konfigurieren Sie den NLB-Cluster, und überprüfen Sie, ob er ordnungsgemäß arbeitet.</span><span class="sxs-lookup"><span data-stu-id="fac7c-122">Configure the NLB cluster and verify it is working correctly.</span></span><br /><br /> <span data-ttu-id="fac7c-123">Ordnen Sie unbedingt der virtuellen Server-IP-Adresse des NLB-Clusters einen Hostheadernamen zu.</span><span class="sxs-lookup"><span data-stu-id="fac7c-123">Be sure to map a host header name to the virtual server IP of the NLB cluster.</span></span> <span data-ttu-id="fac7c-124">Der Hostheadername wird in der Berichtsserver-URL verwendet, und er ist leichter zu behalten als eine IP-Adresse.</span><span class="sxs-lookup"><span data-stu-id="fac7c-124">The host header name is used in the report server URL, and is easier to remember and type than an IP address.</span></span>|<span data-ttu-id="fac7c-125">Weitere Informationen finden Sie in der Windows Server-Produktdokumentation für die Version des verwendeten Windows-Betriebssystems.</span><span class="sxs-lookup"><span data-stu-id="fac7c-125">For more information, see the Windows Server product documentation for the version of the Windows operating system that you run.</span></span>|  
|<span data-ttu-id="fac7c-126">3</span><span class="sxs-lookup"><span data-stu-id="fac7c-126">3</span></span>|<span data-ttu-id="fac7c-127">Fügen Sie den NetBIOS-Namen und den vollqualifizierten Domänennamen (Fully Qualified Domain Name oder FQDN) für den Hostheader der in der Windows-Registrierung gespeicherten Liste **BackConnectionHostNames** hinzu.</span><span class="sxs-lookup"><span data-stu-id="fac7c-127">Add the NetBIOS and Fully Qualified Domain Name (FQDN) for the host header to the list of **BackConnectionHostNames** stored in the Windows Registry.</span></span> <span data-ttu-id="fac7c-128">Führen Sie die Schritte in **Methode 2: Angeben von Hostnamen** im [Knowledge Base-Artikel 896861](https://support.microsoft.com/kb/896861) (https://support.microsoft.com/kb/896861) mit der folgenden Anpassung aus.</span><span class="sxs-lookup"><span data-stu-id="fac7c-128">Use the steps in **Method 2: Specify host names** in [KB 896861](https://support.microsoft.com/kb/896861) (https://support.microsoft.com/kb/896861), with the following adjustment.</span></span> <span data-ttu-id="fac7c-129">**Schritt 7** des Knowledge Base-Artikels lautet wie folgt: "Beenden Sie den Registrierungs-Editor, und starten Sie den IISAdmin-Dienst anschließend neu."</span><span class="sxs-lookup"><span data-stu-id="fac7c-129">**Step 7** of the KB article says "Quit Registry Editor, and then restart the IISAdmin service."</span></span> <span data-ttu-id="fac7c-130">Starten Sie stattdessen den Computer neu, damit die Änderungen wirksam werden.</span><span class="sxs-lookup"><span data-stu-id="fac7c-130">Instead, reboot the computer to ensure the changes take effect.</span></span><br /><br /> <span data-ttu-id="fac7c-131">Wenn der Host Header Name z. b \<MyServer> . ein virtueller Name für den Windows-Computernamen "Configuration Manager" ist, können Sie wahrscheinlich auf das Formular für den voll qualifizierten Namen ("contoso.Domain.com") verweisen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-131">For example, if the host header name \<MyServer> is a virtual name for the Windows computer name of "contoso", you can probably reference the FQDN form as "contoso.domain.com".</span></span> <span data-ttu-id="fac7c-132">Sie müssen sowohl den Hostheadernamen (MyServer ) als auch den FQDN-Namen (contoso.domain.com) zur Liste in **BackConnectionHostNames**hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-132">You will need to add both the hostheader name (MyServer ) and FQDN name (contoso.domain.com) to the list in **BackConnectionHostNames**.</span></span>|<span data-ttu-id="fac7c-133">Dieser Schritt ist erforderlich, wenn Ihre Serverumgebung die NTLM-Authentifizierung auf dem lokalen Computer verwendet und eine Loopbackverbindung erstellt.</span><span class="sxs-lookup"><span data-stu-id="fac7c-133">This step is required if your server environment involves NTLM authentication on the local computer, creating a loop back connection.</span></span><br /><br /> <span data-ttu-id="fac7c-134">In diesem Fall tritt bei Anforderungen zwischen dem Berichts-Manager und dem Berichtsserver der Fehler 401 (Nicht autorisiert) auf.</span><span class="sxs-lookup"><span data-stu-id="fac7c-134">If this is the case, you will experience the requests between Report Manager and Report Server to fail with 401 (Unauthorized).</span></span>|  
|<span data-ttu-id="fac7c-135">4</span><span class="sxs-lookup"><span data-stu-id="fac7c-135">4</span></span>|<span data-ttu-id="fac7c-136">Installieren Sie [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] im Dateimodus auf Knoten, die bereits zu einem NLB-Cluster gehören, oder konfigurieren Sie die Berichtsserverinstanzen für die Bereitstellung für horizontales Skalieren.</span><span class="sxs-lookup"><span data-stu-id="fac7c-136">Install [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] in files-only mode on nodes that are already part of a NLB cluster, and configure the report server instances for scale-out deployment.</span></span><br /><br /> <span data-ttu-id="fac7c-137">Die konfigurierte Bereitstellung für horizontales Skalieren antwortet möglicherweise nicht auf Anforderungen, die an die IP des virtuellen Servers gerichtet sind.</span><span class="sxs-lookup"><span data-stu-id="fac7c-137">The scale-out that you configure might not respond to requests that are directed to the virtual server IP.</span></span> <span data-ttu-id="fac7c-138">Sie wird erst in einem späteren Schritt so konfiguriert, dass die IP des virtuellen Servers verwendet wird, und zwar nach dem Konfigurieren der Anzeigestatusüberprüfung.</span><span class="sxs-lookup"><span data-stu-id="fac7c-138">Configuring the scale-out to use the virtual server IP occurs at a later step, after you configure view state validation.</span></span>|[<span data-ttu-id="fac7c-139">Konfigurieren eines Berichtsservers im einheitlichen Modus für Bereitstellungen für horizontales Skalieren (SSRS-Konfigurations-Manager)</span><span class="sxs-lookup"><span data-stu-id="fac7c-139">Configure a Native Mode Report Server Scale-Out Deployment &#40;SSRS Configuration Manager&#41;</span></span>](../install-windows/configure-a-native-mode-report-server-scale-out-deployment.md)|  
|<span data-ttu-id="fac7c-140">5</span><span class="sxs-lookup"><span data-stu-id="fac7c-140">5</span></span>|<span data-ttu-id="fac7c-141">Konfigurieren der Anzeigestatusüberprüfung</span><span class="sxs-lookup"><span data-stu-id="fac7c-141">Configure view state validation.</span></span><br /><br /> <span data-ttu-id="fac7c-142">Optimale Ergebnisse erzielen Sie, wenn Sie diesen Schritt nach dem Konfigurieren der Bereitstellung für horizontales Skalieren und vor dem Konfigurieren der Berichtsserverinstanzen für die Verwendung der virtuellen Server-IP-Adresse ausführen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-142">For best results, perform this step after you configure the scale-out deployment, and before you configure the report server instances to use the virtual server IP.</span></span> <span data-ttu-id="fac7c-143">Indem Sie zuerst die Anzeigestatusüberprüfung konfigurieren, können Sie Ausnahmen für fehlgeschlagene Statusüberprüfungen vermeiden, wenn Benutzer versuchen, auf interaktive Berichte zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-143">By configuring view state validation first, you can avoid exceptions about failed state validation when users attempt to access interactive reports.</span></span>|<span data-ttu-id="fac7c-144">[Vorgehensweise: Konfigurieren der Anzeigestatusüberprüfung](#ViewState) in diesem Thema</span><span class="sxs-lookup"><span data-stu-id="fac7c-144">[How to Configure View State Validation](#ViewState) in this topic.</span></span>|  
|<span data-ttu-id="fac7c-145">6</span><span class="sxs-lookup"><span data-stu-id="fac7c-145">6</span></span>|<span data-ttu-id="fac7c-146">Konfigurieren Sie `Hostname` und `UrlRoot` so, dass die IP des virtuellen Servers des NLB-Clusters verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="fac7c-146">Configure `Hostname` and `UrlRoot` to use the virtual server IP of the NLB cluster.</span></span>|<span data-ttu-id="fac7c-147">[So konfigurieren Sie HostName und UrlRoot](#SpecifyingVirtualServerName) in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="fac7c-147">[How to Configure Hostname and UrlRoot](#SpecifyingVirtualServerName) in this topic.</span></span>|  
|<span data-ttu-id="fac7c-148">7</span><span class="sxs-lookup"><span data-stu-id="fac7c-148">7</span></span>|<span data-ttu-id="fac7c-149">Überprüfen Sie, ob der Zugriff auf die Server mit dem angegebenen Hostnamen möglich ist.</span><span class="sxs-lookup"><span data-stu-id="fac7c-149">Verify the servers are accessible through the host name you specified.</span></span>|<span data-ttu-id="fac7c-150">[Überprüfen des Zugriffs auf Berichtsserver](#Verify) in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="fac7c-150">[Verify Report Server Access](#Verify) in this topic.</span></span>|  
  
##  <a name="how-to-configure-view-state-validation"></a><a name="ViewState"></a><span data-ttu-id="fac7c-151">Vorgehensweise beim Konfigurieren der Anzeige Status Überprüfung</span><span class="sxs-lookup"><span data-stu-id="fac7c-151">How to Configure View State Validation</span></span>  
 <span data-ttu-id="fac7c-152">Zum Ausführen einer Bereitstellung für horizontales Skalieren in einem NLB-Cluster müssen Sie die Anzeigestatusüberprüfung konfigurieren, sodass Benutzer interaktive HTML-Berichte anzeigen können.</span><span class="sxs-lookup"><span data-stu-id="fac7c-152">To run a scale-out deployment on an NLB cluster, you must configure view state validation so that users can view interactive HTML reports.</span></span> <span data-ttu-id="fac7c-153">Sie müssen dies für den Berichtsserver und den Berichts-Manager ausführen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-153">You must do this for the report server and for Report Manager.</span></span>  
  
 <span data-ttu-id="fac7c-154">Die Anzeigestatusüberprüfung wird von ASP.NET gesteuert.</span><span class="sxs-lookup"><span data-stu-id="fac7c-154">View state validation is controlled by the ASP.NET.</span></span> <span data-ttu-id="fac7c-155">Sie ist standardmäßig aktiviert und verwendet die Identitätsinformationen des Webdiensts zum Ausführen der Überprüfung.</span><span class="sxs-lookup"><span data-stu-id="fac7c-155">By default, view state validation is enabled and uses the identity of the Web service to perform the validation.</span></span> <span data-ttu-id="fac7c-156">In einem Szenario mit NLB-Cluster sind jedoch mehrere Dienstinstanzen und Webdienstidentitäten, die auf unterschiedlichen Computern ausgeführt werden, vorhanden.</span><span class="sxs-lookup"><span data-stu-id="fac7c-156">However, in an NLB cluster scenario, there are multiple service instances and web service identities that run on different computers.</span></span> <span data-ttu-id="fac7c-157">Da die Dienstidentität von Knoten zu Knoten variiert, können Sie die Überprüfung nicht nur anhand einer einzigen Prozessidentität ausführen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-157">Because the service identity varies for each node, you cannot rely on a single process identity to perform the validation.</span></span>  
  
 <span data-ttu-id="fac7c-158">Zum Umgehen dieses Problems können Sie einen willkürlichen Validierungsschlüssel generieren, um die Anzeigestatusüberprüfung zu unterstützen, und anschließend jeden Berichtsserverknoten zum Verwenden desselben Schlüssels manuell konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="fac7c-158">To work around this issue, you can generate an arbitrary validation key to support view state validation, and then manually configure each report server node to use the same key.</span></span> <span data-ttu-id="fac7c-159">Sie können eine beliebige nach dem Zufallsprinzip generierte hexadezimale Sequenz verwenden.</span><span class="sxs-lookup"><span data-stu-id="fac7c-159">You can use any randomly generated hexadecimal sequence.</span></span> <span data-ttu-id="fac7c-160">Der Überprüfungsalgorithmus (z. B. SHA1) bestimmt, wie lang die hexadezimale Sequenz sein muss.</span><span class="sxs-lookup"><span data-stu-id="fac7c-160">The validation algorithm (such as SHA1) determines how long the hexadecimal sequence must be.</span></span>  
  
1.  <span data-ttu-id="fac7c-161">Generieren Sie mithilfe der von [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)]bereitgestellten Funktionalität zum automatischen Generieren einen Überprüfungsschlüssel und einen Entschlüsselungsschlüssel.</span><span class="sxs-lookup"><span data-stu-id="fac7c-161">Generate a validation key and decryption key by using the autogenerate functionality provided by the [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)].</span></span> <span data-ttu-id="fac7c-162">Am Ende benötigen Sie einen einzelnen <`machineKey`> Eintrag, den Sie für jede Berichts-Manager Instanz in der Bereitstellung für horizontales Skalieren in die Web.config Datei einfügen können.</span><span class="sxs-lookup"><span data-stu-id="fac7c-162">In the end, you must have a single <`machineKey`> entry that you can paste into the Web.config file for each Report Manager instance in the scale-out deployment.</span></span>  
  
     <span data-ttu-id="fac7c-163">Das folgende Beispiel zeigt den Wert, den Sie benötigen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-163">The following example provides an illustration of the value you must obtain.</span></span> <span data-ttu-id="fac7c-164">Kopieren Sie das Beispiel nicht in die Konfigurationsdateien, denn die Schlüsselwerte sind ungültig.</span><span class="sxs-lookup"><span data-stu-id="fac7c-164">Do not copy the example into your configuration files; the key values are not valid.</span></span>  
  
    ```  
    <machineKey validationKey="123455555" decryptionKey="678999999" validation="SHA1" decryption="AES"/>  
    ```  
  
2.  <span data-ttu-id="fac7c-165">Öffnen Sie die Datei Web.config für Berichts-Manager, und `system.web` fügen Sie im Abschnitt <> das <`machineKey`> Element ein, das Sie generiert haben.</span><span class="sxs-lookup"><span data-stu-id="fac7c-165">Open the Web.config file for Report Manager, and in the <`system.web`> section paste the <`machineKey`> element that you generated.</span></span> <span data-ttu-id="fac7c-166">Standardmäßig befindet sich die Datei Web.config für den Berichts-Manager unter \Programme\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportManager\Web.config.</span><span class="sxs-lookup"><span data-stu-id="fac7c-166">By default, the Report Manager Web.config file is located in \Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportManager\Web.config.</span></span>  
  
3.  <span data-ttu-id="fac7c-167">Speichern Sie die Datei .</span><span class="sxs-lookup"><span data-stu-id="fac7c-167">Save the file.</span></span>  
  
4.  <span data-ttu-id="fac7c-168">Wiederholen Sie den vorherigen Schritt für alle Berichtsserver in der Bereitstellung für horizontales Skalieren.</span><span class="sxs-lookup"><span data-stu-id="fac7c-168">Repeat the previous step for each report server in the scale-out deployment.</span></span>  
  
5.  <span data-ttu-id="fac7c-169">Vergewissern Sie sich, dass alle Web.Config Dateien in den Ordnern \Reporting Services\Report Manager identische <`machineKey`> Elemente im `system.web` Abschnitt <> enthalten.</span><span class="sxs-lookup"><span data-stu-id="fac7c-169">Verify that all Web.Config files in the \Reporting Services\Report Manager folders contain identical <`machineKey`> elements in the <`system.web`> section.</span></span>  
  
##  <a name="how-to-configure-hostname-and-urlroot"></a><a name="SpecifyingVirtualServerName"></a><span data-ttu-id="fac7c-170">Konfigurieren von Hostname und UrlRoot</span><span class="sxs-lookup"><span data-stu-id="fac7c-170">How to Configure Hostname and UrlRoot</span></span>  
 <span data-ttu-id="fac7c-171">Wenn Sie eine Berichtsserverbereitstellung für horizontales Skalieren in einem NLB-Cluster konfigurieren möchten, müssen Sie den Namen eines einzelnen virtuellen Servers definieren, der einen einzelnen Zugriffspunkt für den Servercluster bietet.</span><span class="sxs-lookup"><span data-stu-id="fac7c-171">To configure a report server scale-out deployment on an NLB cluster, you must define a single virtual server name that provides a single point of access to the server cluster.</span></span> <span data-ttu-id="fac7c-172">Registrieren Sie den Namen dieses virtuellen Servers dann beim DNS-Server in der Umgebung.</span><span class="sxs-lookup"><span data-stu-id="fac7c-172">Then register this virtual server name with the Domain Name Server (DNS) in your environment.</span></span>  
  
 <span data-ttu-id="fac7c-173">Nachdem Sie den Namen des virtuellen Servers definiert haben, können Sie die `Hostname`-Eigenschaft und die `UrlRoot`-Eigenschaft in der Datei RSReportServer.config so konfigurieren, dass sie den Namen des virtuellen Servers in der Berichtsserver-URL enthalten.</span><span class="sxs-lookup"><span data-stu-id="fac7c-173">After you define the virtual server name, you can configure the `Hostname` and `UrlRoot` properties in the RSReportServer.config file to include the virtual server name in the report server URL.</span></span>  
  
 <span data-ttu-id="fac7c-174">Konfigurieren Sie die `Hostname`-Eigenschaft, wenn Sie Platzhalter-URL-Reservierungen in der Berichtsumgebung verwenden.</span><span class="sxs-lookup"><span data-stu-id="fac7c-174">Configure the `Hostname` property when you are using wildcard URL reservations in your reporting environment.</span></span> <span data-ttu-id="fac7c-175">Wenn Sie in der `Hostname`-Eigenschaft den virtuellen Servernamen des NLB-Servers angeben, dann wird der Netzwerkverkehr für die Berichtsumgebung an den NLB-Server geleitet.</span><span class="sxs-lookup"><span data-stu-id="fac7c-175">When you specify the `Hostname` property to be the virtual server name of the NLB server, network traffic for the reporting environment is directed to the NLB server.</span></span> <span data-ttu-id="fac7c-176">Der NLB verteilt die Anforderungen dann an die Berichtsserverknoten.</span><span class="sxs-lookup"><span data-stu-id="fac7c-176">The NLB then distributes requests among the report server nodes.</span></span>  
  
 <span data-ttu-id="fac7c-177">Konfigurieren Sie außerdem die `UrlRoot`-Eigenschaft, damit Berichtslinks in Berichten funktionieren, die in statische Berichte, z. B. in das Excel- oder PDF-Format, exportiert wurden, oder in Berichten, die von Abonnements erzeugt werden, beispielsweise E-Mail-Abonnements.</span><span class="sxs-lookup"><span data-stu-id="fac7c-177">Additionally, configure the `UrlRoot` property so that report links work in reports that have been exported to static reports, such as in an Excel or PDF format, or in reports that are generated by subscriptions, such as e-mail subscriptions.</span></span>  
  
 <span data-ttu-id="fac7c-178">Wenn Sie [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] in [!INCLUDE[winSPServ](../../includes/winspserv-md.md)] 3.0 oder [!INCLUDE[offSPServ](../../includes/offspserv-md.md)] 2007 integrieren oder Ihre Berichte in einer benutzerdefinierten Webanwendung hosten, müssen Sie unter Umständen nur die `UrlRoot`-Eigenschaft konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="fac7c-178">If you integrate [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] with [!INCLUDE[winSPServ](../../includes/winspserv-md.md)] 3.0 or [!INCLUDE[offSPServ](../../includes/offspserv-md.md)] 2007, or you host your reports in a custom Web application, you might need to configure only the `UrlRoot` property.</span></span> <span data-ttu-id="fac7c-179">In diesem Fall legen Sie die `UrlRoot`-Eigenschaft auf die URL der SharePoint-Site oder Webanwendung fest.</span><span class="sxs-lookup"><span data-stu-id="fac7c-179">In this case, configure the `UrlRoot` property to be the URL of the SharePoint site or Web application.</span></span> <span data-ttu-id="fac7c-180">Damit wird der Netzwerkverkehr für die Berichtsumgebung an die Anwendung geleitet, welche die Berichte handhabt, statt an den Berichtsserver oder NLB-Cluster.</span><span class="sxs-lookup"><span data-stu-id="fac7c-180">This will direct network traffic for the reporting environment to the application that handles the reports rather than to the report server or NLB cluster.</span></span>  
  
 <span data-ttu-id="fac7c-181">Ändern Sie `ReportServerUrl` nicht.</span><span class="sxs-lookup"><span data-stu-id="fac7c-181">Do not modify `ReportServerUrl`.</span></span> <span data-ttu-id="fac7c-182">Wenn Sie diese URL ändern, führt dies dazu, dass jedes Mal, wenn eine interne Anforderungen verarbeitet wird, ein zusätzlicher Roundtrip über den virtuellen Server ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="fac7c-182">If you modify this URL, you will introduce an extra roundtrip through the virtual server each time an internal request is handled.</span></span> <span data-ttu-id="fac7c-183">Weitere Informationen zu finden Sie unter [URLs in Konfigurationsdateien (SSRS-Konfigurations-Manager)](../install-windows/urls-in-configuration-files-ssrs-configuration-manager.md).</span><span class="sxs-lookup"><span data-stu-id="fac7c-183">For more information, see [URLs in Configuration Files  &#40;SSRS Configuration Manager&#41;](../install-windows/urls-in-configuration-files-ssrs-configuration-manager.md).</span></span> <span data-ttu-id="fac7c-184">Weitere Informationen zum Bearbeiten von Konfigurationsdateien finden Sie unter [Ändern einer Reporting Services-Konfigurationsdatei (RSreportserver.config)](modify-a-reporting-services-configuration-file-rsreportserver-config.md) in der [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-Onlinedokumentation.</span><span class="sxs-lookup"><span data-stu-id="fac7c-184">For more information about editing the configuration file, see [Modify a Reporting Services Configuration File &#40;RSreportserver.config&#41;](modify-a-reporting-services-configuration-file-rsreportserver-config.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
1.  <span data-ttu-id="fac7c-185">Öffnen Sie RSReportServer.config in einem Text-Editor.</span><span class="sxs-lookup"><span data-stu-id="fac7c-185">Open RSReportServer.config in a text editor.</span></span>  
  
2.  <span data-ttu-id="fac7c-186">Suchen **\<Service>** Sie den Abschnitt, und fügen Sie der Konfigurationsdatei die folgenden Informationen hinzu, und ersetzen Sie `Hostname` dabei den Wert durch den Namen des virtuellen Servers für den NLB-Server:</span><span class="sxs-lookup"><span data-stu-id="fac7c-186">Find the **\<Service>** section, and add the following information to the configuration file, replacing the `Hostname` value with the virtual server name for your NLB server:</span></span>  
  
    ```  
    <Hostname>virtual_server</Hostname>  
    ```  
  
3.  <span data-ttu-id="fac7c-187">Suchen Sie `UrlRoot`.</span><span class="sxs-lookup"><span data-stu-id="fac7c-187">Find `UrlRoot`.</span></span> <span data-ttu-id="fac7c-188">Das-Element ist in der Konfigurationsdatei nicht angegeben, aber der verwendete Standardwert ist eine URL im folgenden Format: http://oder https:// \<*computername*> / \<*reportserver*> , wobei \<*reportserver*> der Name des virtuellen Verzeichnisses des Report Server-Webdiensts ist.</span><span class="sxs-lookup"><span data-stu-id="fac7c-188">The element is unspecified in the configuration file, but the default value used is a URL in this format: http:// or https://\<*computername*>/\<*reportserver*>, where \<*reportserver*> is the virtual directory name of the Report Server Web service.</span></span>  
  
4.  <span data-ttu-id="fac7c-189">Geben Sie einen Wert für ein `UrlRoot` , der den virtuellen Namen des Clusters im folgenden Format enthält: http://oder https:// \<*virtual_server*> / \<*reportserver*> .</span><span class="sxs-lookup"><span data-stu-id="fac7c-189">Type a value for `UrlRoot` that includes the virtual name of the cluster in this format: http:// or https://\<*virtual_server*>/\<*reportserver*>.</span></span>  
  
5.  <span data-ttu-id="fac7c-190">Speichern Sie die Datei .</span><span class="sxs-lookup"><span data-stu-id="fac7c-190">Save the file.</span></span>  
  
6.  <span data-ttu-id="fac7c-191">Wiederholen Sie diese Schritte jeweils in der Datei RSReportServer.config für alle Berichtsserver in der Bereitstellung für horizontales Skalieren.</span><span class="sxs-lookup"><span data-stu-id="fac7c-191">Repeat these steps in each RSReportServer.config file for each report server in the scale-out deployment.</span></span>  
  
##  <a name="verify-report-server-access"></a><a name="Verify"></a><span data-ttu-id="fac7c-192">Überprüfen des Zugriffs auf Berichts Server</span><span class="sxs-lookup"><span data-stu-id="fac7c-192">Verify Report Server Access</span></span>  
 <span data-ttu-id="fac7c-193">Stellen Sie sicher, dass Sie über den Namen des virtuellen Servers auf die Bereitstellung für horizontales Skalieren zugreifen können (z.b. https://MyVirtualServerName/reportserver und) https://MyVirtualServerName/reports) .</span><span class="sxs-lookup"><span data-stu-id="fac7c-193">Verify that you can access the scale-out deployment through the virtual server name (for example, https://MyVirtualServerName/reportserver and https://MyVirtualServerName/reports).</span></span>  
  
 <span data-ttu-id="fac7c-194">Sie können überprüfen, welcher Knoten tatsächlich Berichte verarbeitet, indem Sie die Berichtsserver-Protokolldateien untersuchen oder indem Sie das RS-Ausführungsprotokoll überprüfen (die Ausführungsprotokolltabelle enthält eine Spalte namens **InstanceName** , die anzeigt, welche Instanz eine bestimmte Anforderung verarbeitet hat).</span><span class="sxs-lookup"><span data-stu-id="fac7c-194">You can check which node actually processes reports by looking at the report server log files or by checking the RS execution log (the execution log table contains a column called **InstanceName** that shows which instance processed a particular request).</span></span> <span data-ttu-id="fac7c-195">Weitere Informationen finden Sie unter [Reporting Services-Protokolldateien und Quellen](../report-server/reporting-services-log-files-and-sources.md) in der [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Onlinebibliothek.</span><span class="sxs-lookup"><span data-stu-id="fac7c-195">For more information, see [Reporting Services Log Files and Sources](../report-server/reporting-services-log-files-and-sources.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
 <span data-ttu-id="fac7c-196">Wenn keine Verbindung mit dem Berichtsserver hergestellt werden kann, überprüfen Sie den NLB, um sicherzustellen, dass Anforderungen an den Berichtsserver gesendet werden, und zeigen Sie die HTTP-Protokolldatei des Berichtsservers an, um sich davon zu überzeugen, dass der Server die Anforderungen empfängt.</span><span class="sxs-lookup"><span data-stu-id="fac7c-196">If you cannot connect to the report server, check the NLB to ensure that requests are sent to the report server and view the report server HTTP log to ensure that the server is receiving the requests.</span></span>  
  
#### <a name="troubleshooting-failed-requests"></a><span data-ttu-id="fac7c-197">Problembehandlung bei fehlgeschlagenen Anforderungen</span><span class="sxs-lookup"><span data-stu-id="fac7c-197">Troubleshooting Failed Requests</span></span>  
 <span data-ttu-id="fac7c-198">Wenn Anforderungen die Berichtsserverinstanzen nicht erreichen, überprüfen Sie die Datei RSReportServer.config, um festzustellen, ob der Name des virtuellen Servers als Hostname für die Berichtsserver-URLs angegeben wurde:</span><span class="sxs-lookup"><span data-stu-id="fac7c-198">If requests do not reach the report server instances, check the RSReportServer.config file to verify that the virtual server name is specified as the host name for the report server URLs:</span></span>  
  
1.  <span data-ttu-id="fac7c-199">Öffnen Sie die Datei RSReportServer.config in einem Text-Editor.</span><span class="sxs-lookup"><span data-stu-id="fac7c-199">Open the RSReportServer.config file in a text editor.</span></span>  
  
2.  <span data-ttu-id="fac7c-200">Suchen `Hostname` Sie nach <>, <`ReportServerUrl`> und <`UrlRoot`>, und überprüfen Sie den Hostnamen für die einzelnen Einstellungen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-200">Find <`Hostname`>, <`ReportServerUrl`>, and <`UrlRoot`>, and check the host name for each settings.</span></span> <span data-ttu-id="fac7c-201">Wenn der Wert nicht dem erwarteten Hostnamen entspricht, ersetzen Sie ihn durch den richtigen Hostnamen.</span><span class="sxs-lookup"><span data-stu-id="fac7c-201">If the value is not the host name you expect, replace it with the correct host name.</span></span>  
  
 <span data-ttu-id="fac7c-202">Wenn Sie das Reporting Services-Konfigurationstool starten, nachdem Sie diese Änderungen vorgenommen haben, ändert das Tool möglicherweise die <`ReportServerUrl`> Einstellungen in den Standardwert.</span><span class="sxs-lookup"><span data-stu-id="fac7c-202">If you start the Reporting Services Configuration tool after making these changes, the tool might change the <`ReportServerUrl`> settings to the default value.</span></span> <span data-ttu-id="fac7c-203">Bewahren Sie immer eine Sicherungskopie der Konfigurationsdateien für den Fall auf, dass Sie diese durch die Version ersetzen müssen, die die gewünschten Einstellungen enthält.</span><span class="sxs-lookup"><span data-stu-id="fac7c-203">Always keep a backup copy of the configuration files in case you need to replace them with the version that contains the settings you want to use.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fac7c-204">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="fac7c-204">See Also</span></span>  
 <span data-ttu-id="fac7c-205">[Reporting Services-Konfigurations-Manager &#40;einheitlicher Modus&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="fac7c-205">[Reporting Services Configuration Manager &#40;Native Mode&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md) </span></span>  
 <span data-ttu-id="fac7c-206">[Konfigurieren einer URL &#40;SSRS-Configuration Manager&#41;](../install-windows/configure-a-url-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="fac7c-206">[Configure a URL  &#40;SSRS Configuration Manager&#41;](../install-windows/configure-a-url-ssrs-configuration-manager.md) </span></span>  
 <span data-ttu-id="fac7c-207">[Konfigurieren eines Berichts Servers im einheitlichen Modus für die Bereitstellung für horizontales Skalieren &#40;SSRS-Configuration Manager&#41;](../install-windows/configure-a-native-mode-report-server-scale-out-deployment.md) </span><span class="sxs-lookup"><span data-stu-id="fac7c-207">[Configure a Native Mode Report Server Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../install-windows/configure-a-native-mode-report-server-scale-out-deployment.md) </span></span>  
 [<span data-ttu-id="fac7c-208">Manage a Reporting Services Native Mode Report Server (Verwalten eines Berichtsservers von Reporting Services im einheitlichen Modus)</span><span class="sxs-lookup"><span data-stu-id="fac7c-208">Manage a Reporting Services Native Mode Report Server</span></span>](manage-a-reporting-services-native-mode-report-server.md)  
  
  
