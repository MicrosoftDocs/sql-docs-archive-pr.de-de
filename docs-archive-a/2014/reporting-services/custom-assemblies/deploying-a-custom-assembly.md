---
title: Bereitstellen einer benutzerdefinierten Assembly | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- deploying custom assemblies [Reporting Services]
- custom assemblies [Reporting Services], deploying
- custom assemblies [Reporting Services], updating
- updating custom assemblies
ms.assetid: c6674cd8-0de7-4a5a-9e7c-12ffa49f6fd2
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 3d88e1db844304b5cbb51f4af52b4715ef7e8c1e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87725318"
---
# <a name="deploying-a-custom-assembly"></a><span data-ttu-id="cce21-102">Bereitstellen einer benutzerdefinierten Assembly</span><span class="sxs-lookup"><span data-stu-id="cce21-102">Deploying a Custom Assembly</span></span>
  <span data-ttu-id="cce21-103">Um eine benutzerdefinierte Assembly in bereitzustellen [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , platzieren Sie die Assembly in den Anwendungs Ordnern von Berichts-Designer und dem Berichts Server.</span><span class="sxs-lookup"><span data-stu-id="cce21-103">To deploy a custom assembly in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], place the assembly in the application folders of both Report Designer and the report server.</span></span> <span data-ttu-id="cce21-104">Standardmäßig wird benutzerdefinierten Assemblys die `Execution`-Berechtigung in [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] erteilt.</span><span class="sxs-lookup"><span data-stu-id="cce21-104">By default, custom assemblies are granted `Execution` permission in [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="cce21-105">Sie müssen die Konfigurationsdatei „rssrvpolicy.config“ für den Berichtsserver und die Konfigurationsdatei „rspreviewpolicy.config“ für das Vorschaufenster des Berichts-Designers bearbeiten, um benutzerdefinierten Assemblys Privilegien über die Execute-Berechtigung hinaus zu erteilen.</span><span class="sxs-lookup"><span data-stu-id="cce21-105">To grant custom assemblies privileges beyond Execute permission, you will need to edit the rssrvpolicy.config configuration file for the report server and the rspreviewpolicy.config configuration file for the Report Designer preview window.</span></span> <span data-ttu-id="cce21-106">Alternativ dazu können Sie die benutzerdefinierte Assembly auch im globalen Assemblycache (Global Assembly Cache, GAC) installieren.</span><span class="sxs-lookup"><span data-stu-id="cce21-106">Alternatively, you can install your custom assembly in the global assembly cache (GAC).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="cce21-107">Es stehen zwei Vorschaumodi für den Berichts-Designer zur Verfügung: die Vorschauregisterkarte und das Popup-Vorschaufenster, das beim Start des Berichtsprojekts im `DebugLocal` aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="cce21-107">There are two preview modes for Report Designer: the Preview tab and the pop-up preview window that is launched when your report project is started in `DebugLocal` mode.</span></span> <span data-ttu-id="cce21-108">Die Vorschauregisterkarte führt alle Berichtsausdrücke mithilfe des `FullTrust`-Berechtigungssatzes aus und wendet keine Sicherheitsrichtlinieneinstellungen an.</span><span class="sxs-lookup"><span data-stu-id="cce21-108">The Preview tab executes all report expressions using the `FullTrust` permission set and does not apply security policy settings.</span></span> <span data-ttu-id="cce21-109">Im Popup-Vorschaufenster sollen die Berichtsserverfunktionen simuliert werden. Es enthält daher eine Richtlinienkonfigurationsdatei, die von Ihnen oder einem Administrator verändert werden muss, damit benutzerdefinierte Assemblys im Berichts-Designer verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="cce21-109">The pop-up preview window is meant to simulate the report server functionality and therefore has a policy configuration file that you or an administrator must modify to use custom assemblies in Report Designer.</span></span> <span data-ttu-id="cce21-110">Diese automatische Vorschau sperrt auch die benutzerdefinierte Assembly.</span><span class="sxs-lookup"><span data-stu-id="cce21-110">This pop-up preview also locks the custom assembly.</span></span> <span data-ttu-id="cce21-111">Daher müssen Sie das Vorschaufenster schließen, um den Code der benutzerdefinierten Assembly ändern oder aktualisieren zu können.</span><span class="sxs-lookup"><span data-stu-id="cce21-111">Therefore, you need to close the preview window in order to modify or update your custom assembly code.</span></span>  
  
###### <a name="to-deploy-a-custom-assembly-in-reporting-services"></a><span data-ttu-id="cce21-112">So stellen Sie benutzerdefinierte Assemblys in Reporting Services bereit</span><span class="sxs-lookup"><span data-stu-id="cce21-112">To deploy a custom assembly in Reporting Services</span></span>  
  
1.  <span data-ttu-id="cce21-113">Kopieren Sie die benutzerdefinierte Assembly aus dem Build-Verzeichnis in das BIN-Verzeichnis des Berichtsservers oder in den Ordner des Berichts-Designers.</span><span class="sxs-lookup"><span data-stu-id="cce21-113">Copy your custom assembly from your build location to the report server bin folder or the Report Designer folder.</span></span> <span data-ttu-id="cce21-114">Standardmäßig wird das BIN-Verzeichnis des Berichtsservers unter dem Pfad %ProgramFiles%\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin gespeichert.</span><span class="sxs-lookup"><span data-stu-id="cce21-114">The default location of the bin folder for the report server is %ProgramFiles%\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin.</span></span> <span data-ttu-id="cce21-115">Das Standardverzeichnis für den Berichts-Designer ist %ProgramFiles%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span><span class="sxs-lookup"><span data-stu-id="cce21-115">The default location of the Report Designer is %ProgramFiles%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span></span>  
  
     <span data-ttu-id="cce21-116">Wenn Sie Ihre benutzerdefinierte Assembly im BIN-Ordner des Berichtsservers speichern, können Sie Berichte veröffentlichen, die auf die benutzerdefinierte Assembly verweisen. Wenn Sie die Assembly im Ordner des Berichts-Designers speichern, können Sie im Berichts-Designer Berichte ausführen und debuggen, die auf die benutzerdefinierte Assembly verweisen.</span><span class="sxs-lookup"><span data-stu-id="cce21-116">Placing your custom assembly in the report server bin folder enables you to publish reports that reference your custom assembly, and placing it in the Report Designer folder enables you to run and debug reports that reference your custom assembly in Report Designer.</span></span>  
  
     <span data-ttu-id="cce21-117">Wenn Sie dem Code der benutzerdefinierten Assembly Berechtigungen erteilen möchten, die über die Standardausführung hinausgehen, gehen Sie wie folgt vor:</span><span class="sxs-lookup"><span data-stu-id="cce21-117">If you need to grant your custom assembly code permissions beyond the default execute permissions:</span></span>  
  
2.  <span data-ttu-id="cce21-118">Öffnen Sie die entsprechende Konfigurationsdatei.</span><span class="sxs-lookup"><span data-stu-id="cce21-118">Open the appropriate configuration file.</span></span> <span data-ttu-id="cce21-119">Das Standardverzeichnis von rssrvpolicy.config ist das Verzeichnis %ProgramFiles%\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer.</span><span class="sxs-lookup"><span data-stu-id="cce21-119">The default location of rssrvpolicy.config is %ProgramFiles%\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer.</span></span> <span data-ttu-id="cce21-120">Das Standardverzeichnis der Datei rspreviewpolicy.config ist das Verzeichnis %ProgramFiles%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span><span class="sxs-lookup"><span data-stu-id="cce21-120">The default location of rspreviewpolicy.config is %ProgramFiles%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span></span>  
  
3.  <span data-ttu-id="cce21-121">Fügen Sie eine Codegruppe für die benutzerdefinierte Assembly hinzu.</span><span class="sxs-lookup"><span data-stu-id="cce21-121">Add a code group for your custom assembly.</span></span> <span data-ttu-id="cce21-122">Weitere Informationen finden Sie unter [Sichere Entwicklung (Reporting Services)](../extensions/secure-development/secure-development-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="cce21-122">For more information, see [Secure Development &#40;Reporting Services&#41;](../extensions/secure-development/secure-development-reporting-services.md).</span></span>  
  
## <a name="updating-custom-assemblies"></a><span data-ttu-id="cce21-123">Aktualisieren von benutzerdefinierten Assemblys</span><span class="sxs-lookup"><span data-stu-id="cce21-123">Updating Custom Assemblies</span></span>  
 <span data-ttu-id="cce21-124">Irgendwann kann es sein, dass Sie eine Version einer benutzerdefinierten Assembly aktualisieren müssen, auf die derzeit diverse veröffentlichten Berichte verweisen.</span><span class="sxs-lookup"><span data-stu-id="cce21-124">At some point, you may need to update a version of a custom assembly that is currently being referenced by several published reports.</span></span> <span data-ttu-id="cce21-125">Wenn die Assembly bereits im Bin-Verzeichnis des Berichtsservers oder des Berichts-Designers vorhanden ist und die Versionsnummer der Assembly erhöht oder geändert wird, funktionieren die aktuell veröffentlichten Berichte nicht mehr ordnungsgemäß.</span><span class="sxs-lookup"><span data-stu-id="cce21-125">If that assembly already exists in the bin directory of the report server or Report Designer and the version number of the assembly is incremented or changed in some way, the currently published reports will no longer work properly.</span></span> <span data-ttu-id="cce21-126">Sie müssen die Version der Assembly, auf die im `CodeModules`-Element der Berichtsdefinition verwiesen wird, aktualisieren und die Berichte erneut veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="cce21-126">You will need to update the version of the assembly that is referenced in the `CodeModules` element of the report definition and republish the reports.</span></span> <span data-ttu-id="cce21-127">Wenn Sie wissen, dass Sie eine benutzerdefinierte Assembly häufig aktualisieren müssen und wenn Ihre derzeit veröffentlichten Berichte auf die neue Assembly verweisen müssen, sollten Sie überlegen, ob es nicht besser ist, dieselbe Versionsnummer in allen Updates einer bestimmten Assembly zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="cce21-127">If you know that you will frequently update a custom assembly and your currently published reports need to reference the new assembly, you may want to consider using the same version number across all updates of a particular assembly.</span></span>  
  
 <span data-ttu-id="cce21-128">Wenn in den derzeit veröffentlichten Berichten nicht auf die neue Versionsnummer verwiesen werden muss, können Sie die benutzerdefinierte Assembly im globalen Assemblycache bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="cce21-128">If you do not need your currently published reports to reference the new version of the assembly, you can deploy your custom assembly to the global assembly cache.</span></span> <span data-ttu-id="cce21-129">Im globalen Assemblycache können mehrere Versionen derselben Assembly verwaltet werden, sodass aktuelle Berichte auf frühere Versionen der Assembly und neu veröffentliche Berichte auf die aktualisierte Assembly verweisen können.</span><span class="sxs-lookup"><span data-stu-id="cce21-129">The global assembly cache can maintain multiple versions of the same assembly, so that your current reports can reference the previous version of your assembly and your newly published reports can reference the updated assembly.</span></span> <span data-ttu-id="cce21-130">Ein weiteres Konzept wäre es, die bindende Umleitung des Berichtsservers so einzustellen, dass eine Umleitung aller Anforderungen für die alte Assembly zur neuen Assembly durchgesetzt würde.</span><span class="sxs-lookup"><span data-stu-id="cce21-130">Yet another approach would be to set the binding redirect of the report server to force a redirect of all requests for the old assembly to the new assembly.</span></span> <span data-ttu-id="cce21-131">Sie müssten dann die Berichtsserver-Dateien Web.config und ReportService.exe.config ändern.</span><span class="sxs-lookup"><span data-stu-id="cce21-131">You would need to modify the report server Web.config file and the report server ReportService.exe.config file.</span></span> <span data-ttu-id="cce21-132">Der Eintrag könnte folgendermaßen aussehen:</span><span class="sxs-lookup"><span data-stu-id="cce21-132">The entry might look like the following:</span></span>  
  
```  
<configuration>  
   <runtime>  
      <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">  
         <dependentAssembly>  
            <assemblyIdentity name="myAssembly"  
                              publicKeyToken="32ab4ba45e0a69a1"  
                              culture="neutral" />  
            <bindingRedirect oldVersion="1.0.0.0"  
                             newVersion="2.0.0.0"/>  
         </dependentAssembly>  
      </assemblyBinding>  
   </runtime>  
</configuration>  
```  
  
## <a name="see-also"></a><span data-ttu-id="cce21-133">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="cce21-133">See Also</span></span>  
 <span data-ttu-id="cce21-134">[Verwenden benutzerdefinierter Assemblys mit Berichten](using-custom-assemblies-with-reports.md) </span><span class="sxs-lookup"><span data-stu-id="cce21-134">[Using Custom Assemblies with Reports](using-custom-assemblies-with-reports.md) </span></span>  
 [<span data-ttu-id="cce21-135">Arbeiten mit Assemblys und dem globalen Assemblychache</span><span class="sxs-lookup"><span data-stu-id="cce21-135">Working with Assemblies and the Global Assembly Cache</span></span>](https://go.microsoft.com/fwlink/?LinkId=63912)  
  
  
