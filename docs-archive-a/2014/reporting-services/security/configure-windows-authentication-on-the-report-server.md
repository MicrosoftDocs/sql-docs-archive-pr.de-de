---
title: Konfigurieren der Windows-Authentifizierung auf dem Berichtsserver | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- Windows authentication [Reporting Services]
- Reporting Services, configuration
ms.assetid: 4de9c3dd-0ee7-49b3-88bb-209465ca9d86
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 879c036977f9a34528dbf38e42fa080e72617a14
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87699303"
---
# <a name="configure-windows-authentication-on-the-report-server"></a><span data-ttu-id="5c587-102">Konfigurieren der Windows-Authentifizierung auf dem Berichtsserver</span><span class="sxs-lookup"><span data-stu-id="5c587-102">Configure Windows Authentication on the Report Server</span></span>
  <span data-ttu-id="5c587-103">In der Standardeinstellung werden [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Anforderungen übergeben, die die Negotiate- oder die NTLM-Authentifizierung angeben.</span><span class="sxs-lookup"><span data-stu-id="5c587-103">By default, [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] accepts requests that specify Negotiate or NTLM authentication.</span></span> <span data-ttu-id="5c587-104">Wenn eine Bereitstellung Clientanwendungen und Browser umfasst, die diese Sicherheitsanbieter nutzen, können Sie die Standardwerte ohne zusätzliche Konfiguration verwenden.</span><span class="sxs-lookup"><span data-stu-id="5c587-104">If your deployment includes client applications and browsers that use these security providers, you can use the default values without additional configuration.</span></span> <span data-ttu-id="5c587-105">Wenn Sie einen anderen Sicherheitsanbieter für die integrierte Sicherheit von Windows nutzen möchten (wenn Sie beispielsweise Kerberos direkt verwenden möchten) oder wenn Sie die Standardwerte verändert haben und die ursprünglichen Einstellungen wiederherstellen möchten, können Sie mithilfe der in diesem Thema enthaltenen Informationen die Authentifizierungseinstellungen auf dem Berichtsserver festlegen.</span><span class="sxs-lookup"><span data-stu-id="5c587-105">If you want to use a different security provider for Windows integrated security (for example, if you want to use Kerberos directly), or if you modified the default values and want to restore the original settings, you can use the information in this topic to specify authentication settings on the report server.</span></span>  
  
 <span data-ttu-id="5c587-106">Um die integrierte Sicherheit von Windows nutzen zu können, muss jeder Benutzer, der Zugriff auf einen Berichtsserver benötigt, über ein gültiges Windows-Benutzerkonto verfügen oder Mitglied eines lokalen Windows-Gruppenkontos oder eines Windows-Domänengruppenkontos sein.</span><span class="sxs-lookup"><span data-stu-id="5c587-106">To use Windows integrated security, each user who requires access to a report server must have a valid Windows local or domain user account or be a member of a Windows local or domain group account.</span></span> <span data-ttu-id="5c587-107">Sie können Konten aus anderen Domänen angeben, sofern diese Domänen vertrauenswürdig sind.</span><span class="sxs-lookup"><span data-stu-id="5c587-107">You can include accounts from other domains as long as those domains are trusted.</span></span> <span data-ttu-id="5c587-108">Die Konten benötigen Zugriff auf den Berichtsservercomputer und müssen anschließend Rollen zugewiesen werden, um auf bestimmte Berichtsservervorgänge zugreifen zu können.</span><span class="sxs-lookup"><span data-stu-id="5c587-108">The accounts must have access to the report server computer, and must be subsequently assigned to roles in order to gain access to specific report server operations.</span></span>  
  
 <span data-ttu-id="5c587-109">Überdies müssen die folgenden zusätzlichen Anforderungen erfüllt werden:</span><span class="sxs-lookup"><span data-stu-id="5c587-109">The following additional requirements must also be met:</span></span>  
  
-   <span data-ttu-id="5c587-110">In den RSeportServer.config-Dateien muss `AuthenticationType` auf `RSWindowsNegotiate`, `RSWindowsKerberos` oder `RSWindowsNTLM` festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="5c587-110">The RSeportServer.config files must have `AuthenticationType` set to `RSWindowsNegotiate`, `RSWindowsKerberos`, or `RSWindowsNTLM`.</span></span> <span data-ttu-id="5c587-111">Standardmäßig enthält die Datei RSReportServer.config die `RSWindowsNegotiate`-Einstellung, wenn das Berichtsserver-Dienstkonto entweder NetworkService oder LocalSystem ist. Andernfalls wird die `RSWindowsNTLM`-Einstellung verwendet.</span><span class="sxs-lookup"><span data-stu-id="5c587-111">By default, the RSReportServer.config file includes the `RSWindowsNegotiate` setting if the Report Server service account is either NetworkService or LocalSystem; otherwise, the `RSWindowsNTLM` setting is used.</span></span> <span data-ttu-id="5c587-112">Sie können `RSWindowsKerberos` hinzufügen, wenn Anwendungen vorhanden sind, die nur die Kerberos-Authentifizierung verwenden.</span><span class="sxs-lookup"><span data-stu-id="5c587-112">You can add `RSWindowsKerberos` if you have applications that only use Kerberos authentication.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="5c587-113">Die Angabe von `RSWindowsNegotiate` hat einen Kerberos-Authentifizierungsfehler zur Folge, wenn der Berichtsserverdienst so konfiguriert wurde, dass er unter einem Domänenbenutzerkonto ausgeführt wird und für das Konto kein Dienstprinzipalname (Service Principal Name, SPN) registriert wurde.</span><span class="sxs-lookup"><span data-stu-id="5c587-113">Using `RSWindowsNegotiate` will result in a Kerberos authentication error if you configured the Report Server service to run under a domain user account and you did not register a Service Principal Name (SPN) for the account.</span></span> <span data-ttu-id="5c587-114">Weitere Informationen finden Sie unter [Beheben von Kerberos-Authentifizierungsfehlern beim Herstellen einer Verbindung mit einem Berichtsserver](#proxyfirewallRSWindowsNegotiate) in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="5c587-114">For more information, see [Resolving Kerberos Authentication Errors When Connecting to a report server](#proxyfirewallRSWindowsNegotiate) in this topic.</span></span>  
  
-   [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] <span data-ttu-id="5c587-115">muss für die Windows-Authentifizierung konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="5c587-115">must be configured for Windows Authentication.</span></span> <span data-ttu-id="5c587-116">Standardmäßig enthalten die Web.config Dateien für den Report Server-Webdienst und Berichts-Manager die- \<authentication mode="Windows"> Einstellung.</span><span class="sxs-lookup"><span data-stu-id="5c587-116">By default, the Web.config files for the Report Server Web service and Report Manager include the \<authentication mode="Windows"> setting.</span></span> <span data-ttu-id="5c587-117">Wenn Sie den Wert in ändern \<authentication mode="Forms"> , tritt bei der Windows-Authentifizierung für ein Fehler auf [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="5c587-117">If you change it to \<authentication mode="Forms">, the Windows Authentication for [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] will fail.</span></span>  
  
-   <span data-ttu-id="5c587-118">Die Web.config Dateien für den Report Server-Webdienst und Berichts-Manager müssen über verfügen \<identity impersonate= "true" /> .</span><span class="sxs-lookup"><span data-stu-id="5c587-118">The Web.config files for the Report Server Web service and Report Manager must have \<identity impersonate= "true" />.</span></span>  
  
-   <span data-ttu-id="5c587-119">Die Clientanwendung bzw. der Browser muss die integrierte Sicherheit von Windows unterstützen.</span><span class="sxs-lookup"><span data-stu-id="5c587-119">The client application or browser must support Windows integrated security.</span></span>  
  
 <span data-ttu-id="5c587-120">Bearbeiten Sie die XML-Elemente und die Werte in der Datei RSReportServer.config, um die Berichtsserver-Authentifizierungseinstellungen zu ändern.</span><span class="sxs-lookup"><span data-stu-id="5c587-120">To change the report server authentication settings, edit the XML elements and values in the RSReportServer.config file.</span></span> <span data-ttu-id="5c587-121">Sie können die Beispiele in diesem Thema kopieren und einfügen, um bestimmte Kombinationen zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="5c587-121">You can copy and paste the examples in this topic to implement specific combinations.</span></span>  
  
 <span data-ttu-id="5c587-122">Die Standardeinstellungen eignen sich am besten, wenn sich die Client- und Servercomputer in derselben Domäne oder in einer vertrauenswürdigen Domäne befinden und der Berichtsserver für den Intranetzugriff hinter einer Unternehmensfirewall bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="5c587-122">The default settings work best if all client and server computers are in the same domain or in a trusted domain and the report server is deployed for intranet access behind a corporate firewall.</span></span> <span data-ttu-id="5c587-123">Vertrauenswürdige Domänen und Einzeldomänen sind eine Voraussetzung für die Weitergabe von Windows-Anmeldeinformationen.</span><span class="sxs-lookup"><span data-stu-id="5c587-123">Trusted and single domains are a requirement for passing Windows credentials.</span></span> <span data-ttu-id="5c587-124">Die Anmeldeinformationen können nur dann mehrfach übergeben werden, wenn Sie das Kerberos-Protokoll, Version 5, für die Server aktivieren.</span><span class="sxs-lookup"><span data-stu-id="5c587-124">Credentials can be passed more than one time if you enable the Kerberos version 5 protocol for your servers.</span></span> <span data-ttu-id="5c587-125">Andernfalls können die Anmeldeinformationen nur einmal übergeben werden, bevor sie ablaufen.</span><span class="sxs-lookup"><span data-stu-id="5c587-125">Otherwise, credentials can be passed only one time before they expire.</span></span> <span data-ttu-id="5c587-126">Weitere Informationen zum Konfigurieren von Anmeldeinformationen für mehrere Computerverbindungen finden Sie unter [Angeben der Anmeldeinformationen und Verbindungsinformationen für Berichtsdatenquellen](../report-data/specify-credential-and-connection-information-for-report-data-sources.md).</span><span class="sxs-lookup"><span data-stu-id="5c587-126">For more information about configuring credentials for multiple computer connections, see [Specify Credential and Connection Information for Report Data Sources](../report-data/specify-credential-and-connection-information-for-report-data-sources.md).</span></span>  
  
 <span data-ttu-id="5c587-127">Die folgenden Anweisungen beziehen sich auf Berichtsserver, die im einheitlichen Modus ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="5c587-127">The following instructions are intended for a native mode report server.</span></span> <span data-ttu-id="5c587-128">Wenn der Berichtserver im integrierten SharePoint-Modus bereitgestellt wird, müssen die Standardauthentifizierungseinstellungen verwendet werden, welche die integrierte Sicherheit von Windows angeben.</span><span class="sxs-lookup"><span data-stu-id="5c587-128">If the report server is deployed in SharePoint integrated mode, you must use the default authentication settings that specify Windows integrated security.</span></span> <span data-ttu-id="5c587-129">Der Berichtsserver verwendet interne Funktionen der standardmäßigen Windows-Authentifizierungserweiterung, um Berichtserver im integrierten SharePoint-Modus zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="5c587-129">The report server uses internal features in the default Windows Authentication extension to support report servers in SharePoint integrated mode.</span></span>  
  
## <a name="extended-protection-for-authentication"></a><span data-ttu-id="5c587-130">Erweiterter Schutz für die Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="5c587-130">Extended Protection for Authentication</span></span>  
 <span data-ttu-id="5c587-131">Der erweiterte Schutz für die Authentifizierung wird ab [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)]unterstützt.</span><span class="sxs-lookup"><span data-stu-id="5c587-131">Beginning with [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)], support for Extended Protection for Authentication is available.</span></span> <span data-ttu-id="5c587-132">Die [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -Funktion unterstützt die Verwendung der Kanalbindung und Dienstbindung, um den Authentifizierungsschutz zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="5c587-132">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] feature supports the use of channel binding and service binding to enhance protection of authentication.</span></span> <span data-ttu-id="5c587-133">Die [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] -Funktionen müssen mit einem Betriebssystem verwendet werden, das erweiterten Schutz unterstützt.</span><span class="sxs-lookup"><span data-stu-id="5c587-133">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] features need to be used with an operating system that supports Extended Protection.</span></span> [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="5c587-134">-Konfiguration für erweiterten Schutz wird durch Einstellungen in der Datei RSReportServer.config bestimmt.</span><span class="sxs-lookup"><span data-stu-id="5c587-134">configuration for extended protection is determined by settings in the RSReportServer.config file.</span></span> <span data-ttu-id="5c587-135">Die Datei kann entweder durch Bearbeitung oder Verwendung der WMI-APIs aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="5c587-135">The file can be updated by either editing the file or using WMI APIs.</span></span> <span data-ttu-id="5c587-136">Weitere Informationen finden Sie unter [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="5c587-136">For more information, see [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md).</span></span>  
  
### <a name="to-configure-a-report-server-to-use-windows-integrated-security"></a><span data-ttu-id="5c587-137">So konfigurieren Sie einen Berichtsserver für die Verwendung der integrierten Sicherheit von Windows</span><span class="sxs-lookup"><span data-stu-id="5c587-137">To configure a report server to use Windows integrated security</span></span>  
  
1.  <span data-ttu-id="5c587-138">Öffnen Sie RSReportServer.config in einem Text-Editor.</span><span class="sxs-lookup"><span data-stu-id="5c587-138">Open RSReportServer.config in a text editor.</span></span>  
  
2.  <span data-ttu-id="5c587-139">Suchen Sie nach <`Authentication`>.</span><span class="sxs-lookup"><span data-stu-id="5c587-139">Find <`Authentication`>.</span></span>  
  
3.  <span data-ttu-id="5c587-140">Kopieren Sie die XML-Struktur, die Ihren Anforderungen am besten entspricht.</span><span class="sxs-lookup"><span data-stu-id="5c587-140">Copy one of the following XML structures that best fits your needs.</span></span> <span data-ttu-id="5c587-141">Sie können `RSWindowsNegotiate`, `RSWindowsNTLM` und `RSWindowsKerberos` in beliebiger Reihenfolge angeben.</span><span class="sxs-lookup"><span data-stu-id="5c587-141">You can specify `RSWindowsNegotiate`, `RSWindowsNTLM`, and `RSWindowsKerberos` in any order.</span></span> <span data-ttu-id="5c587-142">Sie sollten die Authentifizierungspersistenz aktivieren, wenn die Verbindung und nicht jede einzelne Anforderung authentifiziert werden soll.</span><span class="sxs-lookup"><span data-stu-id="5c587-142">You should enable authentication persistence if you want to authenticate the connection rather than each individual request.</span></span> <span data-ttu-id="5c587-143">Bei Verwendung der Authentifizierungspersistenz werden alle Anforderungen, für die eine Authentifizierung erforderlich ist, zugelassen, solange die Verbindung besteht.</span><span class="sxs-lookup"><span data-stu-id="5c587-143">Under authentication persistence, all requests that require authentication will be allowed for the duration of the connection.</span></span>  
  
     <span data-ttu-id="5c587-144">Die erste XML-Struktur ist die Standardkonfiguration, wenn das Berichtsserver-Dienstkonto entweder NetworkService oder LocalSystem ist:</span><span class="sxs-lookup"><span data-stu-id="5c587-144">The first XML structure is the default configuration when the Report Server service account is either NetworkService or LocalSystem:</span></span>  
  
    ```  
    <Authentication>  
          <AuthenticationTypes>  
                 <RSWindowsNegotiate />  
          </AuthenticationTypes>  
          <EnableAuthPersistence>true</EnableAuthPersistence>  
    </Authentication>  
    ```  
  
     <span data-ttu-id="5c587-145">Die zweite XML-Struktur ist die Standardkonfiguration, wenn das Berichtsserver-Dienstkonto weder NetworkService noch LocalSystem ist:</span><span class="sxs-lookup"><span data-stu-id="5c587-145">The second XML structure is the default configuration when the Report Server service account is not NetworkService or LocalSystem:</span></span>  
  
    ```  
    <Authentication>  
          <AuthenticationTypes>  
                 <RSWindowsNTLM />  
          </AuthenticationTypes>  
          <EnableAuthPersistence>true</EnableAuthPersistence>  
    ```  
  
     \</Authentication>  
  
     <span data-ttu-id="5c587-146">Die dritte XML-Struktur gibt sämtliche Sicherheitspakete an, die in der integrierten Sicherheit von Windows verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="5c587-146">The third XML structure specifies all of the security packages that are used in Windows integrated security:</span></span>  
  
    ```  
          <AuthenticationTypes>  
                 <RSWindowsNegotiate />  
                 <RSWindowsKerberos />  
                 <RSWindowsNTLM />  
          </AuthenticationTypes>  
    ```  
  
     <span data-ttu-id="5c587-147">Mit der vierten XML-Struktur wird NTLM nur für Bereitstellungen, die Kerberos nicht unterstützen, bzw. zur Umgehung von Kerberos-Authentifizierungsfehlern angegeben:</span><span class="sxs-lookup"><span data-stu-id="5c587-147">The fourth XML structure specifies NTLM only for deployments that do not support Kerberos or to work around Kerberos authentication errors:</span></span>  
  
    ```  
          <AuthenticationTypes>  
                 <RSWindowsNTLM />  
          </AuthenticationTypes>  
    ```  
  
4.  <span data-ttu-id="5c587-148">Fügen Sie Sie über die vorhandenen Einträge für <`Authentication`> ein.</span><span class="sxs-lookup"><span data-stu-id="5c587-148">Paste it over the existing entries for <`Authentication`>.</span></span>  
  
     <span data-ttu-id="5c587-149">Beachten Sie, dass `Custom` nicht mit den `RSWindows`-Typen verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5c587-149">Note that you cannot use `Custom` with the `RSWindows` types.</span></span>  
  
5.  <span data-ttu-id="5c587-150">Ändern Sie die Einstellungen für erweiterten Schutz nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="5c587-150">Modify as appropriate the settings for extended protection.</span></span> <span data-ttu-id="5c587-151">Erweiterter Schutz ist standardmäßig deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="5c587-151">Extended protection is disabled by default.</span></span>  <span data-ttu-id="5c587-152">Wenn diese Einträge nicht vorhanden sind, wird auf dem aktuellen Computer möglicherweise keine Version von [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ausgeführt, die erweiterten Schutz unterstützt.</span><span class="sxs-lookup"><span data-stu-id="5c587-152">If these entries are not present, the current computer may not be running a version of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] which supports extended protection.</span></span> <span data-ttu-id="5c587-153">Weitere Informationen finden Sie unter [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="5c587-153">For more information, see [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md)</span></span>  
  
    ```  
          <RSWindowsExtendedProtectionLevel>Allow</RSWindowsExtendedProtectionLevel>  
          <RSWindowsExtendedProtectionScenario>Proxy</RSWindowsExtendedProtectionScenario>  
    ```  
  
6.  <span data-ttu-id="5c587-154">Speichern Sie die Datei .</span><span class="sxs-lookup"><span data-stu-id="5c587-154">Save the file.</span></span>  
  
7.  <span data-ttu-id="5c587-155">Wenn Sie eine horizontal skalierte Bereitstellung konfiguriert haben, wiederholen Sie diese Schritte für andere in der Bereitstellung vorhandene Berichtsserver.</span><span class="sxs-lookup"><span data-stu-id="5c587-155">If you configured a scale-out deployment, repeat these steps for other report servers in the deployment.</span></span>  
  
8.  <span data-ttu-id="5c587-156">Starten Sie den Berichtsserver neu, um alle momentan geöffneten Sitzungen zu beenden.</span><span class="sxs-lookup"><span data-stu-id="5c587-156">Restart the report server to clear any sessions that are currently open.</span></span>  
  
##  <a name="resolving-kerberos-authentication-errors-when-connecting-to-a-report-server"></a><a name="proxyfirewallRSWindowsNegotiate"></a><span data-ttu-id="5c587-157">Beheben von Kerberos-Authentifizierungs Fehlern beim Herstellen einer Verbindung mit einem Berichts Server</span><span class="sxs-lookup"><span data-stu-id="5c587-157">Resolving Kerberos Authentication Errors When Connecting to a Report Server</span></span>  
 <span data-ttu-id="5c587-158">Bei einem Berichtsserver, der zum Aushandeln oder für die Kerberos-Authentifizierung konfiguriert wurde, kann keine Clientverbindung mit dem Berichtsserver hergestellt werden, wenn ein Kerberos-Authentifizierungsfehler vorliegt.</span><span class="sxs-lookup"><span data-stu-id="5c587-158">On a report server that is configured for Negotiate or Kerberos authentication, a client connection to the report server will fail if there is a Kerberos authentication error.</span></span> <span data-ttu-id="5c587-159">Kerberos-Authentifizierungsfehler treten bekanntermaßen auf, wenn eine der folgende Bedingungen zutrifft:</span><span class="sxs-lookup"><span data-stu-id="5c587-159">Kerberos authentication errors are known to occur when:</span></span>  
  
-   <span data-ttu-id="5c587-160">Der Berichtsserverdienst wird unter einem Domänenbenutzerkonto ausgeführt, für das kein Dienstprinzipalname (SPN) registriert wurde.</span><span class="sxs-lookup"><span data-stu-id="5c587-160">The Report Server service runs as a Windows domain user account and you did not register a Service Principal Name (SPN) for the account.</span></span>  
  
-   <span data-ttu-id="5c587-161">Der Berichtsserver wird mit der Einstellung `RSWindowsNegotiate` konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="5c587-161">The report server is configured with the `RSWindowsNegotiate` setting.</span></span>  
  
-   <span data-ttu-id="5c587-162">Der Browser gibt im Authentifizierungsheader der Anforderung, die er an den Berichtsserver sendet, Kerberos statt NTLM an.</span><span class="sxs-lookup"><span data-stu-id="5c587-162">The browser chooses Kerberos over NTLM in the authentication header in the request it sends to the report server.</span></span>  
  
 <span data-ttu-id="5c587-163">Sie können den Fehler erkennen, wenn Sie die Kerberos-Protokollierung aktiviert haben.</span><span class="sxs-lookup"><span data-stu-id="5c587-163">You can detect the error if you enabled Kerberos logging.</span></span> <span data-ttu-id="5c587-164">Ein anderes Fehlersymptom ist, dass Sie mehrfach zur Eingabe von Anmeldeinformationen aufgefordert werden und dann ein leeres Browserfenster angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="5c587-164">Another symptom of the error is that you are prompted for credentials multiple times and then see an empty browser window.</span></span>  
  
 <span data-ttu-id="5c587-165">Sie können sich vergewissern, dass ein Kerberos-Authentifizierungsfehler vorliegt, indem Sie < `RSWindowsNegotiate` /> aus der Konfigurationsdatei entfernen und die Verbindung wiederholen.</span><span class="sxs-lookup"><span data-stu-id="5c587-165">You can confirm that you are encountering a Kerberos authentication error by removing < `RSWindowsNegotiate` /> from your configuration file and reattempting the connection.</span></span>  
  
 <span data-ttu-id="5c587-166">Nachdem Sie das Problem eindeutig identifiziert haben, können Sie es auf die folgenden Weisen beheben:</span><span class="sxs-lookup"><span data-stu-id="5c587-166">After you confirm the problem, you can address it in the following ways:</span></span>  
  
-   <span data-ttu-id="5c587-167">Registrieren Sie unter dem Domänenbenutzerkonto einen SPN für den Berichtsserverdienst.</span><span class="sxs-lookup"><span data-stu-id="5c587-167">Register an SPN for the Report Server service under the domain user account.</span></span> <span data-ttu-id="5c587-168">Weitere Informationen finden Sie unter [Registrieren eines Dienstprinzipalnamens (SPN) für einen Berichtsserver](../report-server/register-a-service-principal-name-spn-for-a-report-server.md).</span><span class="sxs-lookup"><span data-stu-id="5c587-168">For more information, see [Register a Service Principal Name &#40;SPN&#41; for a Report Server](../report-server/register-a-service-principal-name-spn-for-a-report-server.md).</span></span>  
  
-   <span data-ttu-id="5c587-169">Ändern Sie das Dienstkonto so, dass es unter einem integrierten Konto ausgeführt wird, z. B. als Netzwerkdienst.</span><span class="sxs-lookup"><span data-stu-id="5c587-169">Change the service account to run under a built-in account such as Network Service.</span></span> <span data-ttu-id="5c587-170">Integrierte Konten ordnen den HTTP-SPN dem Host-SPN zu, der definiert wird, wenn Sie einen Computer in ein Netzwerk aufnehmen.</span><span class="sxs-lookup"><span data-stu-id="5c587-170">Built-in accounts map HTTP SPN to the Host SPN, which is defined when you join a computer to your network.</span></span> <span data-ttu-id="5c587-171">Weitere Informationen finden Sie unter [Konfigurieren eines Dienstkontos (SSRS-Konfigurations-Manager)](../../sql-server/install/configure-a-service-account-ssrs-configuration-manager.md).</span><span class="sxs-lookup"><span data-stu-id="5c587-171">For more information, see [Configure a Service Account &#40;SSRS Configuration Manager&#41;](../../sql-server/install/configure-a-service-account-ssrs-configuration-manager.md).</span></span>  
  
-   <span data-ttu-id="5c587-172">Verwenden Sie NTLM.</span><span class="sxs-lookup"><span data-stu-id="5c587-172">Use NTLM.</span></span> <span data-ttu-id="5c587-173">NTLM funktioniert im Allgemeinen in Fällen, in denen die Kerberos-Authentifizierung fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="5c587-173">NTLM will generally work in cases where Kerberos authentication fails.</span></span> <span data-ttu-id="5c587-174">Zur Verwendung von NTLM entfernen Sie den Eintrag `RSWindowsNegotiate` aus der Datei RSReportServer.config, und stellen Sie sicher, dass nur `RSWindowsNTLM` angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="5c587-174">To use NTLM, remove `RSWindowsNegotiate` from the RSReportServer.config file and verify that only `RSWindowsNTLM` is specified.</span></span> <span data-ttu-id="5c587-175">Wenn Sie sich für diese Vorgehensweise entscheiden, können Sie auch dann weiterhin ein Domänenbenutzerkonto für den Berichtsserverdienst verwenden, wenn Sie keinen SPN dafür definiert haben.</span><span class="sxs-lookup"><span data-stu-id="5c587-175">If you choose this approach, you can continue to use a domain user account for the Report Server service even if you do not define an SPN for it.</span></span>  
  
#### <a name="logging-information"></a><span data-ttu-id="5c587-176">In Protokollen erfasste Informationen</span><span class="sxs-lookup"><span data-stu-id="5c587-176">Logging information</span></span>  
 <span data-ttu-id="5c587-177">Es gibt mehrere Quellen von Protokollierungsinformationen, mit denen Probleme im Zusammenhang mit Kerberos gelöst werden können.</span><span class="sxs-lookup"><span data-stu-id="5c587-177">There are several sources of logging information that can help resolve Kerberos related issues.</span></span>  
  
##### <a name="user-account-control-attribute"></a><span data-ttu-id="5c587-178">UserAccountControl-Attribut</span><span class="sxs-lookup"><span data-stu-id="5c587-178">User-Account-Control Attribute</span></span>  
 <span data-ttu-id="5c587-179">Stellen Sie fest, ob für das [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] -Dienstkonto das erforderliche Attribut in Active Directory festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="5c587-179">Determine if the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service account has the sufficient attribute set in Active Directory.</span></span> <span data-ttu-id="5c587-180">Suchen Sie in der Ablaufverfolgungsprotokolldatei des Reporting Services-Diensts nach dem Wert, der für das UserAccountControl-Attribut protokolliert wurde.</span><span class="sxs-lookup"><span data-stu-id="5c587-180">Review the reporting services service trace log file to find the value logged for the UserAccountControl attribute.</span></span> <span data-ttu-id="5c587-181">Der protokollierte Wert weist das Dezimalformat auf.</span><span class="sxs-lookup"><span data-stu-id="5c587-181">The value logged is in decimal form.</span></span> <span data-ttu-id="5c587-182">Sie müssen den Dezimalwert in ein hexadezimales Format konvertieren. Anschließend suchen Sie diesen Wert im MSDN-Thema zum UserAccountControl-Attribut.</span><span class="sxs-lookup"><span data-stu-id="5c587-182">You need to convert the decimal value to hexadecimal form and then find that value in the MSDN topic describing User-Account-Control Attribute.</span></span>  
  
-   <span data-ttu-id="5c587-183">Der Eintrag im Ablaufverfolgungsprotokoll des Reporting Services-Diensts sieht etwa wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="5c587-183">The reporting services service trace log entry will look similar to the following:</span></span>  
  
    ```  
    appdomainmanager!DefaultDomain!8f8!01/14/2010-14:42:28:: i INFO: The UserAccountControl value for the service account is 590336  
    ```  
  
-   <span data-ttu-id="5c587-184">Eine Möglichkeit zum Konvertieren des Dezimalwerts in das hexadezimale Format besteht darin, den [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows-Rechner zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="5c587-184">One option for converting the value Decimal value to hexadecimal form is to us the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows Calculator.</span></span> <span data-ttu-id="5c587-185">Der Windows-Rechner unterstützt mehrere Modi mit der Option Dez und Hex.</span><span class="sxs-lookup"><span data-stu-id="5c587-185">Windows Calculator supports several modes that show the 'Dec' option and 'Hex' options.</span></span> <span data-ttu-id="5c587-186">Wählen Sie die Option Dez, geben Sie den in der Protokolldatei gefundenen Dezimalwert ein, bzw. fügen Sie ihn ein, und wählen Sie die Option Hex.</span><span class="sxs-lookup"><span data-stu-id="5c587-186">Select the 'Dec' option, paste or type in the decimal value you found in the log file and then select the 'Hex' option.</span></span>  
  
-   <span data-ttu-id="5c587-187">Lesen Sie dann das Thema [User-Account-Control Attribute](https://go.microsoft.com/fwlink/?LinkId=183366) (UserAccountControl-Attribut), um das Attribut für das Dienstkonto abzuleiten.</span><span class="sxs-lookup"><span data-stu-id="5c587-187">Then refer to the topic [User-Account-Control Attribute](https://go.microsoft.com/fwlink/?LinkId=183366) to derive the attribute for the service account.</span></span>  
  
##### <a name="spns-configured-in-active-directory-for-the-reporting-services-service-account"></a><span data-ttu-id="5c587-188">In Active Directory für das Reporting Services-Dienstkonto konfigurierte SPNs.</span><span class="sxs-lookup"><span data-stu-id="5c587-188">SPNs Configured in Active Directory for the Reporting Services service account.</span></span>  
 <span data-ttu-id="5c587-189">Um die SPNs in der Ablaufverfolgungsprotokolldatei des [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] -Diensts zu protokollieren, können Sie die Funktion "Erweiterter Schutz" von [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] vorübergehend aktivieren.</span><span class="sxs-lookup"><span data-stu-id="5c587-189">To log the SPNs in the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service trace log file, you can enable the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Extended Protection feature temporarily.</span></span>  
  
-   <span data-ttu-id="5c587-190">Ändern Sie die Konfigurationsdatei `rsreportserver.config`, indem Sie folgende Einstellungen vornehmen:</span><span class="sxs-lookup"><span data-stu-id="5c587-190">Modify the configuration file `rsreportserver.config` by setting the following:</span></span>  
  
    ```  
    <RSWindowsExtendedProtectionLevel>Allow</RSWindowsExtendedProtectionLevel>   
    <RSWindowsExtendedProtectionScenario>Any</RSWindowsExtendedProtectionScenario>  
    ```  
  
-   <span data-ttu-id="5c587-191">Starten Sie den [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] -Dienst neu.</span><span class="sxs-lookup"><span data-stu-id="5c587-191">Restart the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service.</span></span>

 <span data-ttu-id="5c587-192">Wenn Sie den erweiterten Schutz nicht weiterverwenden möchten, setzen Sie die Konfigurationswerte auf die Standardwerte zurück und starten das [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] -Dienstkonto neu.</span><span class="sxs-lookup"><span data-stu-id="5c587-192">If you do not want continue using Extended Protection, then set the configuration values back to defaults and restart the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Service account.</span></span>  
  
```  
<RSWindowsExtendedProtectionLevel>Off</RSWindowsExtendedProtectionLevel>  
<RSWindowsExtendedProtectionScenario>Proxy</RSWindowsExtendedProtectionScenario>  
```  
  
 <span data-ttu-id="5c587-193">Weitere Informationen finden Sie unter [Erweiterter Schutz für die Authentifizierung mit Reporting Services](extended-protection-for-authentication-with-reporting-services.md)</span><span class="sxs-lookup"><span data-stu-id="5c587-193">For more information see, [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md)</span></span>  
  
#### <a name="how-the-browser-chooses-negotiated-kerberos-or-negotiated-ntlm"></a><span data-ttu-id="5c587-194">Wie der Browser zwischen Aushandeln mit Kerberos und Aushandeln mit NTLM auswählt</span><span class="sxs-lookup"><span data-stu-id="5c587-194">How the Browser Chooses Negotiated Kerberos or Negotiated NTLM</span></span>  
 <span data-ttu-id="5c587-195">Wenn Sie über Internet Explorer eine Verbindung mit dem Berichtsserver herstellen, gibt dieser im Authentifizierungsheader entweder ausgehandeltes Kerberos oder NTLM an.</span><span class="sxs-lookup"><span data-stu-id="5c587-195">When you use Internet Explorer to connect to the report server, it specifies either Negotiated Kerberos or NTLM on the authentication header.</span></span> <span data-ttu-id="5c587-196">NTLM wird statt Kerberos verwendet, wenn eine der folgenden Bedingungen zutrifft:</span><span class="sxs-lookup"><span data-stu-id="5c587-196">NTLM is used instead of Kerberos when:</span></span>  
  
-   <span data-ttu-id="5c587-197">Die Anforderung wird an einen lokalen Berichtsserver gesendet.</span><span class="sxs-lookup"><span data-stu-id="5c587-197">The request is sent to a local report server.</span></span>  
  
-   <span data-ttu-id="5c587-198">Die Anforderung wird an eine IP-Adresse des Berichtsservercomputers statt an einen Hostheader oder einen Servernamen gesendet.</span><span class="sxs-lookup"><span data-stu-id="5c587-198">The request is sent to an IP address of the report server computer rather than a host header or server name.</span></span>  
  
-   <span data-ttu-id="5c587-199">Firewallsoftware blockiert zur Kerberos-Authentifizierung verwendete Ports.</span><span class="sxs-lookup"><span data-stu-id="5c587-199">Firewall software blocks ports used for Kerberos authentication.</span></span>  
  
-   <span data-ttu-id="5c587-200">Im Betriebssystem eines bestimmten Servers wurde Kerberos nicht aktiviert.</span><span class="sxs-lookup"><span data-stu-id="5c587-200">The operating system of a particular server does not have Kerberos enabled.</span></span>  
  
-   <span data-ttu-id="5c587-201">Die Domäne enthält ältere Versionen von Windows-Client- und Serverbetriebssystemen, welche die Kerberos-Authentifizierungsfunktion von neueren Versionen des Betriebssystems nicht unterstützen.</span><span class="sxs-lookup"><span data-stu-id="5c587-201">The domain includes older versions of Windows client and server operating systems that do not support the Kerberos authentication feature built into newer versions of the operating system.</span></span>  
  
 <span data-ttu-id="5c587-202">Außerdem hängt die Wahl von ausgehandeltem Kerberos oder NTLM in Internet Explorer von der Konfiguration von URL, LAN und Proxyeinstellungen ab.</span><span class="sxs-lookup"><span data-stu-id="5c587-202">In addition, Internet Explorer might choose either Negotiated Kerberos or NTLM depending on how you configured URL, LAN, and proxy settings.</span></span>  
  
###### <a name="report-server-url"></a><span data-ttu-id="5c587-203">Berichtsserver-URL</span><span class="sxs-lookup"><span data-stu-id="5c587-203">Report Server URL</span></span>  
 <span data-ttu-id="5c587-204">Wenn die URL einen voll qualifizierten Domänennamen enthält, wählt Internet Explorer NTLM aus.</span><span class="sxs-lookup"><span data-stu-id="5c587-204">If the URL includes a fully qualified domain name, Internet Explorer selects NTLM.</span></span> <span data-ttu-id="5c587-205">Wenn als URL localhost angegeben wird, wählt Internet Explorer NTLM aus.</span><span class="sxs-lookup"><span data-stu-id="5c587-205">If the URL specifies localhost, Internet Explorer selects NTLM.</span></span> <span data-ttu-id="5c587-206">Wird in der URL der Netzwerkname des Computers angegeben, wählt Internet Explorer Negotiate aus. Je nachdem, ob ein SPN für das Berichtsserver-Dienstkonto vorhanden ist, ist das Aushandeln erfolgreich oder es schlägt fehl.</span><span class="sxs-lookup"><span data-stu-id="5c587-206">If the URL specifies the network name of the computer, Internet Explorer selects Negotiate, which will succeed or fail depending on whether an SPN exists for the Report Server service account.</span></span>  
  
###### <a name="lan-and-proxy-settings-on-the-client"></a><span data-ttu-id="5c587-207">LAN- und Proxyeinstellungen auf dem Client</span><span class="sxs-lookup"><span data-stu-id="5c587-207">LAN and Proxy Settings on the Client</span></span>  
 <span data-ttu-id="5c587-208">In Internet Explorer festgelegte LAN- und Proxyeinstellungen können bestimmen, ob NTLM statt Kerberos gewählt wird.</span><span class="sxs-lookup"><span data-stu-id="5c587-208">LAN and proxy settings that you set in Internet Explorer can determine whether NTLM is chosen over Kerberos.</span></span> <span data-ttu-id="5c587-209">Da verschiedene Organisationen jedoch unterschiedliche LAN- und Proxyeinstellungen verwenden, ist es nicht möglich, die einzelnen Einstellungen genau zu bestimmen, die zu Kerberos-Authentifizierungsfehlern beitragen.</span><span class="sxs-lookup"><span data-stu-id="5c587-209">However, because LAN and proxy settings vary across organizations, it is not possible to precisely determine the exact settings that contribute to Kerberos authentication errors.</span></span> <span data-ttu-id="5c587-210">Beispielsweise kann eine Organisation Proxyeinstellungen durchsetzen, mit denen Intranet-URLs in vollqualifizierte URLs mit Domänennamen umgewandelt werden, die über Internetverbindungen aufgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="5c587-210">For example, your organization might enforce proxy settings that transform URLs from intranet URLs to fully-qualified domain name URLs that resolve over Internet connections.</span></span> <span data-ttu-id="5c587-211">Wenn verschiedene Authentifizierungsanbieter für unterschiedliche URL-Typen verwendet werden, kann es vorkommen, dass unerwartete Verbindungen erfolgreich hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="5c587-211">If different authentication providers are used for different types of URLs, you might find that some connections succeed when you would have expected them to fail.</span></span>  
  
 <span data-ttu-id="5c587-212">Wenn Verbindungsfehler auftreten, die Sie auf Authentifizierungsfehler zurückführen, können Sie verschiedene Kombinationen von LAN- und Proxyeinstellungen ausprobieren, um das Problem zu isolieren.</span><span class="sxs-lookup"><span data-stu-id="5c587-212">If you encounter connection errors that you think are due to authentication failures, you can try different combinations of LAN and proxy settings to isolate the problem.</span></span> <span data-ttu-id="5c587-213">In Internet Explorer befinden sich die LAN- und Proxyeinstellungen im Dialogfeld **LAN-Einstellungen** , das geöffnet wird, wenn Sie im Dialogfeld **Internetoptionen** auf der Registerkarte **Verbindungen** auf **LAN-Einstellungen**klicken.</span><span class="sxs-lookup"><span data-stu-id="5c587-213">In Internet Explorer, LAN and proxy settings are on the **Local Area Network (LAN) Settings** dialog box, which you open by clicking **LAN settings** on the **Connection** tab of **Internet Options**.</span></span>  
  
## <a name="external-resources"></a><span data-ttu-id="5c587-214">Externe Ressourcen</span><span class="sxs-lookup"><span data-stu-id="5c587-214">External resources</span></span>  
  
-   <span data-ttu-id="5c587-215">Weitere Informationen zu Kerberos und Berichtsservern finden Sie unter [Bereitstellung einer Business Intelligence-Lösung mit SharePoint, Reporting Services und PerformancePoint Monitoring Server mit Kerberos](https://go.microsoft.com/fwlink/?LinkID=177751)</span><span class="sxs-lookup"><span data-stu-id="5c587-215">For additional information regarding Kerberos and report servers, see [Deploying a Business Intelligence Solution Using SharePoint, Reporting Services, and PerformancePoint Monitoring Server with Kerberos.](https://go.microsoft.com/fwlink/?LinkID=177751)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5c587-216">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="5c587-216">See Also</span></span>  
 <span data-ttu-id="5c587-217">[Authentifizierung mit dem Berichtsserver](authentication-with-the-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="5c587-217">[Authentication with the Report Server](authentication-with-the-report-server.md) </span></span>  
 <span data-ttu-id="5c587-218">[Erteilen von Berechtigungen für einen Berichtsserver im einheitlichen Modus](granting-permissions-on-a-native-mode-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="5c587-218">[Granting Permissions on a Native Mode Report Server](granting-permissions-on-a-native-mode-report-server.md) </span></span>  
 <span data-ttu-id="5c587-219">[RSReportServer-Konfigurationsdatei](../report-server/rsreportserver-config-configuration-file.md) </span><span class="sxs-lookup"><span data-stu-id="5c587-219">[RSReportServer Configuration File](../report-server/rsreportserver-config-configuration-file.md) </span></span>  
 <span data-ttu-id="5c587-220">[Konfigurieren der Standard Authentifizierung auf dem Berichts Server](configure-basic-authentication-on-the-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="5c587-220">[Configure Basic Authentication on the Report Server](configure-basic-authentication-on-the-report-server.md) </span></span>  
 <span data-ttu-id="5c587-221">[Konfigurieren der benutzerdefinierten oder Formular Authentifizierung auf dem Berichts Server](configure-custom-or-forms-authentication-on-the-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="5c587-221">[Configure Custom or Forms Authentication on the Report Server](configure-custom-or-forms-authentication-on-the-report-server.md) </span></span>  
 [<span data-ttu-id="5c587-222">Erweiterter Schutz für die Authentifizierung mit Reporting Services</span><span class="sxs-lookup"><span data-stu-id="5c587-222">Extended Protection for Authentication with Reporting Services</span></span>](extended-protection-for-authentication-with-reporting-services.md)  
  
  
