---
title: Optimieren einer Arbeitsauslastung | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- workloads [SQL Server], tuning
ms.assetid: 6229bf3f-1182-4bc6-8451-cedc37f4b62e
author: stevestein
ms.author: sstein
ms.openlocfilehash: f95aab55d402ac72228dcc4326ad00ea15e7471f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87719225"
---
# <a name="tuning-a-workload"></a><span data-ttu-id="5418d-102">Optimieren einer Arbeitsauslastung</span><span class="sxs-lookup"><span data-stu-id="5418d-102">Tuning a Workload</span></span>
  <span data-ttu-id="5418d-103">Der Datenbankoptimierungsratgeber dient dazu, den optimalen Entwurf für eine physische Datenbank hinsichtlich der Abfrageleistung für die Datenbanken zu ermitteln, die Sie für die Optimierung auswählen.</span><span class="sxs-lookup"><span data-stu-id="5418d-103">The Database Engine Tuning Advisor can be used to find the best physical database design for query performance on the databases and tables that you select for tuning.</span></span>  
  
 <span data-ttu-id="5418d-104">In dieser Aufgabe wird die [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] -Beispieldatenbank verwendet.</span><span class="sxs-lookup"><span data-stu-id="5418d-104">This task uses the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="5418d-105">Aus Sicherheitsgründen werden die Beispieldatenbanken standardmäßig nicht installiert.</span><span class="sxs-lookup"><span data-stu-id="5418d-105">To enhance security, the sample databases are not installed by default.</span></span> <span data-ttu-id="5418d-106">Informationen zur Installation der Beispieldatenbanken finden Sie unter [Installieren der SQL Server-Beispiele und -Beispieldatenbanken](http://sqlserversamples.codeplex.com).</span><span class="sxs-lookup"><span data-stu-id="5418d-106">To install the sample databases, see [Installing SQL Server Samples and Sample Databases](http://sqlserversamples.codeplex.com).</span></span>  
  
### <a name="tune-a-workload-transact-sql-script-file"></a><span data-ttu-id="5418d-107">Optimieren der Arbeitsauslastung für eine Transact-SQL-Skriptdatei</span><span class="sxs-lookup"><span data-stu-id="5418d-107">Tune a workload Transact-SQL script file</span></span>  
  
1.  <span data-ttu-id="5418d-108">Kopieren einer Beispiel-SELECT-Anweisung oder von Anweisungen von "A.</span><span class="sxs-lookup"><span data-stu-id="5418d-108">Copy a sample SELECT statement or statements from "A.</span></span> <span data-ttu-id="5418d-109">Das Verwenden von SELECT, um Zeilen und Spalten" in [SELECT-Beispiele &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-examples-transact-sql) abzurufen und die Anweisungen in den Abfrage-Editor von [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] einzufügen.</span><span class="sxs-lookup"><span data-stu-id="5418d-109">Using SELECT to retrieve rows and columns" in [SELECT Examples &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-examples-transact-sql) and paste the statements into the Query Editor of [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="5418d-110">Speichern Sie die Datei unter dem Namen **MyScript.sql** in einem Verzeichnis, in dem Sie sie leicht wieder auffinden.</span><span class="sxs-lookup"><span data-stu-id="5418d-110">Save the file as **MyScript.sql** in a directory where you can easily find it.</span></span>  
  
2.  <span data-ttu-id="5418d-111">Starten Sie den Datenbankoptimierungsratgeber.</span><span class="sxs-lookup"><span data-stu-id="5418d-111">Start Database Engine Tuning Advisor.</span></span> <span data-ttu-id="5418d-112">Weitere Informationen finden Sie unter [Starten des Datenbankoptimierungsratgebers](../../relational-databases/performance/database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="5418d-112">See [Launching Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span>  
  
3.  <span data-ttu-id="5418d-113">Geben Sie im rechten Bereich der GUI des Datenbankoptimierungsratgebers im Feld **Sitzungsname** den Namen **MySession** ein.</span><span class="sxs-lookup"><span data-stu-id="5418d-113">In the right pane of the Database Engine Tuning Advisor GUI, type **MySession** in **Session name**.</span></span>  
  
4.  <span data-ttu-id="5418d-114">Wählen Sie unter **Arbeitsauslastung** die Option **Datei**aus, und klicken Sie auf die Schaltfläche **Suchen Sie nach einer Arbeitsauslastungsdatei** , um die in Schritt 1 gespeicherte Datei **MyScript.sql** zu suchen.</span><span class="sxs-lookup"><span data-stu-id="5418d-114">Select **File** for your **Workload**, and click the **Browse for a workload file** button to locate the **MyScript.sql** file that you saved in Step 1.</span></span>  
  
5.  <span data-ttu-id="5418d-115">Wählen Sie [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] in der **Datenbank für Arbeitsauslastungsanalyse** aus, wählen Sie [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] im Raster **Zu optimierende Datenbanken und Tabellen auswählen** aus, und lassen Sie **Optimierungsprotokoll speichern** aktiviert.</span><span class="sxs-lookup"><span data-stu-id="5418d-115">Select [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] in the **Database for workload analysis** list, select [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] in the **Select databases and tables to tune** grid, and leave **Save tuning log** selected.</span></span> <span data-ttu-id="5418d-116">**Datenbank für Arbeitsauslastungsanalyse** gibt die erste Datenbank an, mit der der Datenbankoptimierungsratgeber beim Optimieren einer Arbeitsauslastung eine Verbindung herstellt.</span><span class="sxs-lookup"><span data-stu-id="5418d-116">**Database for workload analysis** specifies the first database to which Database Engine Tuning Advisor connects when tuning a workload.</span></span> <span data-ttu-id="5418d-117">Nach dem Beginn der Optimierung stellt der Datenbankoptimierungsratgeber Verbindungen mit den Datenbanken her, die über die `USE DATABASE` -Anweisungen in der Arbeitsauslastung angegeben sind.</span><span class="sxs-lookup"><span data-stu-id="5418d-117">After tuning begins, Database Engine Tuning Advisor connects to the databases specified by the `USE DATABASE` statements contained in the workload.</span></span>  
  
6.  <span data-ttu-id="5418d-118">Klicken Sie auf die Registerkarte Optimierungs **Optionen** . Sie können für diese Vorgehensweise keine Optimierungs Optionen festlegen, aber nehmen Sie sich einen Moment Zeit, um die Standard Optimierungs Optionen zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="5418d-118">Click the **Tuning Options** tab. You will not set any tuning options for this practice, but take a moment to review the default tuning options.</span></span> <span data-ttu-id="5418d-119">Drücken Sie F1, um die Hilfe zu dieser Seite im Registerformat anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="5418d-119">Press F1 to view the Help for this tabbed page.</span></span> <span data-ttu-id="5418d-120">Klicken Sie auf **Erweiterte Optionen** , um weitere Optimierungsoptionen anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="5418d-120">Click **Advanced Options** to view additional tuning options.</span></span> <span data-ttu-id="5418d-121">Klicken Sie im Dialogfeld **Erweiterte Optimierungsoptionen** auf **Hilfe** , um weitere Informationen zu den angezeigten Optimierungsoptionen aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="5418d-121">Click **Help** in the **Advanced Tuning Options** dialog box for information about the tuning options that are displayed there.</span></span> <span data-ttu-id="5418d-122">Klicken Sie auf **Abbrechen** , um das Dialogfeld **Erweiterte Optimierungsoptionen** zu schließen und die Standardoptionen beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="5418d-122">Click **Cancel** to close the **Advanced Tuning Options** dialog box, leaving the default options selected.</span></span>  
  
7.  <span data-ttu-id="5418d-123">Klicken Sie auf der Symbolleiste auf die Schaltfläche **Analyse starten** .</span><span class="sxs-lookup"><span data-stu-id="5418d-123">Click the **Start Analysis** button on the toolbar.</span></span> <span data-ttu-id="5418d-124">Während Datenbankoptimierungsratgeber die Arbeitsauslastung analysiert, können **Sie den Status auf der Registerkarte** Status überwachen. Wenn die Optimierung fertiggestellt ist, wird die Registerkarte **Empfehlungen** angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5418d-124">While Database Engine Tuning Advisor is analyzing the workload, you can monitor the status on the **Progress** tab. When tuning is complete, the **Recommendations** tab is displayed.</span></span>  
  
     <span data-ttu-id="5418d-125">Wenn Sie einen Fehler beim Beenden von Datum und Uhrzeit für die Optimierung erhalten, aktivieren **Sie das Kontroll Register auf der** Registerkarte "Haupt Optimierungs **Optionen** ". Stellen Sie sicher, dass die Option "an-und Uhrzeit **Beenden** " größer ist als das aktuelle Datum und die aktuelle Uhrzeit, und ändern Sie Sie gegebenenfalls.</span><span class="sxs-lookup"><span data-stu-id="5418d-125">If you receive an error about the tuning stop date and time, check the **Stop at** time on the main **Tuning Options** tab. Make sure the **Stop at** date and time are greater than the current date and time, and if necessary, change them.</span></span>  
  
8.  <span data-ttu-id="5418d-126">Speichern Sie die Empfehlungen nach Ende der Analyse als [!INCLUDE[tsql](../../includes/tsql-md.md)] -Skript. Klicken Sie dazu im Menü **Aktionen** auf **Empfehlungen speichern** .</span><span class="sxs-lookup"><span data-stu-id="5418d-126">After the analysis completes, save your recommendation as a [!INCLUDE[tsql](../../includes/tsql-md.md)] script by clicking **Save Recommendations** on the **Actions** menu.</span></span> <span data-ttu-id="5418d-127">Navigieren Sie im Dialogfeld **Speichern unter** zu dem Verzeichnis, in dem das Skript mit Empfehlungen gespeichert werden soll, und geben Sie als Dateinamen **MyRecommendations**an.</span><span class="sxs-lookup"><span data-stu-id="5418d-127">In the **Save As** dialog box, navigate to the directory where you want to save the recommendations script, and type the file name **MyRecommendations**.</span></span>  
  
## <a name="summary"></a><span data-ttu-id="5418d-128">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="5418d-128">Summary</span></span>  
 <span data-ttu-id="5418d-129">Sie haben die Arbeitsauslastung für eine einfache SELECT-Anweisung auf der [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] -Datenbank optimiert.</span><span class="sxs-lookup"><span data-stu-id="5418d-129">You have completed tuning a simple SELECT statement workload on the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database.</span></span> <span data-ttu-id="5418d-130">Der Datenbankoptimierungsratgeber kann auch Ablaufverfolgungsdateien von [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] und Tabellen als zu optimierende Arbeitsauslastungen verwenden.</span><span class="sxs-lookup"><span data-stu-id="5418d-130">The Database Engine Tuning Advisor can also take [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] trace files and tables as tuning workloads.</span></span> <span data-ttu-id="5418d-131">In der nächsten Aufgabe wird gezeigt, wie Sie die Optimierungsempfehlungen, die Sie als Ergebnis in dieser Übung erhalten haben, anzeigen und interpretieren.</span><span class="sxs-lookup"><span data-stu-id="5418d-131">The next task shows you how to view and interpret the tuning recommendations that you received as a result of the practice tuning.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="5418d-132">Nächste Aufgabe in der Lektion</span><span class="sxs-lookup"><span data-stu-id="5418d-132">Next Task in Lesson</span></span>  
 [<span data-ttu-id="5418d-133">Anzeigen von Empfehlungen für die Optimierung</span><span class="sxs-lookup"><span data-stu-id="5418d-133">Viewing Tuning Recommendations</span></span>](lesson-1-2-viewing-tuning-recommendations.md)  
  
  
