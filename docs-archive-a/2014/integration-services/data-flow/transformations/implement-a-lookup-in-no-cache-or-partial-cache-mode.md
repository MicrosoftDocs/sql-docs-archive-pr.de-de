---
title: Implementieren einer Suche im Modus „Kein Cache“ oder „Teilcache“ | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- Lookup transformation
- match exactly [Integration Services]
- lookups [Integration Services]
- exact matches [Integration Services]
ms.assetid: 01b7fbca-5181-4d47-9f75-7f25af6b40d2
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 5c3958450d6371299972a69f5312a3c631c853aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87621103"
---
# <a name="implement-a-lookup-in-no-cache-or-partial-cache-mode"></a><span data-ttu-id="87c2f-102">Implementieren einer Suche im Modus "Kein Cache" oder "Teilcache"</span><span class="sxs-lookup"><span data-stu-id="87c2f-102">Implement a Lookup in No Cache or Partial Cache Mode</span></span>
  <span data-ttu-id="87c2f-103">Sie können die Transformation für die Suche so konfigurieren, dass der Modus "Teilcache" oder "Kein Cache" verwendet wird:</span><span class="sxs-lookup"><span data-stu-id="87c2f-103">You can configure the Lookup transformation to use the partial cache or no cache mode:</span></span>  
  
-   <span data-ttu-id="87c2f-104">Teilcache</span><span class="sxs-lookup"><span data-stu-id="87c2f-104">Partial cache</span></span>  
  
     <span data-ttu-id="87c2f-105">Die Zeilen mit übereinstimmenden Einträgen im Verweisdataset und optional die Zeilen ohne übereinstimmende Einträge im Dataset werden im Zwischenspeicher abgelegt.</span><span class="sxs-lookup"><span data-stu-id="87c2f-105">The rows with matching entries in the reference dataset and, optionally, the rows without matching entries in the dataset are stored in cache.</span></span> <span data-ttu-id="87c2f-106">Wenn die Speichergröße des Caches überschritten wird, entfernt die Transformation zum Suchen automatisch die am seltensten verwendeten Zeilen aus dem Cache.</span><span class="sxs-lookup"><span data-stu-id="87c2f-106">When the memory size of the cache is exceeded, the Lookup transformation automatically removes the least frequently used rows from the cache.</span></span>  
  
-   <span data-ttu-id="87c2f-107">Kein Cache</span><span class="sxs-lookup"><span data-stu-id="87c2f-107">No cache</span></span>  
  
     <span data-ttu-id="87c2f-108">Es werden keine Daten in den Zwischenspeicher geladen.</span><span class="sxs-lookup"><span data-stu-id="87c2f-108">No data is loaded into cache.</span></span>  
  
 <span data-ttu-id="87c2f-109">Unabhängig davon, ob Sie Teilcache oder Kein Cache auswählen, verwenden Sie einen OLE DB-Verbindungsmanager, um die Verbindung zum Verweisdataset herzustellen.</span><span class="sxs-lookup"><span data-stu-id="87c2f-109">Whether you select partial cache or no cache, you use an OLE DB connection manager to connect to the reference dataset.</span></span> <span data-ttu-id="87c2f-110">Das Verweisdataset wird durch die Verwendung einer Tabelle, Sicht oder SQL-Abfrage während der Ausführung der Transformation für Suche generiert.</span><span class="sxs-lookup"><span data-stu-id="87c2f-110">The reference dataset is generated by using a table, view, or SQL query during the execution of the Lookup transformation</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-no-cache-or-partial-cache-mode"></a><span data-ttu-id="87c2f-111">So implementieren Sie eine Transformation für Suche im Modus für "Kein Cache" oder "Teilcache"</span><span class="sxs-lookup"><span data-stu-id="87c2f-111">To implement a Lookup transformation in no cache or partial cache mode</span></span>  
  
1.  <span data-ttu-id="87c2f-112">Öffnen Sie in [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)]das [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] -Projekt mit dem gewünschten Paket, und öffnen Sie dann das Paket.</span><span class="sxs-lookup"><span data-stu-id="87c2f-112">In [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)], open the [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] project that contains the package you want, and then open the package.</span></span>  
  
2.  <span data-ttu-id="87c2f-113">Fügen Sie auf der Registerkarte **Datenfluss** eine Transformation für Suche hinzu.</span><span class="sxs-lookup"><span data-stu-id="87c2f-113">On the **Data Flow** tab, add a Lookup transformation.</span></span>  
  
3.  <span data-ttu-id="87c2f-114">Verbinden Sie die Suchtransformation mit dem Datenfluss, indem Sie einen Konnektor von einer Quelle oder einer vorherigen Transformation auf die Suchtransformation ziehen.</span><span class="sxs-lookup"><span data-stu-id="87c2f-114">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="87c2f-115">Eine Suchtransformation, die für die Verwendung des Modus „Kein Cache“ konfiguriert ist, erzeugt möglicherweise einen Fehler, wenn die Transformation sich mit einem Flatfile verbindet, das ein leeres Datenfeld enthält.</span><span class="sxs-lookup"><span data-stu-id="87c2f-115">A Lookup transformation that is configured to use the no cache mode might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="87c2f-116">Die Gültigkeit der Transformation hängt davon ab, ob der Verbindungs-Manager für das Flatfile so konfiguriert wurde, dass NULL-Werte beibehalten werden.</span><span class="sxs-lookup"><span data-stu-id="87c2f-116">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="87c2f-117">Um sicherzustellen, dass die Suchtransformation gültig ist, wählen Sie im **Quelleneditor für Flatfiles**auf der **Seite Verbindungs-Manager**die Option **NULL-Werte aus der Quelle als NULL-Werte im Datenfluss beibehalten** .</span><span class="sxs-lookup"><span data-stu-id="87c2f-117">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
4.  <span data-ttu-id="87c2f-118">Doppelklicken Sie auf die Quelle oder die vorherige Transformation, um die Komponente zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="87c2f-118">Double-click the source or previous transformation to configure the component.</span></span>  
  
5.  <span data-ttu-id="87c2f-119">Doppelklicken Sie auf die Transformation für Suche, und wählen Sie anschließend im **Transformations-Editor für Suche**auf der Seite **Allgemein** die Option **Teilcache** oder die Option **Kein Cache**aus.</span><span class="sxs-lookup"><span data-stu-id="87c2f-119">Double-click the Lookup transformation, and then in the **Lookup Transformation Editor**, on the **General** page, select **Partialcache** or **No cache**.</span></span>  
  
6.  <span data-ttu-id="87c2f-120">Wählen Sie für die Liste **Angeben, wie Zeilen ohne übereinstimmende Einträge behandelt werden sollen** eine Fehlerbehandlungsoption aus der Liste aus.</span><span class="sxs-lookup"><span data-stu-id="87c2f-120">For **Specify how to handle rows with no matching entries** list, select an error handling option from the list.</span></span>  
  
7.  <span data-ttu-id="87c2f-121">Wählen Sie auf der Seite **Verbindung** einen Verbindungs-Manager aus der Liste **OLE DB-Verbindungs-Manager** aus, oder klicken Sie auf **Neu** , um einen neuen Verbindungs-Manager zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="87c2f-121">On the **Connection** page, select a connection manager from the **OLE DB connection manager** list or click **New** to create a new connection manager.</span></span> <span data-ttu-id="87c2f-122">Weitere Informationen finden Sie unter [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="87c2f-122">For more information, see [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md).</span></span>  
  
8.  <span data-ttu-id="87c2f-123">Führen Sie einen der folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="87c2f-123">Do one of the following steps:</span></span>  
  
    -   <span data-ttu-id="87c2f-124">Klicken Sie auf **Tabelle oder Sicht verwenden**, und wählen Sie dann eine Tabelle oder eine Sicht aus, oder klicken Sie auf **Neu** , um eine Tabelle oder Sicht zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="87c2f-124">Click **Use a table or a view**, and then either select a table or view, or click **New** to create a table or view.</span></span>  
  
    -   <span data-ttu-id="87c2f-125">Klicken Sie auf **Ergebnisse einer SQL-Abfrage verwenden**, und erstellen Sie dann eine Abfrage im Fenster **SQL-Befehl** .</span><span class="sxs-lookup"><span data-stu-id="87c2f-125">Click **Use results of an SQL query**, and then build a query in the **SQL Command** window.</span></span>  
  
         <span data-ttu-id="87c2f-126">Oder</span><span class="sxs-lookup"><span data-stu-id="87c2f-126">-or-</span></span>  
  
         <span data-ttu-id="87c2f-127">Klicken Sie auf **Abfrage erstellen** , um mit den vom **Abfrage-Generator** bereitgestellten grafischen Tools eine Abfrage zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="87c2f-127">Click **Build Query** to build a query by using the graphical tools that the **Query Builder** provides.</span></span>  
  
         <span data-ttu-id="87c2f-128">Oder</span><span class="sxs-lookup"><span data-stu-id="87c2f-128">-or-</span></span>  
  
         <span data-ttu-id="87c2f-129">Klicken Sie auf **Durchsuchen** , um eine SQL-Anweisung aus einer Datei zu importieren.</span><span class="sxs-lookup"><span data-stu-id="87c2f-129">Click **Browse** to import an SQL statement from a file.</span></span>  
  
     <span data-ttu-id="87c2f-130">Um die SQL-Abfrage zu überprüfen, klicken Sie auf **Abfrage analysieren**.</span><span class="sxs-lookup"><span data-stu-id="87c2f-130">To validate the SQL query, click **Parse Query**.</span></span>  
  
     <span data-ttu-id="87c2f-131">Um ein Beispiel der Daten anzuzeigen, klicken Sie auf **Vorschau**.</span><span class="sxs-lookup"><span data-stu-id="87c2f-131">To view a sample of the data, click **Preview**.</span></span>  
  
9. <span data-ttu-id="87c2f-132">Klicken Sie auf die Seite **Spalten** , und ziehen Sie mindestens eine Spalte aus der Liste **Verfügbare Eingabespalten** in eine Spalte in der Liste **Verfügbare Suchspalten** .</span><span class="sxs-lookup"><span data-stu-id="87c2f-132">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="87c2f-133">Die Transformation für Suche ordnet automatisch Spalten mit dem gleichen Namen und dem gleichen Datentyp zu.</span><span class="sxs-lookup"><span data-stu-id="87c2f-133">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="87c2f-134">Die Spalten müssen übereinstimmende Datentypen aufweisen, damit sie zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="87c2f-134">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="87c2f-135">Weitere Informationen finden Sie unter [Integration Services Datentypen](../integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="87c2f-135">For more information, see [Integration Services Data Types](../integration-services-data-types.md).</span></span>  
  
10. <span data-ttu-id="87c2f-136">Schließen Sie Suchspalten in die Ausgabe ein, indem Sie die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="87c2f-136">Include lookup columns in the output by doing the following steps:</span></span>  
  
    1.  <span data-ttu-id="87c2f-137">Wählen Sie Spalten aus der Liste **Verfügbare Suchspalten** aus.</span><span class="sxs-lookup"><span data-stu-id="87c2f-137">From the **Available Lookup Columns** list, select columns.</span></span>  
  
    2.  <span data-ttu-id="87c2f-138">Geben Sie in der Liste **Suchvorgang** an, ob die Werte aus den Suchspalten Werte in der Eingabespalte ersetzen oder ob sie in eine neue Spalte geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="87c2f-138">In **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
11. <span data-ttu-id="87c2f-139">Wenn Sie in Schritt 5 **Teilcache** auf der Seite **Erweitert** ausgewählt haben, legen Sie die folgenden Cacheoptionen fest:</span><span class="sxs-lookup"><span data-stu-id="87c2f-139">If you selected **Partial cache** in step 5, on the **Advanced** page, set the following cache options:</span></span>  
  
    -   <span data-ttu-id="87c2f-140">Wählen Sie aus der Liste **Cachegröße (32-Bit)** die Cachegröße für 32-Bit-Umgebungen aus.</span><span class="sxs-lookup"><span data-stu-id="87c2f-140">From the **Cache size (32-bit)** list, select the cache size for 32-bit environments.</span></span>  
  
    -   <span data-ttu-id="87c2f-141">Wählen Sie aus der Liste **Cachegröße (64-Bit)** die Cachegröße für 64-Bit-Umgebungen aus.</span><span class="sxs-lookup"><span data-stu-id="87c2f-141">From the **Cache size (64-bit)** list, select the cache size for 64-bit environments.</span></span>  
  
    -   <span data-ttu-id="87c2f-142">Um die Zeilen ohne übereinstimmende Einträge in der Referenz im Zwischenspeicher abzulegen, aktivieren Sie die Option **Cache für Zeilen ohne übereinstimmende Einträge aktivieren**.</span><span class="sxs-lookup"><span data-stu-id="87c2f-142">To cache the rows without matching entries in the reference, select **Enable cache for rows with no matching entries**.</span></span>  
  
    -   <span data-ttu-id="87c2f-143">Wählen Sie aus der Liste **Zuordnung von Cache** den Prozentsatz des Zwischenspeichers aus, der zum Speichern der Zeilen ohne übereinstimmende Einträge verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="87c2f-143">From the **Allocation from cache** list, select the percentage of the cache to use to store the rows without matching entries.</span></span>  
  
12. <span data-ttu-id="87c2f-144">Um die SQL-Anweisung zu ändern, die das Verweisdataset generiert, wählen Sie **SQL-Anweisung ändern**aus, und ändern Sie die im Textfeld angezeigte SQL-Anweisung.</span><span class="sxs-lookup"><span data-stu-id="87c2f-144">To modify the SQL statement that generates the reference dataset, select **Modify the SQL statement**, and change the SQL statement displayed in the text box.</span></span>  
  
     <span data-ttu-id="87c2f-145">Falls die Anweisung Parameter enthält, klicken Sie auf **Parameter** , um den Eingabespalten die Parameter zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="87c2f-145">If the statement includes parameters, click **Parameters** to map the parameters to input columns.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="87c2f-146">Durch die auf dieser Seite angegebene optionale SQL-Anweisung wird der auf der Seite **Verbindung** im **Transformations-Editor für Suche**angegebene Tabellenname überschrieben und ersetzt.</span><span class="sxs-lookup"><span data-stu-id="87c2f-146">The optional SQL statement that you specify on this page overrides and replaces the table name that you specified on the **Connection** page of the **Lookup Transformation Editor**.</span></span>  
  
13. <span data-ttu-id="87c2f-147">Um die Fehlerausgabe zu konfigurieren, klicken Sie auf die Seite **Fehlerausgabe** , und legen Sie die Fehlerbehandlungsoptionen fest.</span><span class="sxs-lookup"><span data-stu-id="87c2f-147">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="87c2f-148">Weitere Informationen finden Sie unter [Transformations-Editor für Suche &#40;Seite Fehlerausgabe&#41;](../../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="87c2f-148">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../../lookup-transformation-editor-error-output-page.md).</span></span>  
  
14. <span data-ttu-id="87c2f-149">Klicken Sie auf **OK** , um die Änderungen an der Suchtransformation zu speichern, und führen Sie dann das Paket aus.</span><span class="sxs-lookup"><span data-stu-id="87c2f-149">Click **OK** to save your changes to the Lookup transformation, and then run the package.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="87c2f-150">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="87c2f-150">See Also</span></span>  
 [<span data-ttu-id="87c2f-151">SQL Server Integration Services-Transformationen</span><span class="sxs-lookup"><span data-stu-id="87c2f-151">Integration Services Transformations</span></span>](integration-services-transformations.md)  
  
  
