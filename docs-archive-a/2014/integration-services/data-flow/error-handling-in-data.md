---
title: Fehlerbehandlung in Daten | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- truncating data
- data conversion errors [Integration Services]
- errors [Integration Services], data flow components
- lookups [Integration Services]
- errors [Integration Services]
- errors [Integration Services], data flow outputs
- error outputs [Integration Services]
- data flow [Integration Services], errors
- expressions [Integration Services], errors
ms.assetid: c61667b4-25cb-4d45-a52f-a733e32863f4
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 442ecc68fc352d50955af9302fbcedf77ba36338
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87726137"
---
# <a name="error-handling-in-data"></a><span data-ttu-id="c578d-102">Fehlerbehandlung in Daten</span><span class="sxs-lookup"><span data-stu-id="c578d-102">Error Handling in Data</span></span>
  <span data-ttu-id="c578d-103">Wenn eine Datenflusskomponente eine Transformation auf Spaltendaten anwendet, Daten aus Quellen extrahiert oder Daten in Ziele lädt, können Fehler auftreten.</span><span class="sxs-lookup"><span data-stu-id="c578d-103">When a data flow component applies a transformation to column data, extracts data from sources, or loads data into destinations, errors can occur.</span></span> <span data-ttu-id="c578d-104">Fehler treten häufig aufgrund unerwarteter Datenwerte auf.</span><span class="sxs-lookup"><span data-stu-id="c578d-104">Errors frequently occur because of unexpected data values.</span></span> <span data-ttu-id="c578d-105">Beispielsweise tritt bei einer Datenkonvertierung ein Fehler auf, weil eine Spalte eine Zeichenfolge anstelle einer Zahl enthält. Beim Einfügen in eine Datenbankspalte kann ein Fehler auftreten, weil die Daten einen date-Datentyp und die Spalte einen numeric-Datentyp aufweist. Ein Ausdruck kann nicht ausgewertet werden, weil ein Spaltenwert Null ist, wodurch sich eine ungültige mathematische Operation ergibt.</span><span class="sxs-lookup"><span data-stu-id="c578d-105">For example, a data conversion fails because a column contains a string instead of a number, an insertion into a database column fails because the data is a date and the column has a numeric data type, or an expression fails to evaluate because a column value is zero, resulting in a mathematical operation that is not valid.</span></span>  
  
 <span data-ttu-id="c578d-106">Fehler können in der Regel einer der folgenden Kategorien zugeordnet werden:</span><span class="sxs-lookup"><span data-stu-id="c578d-106">Errors typically fall into one the following categories:</span></span>  
  
-   <span data-ttu-id="c578d-107">Datenkonvertierungsfehler, die auftreten, wenn eine Konvertierung zum Verlust signifikanter Ziffern, zum Verlust insignifikanter Ziffern und zum Abschneiden von Zeichenfolgen führt.</span><span class="sxs-lookup"><span data-stu-id="c578d-107">Data conversion errors, which occur if a conversion results in loss of significant digits, the loss of insignificant digits, and the truncation of strings.</span></span> <span data-ttu-id="c578d-108">Datenkonvertierungsfehler treten außerdem auf, wenn die angeforderte Konvertierung nicht unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="c578d-108">Data conversion errors also occur if the requested conversion is not supported.</span></span>  
  
-   <span data-ttu-id="c578d-109">Fehler bei der Ausdrucksauswertung. Sie treten auf, wenn Ausdrücke, die zur Laufzeit ausgewertet werden, ungültige Vorgänge ausführen oder aufgrund fehlender oder falscher Datenwerte syntaktisch falsch sind.</span><span class="sxs-lookup"><span data-stu-id="c578d-109">Expression evaluation errors, which occur if expressions that are evaluated at run time perform invalid operations or become syntactically incorrect because of missing or incorrect data values.</span></span>  
  
-   <span data-ttu-id="c578d-110">Suchfehler, die auftreten, wenn ein Suchvorgang keine Übereinstimmung in der Nachschlagetabelle findet.</span><span class="sxs-lookup"><span data-stu-id="c578d-110">Lookup errors, which occur if a lookup operation fails to locate a match in the lookup table.</span></span>  
  
 <span data-ttu-id="c578d-111">Viele Datenflusskomponenten unterstützen Fehlerausgaben, mit denen Sie steuern können, wie die Komponente Fehler auf Zeilenebene in ein- und ausgehenden Daten behandelt.</span><span class="sxs-lookup"><span data-stu-id="c578d-111">Many data flow components support error outputs, which let you control how the component handles row-level errors in both incoming and outgoing data.</span></span> <span data-ttu-id="c578d-112">Sie geben das Verhalten der Komponente an, wenn Daten abgeschnitten werden oder ein Fehler auftritt, indem Sie Optionen für einzelne Spalten in der Eingabe oder Ausgabe festlegen.</span><span class="sxs-lookup"><span data-stu-id="c578d-112">You specify how the component behaves when truncation or an error occurs by setting options on individual columns in the input or output.</span></span> <span data-ttu-id="c578d-113">Beispielsweise können Sie angeben, dass bei der Komponente ein Fehler auftritt, wenn die Daten für den Kundennamen abgeschnitten werden, dass aber Fehler in einer anderen Spalte, die weniger wichtige Daten enthält, ignoriert werden.</span><span class="sxs-lookup"><span data-stu-id="c578d-113">For example, you can specify that the component should fail if customer name data is truncated, but ignore errors on another column that contains less important data.</span></span>  
  
 <span data-ttu-id="c578d-114">Die Fehlerausgabe kann mit der Eingabe einer anderen Transformation verbunden werden oder in ein anderes Ziel als die Nichtfehlerausgabe geladen werden.</span><span class="sxs-lookup"><span data-stu-id="c578d-114">The error output can be connected to the input of another transformation or loaded into a different destination than the non-error output.</span></span> <span data-ttu-id="c578d-115">Beispielsweise kann die Fehlerausgabe mit einer Transformation für abgeleitete Spalten verbunden werden, die eine Zeichenfolge für eine leere Spalte bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="c578d-115">For example, the error output can be a connected to a Derived Column transformation that provides a string for a column that is blank.</span></span>  
  
 <span data-ttu-id="c578d-116">Im folgenden Diagramm wird ein einfacher Datenfluss mit einer Fehlerausgabe dargestellt.</span><span class="sxs-lookup"><span data-stu-id="c578d-116">The following diagram shows a simple data flow including an error output.</span></span>  
  
 <span data-ttu-id="c578d-117">![Datenfluss mit Fehlerausgabe](../media/mw-dts-11.gif "Datenfluss mit Fehlerausgabe")</span><span class="sxs-lookup"><span data-stu-id="c578d-117">![Data flow with error output](../media/mw-dts-11.gif "Data flow with error output")</span></span>  
  
 <span data-ttu-id="c578d-118">Neben den Datenspalten enthält die Fehlerausgabe die Spalten **ErrorCode** und **ErrorColumn** .</span><span class="sxs-lookup"><span data-stu-id="c578d-118">In addition to the data columns, the error output includes the **ErrorCode** and **ErrorColumn** columns.</span></span> <span data-ttu-id="c578d-119">Die **ErrorCode** -Spalte gibt den Fehler an, und die **ErrorColumn** -Spalte enthält den Herkunftsbezeichner der Fehlerspalte.</span><span class="sxs-lookup"><span data-stu-id="c578d-119">The **ErrorCode** column identifies the error and the **ErrorColumn** contains the lineage identifier of the error column.</span></span> <span data-ttu-id="c578d-120">Zum Anzeigen der Metadaten dieser Spalten klicken Sie auf den Pfad, der die Fehlerausgabe mit der nächsten Komponente im Datenfluss verbindet.</span><span class="sxs-lookup"><span data-stu-id="c578d-120">To view the metadata of these columns, click the path that connects the error output to the next component in the data flow.</span></span> <span data-ttu-id="c578d-121">Unter einigen Umständen wird der Wert der **ErrorColumn** -Spalte auf 0 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="c578d-121">Under some circumstances, the value of the **ErrorColumn** column is set to zero.</span></span> <span data-ttu-id="c578d-122">Dies ist der Fall, wenn sich die Fehlerbedingung nicht auf eine einzelne Spalte, sondern auf die gesamte Zeile auswirkt.</span><span class="sxs-lookup"><span data-stu-id="c578d-122">This occurs when the error condition affects the entire row instead of a single column.</span></span> <span data-ttu-id="c578d-123">Beispielsweise tritt dies ein, wenn bei einer Suche in der Transformation für die Suche ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="c578d-123">An example is when a lookup fails in the Lookup transformation.</span></span>  
  
 <span data-ttu-id="c578d-124">Weitere Informationen finden Sie unter [Datenfluss](data-flow.md) und [Integration Services-Pfade](integration-services-paths.md).</span><span class="sxs-lookup"><span data-stu-id="c578d-124">For more information, see [Data Flow](data-flow.md) and [Integration Services Paths](integration-services-paths.md).</span></span>  
  
 <span data-ttu-id="c578d-125">Eine Liste der Fehler, Warnungen und anderen Meldungen in Integration Services finden Sie unter [Fehler- und Meldungsreferenz von Integration Services](../integration-services-error-and-message-reference.md).</span><span class="sxs-lookup"><span data-stu-id="c578d-125">For a list of Integration Services errors, warnings, and other messages, see [Integration Services Error and Message Reference](../integration-services-error-and-message-reference.md).</span></span>  
  
## <a name="error-and-truncation-options"></a><span data-ttu-id="c578d-126">Fehler- und Abschneideoptionen</span><span class="sxs-lookup"><span data-stu-id="c578d-126">Error and Truncation Options</span></span>  
 <span data-ttu-id="c578d-127">Fehler können zwei Kategorien zugeordnet werden: Fehler oder Abschneiden von Daten.</span><span class="sxs-lookup"><span data-stu-id="c578d-127">Errors fall into one of two categories: errors or truncations.</span></span> <span data-ttu-id="c578d-128">Ein Fehler ist ein Hinweis auf ein eindeutiges Problem, und es wird ein NULL-Ergebnis generiert.</span><span class="sxs-lookup"><span data-stu-id="c578d-128">An error indicates an unequivocal failure, and generates a NULL result.</span></span> <span data-ttu-id="c578d-129">Hierzu zählen Fehler bei der Datenkonvertierung oder bei der Ausdrucksauswertung.</span><span class="sxs-lookup"><span data-stu-id="c578d-129">Such errors can include data conversion errors or expression evaluation errors.</span></span> <span data-ttu-id="c578d-130">Beispielsweise wird ein Fehler verursacht, wenn eine Zeichenfolge, die Buchstaben enthält, in eine Zahl konvertiert wird.</span><span class="sxs-lookup"><span data-stu-id="c578d-130">For example, an attempt to convert a string that contains alphabetical characters to a number causes an error.</span></span> <span data-ttu-id="c578d-131">Datenkonvertierungen, Auswertungen von Ausdrücken sowie Zuweisungen von Ausdrucksergebnissen zu Variablen, Eigenschaften und Datenspalten erzeugen aufgrund von unzulässigen Umwandlungen und inkompatiblen Datentypen möglicherweise einen Fehler.</span><span class="sxs-lookup"><span data-stu-id="c578d-131">Data conversions, expression evaluations, and assignments of expression results to variables, properties, and data columns may fail because of illegal casts and incompatible data types.</span></span> <span data-ttu-id="c578d-132">Weitere Informationen finden Sie unter [Cast &#40;SSIS-Ausdruck&#41;](../expressions/cast-ssis-expression.md), [Integration Services-Datentypen in Ausdrücken](../expressions/integration-services-data-types-in-expressions.md) und [Integration Services-Datentypen](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="c578d-132">For more information see, [Cast &#40;SSIS Expression&#41;](../expressions/cast-ssis-expression.md), [Integration Services Data Types in Expressions](../expressions/integration-services-data-types-in-expressions.md), and [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
 <span data-ttu-id="c578d-133">Das Abschneiden von Daten ist nicht so schwerwiegend wie ein Fehler.</span><span class="sxs-lookup"><span data-stu-id="c578d-133">A truncation is less serious than an error.</span></span> <span data-ttu-id="c578d-134">Beim Abschneiden werden Ergebnisse generiert, die verwendbar oder sogar wünschenswert sind.</span><span class="sxs-lookup"><span data-stu-id="c578d-134">A truncation generates results that might be usable or even desirable.</span></span> <span data-ttu-id="c578d-135">Sie können das Abschneiden von Daten als Fehler oder als zulässige Bedingungen behandeln.</span><span class="sxs-lookup"><span data-stu-id="c578d-135">You can elect to treat truncations as errors or as acceptable conditions.</span></span> <span data-ttu-id="c578d-136">Wenn Sie z. B. eine Zeichenfolge mit 15 Zeichen in eine Spalte einfügen, die nur eine Breite von einem Zeichen aufweist, können Sie festlegen, dass die Zeichenfolge abgeschnitten wird.</span><span class="sxs-lookup"><span data-stu-id="c578d-136">For example, if you are inserting a 15-character string into a column that is only one character wide, you can elect to truncate the string.</span></span>  
  
 <span data-ttu-id="c578d-137">Sie können konfigurieren, wie Quellen, Transformationen und Ziele Fehler und das Abschneiden von Daten behandeln.</span><span class="sxs-lookup"><span data-stu-id="c578d-137">You can configure how sources, transformations, and destinations handle errors and truncations.</span></span> <span data-ttu-id="c578d-138">In der folgenden Tabelle werden diese Optionen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="c578d-138">The following table describes the options.</span></span>  
  
|<span data-ttu-id="c578d-139">Option</span><span class="sxs-lookup"><span data-stu-id="c578d-139">Option</span></span>|<span data-ttu-id="c578d-140">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="c578d-140">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="c578d-141">Fehler bei Komponente</span><span class="sxs-lookup"><span data-stu-id="c578d-141">Fail Component</span></span>|<span data-ttu-id="c578d-142">Bei einem Fehler oder beim Abschneiden von Daten wird der Datenflusstask nicht ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="c578d-142">The Data Flow task fails when an error or a truncation occurs.</span></span> <span data-ttu-id="c578d-143">Dies ist die Standardoption für einen Fehler und das Abschneiden von Daten.</span><span class="sxs-lookup"><span data-stu-id="c578d-143">Failure is the default option for an error and a truncation.</span></span>|  
|<span data-ttu-id="c578d-144">Fehler ignorieren</span><span class="sxs-lookup"><span data-stu-id="c578d-144">Ignore Failure</span></span>|<span data-ttu-id="c578d-145">Der Fehler oder das Abschneiden von Daten wird ignoriert, und die Datenzeile wird an die Ausgabe der Transformation oder Quelle weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="c578d-145">The error or the truncation is ignored and the data row is directed to the output of the transformation or source.</span></span>|  
|<span data-ttu-id="c578d-146">Zeile umleiten</span><span class="sxs-lookup"><span data-stu-id="c578d-146">Redirect Row</span></span>|<span data-ttu-id="c578d-147">Der Fehler oder das Abschneiden der Datenzeile wird an die Fehlerausgabe der Quelle, der Transformation oder des Zieles umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="c578d-147">The error or the truncation data row is directed to the error output of the source, transformation, or destination.</span></span>|  
  
## <a name="adding-the-error-description"></a><span data-ttu-id="c578d-148">Hinzufügen der Fehlerbeschreibung</span><span class="sxs-lookup"><span data-stu-id="c578d-148">Adding the Error Description</span></span>  
 <span data-ttu-id="c578d-149">Eine Fehlerausgabe stellt standardmäßig den numerischen Fehlercode bereit und enthält in der Regel den Bezeichner der Spalte, in dem der Fehler aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="c578d-149">By default an error output provides the numeric error code and usually contains the identifier of the column in which the error occurred.</span></span> <span data-ttu-id="c578d-150">Sie können die Skriptkomponente verwenden, um die Fehlerbeschreibung in einer zusätzlichen Spalte einzuschließen, indem Sie für den Aufruf der <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.GetErrorDescription%2A>-Methode der <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100>-Schnittstelle eine einzelne Zeile des Skripts verwenden.</span><span class="sxs-lookup"><span data-stu-id="c578d-150">You can use the Script component to include the error description in an additional column by using a single line of script to call the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.GetErrorDescription%2A> method of the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100> interface.</span></span>  
  
 <span data-ttu-id="c578d-151">Die Skriptkomponente kann dem Fehlersegment des Datenflusses hinzugefügt werden, und zwar an eine beliebige Stelle unterhalb der Datenflusskomponenten, deren Fehler Sie erfassen möchten. In der Regel wird die Skriptkomponente jedoch eingefügt, kurz bevor die Fehlerzeilen in ein Ziel geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="c578d-151">The Script component can be added to the error segment of the data flow anywhere downstream from the data flow components whose errors that you want to capture, but is typically placed immediately before the error rows are written to a destination.</span></span> <span data-ttu-id="c578d-152">Auf diese Weise sucht das Skript nur nach Beschreibungen für geschriebene Fehlerzeilen.</span><span class="sxs-lookup"><span data-stu-id="c578d-152">This way, the script looks up only descriptions for error rows that are written.</span></span> <span data-ttu-id="c578d-153">Beispielsweise korrigiert das Fehlersegment des Datenflusses u. U. einige Fehler und schreibt diese Zeilen nicht in ein Fehlerziel.</span><span class="sxs-lookup"><span data-stu-id="c578d-153">For example, the error segment of the data flow may correct some errors and not write those rows to an error destination.</span></span> <span data-ttu-id="c578d-154">Weitere Informationen finden Sie unter [Erweitern einer Fehlerausgabe mit der Skript Komponente](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md).</span><span class="sxs-lookup"><span data-stu-id="c578d-154">For more information, see [Enhancing an Error Output with the Script Component](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md).</span></span>  
  
### <a name="to-configure-an-error-output"></a><span data-ttu-id="c578d-155">So konfigurieren Sie eine Fehlerausgabe</span><span class="sxs-lookup"><span data-stu-id="c578d-155">To configure an error output</span></span>  
  
-   [<span data-ttu-id="c578d-156">Konfigurieren einer Fehlerausgabe in einer Datenflusskomponente</span><span class="sxs-lookup"><span data-stu-id="c578d-156">Configure an Error Output in a Data Flow Component</span></span>](../configure-an-error-output-in-a-data-flow-component.md)  
  
## <a name="see-also"></a><span data-ttu-id="c578d-157">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="c578d-157">See Also</span></span>  
 <span data-ttu-id="c578d-158">[Datenfluss](data-flow.md) </span><span class="sxs-lookup"><span data-stu-id="c578d-158">[Data Flow](data-flow.md) </span></span>  
 <span data-ttu-id="c578d-159">[Transformieren von Daten mit Transformationen](transformations/transform-data-with-transformations.md) </span><span class="sxs-lookup"><span data-stu-id="c578d-159">[Transform Data with Transformations](transformations/transform-data-with-transformations.md) </span></span>  
 <span data-ttu-id="c578d-160">[Verbinden von Komponenten mit Pfaden](../connect-components-with-paths.md) </span><span class="sxs-lookup"><span data-stu-id="c578d-160">[Connect Components with Paths](../connect-components-with-paths.md) </span></span>  
 <span data-ttu-id="c578d-161">[Datenflusstask](../control-flow/data-flow-task.md) </span><span class="sxs-lookup"><span data-stu-id="c578d-161">[Data Flow Task](../control-flow/data-flow-task.md) </span></span>  
 [<span data-ttu-id="c578d-162">Datenfluss</span><span class="sxs-lookup"><span data-stu-id="c578d-162">Data Flow</span></span>](data-flow.md)  
  
  
