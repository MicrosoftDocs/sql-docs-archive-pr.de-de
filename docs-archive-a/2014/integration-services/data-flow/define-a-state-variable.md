---
title: Definieren einer Statusvariablen | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 45d66152-883a-49a7-a877-2e8ab45f8f79
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 5214b3512ea0113d1abace61a76033e5531ac99f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87726141"
---
# <a name="define-a-state-variable"></a><span data-ttu-id="66900-102">Definieren einer Statusvariablen</span><span class="sxs-lookup"><span data-stu-id="66900-102">Define a State Variable</span></span>
  <span data-ttu-id="66900-103">In diesem Verfahren wird beschrieben, wie Sie eine Paketvariable definieren, in der der CDC-Status gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="66900-103">This procedure describes how to define a package variable where the CDC state is stored.</span></span>  
  
 <span data-ttu-id="66900-104">Die CDC-Statusvariable wird geladen, initialisiert und vom CDC-Steuerungstask aktualisiert. Anschließend wird sie von der CDC-Quelldatenflusskomponente verwendet, um den aktuellen Verarbeitungsbereich für Änderungsdatensätze zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="66900-104">The CDC state variable is loaded, initialized, and updated by the CDC Control task and is used by the CDC Source data flow component to determine the current processing range for change records.</span></span> <span data-ttu-id="66900-105">Die CDC-Statusvariable kann für beliebige Containerelemente definiert werden, die vom CDC-Steuerungstask und der CDC-Quelle gemeinsam verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="66900-105">The CDC state variable can be defined on any container common to the CDC Control task and the CDC source.</span></span> <span data-ttu-id="66900-106">Dies ist auf Paketebene möglich, aber auch in anderen Containern, z. B. einem Schleifencontainer.</span><span class="sxs-lookup"><span data-stu-id="66900-106">This may be at the package level but may also be on other containers such as a loop container.</span></span>  
  
 <span data-ttu-id="66900-107">Das manuelle Ändern des Werts von CDC-Statusvariablen ist nicht zu empfehlen, aber es kann zum Verständnis des Inhalts von Variablen beitragen.</span><span class="sxs-lookup"><span data-stu-id="66900-107">Manually modifying the CDC state variable value is not recommended, however it can be useful to understand its contents.</span></span>  
  
 <span data-ttu-id="66900-108">Die folgende Tabelle enthält eine allgemeine Beschreibung der Komponenten von CDC-Statusvariablenwerten.</span><span class="sxs-lookup"><span data-stu-id="66900-108">The following table provides a high-level description of the components of the CDC state variable value.</span></span>  
  
|<span data-ttu-id="66900-109">Komponente</span><span class="sxs-lookup"><span data-stu-id="66900-109">Component</span></span>|<span data-ttu-id="66900-110">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="66900-110">Description</span></span>|  
|---------------|-----------------|  
|`<state-name>`|<span data-ttu-id="66900-111">Der Name des aktuellen CDC-Status.</span><span class="sxs-lookup"><span data-stu-id="66900-111">This is the name of the current CDC state.</span></span>|  
|`CS`|<span data-ttu-id="66900-112">Kennzeichnet den aktuellen Startpunkt für den Verarbeitungsbereich (aktueller Start).</span><span class="sxs-lookup"><span data-stu-id="66900-112">This marks the current processing range start point (Current Start).</span></span>|  
|`<cs-lsn>`|<span data-ttu-id="66900-113">Die letzte in der vorangehenden CDC-Ausführung verarbeitete Protokollfolgenummer (LSN).</span><span class="sxs-lookup"><span data-stu-id="66900-113">This is the last (Log Sequence Number) LSN processed in the previous CDC run.</span></span>|  
|`CE`|<span data-ttu-id="66900-114">Kennzeichnet den aktuellen Endpunkt für den Verarbeitungsbereich (aktuelles Ende).</span><span class="sxs-lookup"><span data-stu-id="66900-114">This marks the current processing range end point (Current End).</span></span> <span data-ttu-id="66900-115">Das Vorhandensein der CE-Komponente im CDC-Status zeigt an, dass entweder gerade ein CDC-Paket verarbeitet wird oder dass ein CDC-Paketfehler aufgetreten ist, bevor der zugehörige CDC-Verarbeitungsbereich vollständig verarbeitet wurde.</span><span class="sxs-lookup"><span data-stu-id="66900-115">The presence of the CE component in the CDC state is an indication that either a CDC package is currently processing or that a CDC package failed before fully processing its CDC processing range.</span></span>|  
|`<ce-lsn>`|<span data-ttu-id="66900-116">Die letzte in der aktuellen CDC-Ausführung zu verarbeitende Protokollfolgenummer (LSN).</span><span class="sxs-lookup"><span data-stu-id="66900-116">This is the last LSN to be processed in the current CDC Run.</span></span> <span data-ttu-id="66900-117">Es wird immer vorausgesetzt, dass die letzte zu verarbeitende Protokollfolgenummer der höchsten Nummer (0xFFF…) entspricht.</span><span class="sxs-lookup"><span data-stu-id="66900-117">It is always assumed that the last sequence number to be processed is the maximum (0xFFF...).</span></span>|  
|`IR`|<span data-ttu-id="66900-118">Kennzeichnet den anfänglichen Verarbeitungsbereich.</span><span class="sxs-lookup"><span data-stu-id="66900-118">This marks the initial processing range.</span></span>|  
|`<ir-start>`|<span data-ttu-id="66900-119">Eine Protokollfolgenummer einer Änderung unmittelbar vor Beginn des erstmaligen Ladevorgangs.</span><span class="sxs-lookup"><span data-stu-id="66900-119">This is an LSN of a change just before the initial load began.</span></span>|  
|`<ir-end>`|<span data-ttu-id="66900-120">Eine Protokollfolgenummer einer Änderung unmittelbar nach Ende des erstmaligen Ladevorgangs.</span><span class="sxs-lookup"><span data-stu-id="66900-120">This is an LSN of a change just after the initial load ended.</span></span>|  
|`TS`|<span data-ttu-id="66900-121">Kennzeichnet den Zeitstempel des letzten CDC-Statusupdates.</span><span class="sxs-lookup"><span data-stu-id="66900-121">This marks the timestamp for the last CDC state update.</span></span>|  
|**\<timestamp>**|<span data-ttu-id="66900-122">Dezimale 64-Bit-Darstellung der System.DateTime.UtcNow-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="66900-122">This is a decimal representation of the 64-bit, System.DateTime.UtcNow property.</span></span>|  
|`ER`|<span data-ttu-id="66900-123">Wird angezeigt, wenn der letzte Vorgang fehlerhaft war, und enthält eine kurze Beschreibung der Fehlerursache.</span><span class="sxs-lookup"><span data-stu-id="66900-123">This appears when the last operation failed and includes a short description of the cause of the error.</span></span> <span data-ttu-id="66900-124">Wenn diese Komponente vorhanden ist, wird sie immer zuletzt angezeigt.</span><span class="sxs-lookup"><span data-stu-id="66900-124">If this component is present, it will always appear last.</span></span>|  
|`<short-error-text>`|<span data-ttu-id="66900-125">Eine kurze Fehlerbeschreibung.</span><span class="sxs-lookup"><span data-stu-id="66900-125">This is the short error description.</span></span>|  
  
 <span data-ttu-id="66900-126">Die LSNs und Folgenummern sind jeweils als hexadezimale Zeichenfolge von bis zu 20 Ziffern codiert, die den LSN-Wert "Binary(10)" darstellen.</span><span class="sxs-lookup"><span data-stu-id="66900-126">The LSNs and sequence numbers are each encoded as a hexadecimal string of up to 20 digits representing the LSN value of Binary(10).</span></span>  
  
 <span data-ttu-id="66900-127">In der folgenden Tabelle werden die möglichen CDC-Statuswerte beschrieben.</span><span class="sxs-lookup"><span data-stu-id="66900-127">The following table describes the possible CDC state values.</span></span>  
  
|<span data-ttu-id="66900-128">Zustand</span><span class="sxs-lookup"><span data-stu-id="66900-128">State</span></span>|<span data-ttu-id="66900-129">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="66900-129">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="66900-130">(INITIAL)</span><span class="sxs-lookup"><span data-stu-id="66900-130">(INITIAL)</span></span>|<span data-ttu-id="66900-131">Der ursprüngliche Status, bevor ein Paket für die aktuelle CDC-Gruppe ausgeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="66900-131">This is the initial state before the any package was run on the current CDC group.</span></span> <span data-ttu-id="66900-132">Dieser Status liegt auch vor, wenn der CDC-Status leer ist.</span><span class="sxs-lookup"><span data-stu-id="66900-132">This is also the state when the CDC state is empty.</span></span>|  
|<span data-ttu-id="66900-133">ILSTART (Initial Load Started)</span><span class="sxs-lookup"><span data-stu-id="66900-133">ILSTART (Initial Load Started)</span></span>|<span data-ttu-id="66900-134">Der Status beim Start des anfänglich geladenen Pakets, nachdem der CDC-Steuerungstask durch den `MarkInitialLoadStart`-Vorgang aufgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="66900-134">This is the state when the initial load package starts, after the `MarkInitialLoadStart` operation call to the CDC Control task.</span></span>|  
|<span data-ttu-id="66900-135">ILEND (Initial Load Ended)</span><span class="sxs-lookup"><span data-stu-id="66900-135">ILEND (Initial Load Ended)</span></span>|<span data-ttu-id="66900-136">Der Status nach erfolgreicher Beendigung des anfänglich geladenen Pakets, nachdem der CDC-Steuerungstask durch den `MarkInitialLoadEnd`-Vorgang aufgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="66900-136">This is the state when the initial load package ends successfully, after the `MarkInitialLoadEnd` operation call to the CDC Control task.</span></span>|  
|<span data-ttu-id="66900-137">ILUPDATE (Initial Load Update)</span><span class="sxs-lookup"><span data-stu-id="66900-137">ILUPDATE (Initial Load Update)</span></span>|<span data-ttu-id="66900-138">Der Status bei der Ausführung des Trickle-Feed-Updatepakets im Anschluss an den erstmaligen Ladevorgang, während der anfängliche Verarbeitungsbereich noch verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="66900-138">This is the state on the runs of the trickle feed update package following the initial load, while still processing the initial processing range.</span></span> <span data-ttu-id="66900-139">Dieser Schritt erfolgt nach dem Aufruf des CDC-Steuerungstasks durch den `GetProcessingRange`-Vorgang.</span><span class="sxs-lookup"><span data-stu-id="66900-139">This is after the `GetProcessingRange` operation call to the CDC Control task.</span></span><br /><br /> <span data-ttu-id="66900-140">Wenn die __$reprocessing-Spalte verwendet wird, wird sie auf 1 festgelegt, um anzugeben, dass das Paket möglicherweise Zeilen erneut verarbeitet, die bereits im Ziel vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="66900-140">If using the __$reprocessing column, it is set to 1 to indicate that the package may be re-processing rows already at the target.</span></span>|  
|<span data-ttu-id="66900-141">TFEND (Trickle-Feed Update Ended)</span><span class="sxs-lookup"><span data-stu-id="66900-141">TFEND (Trickle-Feed Update Ended)</span></span>|<span data-ttu-id="66900-142">Der für reguläre CDC-Ausführungen erwartete Status.</span><span class="sxs-lookup"><span data-stu-id="66900-142">This is the state expected for regular CDC runs.</span></span> <span data-ttu-id="66900-143">Er gibt an, dass die vorherige Ausführung erfolgreich abgeschlossen wurde und eine neue Ausführung mit einem neuen Verarbeitungsbereich gestartet werden kann.</span><span class="sxs-lookup"><span data-stu-id="66900-143">It indicates that the previous run completed successfully and that a new run with a new processing range can be started.</span></span>|  
|<span data-ttu-id="66900-144">TFSTART</span><span class="sxs-lookup"><span data-stu-id="66900-144">TFSTART</span></span>|<span data-ttu-id="66900-145">Der Status bei nachfolgenden Ausführungen des Trickle-Feed-Updatepakets nach dem Aufruf des CDC-Steuerungstasks durch den `GetProcessingRange`-Vorgang.</span><span class="sxs-lookup"><span data-stu-id="66900-145">This is the state on a non-initial run of the trickle feed update package, after the `GetProcessingRange` operation call to the CDC Control task.</span></span><br /><br /> <span data-ttu-id="66900-146">Gibt an, dass eine reguläre CDC-Ausführung gestartet, aber noch nicht einwandfrei beendet wurde (`MarkProcessedRange`).</span><span class="sxs-lookup"><span data-stu-id="66900-146">This indicates that a regular CDC run is started but has not finished or has not yet finished, cleanly (`MarkProcessedRange`).</span></span>|  
|<span data-ttu-id="66900-147">TFREDO (Reprocessing Trickle-Feed Updates)</span><span class="sxs-lookup"><span data-stu-id="66900-147">TFREDO (Reprocessing Trickle-Feed Updates)</span></span>|<span data-ttu-id="66900-148">Der Status bei einem `GetProcessingRange`-Vorgang, der nach TFSTART stattfindet.</span><span class="sxs-lookup"><span data-stu-id="66900-148">This is the state on a `GetProcessingRange` that occurs after TFSTART.</span></span> <span data-ttu-id="66900-149">Er gibt an, dass die vorherige Ausführung nicht erfolgreich abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="66900-149">This indicates that the previous run did not complete successfully.</span></span><br /><br /> <span data-ttu-id="66900-150">Wenn die __$reprocessing-Spalte verwendet wird, wird sie auf 1 festgelegt, um anzugeben, dass das Paket möglicherweise Zeilen erneut verarbeitet, die bereits im Ziel vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="66900-150">If using the __$reprocessing column, it is set to 1 to indicate that the package may be re-processing rows already at the target.</span></span>|  
|<span data-ttu-id="66900-151">ERROR</span><span class="sxs-lookup"><span data-stu-id="66900-151">ERROR</span></span>|<span data-ttu-id="66900-152">Die CDC-Gruppe befindet sich in einem Fehlerstatus.</span><span class="sxs-lookup"><span data-stu-id="66900-152">The CDC group is in an ERROR state.</span></span>|  
  
 <span data-ttu-id="66900-153">Nachfolgend finden Sie Beispiele für Werte von CDC-Statusvariablen.</span><span class="sxs-lookup"><span data-stu-id="66900-153">The following are examples of CDC state variable values.</span></span>  
  
-   <span data-ttu-id="66900-154">ILSTART/IR/0x0000162B158700000000//TS/2011-08-07T17:10:43.0031645/</span><span class="sxs-lookup"><span data-stu-id="66900-154">ILSTART/IR/0x0000162B158700000000//TS/2011-08-07T17:10:43.0031645/</span></span>  
  
-   <span data-ttu-id="66900-155">ILSTART/IR/0x0000162B158700000000//TS/2011-08-07T17:10:43.0031645/</span><span class="sxs-lookup"><span data-stu-id="66900-155">ILSTART/IR/0x0000162B158700000000//TS/2011-08-07T17:10:43.0031645/</span></span>  
  
-   <span data-ttu-id="66900-156">TFEND/CS/0x0000025B000001BC0003/TS/2011-07-17T12:05:58.1001145/</span><span class="sxs-lookup"><span data-stu-id="66900-156">TFEND/CS/0x0000025B000001BC0003/TS/2011-07-17T12:05:58.1001145/</span></span>  
  
-   <span data-ttu-id="66900-157">TFSTART/CS/0x0000030D000000AE0003/CE/0x0000159D1E0F01000000/TS/2011-08-09T05:30:43.9344900/</span><span class="sxs-lookup"><span data-stu-id="66900-157">TFSTART/CS/0x0000030D000000AE0003/CE/0x0000159D1E0F01000000/TS/2011-08-09T05:30:43.9344900/</span></span>  
  
-   <span data-ttu-id="66900-158">TFREDO/CS/0x0000030D000000AE0003/CE/0x0000159D1E0F01000000/TS/2011-08-09T05:30:59.5544900/</span><span class="sxs-lookup"><span data-stu-id="66900-158">TFREDO/CS/0x0000030D000000AE0003/CE/0x0000159D1E0F01000000/TS/2011-08-09T05:30:59.5544900/</span></span>  
  
### <a name="to-define-a-cdc-state-variable"></a><span data-ttu-id="66900-159">So definieren Sie eine CDC-Statusvariable</span><span class="sxs-lookup"><span data-stu-id="66900-159">To define a CDC state variable</span></span>  
  
1.  <span data-ttu-id="66900-160">Öffnen Sie in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]das [!INCLUDE[ssISCurrent](../../includes/ssiscurrent-md.md)] -Paket, das über den CDC-Fluss verfügt, in dem Sie die Variable definieren müssen.</span><span class="sxs-lookup"><span data-stu-id="66900-160">In [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], open the [!INCLUDE[ssISCurrent](../../includes/ssiscurrent-md.md)] package that has the CDC flow where you need to define the variable.</span></span>  
  
2.  <span data-ttu-id="66900-161">Klicken Sie auf die Registerkarte **Paket-Explorer** , und fügen Sie eine neue Variable hinzu.</span><span class="sxs-lookup"><span data-stu-id="66900-161">Click the **Package Explorer** tab, and add a new variable.</span></span>  
  
3.  <span data-ttu-id="66900-162">Geben Sie der Variablen einen aussagekräftigen Namen, damit sie als Statusvariable erkennbar ist.</span><span class="sxs-lookup"><span data-stu-id="66900-162">Give the variable a name that you can recognize as your state variable.</span></span>  
  
4.  <span data-ttu-id="66900-163">Geben Sie der Variablen den Datentyp **Zeichenfolge** .</span><span class="sxs-lookup"><span data-stu-id="66900-163">Give the variable a **String** data type.</span></span>  
  
 <span data-ttu-id="66900-164">Weisen Sie der Variablen als Teil ihrer Definition keinen Wert zu.</span><span class="sxs-lookup"><span data-stu-id="66900-164">Do not give the variable a value as part of its definition.</span></span> <span data-ttu-id="66900-165">Der Wert muss vom CDC-Steuerungstask festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="66900-165">The value must be set by the CDC Control task.</span></span>  
  
 <span data-ttu-id="66900-166">Wenn Sie den CDC-Steuerungstask mit der Option **Automatic State Persistence**verwenden möchten, wird die CDC-Statusvariable aus der von Ihnen angegebenen Datenbankstatustabelle gelesen. Wenn sich der Wert ändert, wird die Aktualisierung dann ebenfalls für diese Tabelle durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="66900-166">If you plan to use the CDC Control task with **Automatic State Persistence**, the CDC State variable will be read from the database state table you specify and will be updated back to that same table when its value changes.</span></span> <span data-ttu-id="66900-167">Weitere Informationen zur Statustabelle finden Sie unter [CDC Control Task](../control-flow/cdc-control-task.md)und [CDC Control Task Editor](../cdc-control-task-editor.md).</span><span class="sxs-lookup"><span data-stu-id="66900-167">For more information about the State table, see [CDC Control Task](../control-flow/cdc-control-task.md)and [CDC Control Task Editor](../cdc-control-task-editor.md).</span></span>  
  
 <span data-ttu-id="66900-168">Wenn Sie den CDC-Steuerungstask nicht mit der Option Automatic State Persistence verwenden, müssen Sie den Variablenwert aus dem persistentem Speicher laden, in dem der Wert bei der letzten Ausführung des Pakets gespeichert wurde. In diesen persistenten Speicher wird der Wert auch zurückgeschrieben, nachdem die Verarbeitung des aktuellen Verarbeitungsbereichs abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="66900-168">If you are not using the CDC Control task with Automatic State Persistence then you must load the variable value from persistent storage where its value was saved the last time the package ran and to write it back to the persistent storage when the processing of the current processing range was completed.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="66900-169">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="66900-169">See Also</span></span>  
 <span data-ttu-id="66900-170">[CDC Control Task](../control-flow/cdc-control-task.md) </span><span class="sxs-lookup"><span data-stu-id="66900-170">[CDC Control Task](../control-flow/cdc-control-task.md) </span></span>  
 [<span data-ttu-id="66900-171">CDC Control Task Editor</span><span class="sxs-lookup"><span data-stu-id="66900-171">CDC Control Task Editor</span></span>](../cdc-control-task-editor.md)  
  
  
