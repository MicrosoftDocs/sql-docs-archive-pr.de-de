---
title: Verwenden von Variablen in Paketen | Microsoft-Dokumentation
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- user-defined variables [Integration Services]
- variables [Integration Services], use scenarios
- system variables [Integration Services]
ms.assetid: 7742e92d-46c5-4cc4-b9a3-45b688ddb787
author: chugugrace
ms.author: chugu
ms.openlocfilehash: acfb6813406bd3a143712e40ec510a4658d4e5da
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87609940"
---
# <a name="use-variables-in-packages"></a><span data-ttu-id="6eb2e-102">Verwenden von Variablen in Paketen</span><span class="sxs-lookup"><span data-stu-id="6eb2e-102">Use Variables in Packages</span></span>
  <span data-ttu-id="6eb2e-103">Variablen sind eine nützliche und flexible Erweiterung für [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] -Pakete. Sie können die Kommunikation zwischen Objekten innerhalb des Pakets und zwischen übergeordneten und untergeordneten Paketen ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-103">Variables are a useful and flexible addition to [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] packages; they can provide communication among objects in the package, and between parent and child packages.</span></span> <span data-ttu-id="6eb2e-104">Variablen können außerdem in Ausdrücken und Skripts verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-104">Variables can also be used in expressions and scripts.</span></span>  
  
## <a name="user-defined-variables-and-system-variables"></a><span data-ttu-id="6eb2e-105">Benutzerdefinierte Variablen und Systemvariablen</span><span class="sxs-lookup"><span data-stu-id="6eb2e-105">User-Defined Variables and System Variables</span></span>  
 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] <span data-ttu-id="6eb2e-106">bietet Systemvariablen und unterstützt benutzerdefinierte Variablen.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-106">provides system variables and supports user-defined variables.</span></span> <span data-ttu-id="6eb2e-107">Wenn Sie ein neues Paket erstellen, einem Paket einen Container oder einen Task hinzufügen oder einen Ereignishandler erstellen, schließt [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] eine Reihe von Systemvariablen für den Container ein.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-107">When you create a new package, add a container or a task to a package, or create an event handler, [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] includes a set of system variables for the container.</span></span> <span data-ttu-id="6eb2e-108">Systemvariablen enthalten nützliche Informationen zu einem Paket, einem Container, einem Task oder einem Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-108">System variables contain useful information about a package, container, task, or event handler.</span></span> <span data-ttu-id="6eb2e-109">So enthält z. B. die Systemvariable **MachineName** zur Laufzeit den Namen des Computers, auf dem das Paket ausgeführt wird, und die Systemvariable **StartTime** enthält die Uhrzeit beim Start der Paketausführung.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-109">For example, at run time the **MachineName** system variable contains the name of the computer on which the package is running and **StartTime** the time the package started to run.</span></span> <span data-ttu-id="6eb2e-110">Systemvariablen sind schreibgeschützt.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-110">System variables are read-only.</span></span> <span data-ttu-id="6eb2e-111">Weitere Informationen finden Sie unter [System Variables](system-variables.md).</span><span class="sxs-lookup"><span data-stu-id="6eb2e-111">For more information, see [System Variables](system-variables.md).</span></span>  
  
 <span data-ttu-id="6eb2e-112">Sie können benutzerdefinierte Variablen erstellen und diese in Paketen verwenden.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-112">You can create user-defined variables and then use them in packages.</span></span> <span data-ttu-id="6eb2e-113">Benutzerdefinierte Variablen können in [!INCLUDE[ssIS](../includes/ssis-md.md)]auf vielfältige Weise verwendet werden: in Skripts, in den von Rangfolgeeinschränkungen, vom For-Schleifencontainer, von der Transformation für abgeleitete Spalten und von der Transformation für bedingtes Teilen verwendeten Ausdrücken sowie in den Eigenschaftsausdrücken, die zum Aktualisieren von Eigenschaftswerten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-113">User-defined variables can be used in many ways in [!INCLUDE[ssIS](../includes/ssis-md.md)]: in scripts; in the expressions used by precedence constraints, the For Loop container, the Derived Column transformation, and the Conditional Split transformation; and in the property expressions that update property values.</span></span>  
  
 <span data-ttu-id="6eb2e-114">So können Sie z. B. eine benutzerdefinierte Variable in der Auswertungsbedingung für den For-Schleifen-Container verwenden.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-114">For example, you can use a user-defined variable in the evaluation condition for the For Loop container.</span></span> <span data-ttu-id="6eb2e-115">Sie können auch den Enumeratorauflistungswert in einem Foreach-Schleifen-Container einer Variablen zuordnen, und wenn ein Task "SQL ausführen" eine parametrisierte SQL-Anweisung verwendet, können Sie die Parameter für die Anweisung Variablen zuordnen.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-115">You can also map the enumerator collection value in a Foreach Loop container to a variable, and if an Execute SQL task uses a parameterized SQL statement, you can map the parameters for the statement to variables.</span></span> <span data-ttu-id="6eb2e-116">Weitere Informationen finden Sie unter [Integration Services-Variablen &#40;SSIS&#41;](integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="6eb2e-116">For more information, see [Integration Services &#40;SSIS&#41; Variables](integration-services-ssis-variables.md).</span></span>  
  
## <a name="variables-usage-scenarios"></a><span data-ttu-id="6eb2e-117">Verwendungsszenarien für Variablen</span><span class="sxs-lookup"><span data-stu-id="6eb2e-117">Variables Usage Scenarios</span></span>  
 <span data-ttu-id="6eb2e-118">Variablen werden auf verschiedene Weisen in [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] -Paketen verwendet.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-118">Variables are used in many different ways in [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] packages.</span></span> <span data-ttu-id="6eb2e-119">Sie werden möglicherweise der Meinung sein, dass die Paketentwicklung nicht voranschreitet, bis Sie die benutzerdefinierten Variablen einem Paket hinzugefügt haben, um die benötigte Flexibilität und Verwaltbarkeit der Lösung zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-119">You will probably find that package development does not progress far before you have to add a user-defined variable to your package to implement the flexibility and manageability your solution requires.</span></span> <span data-ttu-id="6eb2e-120">Abhängig von dem Szenario, werden die Systemvariablen gemeinsam verwendet.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-120">Depending on the scenario, system variables are also commonly used.</span></span>  
  
 <span data-ttu-id="6eb2e-121">**Eigenschaftsausdrücke** Verwenden von Variablen zum Bereitstellen von Werten in den Eigenschaftsausdrücken, die die Eigenschaften der Pakete und der Paketobjekte festlegen.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-121">**Property Expressions** Use variables to provide values in the property expressions that set the properties of packages and package objects.</span></span> <span data-ttu-id="6eb2e-122">Beispielsweise schließt der Ausdruck `SELECT * FROM @varTableName` die `varTableName` -Variable ein, die die SQL-Anweisung aktualisiert, die der Task SQL ausführen ausführt.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-122">For example, the expression, `SELECT * FROM @varTableName` includes the variable `varTableName` that updates the SQL statement that an Execute SQL task runs.</span></span> <span data-ttu-id="6eb2e-123">Der `DATEPART("d", GETDATE()) == 1? @[User::varPackageFirst]:@[User::varPackageOther]`-Ausdruck aktualisiert das Paket, das der Task Paket ausführen ausführt. Dies erfolgt durch Ausführen des angegebenen Pakets in der `varPackageFirst` -Variablen am ersten Tag des Monats, und das angegebene Paket in der `varPackageOther` -Variable wird an anderen Tagen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-123">The expression, `DATEPART("d", GETDATE()) == 1? @[User::varPackageFirst]:@[User::varPackageOther]`", updates the package that the Execute Package task runs, by running the package specified in the `varPackageFirst` variable on the first day of the month and running the package specified in the `varPackageOther` variable on other days.</span></span> <span data-ttu-id="6eb2e-124">Weitere Informationen finden Sie unter [Verwenden von Eigenschaftsausdrücken in Paketen](expressions/use-property-expressions-in-packages.md).</span><span class="sxs-lookup"><span data-stu-id="6eb2e-124">For more information, see [Use Property Expressions in Packages](expressions/use-property-expressions-in-packages.md).</span></span>  
  
 <span data-ttu-id="6eb2e-125">**Datenflussausdrücke** Verwendet Variablen, um Werte in den Ausdrücken bereitzustellen, die die Transformationen Abgeleitete Spalten und Bedingtes Teilen zum Auffüllen der Spalten verwenden, oder um Datenzeilen an verschiedene Transformationsausgaben weiterzuleiten.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-125">**Data Flow Expressions** Use variables to provide values in the expressions that the Derived Column and Conditional Split transformations use to populate columns, or to direct data rows to different transformation outputs.</span></span> <span data-ttu-id="6eb2e-126">Beispielsweise verkettet der `@varSalutation + LastName`-Ausdruck den Wert in der `VarSalutation` -Variablen und der `LastName` -Spalte.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-126">For example, the expression, `@varSalutation + LastName`, concatenates the value in the `VarSalutation` variable and the `LastName` column.</span></span> <span data-ttu-id="6eb2e-127">Der `Income < @HighIncome`-Ausdruck leitet Datenzeilen, in denen der Wert der `Income` -Spalte niedriger ist als der Wert in der `HighIncome` -Variablen an eine Ausgabe weiter.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-127">The expression, `Income < @HighIncome`, directs data rows in which the value of the `Income` column is less than the value in the `HighIncome` variable to an output.</span></span> <span data-ttu-id="6eb2e-128">Weitere Informationen finden Sie unter [Transformation für abgeleitete Spalten](data-flow/transformations/derived-column-transformation.md), [Transformation für bedingtes Teilen](data-flow/transformations/conditional-split-transformation.md) und [Integration Services-Ausdrücke &#40;SSIS&#41;](expressions/integration-services-ssis-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="6eb2e-128">For more information, see [Derived Column Transformation](data-flow/transformations/derived-column-transformation.md), [Conditional Split Transformation](data-flow/transformations/conditional-split-transformation.md), and [Integration Services &#40;SSIS&#41; Expressions](expressions/integration-services-ssis-expressions.md).</span></span>  
  
 <span data-ttu-id="6eb2e-129">**Rangfolgeneinschränkungs-Ausdrücke** Stellen Werte in Rangfolgeneinschränkungen bereit, um zu bestimmen, ob eine ausführbare Datei ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-129">**Precedence Constraint Expressions** Provide values to use in precedence constraints to determine whether a constrained executable runs.</span></span> <span data-ttu-id="6eb2e-130">Die Ausdrücke können entweder gemeinsam mit einem Ausführungsergebnis (Erfolg, Fehler, Beendigung) oder stattdessen mit einem Ausführungsergebnis verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-130">The expressions can be used either together with an execution outcome (success, failure, completion), or instead of an execution outcome.</span></span> <span data-ttu-id="6eb2e-131">Wenn der Ausdruck `@varMax > @varMin` beispielsweise `true` auswertet, werden die ausführbaren Dateien ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-131">For example, if the expression, `@varMax > @varMin`, evaluates to `true`, the executable runs.</span></span> <span data-ttu-id="6eb2e-132">Weitere Informationen finden Sie unter [Hinzufügen von Ausdrücken zu Rangfolgeneinschränkungen](control-flow/precedence-constraints.md).</span><span class="sxs-lookup"><span data-stu-id="6eb2e-132">For more information, see [Add Expressions to Precedence Constraints](control-flow/precedence-constraints.md).</span></span>  
  
 <span data-ttu-id="6eb2e-133">**Parameter und Rückgabecode** Stellt Eingabeparametern Werte bereit oder speichert die Ausgabeparameter und den Rückgabecode.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-133">**Parameters and Return Codes** Provide values to input parameters, or store the values of output parameters and return codes.</span></span> <span data-ttu-id="6eb2e-134">Dies erfolgt durch Zuordnen der Variablen zu Parametern und Rückgabewerten.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-134">You do this by mapping the variables to parameters and return values.</span></span> <span data-ttu-id="6eb2e-135">Wenn sie beispielsweise die `varProductId` -Variable auf 23 festlegen und die `SELECT * from Production.Product WHERE ProductID = ?`-SQL-Anweisung ausführen, ruft die Abfrage das Produkt mit einer `ProductID` von 23 ab.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-135">For example, if you set the variable `varProductId` to 23 and run the SQL statement, `SELECT * from Production.Product WHERE ProductID = ?`, the query retrieves the product with a `ProductID` of 23.</span></span> <span data-ttu-id="6eb2e-136">Weitere Informationen finden Sie unter [SQL ausführen (Task)](control-flow/execute-sql-task.md) und [Parameter und Rückgabecodes im Task „SQL ausführen“](../../2014/integration-services/parameters-and-return-codes-in-the-execute-sql-task.md).</span><span class="sxs-lookup"><span data-stu-id="6eb2e-136">For more information, see [Execute SQL Task](control-flow/execute-sql-task.md) and [Parameters and Return Codes in the Execute SQL Task](../../2014/integration-services/parameters-and-return-codes-in-the-execute-sql-task.md).</span></span>  
  
 <span data-ttu-id="6eb2e-137">**For-Schleifenausdrücke** Stellt Werte bereit, die bei der Initialisierung, bei der Auswertung und bei der Zuordnung von Ausdrücken für die For-Schleife verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-137">**For Loop Expressions** Provide values to use in the initialization, evaluation, and assignment expressions of the For Loop.</span></span> <span data-ttu-id="6eb2e-138">Wenn der Wert für die `varCount` -Variable beispielsweise 2 und der Wert für `varMaxCount` 10, der Initialisierungsausdruck `@varCount`, der Auswertungsausdruck  `@varCount < @varMaxCount`und der Zuordnungsausdruck `@varCount =@varCount +1`lautet, dann wiederholt sich die Schleife acht Mal.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-138">For example, if the variable `varCount` is 2 and `varMaxCount` is 10, the initialization expression is `@varCount`, the evaluation expression is  `@varCount < @varMaxCount`, and the assignment expression is `@varCount =@varCount +1`, then the loop repeats 8 times.</span></span> <span data-ttu-id="6eb2e-139">Weitere Informationen finden Sie unter [For-Schleifencontainer](control-flow/for-loop-container.md)ausgewertet wird.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-139">For more information, see [For Loop Container](control-flow/for-loop-container.md).</span></span>  
  
 <span data-ttu-id="6eb2e-140">**Variablenkonfiguration für übergeordnete Pakete** Übergibt Werte von übergeordneten Paketen an untergeordnete Paketen.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-140">**Parent Package Variable Configurations** Pass values from parent packages to child packages.</span></span> <span data-ttu-id="6eb2e-141">Untergeordnete Pakete können auf Variablen in übergeordneten Paketen mithilfe der Variablenkonfiguration für übergeordnete Pakete zugreifen.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-141">Child packages can access variables in the parent package by using parent package variable configurations.</span></span> <span data-ttu-id="6eb2e-142">Wenn beispielsweise ein untergeordnetes Paket die gleichen Daten wie das übergeordnete Paket verwenden muss, kann das untergeordnete Paket eine Variablenkonfiguration definieren, die eine Variable angibt, die durch die GETDATE-Funktion in dem übergeordneten Paket festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-142">For example, if the child package must use the same date as the parent package, the child package can define a parent package variable configuration that specifies a variable set by the GETDATE function in the parent package.</span></span> <span data-ttu-id="6eb2e-143">Weitere Informationen finden Sie unter [Execute Package Task](control-flow/execute-package-task.md) und [Package Configurations](../../2014/integration-services/package-configurations.md).</span><span class="sxs-lookup"><span data-stu-id="6eb2e-143">For more information, see [Execute Package Task](control-flow/execute-package-task.md) and [Package Configurations](../../2014/integration-services/package-configurations.md).</span></span>  
  
 <span data-ttu-id="6eb2e-144">**Skripttasks und Skriptkomponenten** Stellt eine Liste von schreibgeschützten und Lese-/Schreibvariablen für Skripttasks oder Skriptkomponenten bereit, aktualisiert die Lese/Schreibvariablen innerhalb des Skripts und verwendet dann die aktualisierten Werte innerhalb oder außerhalb des Skripts.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-144">**Script Task and Script Component** Provide a list of read-only and read/write variable to the Script task or Script component, update the read/write variables within the script, and then use the updated values in or outside the script.</span></span> <span data-ttu-id="6eb2e-145">Beispielsweise im `numberOfCars = CType(Dts.Variables("NumberOfCars").Value, Integer)`-Code wird die `numberOfCars` -Skriptvariable durch den Wert in der `NumberOfCars`-Variable aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-145">For example, in the code, `numberOfCars = CType(Dts.Variables("NumberOfCars").Value, Integer)`, the script variable `numberOfCars` is updated by the value in the variable, `NumberOfCars`.</span></span> <span data-ttu-id="6eb2e-146">Weitere Informationen finden Sie unter [Using Variables in the Script Task](control-flow/script-task.md).</span><span class="sxs-lookup"><span data-stu-id="6eb2e-146">For more information, see [Using Variables in the Script Task](control-flow/script-task.md).</span></span>  
  
## <a name="configurations-and-variables"></a><span data-ttu-id="6eb2e-147">Konfigurationen und Variablen</span><span class="sxs-lookup"><span data-stu-id="6eb2e-147">Configurations and Variables</span></span>  
 <span data-ttu-id="6eb2e-148">Zum dynamischen Aktualisieren von Variablen können Sie Konfigurationen für die Variablen erstellen, die Konfigurationen zusammen mit dem Paket bereitstellen und dann die Variablenwerte in der Konfigurationsdatei aktualisieren, wenn Sie die Pakete bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-148">To dynamically update variables, you can create configurations for the variables, deploy the configurations with the package, and then update the variable values in the configuration file when you deploy the packages.</span></span> <span data-ttu-id="6eb2e-149">Zur Laufzeit verwendet das Paket die aktualisierten Variablenwerte.</span><span class="sxs-lookup"><span data-stu-id="6eb2e-149">At run time, the package uses the updated variable values.</span></span> <span data-ttu-id="6eb2e-150">Weitere Informationen finden Sie unter [Erstellen von Paketkonfigurationen](../../2014/integration-services/create-package-configurations.md).</span><span class="sxs-lookup"><span data-stu-id="6eb2e-150">For more information, see [Create Package Configurations](../../2014/integration-services/create-package-configurations.md).</span></span>  
  
### <a name="to-add-modify-and-delete-user-defined-variables"></a><span data-ttu-id="6eb2e-151">So fügen Sie benutzerdefinierte Variablen hinzu und ändern oder löschen diese</span><span class="sxs-lookup"><span data-stu-id="6eb2e-151">To add, modify, and delete user-defined variables</span></span>  
  
-   [<span data-ttu-id="6eb2e-152">Hinzufügen, Löschen, Ändern des Bereichs von benutzerdefinierten Variablen in einem Paket</span><span class="sxs-lookup"><span data-stu-id="6eb2e-152">Add, Delete, Change Scope of User-Defined Variable in a Package</span></span>](../../2014/integration-services/add-delete-change-scope-of-user-defined-variable-in-a-package.md)  
  
-   [<span data-ttu-id="6eb2e-153">Festlegen der Eigenschaften von benutzerdefinierten Variablen</span><span class="sxs-lookup"><span data-stu-id="6eb2e-153">Set the Properties of a User-Defined Variable</span></span>](../../2014/integration-services/set-the-properties-of-a-user-defined-variable.md)  
  
  
