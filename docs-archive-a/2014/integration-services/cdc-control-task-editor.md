---
title: Editor für den CDC-Steuerungs Task | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.ssis.designer.cdccontroltask.config.f1
ms.assetid: 4f09d040-9ec8-4aaa-b684-f632d571f0a8
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6b60f2a9126dbbda934124b39f36ccd90b4e6cc6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87621631"
---
# <a name="cdc-control-task-editor"></a><span data-ttu-id="a116a-102">Task-Editor für CDC-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="a116a-102">CDC Control Task Editor</span></span>
  <span data-ttu-id="a116a-103">Im Dialogfeld **Task-Editor für CDC-Steuerelement** können Sie den CDC-Steuerungstask konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="a116a-103">Use the **CDC Control Task Editor** dialog box to configure the CDC Control task.</span></span> <span data-ttu-id="a116a-104">Die Konfiguration des CDC-Steuerungstasks beinhaltet das Definieren einer Verbindung mit der CDC-Datenbank, des CDC-Taskvorgangs und der Zustandsverwaltungsinformationen.</span><span class="sxs-lookup"><span data-stu-id="a116a-104">The CDC Control task configuration includes defining a connection to the CDC database, the CDC task operation and the state management information.</span></span>  
  
 <span data-ttu-id="a116a-105">Weitere Informationen zum CDC-Steuerungstask finden Sie unter [CDC Control Task](control-flow/cdc-control-task.md).</span><span class="sxs-lookup"><span data-stu-id="a116a-105">To learn more about the CDC Control task, see [CDC Control Task](control-flow/cdc-control-task.md).</span></span>  
  
 <span data-ttu-id="a116a-106">**So öffnen Sie den Task-Editor für CDC-Steuerelement**</span><span class="sxs-lookup"><span data-stu-id="a116a-106">**To open the CDC Control Task Editor**</span></span>  
  
1.  <span data-ttu-id="a116a-107">Öffnen Sie in [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)]das [!INCLUDE[ssISCurrent](../includes/ssiscurrent-md.md)] -Paket, das den CDC-Steuerungstask enthält.</span><span class="sxs-lookup"><span data-stu-id="a116a-107">In [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], open the [!INCLUDE[ssISCurrent](../includes/ssiscurrent-md.md)] package that has the CDC Control task.</span></span>  
  
2.  <span data-ttu-id="a116a-108">Doppelklicken Sie auf der Registerkarte **Ablaufsteuerung** auf den CDC-Steuerungstask.</span><span class="sxs-lookup"><span data-stu-id="a116a-108">On the **Control Flow** tab, double-click the CDC Control task.</span></span>  
  
## <a name="options"></a><span data-ttu-id="a116a-109">Tastatur</span><span class="sxs-lookup"><span data-stu-id="a116a-109">Options</span></span>  
 <span data-ttu-id="a116a-110">**ADO.NET-Verbindungs-Manager für die SQL Server-CDC-Datenbank**</span><span class="sxs-lookup"><span data-stu-id="a116a-110">**SQL Server CDC database ADO.NET connection manager**</span></span>  
 <span data-ttu-id="a116a-111">Wählen Sie in der Liste einen vorhandenen Verbindungs-Manager aus, oder klicken Sie auf **Neu** , um eine neue Verbindung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a116a-111">Select an existing connection manager from the list, or click **New** to create a new connection.</span></span> <span data-ttu-id="a116a-112">Die Verbindung muss zu einer [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] -Datenbank hergestellt werden, die für CDC aktiviert ist und in der sich die ausgewählte Änderungstabelle befindet.</span><span class="sxs-lookup"><span data-stu-id="a116a-112">The connection must be to a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] database that is enabled for CDC and where the selected change table is located.</span></span>  
  
 <span data-ttu-id="a116a-113">**CDC-Steuerungsvorgang**</span><span class="sxs-lookup"><span data-stu-id="a116a-113">**CDC Control Operation**</span></span>  
 <span data-ttu-id="a116a-114">Wählen Sie den Vorgang aus, der für diesen Task ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="a116a-114">Select the operation to run for this task.</span></span> <span data-ttu-id="a116a-115">Für alle Vorgänge wird die Statusvariable verwendet, die in einer SSIS-Paketvariable gespeichert wird, die den Status speichert und zwischen verschiedenen Komponenten im Paket übergibt.</span><span class="sxs-lookup"><span data-stu-id="a116a-115">All operations use the state variable that is stored in an SSIS package variable that stores the state and passes it between the different components in the package.</span></span>  
  
-   <span data-ttu-id="a116a-116">**Beginn des anfänglichen Ladevorgangs kennzeichnen**: Dieser Vorgang wird verwendet, wenn der anfängliche Ladevorgang aus einer aktiven Datenbank ohne Momentaufnahme erfolgt.</span><span class="sxs-lookup"><span data-stu-id="a116a-116">**Mark initial load start**: This operation is used when executing an initial load from an active database without a snapshot.</span></span> <span data-ttu-id="a116a-117">Er wird zu Beginn eines Pakets für das anfängliche Laden verwendet, um die aktuelle LSN in der Quelldatenbank aufzuzeichnen, bevor das Paket für das anfängliche Laden mit dem Lesen der Quelltabellen beginnt.</span><span class="sxs-lookup"><span data-stu-id="a116a-117">It is invoked at the beginning of an initial-load package to record the current LSN in the source database before the initial-load package starts reading the source tables.</span></span> <span data-ttu-id="a116a-118">Für diesen Vorgang ist eine Verbindung mit der Quelldatenbank erforderlich.</span><span class="sxs-lookup"><span data-stu-id="a116a-118">This requires a connection to the source database.</span></span>  
  
     <span data-ttu-id="a116a-119">Wenn Sie bei Verwendung von **CDC (nicht Oracle) die Option** Beginn des anfänglichen Ladevorgangs kennzeichnen [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] auswählen, muss als Benutzer im Verbindungs-Manager entweder  **db_owner** oder **sysadmin**angegeben sein.</span><span class="sxs-lookup"><span data-stu-id="a116a-119">If you select **Mark Initial Load Start** when working on [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] CDC (that is, not Oracle) the user specified in the connection manager must be either  **db_owner** or **sysadmin**.</span></span>  
  
-   <span data-ttu-id="a116a-120">**Ende des anfänglichen Ladevorgangs kennzeichnen**: Dieser Vorgang wird verwendet, wenn der anfängliche Ladevorgang aus einer aktiven Datenbank ohne Momentaufnahme erfolgt.</span><span class="sxs-lookup"><span data-stu-id="a116a-120">**Mark initial load end**: This operation is used when executing an initial load from an active database without a snapshot.</span></span> <span data-ttu-id="a116a-121">Er wird am Ende eines Pakets zum anfänglichen Laden verwendet, um die aktuelle LSN in der Quelldatenbank aufzuzeichnen, nachdem das Paket für das anfängliche Laden das Lesen der Quelltabellen beendet hat.</span><span class="sxs-lookup"><span data-stu-id="a116a-121">It is invoked at the end of an initial-load package to record the current LSN in the source database after the initial-load package finished reading the source tables.</span></span> <span data-ttu-id="a116a-122">Diese LSN wird durch das Aufzeichnen der aktuellen Zeit, zu der dieser Vorgang aufgetreten ist, und das anschließende Abfragen der `cdc.lsn_time_`-Zuordnungstabelle in der CDC-Datenbank ermittelt. Dabei wird nach einer Änderung gesucht, die nach diesem Zeitpunkt aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="a116a-122">This LSN is determined by recording nthe current time when this operation occurred and then querying the `cdc.lsn_time_`mapping table in the CDC database looking for a change that occurred after that time</span></span>  
  
     <span data-ttu-id="a116a-123">Wenn Sie bei Verwendung von **CDC (nicht Oracle) die Option** Ende des anfänglichen Ladevorgangs kennzeichnen [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] auswählen, muss als Benutzer im Verbindungs-Manager entweder  **db_owner** oder **sysadmin**angegeben sein.</span><span class="sxs-lookup"><span data-stu-id="a116a-123">If you select **Mark Initial Load End** when working on [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] CDC (that is, not Oracle) the user specified in the connection manager must be either  **db_owner** or **sysadmin**.</span></span>  
  
-   <span data-ttu-id="a116a-124">**CDC-Start kennzeichnen**: Dieser Vorgang wird verwendet, wenn der anfängliche Ladevorgang aus einer Momentaufnahmedatenbank oder einer inaktiven Datenbank erfolgt.</span><span class="sxs-lookup"><span data-stu-id="a116a-124">**Mark CDC start**: This operation is used when then the initial load is made from a snapshot database or from a quiescence database.</span></span> <span data-ttu-id="a116a-125">Er wird an einem beliebigem Punkt im anfänglich geladenen Paket aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="a116a-125">It is invoked at any point within the initial load package.</span></span> <span data-ttu-id="a116a-126">Der Vorgang akzeptiert einen Parameter, bei dem es sich um eine Momentaufnahme-LSN oder den Namen einer Momentaufnahmedatenbank (von dem die Momentaufnahme-LSN automatisch abgeleitet wird) handeln kann. Der Parameter kann auch leer gelassen werden. In diesem Fall wird die aktuelle Datenbank-LSN als Start-LSN für das Änderungsverarbeitungspaket verwendet.</span><span class="sxs-lookup"><span data-stu-id="a116a-126">The operation accepts a parameter that can be a snapshot LSN, a name of a snapshot database (from which the snapshot LSN will be derived automatically) or it can be left empty, in which case the current database LSN is used as the start LSN for the change processing package.</span></span>  
  
     <span data-ttu-id="a116a-127">Dieser Vorgang wird anstelle der Vorgänge "Beginn/Ende des anfänglichen Ladevorgangs kennzeichnen" verwendet.</span><span class="sxs-lookup"><span data-stu-id="a116a-127">This operation is used instead of the Mark Initial Load Start/End operations.</span></span>  
  
     <span data-ttu-id="a116a-128">Wenn Sie bei Verwendung von **CDC (nicht Oracle) die Option** CDC-Start kennzeichnen [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] auswählen, muss als Benutzer im Verbindungs-Manager entweder  **db_owner** oder **sysadmin**angegeben sein.</span><span class="sxs-lookup"><span data-stu-id="a116a-128">If you select **Mark CDC Start** when working on [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] CDC (that is, not Oracle) the user specified in the connection manager must be either  **db_owner** or **sysadmin**.</span></span>  
  
-   <span data-ttu-id="a116a-129">**Verarbeitungsbereich abrufen**: Dieser Vorgang wird in einem Änderungsverarbeitungspaket vor dem Aufrufen des Datenflusses verwendet, der den CDC-Quelldatenfluss verwendet.</span><span class="sxs-lookup"><span data-stu-id="a116a-129">**Get processing range**: This operation is used in a change processing package before invoking the data flow that uses the CDC Source data flow.</span></span> <span data-ttu-id="a116a-130">Dabei wird ein Bereich von LSNs eingerichtet, der vom CDC-Quelldatenfluss nach dem Aufrufen gelesen wird.</span><span class="sxs-lookup"><span data-stu-id="a116a-130">It establishes a range of LSNs that the CDC Source data flow reads when invoked.</span></span> <span data-ttu-id="a116a-131">Der Bereich wird in einer SSIS-Paketvariablen gespeichert, die von der CDC-Quelle während der Datenflussverarbeitung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a116a-131">The range is stored in an SSIS package variable that is used by the CDC Source during data-flow processing.</span></span>  
  
     <span data-ttu-id="a116a-132">Weitere Informationen zu den möglichen CDC-Status finden Sie unter [Definieren einer Statusvariablen](data-flow/define-a-state-variable.md).</span><span class="sxs-lookup"><span data-stu-id="a116a-132">For more information about the possible CDC states that are stored, see [Define a State Variable](data-flow/define-a-state-variable.md).</span></span>  
  
-   <span data-ttu-id="a116a-133">**Verarbeiteten Bereich kennzeichnen**: Dieser Vorgang wird in einem Änderungsverarbeitungspaket am Ende einer CDC-Ausführung (nachdem der CDC-Datenfluss erfolgreich abgeschlossen wurde) verwendet, um die letzte LSN aufzuzeichnen, die vollständig in der CDC-Ausführung verarbeitet wurde.</span><span class="sxs-lookup"><span data-stu-id="a116a-133">**Mark processed range**: This operation is used in a change processing package at the end of a  CDC run (after the CDC data flow is completed successfully) to record the last LSN that was fully processed in the CDC run.</span></span> <span data-ttu-id="a116a-134">Bei der nächsten Ausführung von `GetProcessingRange` bestimmt diese Position den Startpunkt für den nächsten Verarbeitungsbereich.</span><span class="sxs-lookup"><span data-stu-id="a116a-134">The next time `GetProcessingRange` is executed, this position determines the start of the next processing range.</span></span>  
  
-   <span data-ttu-id="a116a-135">**CDC-Status zurücksetzen**: Dieser Vorgang wird verwendet, um den beständigen CDC-Status zurückzusetzen, der dem aktuellen CDC-Kontext zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="a116a-135">**Reset CDC state**: This operation is used to reset the persistent CDC state associated with the current CDC context.</span></span> <span data-ttu-id="a116a-136">Nachdem dieser Vorgang ausgeführt wurde, wird die aktuelle höchste LSN aus der LSN-Zeitstempeltabelle `sys.fn_cdc_get_max_lsn` zum Startpunkt für den nächsten Verarbeitungsbereich.</span><span class="sxs-lookup"><span data-stu-id="a116a-136">After this operation is run, the current maximum LSN from the LSN-timestamp `sys.fn_cdc_get_max_lsn` table becomes the start of the range for the next processing range.</span></span> <span data-ttu-id="a116a-137">Für diesen Vorgang ist eine Verbindung zur Quelldatenbank erforderlich.</span><span class="sxs-lookup"><span data-stu-id="a116a-137">This operation requires a connection to the source database.</span></span>  
  
     <span data-ttu-id="a116a-138">Dieser Vorgang wird z. B. verwendet, wenn Sie nur die neu erstellten Änderungsdatensätze verarbeiten und alle alten Änderungsdatensätze ignorieren möchten.</span><span class="sxs-lookup"><span data-stu-id="a116a-138">An example of when this operation is used is when you want to process only the newly created change records and ignore all old change records.</span></span>  
  
 <span data-ttu-id="a116a-139">**Variable, die den CDC-Status enthält**</span><span class="sxs-lookup"><span data-stu-id="a116a-139">**Variable containing the CDC state**</span></span>  
 <span data-ttu-id="a116a-140">Wählen Sie die SSIS-Paketvariable aus, die die Statusinformationen für den Taskvorgang speichert.</span><span class="sxs-lookup"><span data-stu-id="a116a-140">Select the SSIS package variable that stores the state information for the task operation.</span></span> <span data-ttu-id="a116a-141">Sie sollten vor Beginn eine Variable definieren.</span><span class="sxs-lookup"><span data-stu-id="a116a-141">You should define a variable before you begin.</span></span> <span data-ttu-id="a116a-142">Wenn Sie **Automatische Statuspersistenz**auswählen, wird die Statusvariable automatisch geladen und gespeichert.</span><span class="sxs-lookup"><span data-stu-id="a116a-142">If you select **Automatic state persistence**, the state variable is loaded and saved automatically.</span></span>  
  
 <span data-ttu-id="a116a-143">Weitere Informationen zum Definieren der Statusvariable finden Sie unter [Definieren einer Statusvariablen](data-flow/define-a-state-variable.md).</span><span class="sxs-lookup"><span data-stu-id="a116a-143">For more information about defining the state variable, see [Define a State Variable](data-flow/define-a-state-variable.md).</span></span>  
  
 <span data-ttu-id="a116a-144">**SQL Server LSN, um CDC zu starten/Name der Momentaufnahme**</span><span class="sxs-lookup"><span data-stu-id="a116a-144">**SQL Server LSN to start the CDC/Snapshot name:**</span></span>  
 <span data-ttu-id="a116a-145">Geben Sie die aktuelle Quelldatenbank-LSN oder den Namen der Momentaufnahmedatenbank ein, aus der der anfängliche Ladevorgang ausgeführt wird, um die Startposition für CDC zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="a116a-145">Type the current source database LSN or the name of the snapshot database from which the initial load is performed to determine where the CDC starts.</span></span> <span data-ttu-id="a116a-146">Diese Option ist nur verfügbar, wenn **CDC-Steuerungsvorgang** auf **CDC-Start kennzeichnen**festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="a116a-146">This is available only if the **CDC Control Operation** is set to **Mark CDC Start**.</span></span>  
  
 <span data-ttu-id="a116a-147">Weitere Informationen zu diesen Vorgängen finden Sie unter [CDC Control Task](control-flow/cdc-control-task.md).</span><span class="sxs-lookup"><span data-stu-id="a116a-147">For more information about these operations, see [CDC Control Task](control-flow/cdc-control-task.md)</span></span>  
  
 <span data-ttu-id="a116a-148">**Status automatisch in Datenbanktabelle speichern**</span><span class="sxs-lookup"><span data-stu-id="a116a-148">**Automatically store state in a database table**</span></span>  
 <span data-ttu-id="a116a-149">Aktivieren Sie dieses Kontrollkästchen, damit der CDC-Steuerungstask das Laden und Speichern des CDC-Status in einer in der angegebenen Datenbank enthaltenen Statustabelle automatisch behandelt.</span><span class="sxs-lookup"><span data-stu-id="a116a-149">Select this check box for the CDC Control task to automatically handle loading and storing the CDC state in a state table contained in the specified database.</span></span> <span data-ttu-id="a116a-150">Wird dieses Kontrollkästchen nicht aktiviert, muss der Entwickler den CDC-Status beim Start des Pakets laden und bei jeder Änderung des CDC-Status speichern.</span><span class="sxs-lookup"><span data-stu-id="a116a-150">When not selected, the developer must load the CDC State when the package starts and save it whenever the CDC State changes.</span></span>  
  
 <span data-ttu-id="a116a-151">**Verbindungs-Manager für die Datenbank, in der der Status gespeichert wird**</span><span class="sxs-lookup"><span data-stu-id="a116a-151">**Connection manager for the database where the state is stored**</span></span>  
 <span data-ttu-id="a116a-152">Wählen Sie in der Liste einen vorhandenen ADO.NET-Verbindungs-Manager aus, oder klicken Sie auf Neu, um eine neue Verbindung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a116a-152">Select an existing ADO.NET connection manager from the list, or click New to create a new connection.</span></span> <span data-ttu-id="a116a-153">Es handelt sich hierbei um eine Verbindung mit einer [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] -Datenbank, die die Statustabelle enthält.</span><span class="sxs-lookup"><span data-stu-id="a116a-153">This connection is to a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] database that contains the State table.</span></span> <span data-ttu-id="a116a-154">Die Statustabelle enthält die Statusinformationen.</span><span class="sxs-lookup"><span data-stu-id="a116a-154">The State table contains the State information.</span></span>  
  
 <span data-ttu-id="a116a-155">Dieses Option ist nur verfügbar, wenn **Automatische Statuspersistenz** ausgewählt ist, und ist ein erforderlicher Parameter.</span><span class="sxs-lookup"><span data-stu-id="a116a-155">This is available only if **Automatic state persistence** is selected and it is a required parameter.</span></span>  
  
 <span data-ttu-id="a116a-156">**Tabelle zum Speichern des Status**</span><span class="sxs-lookup"><span data-stu-id="a116a-156">**Table to use for storing state**</span></span>  
 <span data-ttu-id="a116a-157">Geben Sie den Namen der Statustabelle ein, die zum Speichern des CDC-Status verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="a116a-157">Type the name of the state table to be used for storing the CDC state.</span></span> <span data-ttu-id="a116a-158">Die angegebene Tabelle muss zwei Spalten mit den Namen **name** und **state** enthalten, und beide Spalten müssen vom Datentyp **varchar (256)** sein.</span><span class="sxs-lookup"><span data-stu-id="a116a-158">The table specified must have two columns called **name** and **state** and both columns must be of the data type **varchar (256)**.</span></span>  
  
 <span data-ttu-id="a116a-159">Sie können optional auf **Neu** klicken, um ein SQL-Skript abzurufen, das eine neue Statustabelle mit den erforderlichen Spalten erstellt.</span><span class="sxs-lookup"><span data-stu-id="a116a-159">You can optionally select **New** to get an SQL script that builds a new State table with the required columns.</span></span> <span data-ttu-id="a116a-160">Bei Auswahl von **Automatische Statuspersistenz** muss der Entwickler eine den obigen Anforderungen entsprechende Statustabelle erstellen.</span><span class="sxs-lookup"><span data-stu-id="a116a-160">When **Automatic state persistence** is selected, the developer must create a state table according to the requirements listed above.</span></span>  
  
 <span data-ttu-id="a116a-161">Dieses Option ist nur verfügbar, wenn **Automatische Statuspersistenz** ausgewählt ist, und ist ein erforderlicher Parameter.</span><span class="sxs-lookup"><span data-stu-id="a116a-161">This is available only if **Automatic state persistence** is selected and it is a required parameter.</span></span>  
  
 <span data-ttu-id="a116a-162">**Name des Zustands**</span><span class="sxs-lookup"><span data-stu-id="a116a-162">**State name**</span></span>  
 <span data-ttu-id="a116a-163">Geben Sie einen Namen ein, der dem beständigen CDC-Status zugeordnet werden soll.</span><span class="sxs-lookup"><span data-stu-id="a116a-163">Type a name to associate with the persistent CDC state.</span></span> <span data-ttu-id="a116a-164">In den Paketen für das vollständige Laden und den CDC-Paketen, die denselben CDC-Kontext verwenden, wird ein gemeinsamer Statusname angegeben.</span><span class="sxs-lookup"><span data-stu-id="a116a-164">The full load and CDC packages that work with the same CDC context will specify a common state name.</span></span> <span data-ttu-id="a116a-165">Dieser Name wird verwendet, um in der Statustabelle nach der Statuszeile zu suchen.</span><span class="sxs-lookup"><span data-stu-id="a116a-165">This name is used for looking up the state row in the state table</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a116a-166">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="a116a-166">See Also</span></span>  
 [<span data-ttu-id="a116a-167">Benutzerdefinierte Eigenschaften des CDC-Steuerungstasks</span><span class="sxs-lookup"><span data-stu-id="a116a-167">CDC Control Task Custom Properties</span></span>](control-flow/cdc-control-task-custom-properties.md)  
  
  
