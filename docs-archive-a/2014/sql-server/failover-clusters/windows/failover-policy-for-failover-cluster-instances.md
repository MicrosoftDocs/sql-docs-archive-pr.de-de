---
title: Failoverrichtlinie für Failoverclusterinstanzen | Microsoft-Dokumentation
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- flexible failover policy
ms.assetid: 39ceaac5-42fa-4b5d-bfb6-54403d7f0dc9
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 8d441e5627280cb46168d9ff187d7f43da8b26a6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87617564"
---
# <a name="failover-policy-for-failover-cluster-instances"></a><span data-ttu-id="fd069-102">Failoverrichtlinie für Failoverclusterinstanzen</span><span class="sxs-lookup"><span data-stu-id="fd069-102">Failover Policy for Failover Cluster Instances</span></span>
  <span data-ttu-id="fd069-103">In einer [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Failoverclusterinstanz (FCI) kann jeweils nur ein Knoten Besitzer der WSFC-Clusterressourcengruppe (Windows Server Failover Cluster) sein.</span><span class="sxs-lookup"><span data-stu-id="fd069-103">In a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance (FCI), only one node can own the Windows Server Failover Cluster (WSFC) cluster resource group at a given time.</span></span> <span data-ttu-id="fd069-104">Die Clientanforderungen werden durch diesen Knoten in der FCI behandelt.</span><span class="sxs-lookup"><span data-stu-id="fd069-104">The client requests are served through this node in the FCI.</span></span> <span data-ttu-id="fd069-105">Falls ein Fehler auftritt und kein erfolgreicher Neustart möglich ist, geht die Gruppe in den Besitz eines anderen WSFC-Knotens in der FCI über.</span><span class="sxs-lookup"><span data-stu-id="fd069-105">In the case of a failure and an unsuccessful restart, the group ownership is moved to another WSFC node in the FCI.</span></span> <span data-ttu-id="fd069-106">Dieser Prozess wird als Failover bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="fd069-106">This process is called failover.</span></span> [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="fd069-107">erhöht die Zuverlässigkeit der Fehlererkennung und bietet eine flexible Failoverrichtlinie.</span><span class="sxs-lookup"><span data-stu-id="fd069-107">increases the reliability of failure detection and provides a flexible failover policy.</span></span>  
  
 <span data-ttu-id="fd069-108">Eine [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -FCI ist im Hinblick auf die Failovererkennung vom zugrunde liegenden WSFC-Dienst abhängig.</span><span class="sxs-lookup"><span data-stu-id="fd069-108">A [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] FCI depends on the underlying WSFC service for failover detection.</span></span> <span data-ttu-id="fd069-109">Daher wird das Failoververhalten für die FCI durch zwei Mechanismen bestimmt: Der erste Mechanismus wird durch die systemeigenen WSFC-Funktionen und der zweite durch die Funktionen bereitgestellt, die vom [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Setup hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="fd069-109">Therefore, two mechanisms determine the failover behavior for FCI: the former is native WSFC functionality, and the latter is functionality added by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] setup.</span></span>  
  
-   <span data-ttu-id="fd069-110">Da die Quorumkonfiguration vom WSFC-Cluster verwaltet wird, ist sichergestellt, dass bei einem automatischen Failover ein eindeutiges Failoverziel vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="fd069-110">The WSFC cluster maintains the quorum configuration, which ensures a unique failover target in an automatic failover.</span></span> <span data-ttu-id="fd069-111">Der WSFC-Dienst ermittelt kontinuierlich, ob der Cluster einen optimalem Quorumzustand aufweist und schaltet die Ressourcengruppe entsprechend online und offline.</span><span class="sxs-lookup"><span data-stu-id="fd069-111">The WSFC service determines whether the cluster is in optimal quorum health at all times and brings the resource group online and offline accordingly.</span></span>  
  
-   <span data-ttu-id="fd069-112">Von der aktiven [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Instanz werden regelmäßig Komponentendiagnosen über eine dedizierte Verbindung an die WSFC-Ressourcengruppe übermittelt.</span><span class="sxs-lookup"><span data-stu-id="fd069-112">The active [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance periodically reports a set of component diagnostics to the WSFC resource group over a dedicated connection.</span></span> <span data-ttu-id="fd069-113">Die Failoverrichtlinie, in der die Fehlerbedingungen definiert sind, durch die Neustarts und Failover ausgelöst werden, wird von der WSFC-Ressourcengruppe verwaltet.</span><span class="sxs-lookup"><span data-stu-id="fd069-113">The WSFC resource group maintains the failover policy, which defines the failure conditions that trigger restarts and failovers.</span></span>  
  
 <span data-ttu-id="fd069-114">In diesem Thema wird der zweite oben genannte Mechanismus erörtert.</span><span class="sxs-lookup"><span data-stu-id="fd069-114">This topic discusses the second mechanism above.</span></span> <span data-ttu-id="fd069-115">Weitere Informationen zum WSFC-Verhalten bei der Quorumkonfiguration und Integritätserkennung finden Sie unter [WSFC-Quorummodi und Abstimmungskonfiguration &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="fd069-115">For more information on the WSFC behavior for quorum configuration and health detection, see [WSFC Quorum Modes and Voting Configuration &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="fd069-116">Automatische Failover auf und von einer FCI sind in einer AlwaysOn-Verfügbarkeitsgruppe nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="fd069-116">Automatic failovers to and from an FCI are not allowed in an AlwaysOn availability group.</span></span> <span data-ttu-id="fd069-117">Ein manuelles Failover auf eine FCI bzw. von einer FCI ist in einer AlwaysOn-Verfügbarkeitsgruppe jedoch zulässig.</span><span class="sxs-lookup"><span data-stu-id="fd069-117">However, manual failovers to and from and FCI are allowed in an AlwaysOn availability group.</span></span>  
  
##  <a name="failover-policy-overview"></a><a name="Concepts"></a> <span data-ttu-id="fd069-118">Übersicht über die Failoverrichtlinie</span><span class="sxs-lookup"><span data-stu-id="fd069-118">Failover Policy Overview</span></span>  
 <span data-ttu-id="fd069-119">Der Failoverprozess lässt sich in folgende Schritte gliedern:</span><span class="sxs-lookup"><span data-stu-id="fd069-119">The failover process can be broken down into the following steps:</span></span>  
  
1.  [<span data-ttu-id="fd069-120">Überwachen des Integritätsstatus</span><span class="sxs-lookup"><span data-stu-id="fd069-120">Monitor the Health Status</span></span>](failover-policy-for-failover-cluster-instances.md#monitor)  
  
2.  [<span data-ttu-id="fd069-121">Bestimmen von Fehlern</span><span class="sxs-lookup"><span data-stu-id="fd069-121">Determining Failures</span></span>](failover-policy-for-failover-cluster-instances.md#determine)  
  
3.  [<span data-ttu-id="fd069-122">Reagieren auf Fehler</span><span class="sxs-lookup"><span data-stu-id="fd069-122">Responding to Failures</span></span>](failover-policy-for-failover-cluster-instances.md#respond)  
  
###  <a name="monitor-the-health-status"></a><a name="monitor"></a><span data-ttu-id="fd069-123">Überwachen des Integritäts Status</span><span class="sxs-lookup"><span data-stu-id="fd069-123">Monitor the Health Status</span></span>  
 <span data-ttu-id="fd069-124">Es gibt drei Arten von Integritätsstatus, die für die FCI überwacht werden:</span><span class="sxs-lookup"><span data-stu-id="fd069-124">There are three types of health statuses that are monitored for the FCI:</span></span>  
  
-   [<span data-ttu-id="fd069-125">Status des SQL Server-Diensts</span><span class="sxs-lookup"><span data-stu-id="fd069-125">State of the SQL Server service</span></span>](failover-policy-for-failover-cluster-instances.md#service)  
  
-   [<span data-ttu-id="fd069-126">Reaktionsfähigkeit der SQL Server-Instanz</span><span class="sxs-lookup"><span data-stu-id="fd069-126">Responsiveness of the SQL Server instance</span></span>](failover-policy-for-failover-cluster-instances.md#instance)  
  
-   [<span data-ttu-id="fd069-127">SQL Server-Komponentendiagnose</span><span class="sxs-lookup"><span data-stu-id="fd069-127">SQL Server component diagnostics</span></span>](failover-policy-for-failover-cluster-instances.md#component)  
  
####  <a name="state-of-the-sql-server-service"></a><a name="service"></a><span data-ttu-id="fd069-128">Status des SQL Server Dienstanbieter</span><span class="sxs-lookup"><span data-stu-id="fd069-128">State of the SQL Server service</span></span>  
 <span data-ttu-id="fd069-129">Der WSFC-Dienst überwacht den Startstatus des SQL Server-Diensts auf dem aktiven FCI-Knoten, um die Beendigung des SQL Server-Diensts zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="fd069-129">The WSFC service monitors the start state of the SQL Server service on the active FCI node to detect when the SQL Server service is stopped.</span></span>  
  
####  <a name="responsiveness-of-the-sql-server-instance"></a><a name="instance"></a><span data-ttu-id="fd069-130">Reaktionsfähigkeit der SQL Server Instanz</span><span class="sxs-lookup"><span data-stu-id="fd069-130">Responsiveness of the SQL Server instance</span></span>  
 <span data-ttu-id="fd069-131">Während des Starts von SQL Server verwendet der WSFC-Dienst die Ressourcen-DLL der SQL Server-Datenbank-Engine, um eine neue Verbindung auf einem separaten Thread zu erstellen, die ausschließlich zum Überwachen des Integritätsstatus verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="fd069-131">During SQL Server startup, the WSFC service uses the SQL Server Database Engine resource DLL to create a new connection to on a separate thread that is used exclusively for monitoring the health status.</span></span> <span data-ttu-id="fd069-132">Dadurch wird sichergestellt, dass die SQL-Instanz auch unter höherer Auslastung über die erforderlichen Ressourcen zum Übermitteln ihres Integritätsstatus verfügt.</span><span class="sxs-lookup"><span data-stu-id="fd069-132">This ensures that there the SQL instance has the required resources to report its health status while under load.</span></span> <span data-ttu-id="fd069-133">Unter Verwendung dieser dedizierten Verbindung führt SQL Server die gespeicherte Systemprozedur [sp_server_diagnostics &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-server-diagnostics-transact-sql) im Wiederholungsmodus aus, um regelmäßig den Integritätsstatus der SQL Server-Komponenten an die Ressourcen-DLL zu übermitteln.</span><span class="sxs-lookup"><span data-stu-id="fd069-133">Using this dedicated connection, SQL Server runs the [sp_server_diagnostics &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-server-diagnostics-transact-sql) system stored procedure in repeat mode to periodically report the health status of the SQL Server components to the resource DLL.</span></span>  
  
 <span data-ttu-id="fd069-134">Die Ressourcen-DLL bestimmt die Reaktionsfähigkeit der SQL-Instanz mithilfe eines Timeouts für die Zustandsüberprüfung.</span><span class="sxs-lookup"><span data-stu-id="fd069-134">The resource DLL determines the responsiveness of the SQL instance using a health check timeout.</span></span> <span data-ttu-id="fd069-135">Die HealthCheckTimeout-Eigenschaft definiert, wie lange die Ressourcen-DLL auf eine Antwort von der gespeicherten Prozedur sp_server_diagnostics wartet, bevor der WSFC-Dienst die Meldung erhält, dass die SQL-Instanz nicht reagiert.</span><span class="sxs-lookup"><span data-stu-id="fd069-135">The HealthCheckTimeout property defines how long the resource DLL should wait for the sp_server_diagnostics stored procedure before it reports the SQL instance as unresponsive to the WSFC service.</span></span> <span data-ttu-id="fd069-136">Diese Eigenschaft kann sowohl mit T-SQL als auch im Failovercluster-Manager-Snap-In konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="fd069-136">This property is configurable using T-SQL as well as in the Failover Cluster Manager snap-in.</span></span> <span data-ttu-id="fd069-137">Weitere Informationen finden Sie unter [Configure HealthCheckTimeout Property Settings](configure-healthchecktimeout-property-settings.md).</span><span class="sxs-lookup"><span data-stu-id="fd069-137">For more information, see [Configure HealthCheckTimeout Property Settings](configure-healthchecktimeout-property-settings.md).</span></span> <span data-ttu-id="fd069-138">Nachfolgend wird beschrieben, wie sich diese Eigenschaft auf die Einstellungen bezüglich Timeout und Wiederholungsintervall auswirken:</span><span class="sxs-lookup"><span data-stu-id="fd069-138">The following items describe how this property affects timeout and repeat interval settings:</span></span>  
  
-   <span data-ttu-id="fd069-139">Die gespeicherte Prozedur sp_server_diagnostics wird von der Ressourcen-DLL aufgerufen, und das Wiederholungsintervall wird auf ein Drittel des Werts der HealthCheckTimeout-Einstellung festgelegt.</span><span class="sxs-lookup"><span data-stu-id="fd069-139">The resource DLL calls the sp_server_diagnostics stored procedure and sets the repeat interval to one-third of the HealthCheckTimeout setting.</span></span>  
  
-   <span data-ttu-id="fd069-140">Wenn die gespeicherte Prozedur sp_server_diagnostics langsam ist oder keine Informationen zurückgibt, wartet die Ressourcen-DLL, bis das durch HealthCheckTimeout angegebene Intervall abgelaufen ist, bevor an den WSFC-Dienst gemeldet wird, dass die SQL-Instanz nicht reagiert.</span><span class="sxs-lookup"><span data-stu-id="fd069-140">If the sp_server_diagnostics stored procedure is slow or is not returning information, the resource DLL will wait for the interval specified by HealthCheckTimeout before it reports to the WSFC service that the SQL instance is unresponsive.</span></span>  
  
-   <span data-ttu-id="fd069-141">Wenn die dedizierte Verbindung unterbrochen wird, versucht die Ressourcen-DLL für die durch HealthCheckTimeout angegebene Dauer, eine neue Verbindung mit der SQL-Instanz herzustellen, bevor an den WSFC-Dienst gemeldet wird, dass die SQL-Instanz nicht reagiert.</span><span class="sxs-lookup"><span data-stu-id="fd069-141">If the dedicated connection is lost, the resource DLL will retry the connection to the SQL instance for the interval specified by HealthCheckTimeout before it reports to the WSFC service that the SQL instance is unresponsive.</span></span>  
  
####  <a name="sql-server-component-diagnostics"></a><a name="component"></a><span data-ttu-id="fd069-142">SQL Server Komponenten Diagnose</span><span class="sxs-lookup"><span data-stu-id="fd069-142">SQL Server component diagnostics</span></span>  
 <span data-ttu-id="fd069-143">Die gespeicherte Systemprozedur sp_server_diagnostics sammelt in regelmäßigen Abständen Diagnoseinformationen zu den Komponenten der SQL-Instanz.</span><span class="sxs-lookup"><span data-stu-id="fd069-143">The system stored procedure sp_server_diagnostics periodically collects component diagnostics on the SQL instance.</span></span> <span data-ttu-id="fd069-144">Die gesammelten Diagnoseinformationen werden als Zeile für die folgenden Komponenten angegeben und an den aufrufenden Thread übergeben.</span><span class="sxs-lookup"><span data-stu-id="fd069-144">The diagnostic information that is collected is surfaced as a row for each of the following components and passed to the calling thread.</span></span>  
  
1.  <span data-ttu-id="fd069-145">System</span><span class="sxs-lookup"><span data-stu-id="fd069-145">system</span></span>  
  
2.  <span data-ttu-id="fd069-146">resource</span><span class="sxs-lookup"><span data-stu-id="fd069-146">resource</span></span>  
  
3.  <span data-ttu-id="fd069-147">query process</span><span class="sxs-lookup"><span data-stu-id="fd069-147">query process</span></span>  
  
4.  <span data-ttu-id="fd069-148">io_subsystem</span><span class="sxs-lookup"><span data-stu-id="fd069-148">io_subsystem</span></span>  
  
5.  <span data-ttu-id="fd069-149">events</span><span class="sxs-lookup"><span data-stu-id="fd069-149">events</span></span>  
  
 <span data-ttu-id="fd069-150">Das System, die Ressource und der Abfrageprozess werden für die Fehlererkennung verwendet.</span><span class="sxs-lookup"><span data-stu-id="fd069-150">The system, resource, and query process components are used for failure detection.</span></span> <span data-ttu-id="fd069-151">Die io_subsytem und die Ereignisse werden nur zu Diagnosezwecken verwendet.</span><span class="sxs-lookup"><span data-stu-id="fd069-151">The io_subsytem and events components are used for diagnostic purposes only.</span></span>  
  
 <span data-ttu-id="fd069-152">Jedes Rowset der Informationen wird auch in das SQL Server-Clusterdiagnoseprotokoll geschrieben.</span><span class="sxs-lookup"><span data-stu-id="fd069-152">Each rowset of information is also written to the SQL Server cluster diagnostics log.</span></span> <span data-ttu-id="fd069-153">Weitere Informationen finden Sie unter [Anzeigen und Lesen des Failoverclusterinstanz-Diagnoseprotokolls](view-and-read-failover-cluster-instance-diagnostics-log.md).</span><span class="sxs-lookup"><span data-stu-id="fd069-153">For more information, see [View and Read Failover Cluster Instance Diagnostics Log](view-and-read-failover-cluster-instance-diagnostics-log.md).</span></span>  
  
> [!TIP]  
>  <span data-ttu-id="fd069-154">Die gespeicherte Prozedur sp_server_diagnostic wird von der SQL Server AlwaysOn-Technologie genutzt und kann in jeder SQL Server-Instanz zur einfacheren Problemerkennung und -behandlung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="fd069-154">While the sp_server_diagnostic stored procedure is used by SQL Server AlwaysOn technology, it is available for use in any SQL Server instance to help detect and troubleshoot problems.</span></span>  
  
####  <a name="determining-failures"></a><a name="determine"></a> <span data-ttu-id="fd069-155">Bestimmen von Fehlern</span><span class="sxs-lookup"><span data-stu-id="fd069-155">Determining Failures</span></span>  
 <span data-ttu-id="fd069-156">Die Ressourcen-DLL der SQL Server-Datenbank-Engine bestimmt anhand der FailureConditionLevel-Eigenschaft, ob der erkannte Integritätsstatus eine Fehlerbedingung darstellt.</span><span class="sxs-lookup"><span data-stu-id="fd069-156">The SQL Server Database Engine resource DLL determines whether the detected health status is a condition for failure using the FailureConditionLevel property.</span></span> <span data-ttu-id="fd069-157">Durch die FailureConditionLevel-Eigenschaft wird definiert, welcher erkannte Integritätsstatus zu einem Neustart oder Failover führt.</span><span class="sxs-lookup"><span data-stu-id="fd069-157">The FailureConditionLevel property defines which detected health statuses cause restarts or failovers.</span></span> <span data-ttu-id="fd069-158">Die unterschiedlichsten Optionen sind verfügbar: So kann beispielsweise nie ein automatischer Neustart oder ein automatisches Failover ausgelöst werden, oder bei jeder möglichen Fehlerbedingung wird immer ein automatischer Neustart bzw. ein automatisches Failover ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="fd069-158">Multiple levels of options are available, ranging from no automatic restart or failover to all possible failure conditions resulting in an automatic restart or failover.</span></span> <span data-ttu-id="fd069-159">Weitere Informationen zum Konfigurieren dieser Eigenschaft finden Sie unter [Configure FailureConditionLevel Property Settings](configure-failureconditionlevel-property-settings.md).</span><span class="sxs-lookup"><span data-stu-id="fd069-159">For more information about how to configure this property, see [Configure FailureConditionLevel Property Settings](configure-failureconditionlevel-property-settings.md).</span></span>  
  
 <span data-ttu-id="fd069-160">Die Fehlerbedingungen werden auf einer ansteigenden Skala festgelegt.</span><span class="sxs-lookup"><span data-stu-id="fd069-160">The failure conditions are set on an increasing scale.</span></span> <span data-ttu-id="fd069-161">Auf der Ebene 1-5 enthält jede Ebene die Bedingungen der vorherigen Ebenen sowie die eigenen Bedingungen.</span><span class="sxs-lookup"><span data-stu-id="fd069-161">For levels 1-5, each level includes all the conditions from the previous levels in addition to its own conditions.</span></span> <span data-ttu-id="fd069-162">Dies bedeutet, dass die Wahrscheinlichkeit eines Failovers oder Neustarts mit jeder Ebene zunimmt.</span><span class="sxs-lookup"><span data-stu-id="fd069-162">This means that with each level, there is an increased probability of a failover or restart.</span></span> <span data-ttu-id="fd069-163">Die Fehlerbedingungsebenen werden in der folgenden Tabelle beschrieben.</span><span class="sxs-lookup"><span data-stu-id="fd069-163">The failure condition levels are described in the following table.</span></span>  
  
 <span data-ttu-id="fd069-164">Informieren Sie sich unter [sp_server_diagnostics &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-server-diagnostics-transact-sql), da diese gespeicherte Systemprozedur eine wichtige Funktion im Hinblick auf Fehlerbedingungsebenen erfüllt.</span><span class="sxs-lookup"><span data-stu-id="fd069-164">Review [sp_server_diagnostics &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-server-diagnostics-transact-sql) as this system stored procedure plays in important role in the failure condition levels.</span></span>  
  
|<span data-ttu-id="fd069-165">Ebene</span><span class="sxs-lookup"><span data-stu-id="fd069-165">Level</span></span>|<span data-ttu-id="fd069-166">Bedingung</span><span class="sxs-lookup"><span data-stu-id="fd069-166">Condition</span></span>|<span data-ttu-id="fd069-167">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="fd069-167">Description</span></span>|  
|-----------|---------------|-----------------|  
|<span data-ttu-id="fd069-168">0</span><span class="sxs-lookup"><span data-stu-id="fd069-168">0</span></span>|<span data-ttu-id="fd069-169">Kein automatischer Failover oder Neustart</span><span class="sxs-lookup"><span data-stu-id="fd069-169">No automatic failover or restart</span></span>|<span data-ttu-id="fd069-170">Gibt an, dass bei einer Fehlerbedingung nicht automatisch ein Failover oder Neustart ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="fd069-170">Indicates that no failover or restart will be triggered automatically on any failure conditions.</span></span> <span data-ttu-id="fd069-171">Diese Ebene ist nur für die Systemwartung vorgesehen.</span><span class="sxs-lookup"><span data-stu-id="fd069-171">This level is for system maintenance purposes only.</span></span>|  
|<span data-ttu-id="fd069-172">1</span><span class="sxs-lookup"><span data-stu-id="fd069-172">1</span></span>|<span data-ttu-id="fd069-173">Failover oder Neustart bei Serverausfall</span><span class="sxs-lookup"><span data-stu-id="fd069-173">Failover or restart on server down</span></span>|<span data-ttu-id="fd069-174">Gibt an, dass ein Neustart oder ein Failover des Server ausgelöst wird, wenn die folgende Bedingung zutrifft:</span><span class="sxs-lookup"><span data-stu-id="fd069-174">Indicates that a server restart or failover will be triggered if the following condition is raised:</span></span><br /><br /> <span data-ttu-id="fd069-175">SQL Server-Dienst ist ausgefallen.</span><span class="sxs-lookup"><span data-stu-id="fd069-175">SQL Server service is down.</span></span>|  
|<span data-ttu-id="fd069-176">2</span><span class="sxs-lookup"><span data-stu-id="fd069-176">2</span></span>|<span data-ttu-id="fd069-177">Failover oder Neustart bei nicht reagierendem Server</span><span class="sxs-lookup"><span data-stu-id="fd069-177">Failover or restart on server unresponsive</span></span>|<span data-ttu-id="fd069-178">Gibt an, dass ein Neustart oder ein Failover des Server ausgelöst wird, wenn eine der folgenden Bedingungen zutrifft:</span><span class="sxs-lookup"><span data-stu-id="fd069-178">Indicates that a server restart or failover will be triggered if any of the following conditions are raised:</span></span><br /><br /> <span data-ttu-id="fd069-179">SQL Server-Dienst ist ausgefallen.</span><span class="sxs-lookup"><span data-stu-id="fd069-179">SQL Server service is down.</span></span><br /><br /> <span data-ttu-id="fd069-180">SQL Server-Instanz reagiert nicht (die Ressourcen-DLL kann von sp_server_diagnostics keine Daten innerhalb der durch die HealthCheckTimeout-Einstellungen vorgegebenen Zeit empfangen).</span><span class="sxs-lookup"><span data-stu-id="fd069-180">SQL Server instance is not responsive (Resource DLL cannot receive data from sp_server_diagnostics within the HealthCheckTimeout settings).</span></span>|  
|<span data-ttu-id="fd069-181">3\*</span><span class="sxs-lookup"><span data-stu-id="fd069-181">3\*</span></span>|<span data-ttu-id="fd069-182">Failover oder Neustart bei wichtigen Serverfehlern</span><span class="sxs-lookup"><span data-stu-id="fd069-182">Failover or restart on critical server errors</span></span>|<span data-ttu-id="fd069-183">Gibt an, dass ein Neustart oder ein Failover des Server ausgelöst wird, wenn eine der folgenden Bedingungen zutrifft:</span><span class="sxs-lookup"><span data-stu-id="fd069-183">Indicates that a server restart or failover will be triggered if any of the following conditions are raised:</span></span><br /><br /> <span data-ttu-id="fd069-184">SQL Server-Dienst ist ausgefallen.</span><span class="sxs-lookup"><span data-stu-id="fd069-184">SQL Server service is down.</span></span><br /><br /> <span data-ttu-id="fd069-185">SQL Server-Instanz reagiert nicht (die Ressourcen-DLL kann von sp_server_diagnostics keine Daten innerhalb der durch die HealthCheckTimeout-Einstellungen vorgegebenen Zeit empfangen).</span><span class="sxs-lookup"><span data-stu-id="fd069-185">SQL Server instance is not responsive (Resource DLL cannot receive data from sp_server_diagnostics within the HealthCheckTimeout settings).</span></span><br /><br /> <span data-ttu-id="fd069-186">Die gespeicherte Systemprozedur sp_server_diagnostics gibt einen Systemfehler zurück.</span><span class="sxs-lookup"><span data-stu-id="fd069-186">System stored procedure sp_server_diagnostics returns 'system error'.</span></span>|  
|<span data-ttu-id="fd069-187">4</span><span class="sxs-lookup"><span data-stu-id="fd069-187">4</span></span>|<span data-ttu-id="fd069-188">Failover oder Neustart auf mittelschweren Serverfehlern</span><span class="sxs-lookup"><span data-stu-id="fd069-188">Failover or restart on moderate server errors</span></span>|<span data-ttu-id="fd069-189">Gibt an, dass ein Neustart oder ein Failover des Server ausgelöst wird, wenn eine der folgenden Bedingungen zutrifft:</span><span class="sxs-lookup"><span data-stu-id="fd069-189">Indicates that a server restart or failover will be triggered if any of the following conditions are raised:</span></span><br /><br /> <span data-ttu-id="fd069-190">SQL Server-Dienst ist ausgefallen.</span><span class="sxs-lookup"><span data-stu-id="fd069-190">SQL Server service is down.</span></span><br /><br /> <span data-ttu-id="fd069-191">SQL Server-Instanz reagiert nicht (die Ressourcen-DLL kann von sp_server_diagnostics keine Daten innerhalb der durch die HealthCheckTimeout-Einstellungen vorgegebenen Zeit empfangen).</span><span class="sxs-lookup"><span data-stu-id="fd069-191">SQL Server instance is not responsive (Resource DLL cannot receive data from sp_server_diagnostics within the HealthCheckTimeout settings).</span></span><br /><br /> <span data-ttu-id="fd069-192">Die gespeicherte Systemprozedur sp_server_diagnostics gibt einen Systemfehler zurück.</span><span class="sxs-lookup"><span data-stu-id="fd069-192">System stored procedure sp_server_diagnostics returns 'system error'.</span></span><br /><br /> <span data-ttu-id="fd069-193">Die gespeicherte Systemprozedur sp_server_diagnostics gibt einen Ressourcenfehler zurück.</span><span class="sxs-lookup"><span data-stu-id="fd069-193">System  stored procedure sp_server_diagnostics returns 'resource error'.</span></span>|  
|<span data-ttu-id="fd069-194">5</span><span class="sxs-lookup"><span data-stu-id="fd069-194">5</span></span>|<span data-ttu-id="fd069-195">Failover oder Neustart bei qualifizierten Fehlerbedingungen</span><span class="sxs-lookup"><span data-stu-id="fd069-195">Failover or restart on any qualified failure conditions</span></span>|<span data-ttu-id="fd069-196">Gibt an, dass ein Neustart oder ein Failover des Server ausgelöst wird, wenn eine der folgenden Bedingungen zutrifft:</span><span class="sxs-lookup"><span data-stu-id="fd069-196">Indicates that a server restart or failover will be triggered if any of the following conditions are raised:</span></span><br /><br /> <span data-ttu-id="fd069-197">SQL Server-Dienst ist ausgefallen.</span><span class="sxs-lookup"><span data-stu-id="fd069-197">SQL Server service is down.</span></span><br /><br /> <span data-ttu-id="fd069-198">SQL Server-Instanz reagiert nicht (die Ressourcen-DLL kann von sp_server_diagnostics keine Daten innerhalb der durch die HealthCheckTimeout-Einstellungen vorgegebenen Zeit empfangen).</span><span class="sxs-lookup"><span data-stu-id="fd069-198">SQL Server instance is not responsive (Resource DLL cannot receive data from sp_server_diagnostics within the HealthCheckTimeout settings).</span></span><br /><br /> <span data-ttu-id="fd069-199">Die gespeicherte Systemprozedur sp_server_diagnostics gibt einen Systemfehler zurück.</span><span class="sxs-lookup"><span data-stu-id="fd069-199">System stored procedure sp_server_diagnostics returns 'system error'.</span></span><br /><br /> <span data-ttu-id="fd069-200">Die gespeicherte Systemprozedur sp_server_diagnostics gibt einen Ressourcenfehler zurück.</span><span class="sxs-lookup"><span data-stu-id="fd069-200">System  stored procedure sp_server_diagnostics returns 'resource error'.</span></span><br /><br /> <span data-ttu-id="fd069-201">Die gespeicherte Systemprozedur sp_server_diagnostics gibt einen Fehler bei der Abfrageverarbeitung zurück.</span><span class="sxs-lookup"><span data-stu-id="fd069-201">System stored procedure sp_server_diagnostics returns 'query_processing error'.</span></span>|  
  
 <span data-ttu-id="fd069-202">\*Standardwert</span><span class="sxs-lookup"><span data-stu-id="fd069-202">\*Default Value</span></span>  
  
####  <a name="responding-to-failures"></a><a name="respond"></a><span data-ttu-id="fd069-203">Reagieren auf Fehler</span><span class="sxs-lookup"><span data-stu-id="fd069-203">Responding to Failures</span></span>  
 <span data-ttu-id="fd069-204">Wie der WSFC-Dienst auf die erkannten Fehlerbedingungen reagiert, hängt vom WSFC-Quorumstatus sowie von den Neustart- und Failovereinstellungen der FCI-Ressourcengruppe ab.</span><span class="sxs-lookup"><span data-stu-id="fd069-204">After one or more failure conditions are detected, how the WSFC service responds to the failures depends on the WSFC quorum state and the restart and failover settings of the FCI resource group.</span></span> <span data-ttu-id="fd069-205">Wenn die FCI das WSFC-Quorum verloren hat, wird die gesamte FCI offline geschaltet und weist keine Hochverfügbarkeit mehr auf.</span><span class="sxs-lookup"><span data-stu-id="fd069-205">If the FCI has lost its WSFC quorum, then the entire FCI is brought offline and the FCI has lost its high availability.</span></span> <span data-ttu-id="fd069-206">Wenn die FCI noch über das WSFC-Quorum verfügt, reagiert der WSFC-Dienst u. U. wie folgt: Zunächst wird versucht, den fehlerhaften Knoten neu zu starten, und dann ein Failover ausgeführt, falls die Neustarts nicht erfolgreich sind.</span><span class="sxs-lookup"><span data-stu-id="fd069-206">If the FCI still retains its WSFC quorum, then the WSFC service may respond by first attempting to restart the failed node and then failover if the restart attempts are unsuccessful.</span></span> <span data-ttu-id="fd069-207">Die Neustart- und Failovereinstellungen werden im Failovercluster-Manager-Snap-In konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="fd069-207">The restart and failover settings are configured in the Failover Cluster Manager snap-in.</span></span> <span data-ttu-id="fd069-208">Weitere Informationen zu diesen Einstellungen finden Sie unter [ \<Resource> Eigenschaften: Registerkarte "Richtlinien](https://technet.microsoft.com/library/cc725685.aspx)".</span><span class="sxs-lookup"><span data-stu-id="fd069-208">For more information these settings, see [\<Resource> Properties: Policies Tab](https://technet.microsoft.com/library/cc725685.aspx).</span></span>  
  
 <span data-ttu-id="fd069-209">Informationen zum Verwalten der Quorumintegrität finden Sie unter [WSFC-Quorummodi und Abstimmungskonfiguration &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="fd069-209">For more information on maintaining quorum health, see [WSFC Quorum Modes and Voting Configuration &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fd069-210">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="fd069-210">See Also</span></span>  
 [<span data-ttu-id="fd069-211">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="fd069-211">ALTER SERVER CONFIGURATION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-server-configuration-transact-sql)  
  
  
