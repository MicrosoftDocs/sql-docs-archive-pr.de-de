---
title: Umbenennen einer SQL Server-Failoverclusterinstanz|Microsoft-Dokumente
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
helpviewer_keywords:
- clusters [SQL Server], virtual servers
- renaming virtual servers
- virtual servers [SQL Server], failover clustering
- failover clustering [SQL Server], virtual servers
ms.assetid: 2a49d417-25fb-4760-8ae5-5871bfb1e6f3
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 397e36931e446861db0fcb899cad30e8c7b1ffc2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/04/2020
ms.locfileid: "87617589"
---
# <a name="rename-a-sql-server-failover-cluster-instance"></a><span data-ttu-id="a8d71-102">Umbenennen einer SQL Server-Failoverclusterinstanz</span><span class="sxs-lookup"><span data-stu-id="a8d71-102">Rename a SQL Server Failover Cluster Instance</span></span>
  <span data-ttu-id="a8d71-103">Wenn eine [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Instanz Teil eines Failoverclusters ist, unterscheidet sich der Vorgang des Umbenennens des virtuellen Servers vom Umbenennen einer eigenständigen Instanz.</span><span class="sxs-lookup"><span data-stu-id="a8d71-103">When a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance is part of a failover cluster, the process of renaming the virtual server differs from that of renaming a stand-alone instance.</span></span> <span data-ttu-id="a8d71-104">Weitere Informationen finden Sie unter [Umbenennen eines Computers, der eine eigenständige Instanz von SQL Server hostet](../../../database-engine/install-windows/rename-a-computer-that-hosts-a-stand-alone-instance-of-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="a8d71-104">For more information, see [Rename a Computer that Hosts a Stand-Alone Instance of SQL Server](../../../database-engine/install-windows/rename-a-computer-that-hosts-a-stand-alone-instance-of-sql-server.md).</span></span>  
  
 <span data-ttu-id="a8d71-105">Der Name des virtuellen Servers ist immer mit dem SQL-Netzwerknamen (dem Netzwerknamen des virtuellen Servers mit SQL Server) identisch.</span><span class="sxs-lookup"><span data-stu-id="a8d71-105">The name of the virtual server is always the same as the name of the SQL Network Name (the SQL Virtual Server Network Name).</span></span> <span data-ttu-id="a8d71-106">Sie können zwar den Namen des virtuellen Servers ändern, nicht jedoch den Instanznamen.</span><span class="sxs-lookup"><span data-stu-id="a8d71-106">Although you can change the name of the virtual server, you cannot change the instance name.</span></span> <span data-ttu-id="a8d71-107">Sie können z. B. einen virtuellen Server namens VS1\instance1 in einen anderen Namen ändern, z. B. in SQL35\instance1, der Instanzanteil des Namens, instance1, bleibt jedoch unverändert.</span><span class="sxs-lookup"><span data-stu-id="a8d71-107">For example, you can change a virtual server named VS1\instance1 to some other name, such as SQL35\instance1, but the instance portion of the name, instance1, will remain unchanged.</span></span>  
  
 <span data-ttu-id="a8d71-108">Bevor Sie den Umbenennungsvorgang beginnen, überprüfen Sie die nachfolgenden Elemente.</span><span class="sxs-lookup"><span data-stu-id="a8d71-108">Before you begin the renaming process, review the items below.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="a8d71-109">unterstützt nicht das Umbenennen von Servern, die an der Replikation beteiligt sind. Eine Ausnahme stellt die Verwendung von Protokollversand mit Replikation dar.</span><span class="sxs-lookup"><span data-stu-id="a8d71-109">does not support renaming servers involved in replication, except in the case of using log shipping with replication.</span></span> <span data-ttu-id="a8d71-110">Der sekundäre Server beim Protokollversand kann umbenannt werden, wenn der primäre Server dauerhaft verloren ist.</span><span class="sxs-lookup"><span data-stu-id="a8d71-110">The secondary server in log shipping can be renamed if the primary server is permanently lost.</span></span> <span data-ttu-id="a8d71-111">Weitere Informationen finden Sie unter [Protokollversand und Replikation &#40;SQL Server&#41;](../../../database-engine/log-shipping/log-shipping-and-replication-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="a8d71-111">For more information, see [Log Shipping and Replication &#40;SQL Server&#41;](../../../database-engine/log-shipping/log-shipping-and-replication-sql-server.md).</span></span>  
  
-   <span data-ttu-id="a8d71-112">Wenn Sie einen virtuellen Server umbenennen, der für die Verwendung von Datenbankspiegelung konfiguriert ist, müssen Sie die Datenbankspiegelung vor dem Umbenennungsvorgang deaktivieren und die Datenbankspiegelung mit dem neuen Namen des virtuellen Servers anschließend neu einrichten.</span><span class="sxs-lookup"><span data-stu-id="a8d71-112">When renaming a virtual server that is configured to use database mirroring, you must turn off database mirroring before the renaming operation, and then re-establish database mirroring with the new virtual server name.</span></span> <span data-ttu-id="a8d71-113">Die Metadaten für die Datenbankspiegelung werden nicht automatisch aktualisiert, um den neuen Namen des virtuellen Servers widerzuspiegeln.</span><span class="sxs-lookup"><span data-stu-id="a8d71-113">Metadata for database mirroring will not be updated automatically to reflect the new virtual server name.</span></span>  
  
### <a name="to-rename-a-virtual-server"></a><span data-ttu-id="a8d71-114">So benennen Sie einen virtuellen Server um:</span><span class="sxs-lookup"><span data-stu-id="a8d71-114">To rename a virtual server</span></span>  
  
1.  <span data-ttu-id="a8d71-115">Ändern Sie mithilfe der Clusterverwaltung den SQL-Netzwerknamen in den neuen Namen.</span><span class="sxs-lookup"><span data-stu-id="a8d71-115">Using Cluster Administrator, change the SQL Network Name to the new name.</span></span>  
  
2.  <span data-ttu-id="a8d71-116">Schalten Sie die Netzwerknamenressource offline.</span><span class="sxs-lookup"><span data-stu-id="a8d71-116">Take the network name resource offline.</span></span> <span data-ttu-id="a8d71-117">Durch diesen Vorgang werden die [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Ressource und andere abhängige Ressourcen ebenfalls offline geschaltet.</span><span class="sxs-lookup"><span data-stu-id="a8d71-117">This takes the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource and other dependent resources offline as well.</span></span>  
  
3.  <span data-ttu-id="a8d71-118">Schalten Sie die [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Ressource erneut online.</span><span class="sxs-lookup"><span data-stu-id="a8d71-118">Bring the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource back online.</span></span>  
  
## <a name="verify-the-renaming-operation"></a><span data-ttu-id="a8d71-119">Überprüfen des Umbenennungsvorgangs</span><span class="sxs-lookup"><span data-stu-id="a8d71-119">Verify the Renaming Operation</span></span>  
 <span data-ttu-id="a8d71-120">Nachdem ein virtueller Server umbenannt wurde, müssen alle Verbindungen, die den alten Namen verwendet haben, nun Verbindungen mithilfe des neuen Namens herstellen.</span><span class="sxs-lookup"><span data-stu-id="a8d71-120">After a virtual server has been renamed, any connections that used the old name must now connect using the new name.</span></span>  
  
 <span data-ttu-id="a8d71-121">Um zu überprüfen, ob der Umbenennungsvorgang abgeschlossen wurde, wählen Sie Informationen aus `@@servername` oder `sys.servers` aus.</span><span class="sxs-lookup"><span data-stu-id="a8d71-121">To verify that the renaming operation has completed, select information from either `@@servername` or `sys.servers`.</span></span> <span data-ttu-id="a8d71-122">Die `@@servername`-Funktion gibt den neuen Namen des virtuellen Servers zurück, und die `sys.servers`-Tabelle zeigt den neuen Namen des virtuellen Servers an.</span><span class="sxs-lookup"><span data-stu-id="a8d71-122">The `@@servername` function will return the new virtual server name, and the `sys.servers` table will show the new virtual server name.</span></span> <span data-ttu-id="a8d71-123">Um zu überprüfen, ob der Failoverprozess ordnungsgemäß mit dem neuen Namen arbeitet, sollte der Benutzer außerdem versuchen, ein Failover der [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] -Ressource auf die anderen Knoten auszuführen.</span><span class="sxs-lookup"><span data-stu-id="a8d71-123">To verify that the failover process is working correctly with the new name, the user should also try to fail the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource over to the other nodes.</span></span>  
  
 <span data-ttu-id="a8d71-124">Für Verbindungen von einem beliebigen Knoten im Cluster kann der neue Name fast sofort verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a8d71-124">For connections from any node in the cluster, the new name can be used almost immediately.</span></span> <span data-ttu-id="a8d71-125">Für Verbindungen, die den neuen Namen von einem Clientcomputer aus verwenden, kann der neue Name jedoch erst zum Herstellen einer Verbindung zum Server verwendet werden, nachdem der neue Name für den betreffenden Clientcomputer sichtbar ist.</span><span class="sxs-lookup"><span data-stu-id="a8d71-125">However, for connections using the new name from a client computer, the new name cannot be used to connect to the server until the new name is visible to that client computer.</span></span> <span data-ttu-id="a8d71-126">Die Zeitspanne, die zum Weitergeben des neuen Namens über ein Netzwerk benötigt wird, kann abhängig von der Netzwerkkonfiguration zwischen einigen Sekunden bis hin zu 3 bis 5 Minuten betragen; zusätzliche Zeit ist möglicherweise erforderlich, bis der alte Name des virtuellen Servers nicht mehr im Netzwerk sichtbar ist.</span><span class="sxs-lookup"><span data-stu-id="a8d71-126">The length of time required for the new name to be propagated across a network can be a few seconds, or as long as 3 to 5 minutes, depending on the network configuration; additional time may be required before the old virtual server name is no longer visible on the network.</span></span>  
  
 <span data-ttu-id="a8d71-127">Um die Verzögerung der Netzwerkweitergabe des Umbenennungsvorgangs eines virtuellen Servers zu minimieren, führen Sie die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="a8d71-127">To minimize network propagation delay of a virtual server renaming operation, use the following steps:</span></span>  
  
#### <a name="to-minimize-network-propagation-delay"></a><span data-ttu-id="a8d71-128">So minimieren Sie die Verzögerung der Netzwerkweitergabe:</span><span class="sxs-lookup"><span data-stu-id="a8d71-128">To minimize network propagation delay</span></span>  
  
1.  <span data-ttu-id="a8d71-129">Geben Sie an einer Eingabeaufforderung auf dem Serverknoten die folgenden Befehle aus:</span><span class="sxs-lookup"><span data-stu-id="a8d71-129">Issue the following commands from a command prompt on the server node:</span></span>  
  
    ```  
    ipconfig /flushdns  
    ipconfig /registerdns  
    nbtstat -RR  
    ```  
  
## <a name="additional-considerations-after-the-renaming-operation"></a><span data-ttu-id="a8d71-130">Weitere Überlegungen nach dem Umbenennungsvorgang</span><span class="sxs-lookup"><span data-stu-id="a8d71-130">Additional considerations after the Renaming Operation</span></span>  
 <span data-ttu-id="a8d71-131">Nachdem der Netzwerkname des Failoverclusters geändert wurde, müssen die folgenden Anweisungen überprüft und ausgeführt werden, damit alle Szenarien in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent und [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]funktionieren.</span><span class="sxs-lookup"><span data-stu-id="a8d71-131">After we rename the network name of failover cluster we need to verify and perform the following instructions to enable all scenarios in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent and [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="a8d71-132">\*\* [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] :\*\* Nachdem Sie den Netzwerknamen einer [!INCLUDE[ssASCurrent](../../../includes/ssascurrent-md.md)] Failoverclusterinstanz mit dem Windows-Cluster Verwaltungs Tool geändert haben, kann der spätere Aktualisierungs-oder Deinstallations Vorgang fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="a8d71-132">**[!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]:** After you change the network name of a [!INCLUDE[ssASCurrent](../../../includes/ssascurrent-md.md)] failover cluster instance using Windows Cluster Administrator tool, the future upgrade or uninstall operation might fail.</span></span> <span data-ttu-id="a8d71-133">Um dieses Problem zu beheben, aktualisieren Sie den Registrierungs Eintrag " **Clustername** " gemäß den Anweisungen im Abschnitt "Resolution" [dieses](https://go.microsoft.com/fwlink/?LinkId=244002) ( https://go.microsoft.com/fwlink/?LinkId=244002) .</span><span class="sxs-lookup"><span data-stu-id="a8d71-133">To resolve this issue update the **ClusterName** registry entry following the instructions in the resolution section of [this](https://go.microsoft.com/fwlink/?LinkId=244002) (https://go.microsoft.com/fwlink/?LinkId=244002).</span></span>  
  
 <span data-ttu-id="a8d71-134">- \*\* [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent-Dienst:\*\* überprüfen und führen Sie die folgenden zusätzlichen Aktionen aus [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] : -Agent-Dienst:</span><span class="sxs-lookup"><span data-stu-id="a8d71-134">**[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent Service:** Verify and perform the below additional actions for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent Service:</span></span>  
  
-   <span data-ttu-id="a8d71-135">Korrigieren Sie die Registrierungseinstellungen, wenn SQL Agent für die Ereignisweiterleitung konfiguriert ist.</span><span class="sxs-lookup"><span data-stu-id="a8d71-135">Fix the registry settings if SQL Agent is configured for event forwarding.</span></span> <span data-ttu-id="a8d71-136">Weitere Informationen finden Sie unter [Bestimmen eines Ereignisweiterleitungsservers &#40;SQL Server Management Studio&#41;](../../../ssms/agent/designate-an-events-forwarding-server-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="a8d71-136">For more information, see [Designate an Events Forwarding Server &#40;SQL Server Management Studio&#41;](../../../ssms/agent/designate-an-events-forwarding-server-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="a8d71-137">Korrigieren Sie die Instanznamen von Masterserver (MSX) und Zielservern (TSX), wenn der Netzwerkname von Computern/Cluster umbenannt wird.</span><span class="sxs-lookup"><span data-stu-id="a8d71-137">Fix the master server (MSX) and target servers (TSX) instance names when machines / cluster network name is renamed.</span></span> <span data-ttu-id="a8d71-138">Weitere Informationen finden Sie unter den folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="a8d71-138">For more information, see the following topics:</span></span>  
  
    -   [<span data-ttu-id="a8d71-139">Vollziehen des Austritts mehrerer Zielserver aus einem Masterserver</span><span class="sxs-lookup"><span data-stu-id="a8d71-139">Defect Multiple Target Servers from a Master Server</span></span>](../../../ssms/agent/defect-multiple-target-servers-from-a-master-server.md)  
  
    -   [<span data-ttu-id="a8d71-140">Erstellen einer Multiserverumgebung</span><span class="sxs-lookup"><span data-stu-id="a8d71-140">Create a Multiserver Environment</span></span>](../../../ssms/agent/create-a-multiserver-environment.md)  
  
-   <span data-ttu-id="a8d71-141">Konfigurieren Sie den Protokollversand neu, damit der aktualisierte Servername für die Sicherungs- und Wiederherstellungsprotokolle verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a8d71-141">Reconfigure the Log Shipping so that updated server name is used to backup and restore logs.</span></span> <span data-ttu-id="a8d71-142">Weitere Informationen finden Sie unter den folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="a8d71-142">For more information, see the following topics:</span></span>  
  
    -   [<span data-ttu-id="a8d71-143">Konfigurieren des Protokollversands &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a8d71-143">Configure Log Shipping &#40;SQL Server&#41;</span></span>](../../../database-engine/log-shipping/configure-log-shipping-sql-server.md)  
  
    -   [<span data-ttu-id="a8d71-144">Entfernen des Protokollversands &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a8d71-144">Remove Log Shipping &#40;SQL Server&#41;</span></span>](../../../database-engine/log-shipping/remove-log-shipping-sql-server.md)  
  
-   <span data-ttu-id="a8d71-145">Aktualisieren Sie die Auftragsschritte, die vom Servernamen abhängen.</span><span class="sxs-lookup"><span data-stu-id="a8d71-145">Update the Jobsteps that depend on server name.</span></span> <span data-ttu-id="a8d71-146">Weitere Informationen finden Sie unter [Manage Job Steps](../../../ssms/agent/manage-job-steps.md).</span><span class="sxs-lookup"><span data-stu-id="a8d71-146">For more information, see [Manage Job Steps](../../../ssms/agent/manage-job-steps.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a8d71-147">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="a8d71-147">See Also</span></span>  
 [<span data-ttu-id="a8d71-148">Umbenennen eines Computers, der eine eigenständige Instanz von SQL Server hostet</span><span class="sxs-lookup"><span data-stu-id="a8d71-148">Rename a Computer that Hosts a Stand-Alone Instance of SQL Server</span></span>](../../../database-engine/install-windows/rename-a-computer-that-hosts-a-stand-alone-instance-of-sql-server.md)  
  
  
